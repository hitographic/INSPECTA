var xw=Object.defineProperty;var _w=(r,t,e)=>t in r?xw(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Ms=(r,t,e)=>_w(r,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const i of l)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function e(l){const i={};return l.integrity&&(i.integrity=l.integrity),l.referrerPolicy&&(i.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?i.credentials="include":l.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(l){if(l.ep)return;l.ep=!0;const i=e(l);fetch(l.href,i)}})();var Vt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function tb(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function Sw(r){if(r.__esModule)return r;var t=r.default;if(typeof t=="function"){var e=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};e.prototype=t.prototype}else e={};return Object.defineProperty(e,"__esModule",{value:!0}),Object.keys(r).forEach(function(n){var l=Object.getOwnPropertyDescriptor(r,n);Object.defineProperty(e,n,l.get?l:{enumerable:!0,get:function(){return r[n]}})}),e}var rb={exports:{}},$h={},nb={exports:{}},ir={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jc=Symbol.for("react.element"),kw=Symbol.for("react.portal"),Cw=Symbol.for("react.fragment"),Aw=Symbol.for("react.strict_mode"),Ew=Symbol.for("react.profiler"),jw=Symbol.for("react.provider"),Tw=Symbol.for("react.context"),Pw=Symbol.for("react.forward_ref"),Nw=Symbol.for("react.suspense"),Rw=Symbol.for("react.memo"),Iw=Symbol.for("react.lazy"),q1=Symbol.iterator;function Mw(r){return r===null||typeof r!="object"?null:(r=q1&&r[q1]||r["@@iterator"],typeof r=="function"?r:null)}var ib={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sb=Object.assign,ob={};function ql(r,t,e){this.props=r,this.context=t,this.refs=ob,this.updater=e||ib}ql.prototype.isReactComponent={};ql.prototype.setState=function(r,t){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,r,t,"setState")};ql.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function ab(){}ab.prototype=ql.prototype;function rm(r,t,e){this.props=r,this.context=t,this.refs=ob,this.updater=e||ib}var nm=rm.prototype=new ab;nm.constructor=rm;sb(nm,ql.prototype);nm.isPureReactComponent=!0;var W1=Array.isArray,lb=Object.prototype.hasOwnProperty,im={current:null},ub={key:!0,ref:!0,__self:!0,__source:!0};function cb(r,t,e){var n,l={},i=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)lb.call(t,n)&&!ub.hasOwnProperty(n)&&(l[n]=t[n]);var u=arguments.length-2;if(u===1)l.children=e;else if(1<u){for(var a=Array(u),o=0;o<u;o++)a[o]=arguments[o+2];l.children=a}if(r&&r.defaultProps)for(n in u=r.defaultProps,u)l[n]===void 0&&(l[n]=u[n]);return{$$typeof:jc,type:r,key:i,ref:s,props:l,_owner:im.current}}function Lw(r,t){return{$$typeof:jc,type:r.type,key:t,ref:r.ref,props:r.props,_owner:r._owner}}function sm(r){return typeof r=="object"&&r!==null&&r.$$typeof===jc}function Ow(r){var t={"=":"=0",":":"=2"};return"$"+r.replace(/[=:]/g,function(e){return t[e]})}var H1=/\/+/g;function qf(r,t){return typeof r=="object"&&r!==null&&r.key!=null?Ow(""+r.key):t.toString(36)}function Hd(r,t,e,n,l){var i=typeof r;(i==="undefined"||i==="boolean")&&(r=null);var s=!1;if(r===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(r.$$typeof){case jc:case kw:s=!0}}if(s)return s=r,l=l(s),r=n===""?"."+qf(s,0):n,W1(l)?(e="",r!=null&&(e=r.replace(H1,"$&/")+"/"),Hd(l,t,e,"",function(o){return o})):l!=null&&(sm(l)&&(l=Lw(l,e+(!l.key||s&&s.key===l.key?"":(""+l.key).replace(H1,"$&/")+"/")+r)),t.push(l)),1;if(s=0,n=n===""?".":n+":",W1(r))for(var u=0;u<r.length;u++){i=r[u];var a=n+qf(i,u);s+=Hd(i,t,e,a,l)}else if(a=Mw(r),typeof a=="function")for(r=a.call(r),u=0;!(i=r.next()).done;)i=i.value,a=n+qf(i,u++),s+=Hd(i,t,e,a,l);else if(i==="object")throw t=String(r),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function yd(r,t,e){if(r==null)return r;var n=[],l=0;return Hd(r,n,"","",function(i){return t.call(e,i,l++)}),n}function Fw(r){if(r._status===-1){var t=r._result;t=t(),t.then(function(e){(r._status===0||r._status===-1)&&(r._status=1,r._result=e)},function(e){(r._status===0||r._status===-1)&&(r._status=2,r._result=e)}),r._status===-1&&(r._status=0,r._result=t)}if(r._status===1)return r._result.default;throw r._result}var Hn={current:null},Vd={transition:null},Bw={ReactCurrentDispatcher:Hn,ReactCurrentBatchConfig:Vd,ReactCurrentOwner:im};function db(){throw Error("act(...) is not supported in production builds of React.")}ir.Children={map:yd,forEach:function(r,t,e){yd(r,function(){t.apply(this,arguments)},e)},count:function(r){var t=0;return yd(r,function(){t++}),t},toArray:function(r){return yd(r,function(t){return t})||[]},only:function(r){if(!sm(r))throw Error("React.Children.only expected to receive a single React element child.");return r}};ir.Component=ql;ir.Fragment=Cw;ir.Profiler=Ew;ir.PureComponent=rm;ir.StrictMode=Aw;ir.Suspense=Nw;ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Bw;ir.act=db;ir.cloneElement=function(r,t,e){if(r==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+r+".");var n=sb({},r.props),l=r.key,i=r.ref,s=r._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=im.current),t.key!==void 0&&(l=""+t.key),r.type&&r.type.defaultProps)var u=r.type.defaultProps;for(a in t)lb.call(t,a)&&!ub.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&u!==void 0?u[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=e;else if(1<a){u=Array(a);for(var o=0;o<a;o++)u[o]=arguments[o+2];n.children=u}return{$$typeof:jc,type:r.type,key:l,ref:i,props:n,_owner:s}};ir.createContext=function(r){return r={$$typeof:Tw,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},r.Provider={$$typeof:jw,_context:r},r.Consumer=r};ir.createElement=cb;ir.createFactory=function(r){var t=cb.bind(null,r);return t.type=r,t};ir.createRef=function(){return{current:null}};ir.forwardRef=function(r){return{$$typeof:Pw,render:r}};ir.isValidElement=sm;ir.lazy=function(r){return{$$typeof:Iw,_payload:{_status:-1,_result:r},_init:Fw}};ir.memo=function(r,t){return{$$typeof:Rw,type:r,compare:t===void 0?null:t}};ir.startTransition=function(r){var t=Vd.transition;Vd.transition={};try{r()}finally{Vd.transition=t}};ir.unstable_act=db;ir.useCallback=function(r,t){return Hn.current.useCallback(r,t)};ir.useContext=function(r){return Hn.current.useContext(r)};ir.useDebugValue=function(){};ir.useDeferredValue=function(r){return Hn.current.useDeferredValue(r)};ir.useEffect=function(r,t){return Hn.current.useEffect(r,t)};ir.useId=function(){return Hn.current.useId()};ir.useImperativeHandle=function(r,t,e){return Hn.current.useImperativeHandle(r,t,e)};ir.useInsertionEffect=function(r,t){return Hn.current.useInsertionEffect(r,t)};ir.useLayoutEffect=function(r,t){return Hn.current.useLayoutEffect(r,t)};ir.useMemo=function(r,t){return Hn.current.useMemo(r,t)};ir.useReducer=function(r,t,e){return Hn.current.useReducer(r,t,e)};ir.useRef=function(r){return Hn.current.useRef(r)};ir.useState=function(r){return Hn.current.useState(r)};ir.useSyncExternalStore=function(r,t,e){return Hn.current.useSyncExternalStore(r,t,e)};ir.useTransition=function(){return Hn.current.useTransition()};ir.version="18.3.1";nb.exports=ir;var me=nb.exports;const hb=tb(me);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw=me,zw=Symbol.for("react.element"),Uw=Symbol.for("react.fragment"),$w=Object.prototype.hasOwnProperty,qw=Dw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ww={key:!0,ref:!0,__self:!0,__source:!0};function fb(r,t,e){var n,l={},i=null,s=null;e!==void 0&&(i=""+e),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)$w.call(t,n)&&!Ww.hasOwnProperty(n)&&(l[n]=t[n]);if(r&&r.defaultProps)for(n in t=r.defaultProps,t)l[n]===void 0&&(l[n]=t[n]);return{$$typeof:zw,type:r,key:i,ref:s,props:l,_owner:qw.current}}$h.Fragment=Uw;$h.jsx=fb;$h.jsxs=fb;rb.exports=$h;var R=rb.exports,Op={},pb={exports:{}},bi={},mb={exports:{}},gb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(r){function t(x,_){var E=x.length;x.push(_);e:for(;0<E;){var D=E-1>>>1,N=x[D];if(0<l(N,_))x[D]=_,x[E]=N,E=D;else break e}}function e(x){return x.length===0?null:x[0]}function n(x){if(x.length===0)return null;var _=x[0],E=x.pop();if(E!==_){x[0]=E;e:for(var D=0,N=x.length,U=N>>>1;D<U;){var V=2*(D+1)-1,J=x[V],F=V+1,Y=x[F];if(0>l(J,E))F<N&&0>l(Y,J)?(x[D]=Y,x[F]=E,D=F):(x[D]=J,x[V]=E,D=V);else if(F<N&&0>l(Y,E))x[D]=Y,x[F]=E,D=F;else break e}}return _}function l(x,_){var E=x.sortIndex-_.sortIndex;return E!==0?E:x.id-_.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;r.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();r.unstable_now=function(){return s.now()-u}}var a=[],o=[],c=1,f=null,h=3,d=!1,y=!1,b=!1,m=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(x){for(var _=e(o);_!==null;){if(_.callback===null)n(o);else if(_.startTime<=x)n(o),_.sortIndex=_.expirationTime,t(a,_);else break;_=e(o)}}function C(x){if(b=!1,v(x),!y)if(e(a)!==null)y=!0,w(j);else{var _=e(o);_!==null&&S(C,_.startTime-x)}}function j(x,_){y=!1,b&&(b=!1,g(M),M=-1),d=!0;var E=h;try{for(v(_),f=e(a);f!==null&&(!(f.expirationTime>_)||x&&!q());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var N=D(f.expirationTime<=_);_=r.unstable_now(),typeof N=="function"?f.callback=N:f===e(a)&&n(a),v(_)}else n(a);f=e(a)}if(f!==null)var U=!0;else{var V=e(o);V!==null&&S(C,V.startTime-_),U=!1}return U}finally{f=null,h=E,d=!1}}var L=!1,$=null,M=-1,z=5,H=-1;function q(){return!(r.unstable_now()-H<z)}function B(){if($!==null){var x=r.unstable_now();H=x;var _=!0;try{_=$(!0,x)}finally{_?A():(L=!1,$=null)}}else L=!1}var A;if(typeof p=="function")A=function(){p(B)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,k=P.port2;P.port1.onmessage=B,A=function(){k.postMessage(null)}}else A=function(){m(B,0)};function w(x){$=x,L||(L=!0,A())}function S(x,_){M=m(function(){x(r.unstable_now())},_)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(x){x.callback=null},r.unstable_continueExecution=function(){y||d||(y=!0,w(j))},r.unstable_forceFrameRate=function(x){0>x||125<x?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<x?Math.floor(1e3/x):5},r.unstable_getCurrentPriorityLevel=function(){return h},r.unstable_getFirstCallbackNode=function(){return e(a)},r.unstable_next=function(x){switch(h){case 1:case 2:case 3:var _=3;break;default:_=h}var E=h;h=_;try{return x()}finally{h=E}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(x,_){switch(x){case 1:case 2:case 3:case 4:case 5:break;default:x=3}var E=h;h=x;try{return _()}finally{h=E}},r.unstable_scheduleCallback=function(x,_,E){var D=r.unstable_now();switch(typeof E=="object"&&E!==null?(E=E.delay,E=typeof E=="number"&&0<E?D+E:D):E=D,x){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=E+N,x={id:c++,callback:_,priorityLevel:x,startTime:E,expirationTime:N,sortIndex:-1},E>D?(x.sortIndex=E,t(o,x),e(a)===null&&x===e(o)&&(b?(g(M),M=-1):b=!0,S(C,E-D))):(x.sortIndex=N,t(a,x),y||d||(y=!0,w(j))),x},r.unstable_shouldYield=q,r.unstable_wrapCallback=function(x){var _=h;return function(){var E=h;h=_;try{return x.apply(this,arguments)}finally{h=E}}}})(gb);mb.exports=gb;var Hw=mb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vw=me,gi=Hw;function ft(r){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+r,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+r+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bb=new Set,lc={};function Aa(r,t){Ml(r,t),Ml(r+"Capture",t)}function Ml(r,t){for(lc[r]=t,r=0;r<t.length;r++)bb.add(t[r])}var qs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fp=Object.prototype.hasOwnProperty,Gw=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V1={},G1={};function Kw(r){return Fp.call(G1,r)?!0:Fp.call(V1,r)?!1:Gw.test(r)?G1[r]=!0:(V1[r]=!0,!1)}function Xw(r,t,e,n){if(e!==null&&e.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:e!==null?!e.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function Yw(r,t,e,n){if(t===null||typeof t>"u"||Xw(r,t,e,n))return!0;if(n)return!1;if(e!==null)switch(e.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Vn(r,t,e,n,l,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=l,this.mustUseProperty=e,this.propertyName=r,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Sn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){Sn[r]=new Vn(r,0,!1,r,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var t=r[0];Sn[t]=new Vn(t,1,!1,r[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(r){Sn[r]=new Vn(r,2,!1,r.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){Sn[r]=new Vn(r,2,!1,r,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){Sn[r]=new Vn(r,3,!1,r.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(r){Sn[r]=new Vn(r,3,!0,r,null,!1,!1)});["capture","download"].forEach(function(r){Sn[r]=new Vn(r,4,!1,r,null,!1,!1)});["cols","rows","size","span"].forEach(function(r){Sn[r]=new Vn(r,6,!1,r,null,!1,!1)});["rowSpan","start"].forEach(function(r){Sn[r]=new Vn(r,5,!1,r.toLowerCase(),null,!1,!1)});var om=/[\-:]([a-z])/g;function am(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var t=r.replace(om,am);Sn[t]=new Vn(t,1,!1,r,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var t=r.replace(om,am);Sn[t]=new Vn(t,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(r){var t=r.replace(om,am);Sn[t]=new Vn(t,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(r){Sn[r]=new Vn(r,1,!1,r.toLowerCase(),null,!1,!1)});Sn.xlinkHref=new Vn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(r){Sn[r]=new Vn(r,1,!1,r.toLowerCase(),null,!0,!0)});function lm(r,t,e,n){var l=Sn.hasOwnProperty(t)?Sn[t]:null;(l!==null?l.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Yw(t,e,l,n)&&(e=null),n||l===null?Kw(t)&&(e===null?r.removeAttribute(t):r.setAttribute(t,""+e)):l.mustUseProperty?r[l.propertyName]=e===null?l.type===3?!1:"":e:(t=l.attributeName,n=l.attributeNamespace,e===null?r.removeAttribute(t):(l=l.type,e=l===3||l===4&&e===!0?"":""+e,n?r.setAttributeNS(n,t,e):r.setAttribute(t,e))))}var Xs=Vw.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vd=Symbol.for("react.element"),cl=Symbol.for("react.portal"),dl=Symbol.for("react.fragment"),um=Symbol.for("react.strict_mode"),Bp=Symbol.for("react.profiler"),yb=Symbol.for("react.provider"),vb=Symbol.for("react.context"),cm=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),zp=Symbol.for("react.suspense_list"),dm=Symbol.for("react.memo"),wo=Symbol.for("react.lazy"),wb=Symbol.for("react.offscreen"),K1=Symbol.iterator;function ku(r){return r===null||typeof r!="object"?null:(r=K1&&r[K1]||r["@@iterator"],typeof r=="function"?r:null)}var Dr=Object.assign,Wf;function Bu(r){if(Wf===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Wf=t&&t[1]||""}return`
`+Wf+r}var Hf=!1;function Vf(r,t){if(!r||Hf)return"";Hf=!0;var e=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(o){var n=o}Reflect.construct(r,[],t)}else{try{t.call()}catch(o){n=o}r.call(t.prototype)}else{try{throw Error()}catch(o){n=o}r()}}catch(o){if(o&&n&&typeof o.stack=="string"){for(var l=o.stack.split(`
`),i=n.stack.split(`
`),s=l.length-1,u=i.length-1;1<=s&&0<=u&&l[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(l[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||l[s]!==i[u]){var a=`
`+l[s].replace(" at new "," at ");return r.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",r.displayName)),a}while(1<=s&&0<=u);break}}}finally{Hf=!1,Error.prepareStackTrace=e}return(r=r?r.displayName||r.name:"")?Bu(r):""}function Jw(r){switch(r.tag){case 5:return Bu(r.type);case 16:return Bu("Lazy");case 13:return Bu("Suspense");case 19:return Bu("SuspenseList");case 0:case 2:case 15:return r=Vf(r.type,!1),r;case 11:return r=Vf(r.type.render,!1),r;case 1:return r=Vf(r.type,!0),r;default:return""}}function Up(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case dl:return"Fragment";case cl:return"Portal";case Bp:return"Profiler";case um:return"StrictMode";case Dp:return"Suspense";case zp:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case vb:return(r.displayName||"Context")+".Consumer";case yb:return(r._context.displayName||"Context")+".Provider";case cm:var t=r.render;return r=r.displayName,r||(r=t.displayName||t.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case dm:return t=r.displayName||null,t!==null?t:Up(r.type)||"Memo";case wo:t=r._payload,r=r._init;try{return Up(r(t))}catch{}}return null}function Zw(r){var t=r.type;switch(r.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=t.render,r=r.displayName||r.name||"",t.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Up(t);case 8:return t===um?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Do(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function xb(r){var t=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Qw(r){var t=xb(r)?"checked":"value",e=Object.getOwnPropertyDescriptor(r.constructor.prototype,t),n=""+r[t];if(!r.hasOwnProperty(t)&&typeof e<"u"&&typeof e.get=="function"&&typeof e.set=="function"){var l=e.get,i=e.set;return Object.defineProperty(r,t,{configurable:!0,get:function(){return l.call(this)},set:function(s){n=""+s,i.call(this,s)}}),Object.defineProperty(r,t,{enumerable:e.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){r._valueTracker=null,delete r[t]}}}}function wd(r){r._valueTracker||(r._valueTracker=Qw(r))}function _b(r){if(!r)return!1;var t=r._valueTracker;if(!t)return!0;var e=t.getValue(),n="";return r&&(n=xb(r)?r.checked?"true":"false":r.value),r=n,r!==e?(t.setValue(r),!0):!1}function ch(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function $p(r,t){var e=t.checked;return Dr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:e??r._wrapperState.initialChecked})}function X1(r,t){var e=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;e=Do(t.value!=null?t.value:e),r._wrapperState={initialChecked:n,initialValue:e,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Sb(r,t){t=t.checked,t!=null&&lm(r,"checked",t,!1)}function qp(r,t){Sb(r,t);var e=Do(t.value),n=t.type;if(e!=null)n==="number"?(e===0&&r.value===""||r.value!=e)&&(r.value=""+e):r.value!==""+e&&(r.value=""+e);else if(n==="submit"||n==="reset"){r.removeAttribute("value");return}t.hasOwnProperty("value")?Wp(r,t.type,e):t.hasOwnProperty("defaultValue")&&Wp(r,t.type,Do(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(r.defaultChecked=!!t.defaultChecked)}function Y1(r,t,e){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+r._wrapperState.initialValue,e||t===r.value||(r.value=t),r.defaultValue=t}e=r.name,e!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,e!==""&&(r.name=e)}function Wp(r,t,e){(t!=="number"||ch(r.ownerDocument)!==r)&&(e==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+e&&(r.defaultValue=""+e))}var Du=Array.isArray;function Sl(r,t,e,n){if(r=r.options,t){t={};for(var l=0;l<e.length;l++)t["$"+e[l]]=!0;for(e=0;e<r.length;e++)l=t.hasOwnProperty("$"+r[e].value),r[e].selected!==l&&(r[e].selected=l),l&&n&&(r[e].defaultSelected=!0)}else{for(e=""+Do(e),t=null,l=0;l<r.length;l++){if(r[l].value===e){r[l].selected=!0,n&&(r[l].defaultSelected=!0);return}t!==null||r[l].disabled||(t=r[l])}t!==null&&(t.selected=!0)}}function Hp(r,t){if(t.dangerouslySetInnerHTML!=null)throw Error(ft(91));return Dr({},t,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function J1(r,t){var e=t.value;if(e==null){if(e=t.children,t=t.defaultValue,e!=null){if(t!=null)throw Error(ft(92));if(Du(e)){if(1<e.length)throw Error(ft(93));e=e[0]}t=e}t==null&&(t=""),e=t}r._wrapperState={initialValue:Do(e)}}function kb(r,t){var e=Do(t.value),n=Do(t.defaultValue);e!=null&&(e=""+e,e!==r.value&&(r.value=e),t.defaultValue==null&&r.defaultValue!==e&&(r.defaultValue=e)),n!=null&&(r.defaultValue=""+n)}function Z1(r){var t=r.textContent;t===r._wrapperState.initialValue&&t!==""&&t!==null&&(r.value=t)}function Cb(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vp(r,t){return r==null||r==="http://www.w3.org/1999/xhtml"?Cb(t):r==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var xd,Ab=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,e,n,l){MSApp.execUnsafeLocalFunction(function(){return r(t,e,n,l)})}:r}(function(r,t){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=t;else{for(xd=xd||document.createElement("div"),xd.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=xd.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;t.firstChild;)r.appendChild(t.firstChild)}});function uc(r,t){if(t){var e=r.firstChild;if(e&&e===r.lastChild&&e.nodeType===3){e.nodeValue=t;return}}r.textContent=t}var Vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ex=["Webkit","ms","Moz","O"];Object.keys(Vu).forEach(function(r){ex.forEach(function(t){t=t+r.charAt(0).toUpperCase()+r.substring(1),Vu[t]=Vu[r]})});function Eb(r,t,e){return t==null||typeof t=="boolean"||t===""?"":e||typeof t!="number"||t===0||Vu.hasOwnProperty(r)&&Vu[r]?(""+t).trim():t+"px"}function jb(r,t){r=r.style;for(var e in t)if(t.hasOwnProperty(e)){var n=e.indexOf("--")===0,l=Eb(e,t[e],n);e==="float"&&(e="cssFloat"),n?r.setProperty(e,l):r[e]=l}}var tx=Dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(r,t){if(t){if(tx[r]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(ft(137,r));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(ft(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(ft(61))}if(t.style!=null&&typeof t.style!="object")throw Error(ft(62))}}function Kp(r,t){if(r.indexOf("-")===-1)return typeof t.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xp=null;function hm(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Yp=null,kl=null,Cl=null;function Q1(r){if(r=Nc(r)){if(typeof Yp!="function")throw Error(ft(280));var t=r.stateNode;t&&(t=Gh(t),Yp(r.stateNode,r.type,t))}}function Tb(r){kl?Cl?Cl.push(r):Cl=[r]:kl=r}function Pb(){if(kl){var r=kl,t=Cl;if(Cl=kl=null,Q1(r),t)for(r=0;r<t.length;r++)Q1(t[r])}}function Nb(r,t){return r(t)}function Rb(){}var Gf=!1;function Ib(r,t,e){if(Gf)return r(t,e);Gf=!0;try{return Nb(r,t,e)}finally{Gf=!1,(kl!==null||Cl!==null)&&(Rb(),Pb())}}function cc(r,t){var e=r.stateNode;if(e===null)return null;var n=Gh(e);if(n===null)return null;e=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(r=r.type,n=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!n;break e;default:r=!1}if(r)return null;if(e&&typeof e!="function")throw Error(ft(231,t,typeof e));return e}var Jp=!1;if(qs)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){Jp=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{Jp=!1}function rx(r,t,e,n,l,i,s,u,a){var o=Array.prototype.slice.call(arguments,3);try{t.apply(e,o)}catch(c){this.onError(c)}}var Gu=!1,dh=null,hh=!1,Zp=null,nx={onError:function(r){Gu=!0,dh=r}};function ix(r,t,e,n,l,i,s,u,a){Gu=!1,dh=null,rx.apply(nx,arguments)}function sx(r,t,e,n,l,i,s,u,a){if(ix.apply(this,arguments),Gu){if(Gu){var o=dh;Gu=!1,dh=null}else throw Error(ft(198));hh||(hh=!0,Zp=o)}}function Ea(r){var t=r,e=r;if(r.alternate)for(;t.return;)t=t.return;else{r=t;do t=r,t.flags&4098&&(e=t.return),r=t.return;while(r)}return t.tag===3?e:null}function Mb(r){if(r.tag===13){var t=r.memoizedState;if(t===null&&(r=r.alternate,r!==null&&(t=r.memoizedState)),t!==null)return t.dehydrated}return null}function eg(r){if(Ea(r)!==r)throw Error(ft(188))}function ox(r){var t=r.alternate;if(!t){if(t=Ea(r),t===null)throw Error(ft(188));return t!==r?null:r}for(var e=r,n=t;;){var l=e.return;if(l===null)break;var i=l.alternate;if(i===null){if(n=l.return,n!==null){e=n;continue}break}if(l.child===i.child){for(i=l.child;i;){if(i===e)return eg(l),r;if(i===n)return eg(l),t;i=i.sibling}throw Error(ft(188))}if(e.return!==n.return)e=l,n=i;else{for(var s=!1,u=l.child;u;){if(u===e){s=!0,e=l,n=i;break}if(u===n){s=!0,n=l,e=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===e){s=!0,e=i,n=l;break}if(u===n){s=!0,n=i,e=l;break}u=u.sibling}if(!s)throw Error(ft(189))}}if(e.alternate!==n)throw Error(ft(190))}if(e.tag!==3)throw Error(ft(188));return e.stateNode.current===e?r:t}function Lb(r){return r=ox(r),r!==null?Ob(r):null}function Ob(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var t=Ob(r);if(t!==null)return t;r=r.sibling}return null}var Fb=gi.unstable_scheduleCallback,tg=gi.unstable_cancelCallback,ax=gi.unstable_shouldYield,lx=gi.unstable_requestPaint,Xr=gi.unstable_now,ux=gi.unstable_getCurrentPriorityLevel,fm=gi.unstable_ImmediatePriority,Bb=gi.unstable_UserBlockingPriority,fh=gi.unstable_NormalPriority,cx=gi.unstable_LowPriority,Db=gi.unstable_IdlePriority,qh=null,ms=null;function dx(r){if(ms&&typeof ms.onCommitFiberRoot=="function")try{ms.onCommitFiberRoot(qh,r,void 0,(r.current.flags&128)===128)}catch{}}var Yi=Math.clz32?Math.clz32:px,hx=Math.log,fx=Math.LN2;function px(r){return r>>>=0,r===0?32:31-(hx(r)/fx|0)|0}var _d=64,Sd=4194304;function zu(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ph(r,t){var e=r.pendingLanes;if(e===0)return 0;var n=0,l=r.suspendedLanes,i=r.pingedLanes,s=e&268435455;if(s!==0){var u=s&~l;u!==0?n=zu(u):(i&=s,i!==0&&(n=zu(i)))}else s=e&~l,s!==0?n=zu(s):i!==0&&(n=zu(i));if(n===0)return 0;if(t!==0&&t!==n&&!(t&l)&&(l=n&-n,i=t&-t,l>=i||l===16&&(i&4194240)!==0))return t;if(n&4&&(n|=e&16),t=r.entangledLanes,t!==0)for(r=r.entanglements,t&=n;0<t;)e=31-Yi(t),l=1<<e,n|=r[e],t&=~l;return n}function mx(r,t){switch(r){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gx(r,t){for(var e=r.suspendedLanes,n=r.pingedLanes,l=r.expirationTimes,i=r.pendingLanes;0<i;){var s=31-Yi(i),u=1<<s,a=l[s];a===-1?(!(u&e)||u&n)&&(l[s]=mx(u,t)):a<=t&&(r.expiredLanes|=u),i&=~u}}function Qp(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function zb(){var r=_d;return _d<<=1,!(_d&4194240)&&(_d=64),r}function Kf(r){for(var t=[],e=0;31>e;e++)t.push(r);return t}function Tc(r,t,e){r.pendingLanes|=t,t!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,t=31-Yi(t),r[t]=e}function bx(r,t){var e=r.pendingLanes&~t;r.pendingLanes=t,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=t,r.mutableReadLanes&=t,r.entangledLanes&=t,t=r.entanglements;var n=r.eventTimes;for(r=r.expirationTimes;0<e;){var l=31-Yi(e),i=1<<l;t[l]=0,n[l]=-1,r[l]=-1,e&=~i}}function pm(r,t){var e=r.entangledLanes|=t;for(r=r.entanglements;e;){var n=31-Yi(e),l=1<<n;l&t|r[n]&t&&(r[n]|=t),e&=~l}}var yr=0;function Ub(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var $b,mm,qb,Wb,Hb,e0=!1,kd=[],Po=null,No=null,Ro=null,dc=new Map,hc=new Map,_o=[],yx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rg(r,t){switch(r){case"focusin":case"focusout":Po=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Ro=null;break;case"pointerover":case"pointerout":dc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":hc.delete(t.pointerId)}}function Au(r,t,e,n,l,i){return r===null||r.nativeEvent!==i?(r={blockedOn:t,domEventName:e,eventSystemFlags:n,nativeEvent:i,targetContainers:[l]},t!==null&&(t=Nc(t),t!==null&&mm(t)),r):(r.eventSystemFlags|=n,t=r.targetContainers,l!==null&&t.indexOf(l)===-1&&t.push(l),r)}function vx(r,t,e,n,l){switch(t){case"focusin":return Po=Au(Po,r,t,e,n,l),!0;case"dragenter":return No=Au(No,r,t,e,n,l),!0;case"mouseover":return Ro=Au(Ro,r,t,e,n,l),!0;case"pointerover":var i=l.pointerId;return dc.set(i,Au(dc.get(i)||null,r,t,e,n,l)),!0;case"gotpointercapture":return i=l.pointerId,hc.set(i,Au(hc.get(i)||null,r,t,e,n,l)),!0}return!1}function Vb(r){var t=ha(r.target);if(t!==null){var e=Ea(t);if(e!==null){if(t=e.tag,t===13){if(t=Mb(e),t!==null){r.blockedOn=t,Hb(r.priority,function(){qb(e)});return}}else if(t===3&&e.stateNode.current.memoizedState.isDehydrated){r.blockedOn=e.tag===3?e.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Gd(r){if(r.blockedOn!==null)return!1;for(var t=r.targetContainers;0<t.length;){var e=t0(r.domEventName,r.eventSystemFlags,t[0],r.nativeEvent);if(e===null){e=r.nativeEvent;var n=new e.constructor(e.type,e);Xp=n,e.target.dispatchEvent(n),Xp=null}else return t=Nc(e),t!==null&&mm(t),r.blockedOn=e,!1;t.shift()}return!0}function ng(r,t,e){Gd(r)&&e.delete(t)}function wx(){e0=!1,Po!==null&&Gd(Po)&&(Po=null),No!==null&&Gd(No)&&(No=null),Ro!==null&&Gd(Ro)&&(Ro=null),dc.forEach(ng),hc.forEach(ng)}function Eu(r,t){r.blockedOn===t&&(r.blockedOn=null,e0||(e0=!0,gi.unstable_scheduleCallback(gi.unstable_NormalPriority,wx)))}function fc(r){function t(l){return Eu(l,r)}if(0<kd.length){Eu(kd[0],r);for(var e=1;e<kd.length;e++){var n=kd[e];n.blockedOn===r&&(n.blockedOn=null)}}for(Po!==null&&Eu(Po,r),No!==null&&Eu(No,r),Ro!==null&&Eu(Ro,r),dc.forEach(t),hc.forEach(t),e=0;e<_o.length;e++)n=_o[e],n.blockedOn===r&&(n.blockedOn=null);for(;0<_o.length&&(e=_o[0],e.blockedOn===null);)Vb(e),e.blockedOn===null&&_o.shift()}var Al=Xs.ReactCurrentBatchConfig,mh=!0;function xx(r,t,e,n){var l=yr,i=Al.transition;Al.transition=null;try{yr=1,gm(r,t,e,n)}finally{yr=l,Al.transition=i}}function _x(r,t,e,n){var l=yr,i=Al.transition;Al.transition=null;try{yr=4,gm(r,t,e,n)}finally{yr=l,Al.transition=i}}function gm(r,t,e,n){if(mh){var l=t0(r,t,e,n);if(l===null)ip(r,t,n,gh,e),rg(r,n);else if(vx(l,r,t,e,n))n.stopPropagation();else if(rg(r,n),t&4&&-1<yx.indexOf(r)){for(;l!==null;){var i=Nc(l);if(i!==null&&$b(i),i=t0(r,t,e,n),i===null&&ip(r,t,n,gh,e),i===l)break;l=i}l!==null&&n.stopPropagation()}else ip(r,t,n,null,e)}}var gh=null;function t0(r,t,e,n){if(gh=null,r=hm(n),r=ha(r),r!==null)if(t=Ea(r),t===null)r=null;else if(e=t.tag,e===13){if(r=Mb(t),r!==null)return r;r=null}else if(e===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;r=null}else t!==r&&(r=null);return gh=r,null}function Gb(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ux()){case fm:return 1;case Bb:return 4;case fh:case cx:return 16;case Db:return 536870912;default:return 16}default:return 16}}var Co=null,bm=null,Kd=null;function Kb(){if(Kd)return Kd;var r,t=bm,e=t.length,n,l="value"in Co?Co.value:Co.textContent,i=l.length;for(r=0;r<e&&t[r]===l[r];r++);var s=e-r;for(n=1;n<=s&&t[e-n]===l[i-n];n++);return Kd=l.slice(r,1<n?1-n:void 0)}function Xd(r){var t=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&t===13&&(r=13)):r=t,r===10&&(r=13),32<=r||r===13?r:0}function Cd(){return!0}function ig(){return!1}function yi(r){function t(e,n,l,i,s){this._reactName=e,this._targetInst=l,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in r)r.hasOwnProperty(u)&&(e=r[u],this[u]=e?e(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Cd:ig,this.isPropagationStopped=ig,this}return Dr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!="unknown"&&(e.returnValue=!1),this.isDefaultPrevented=Cd)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!="unknown"&&(e.cancelBubble=!0),this.isPropagationStopped=Cd)},persist:function(){},isPersistent:Cd}),t}var Wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ym=yi(Wl),Pc=Dr({},Wl,{view:0,detail:0}),Sx=yi(Pc),Xf,Yf,ju,Wh=Dr({},Pc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vm,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ju&&(ju&&r.type==="mousemove"?(Xf=r.screenX-ju.screenX,Yf=r.screenY-ju.screenY):Yf=Xf=0,ju=r),Xf)},movementY:function(r){return"movementY"in r?r.movementY:Yf}}),sg=yi(Wh),kx=Dr({},Wh,{dataTransfer:0}),Cx=yi(kx),Ax=Dr({},Pc,{relatedTarget:0}),Jf=yi(Ax),Ex=Dr({},Wl,{animationName:0,elapsedTime:0,pseudoElement:0}),jx=yi(Ex),Tx=Dr({},Wl,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Px=yi(Tx),Nx=Dr({},Wl,{data:0}),og=yi(Nx),Rx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ix={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lx(r){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(r):(r=Mx[r])?!!t[r]:!1}function vm(){return Lx}var Ox=Dr({},Pc,{key:function(r){if(r.key){var t=Rx[r.key]||r.key;if(t!=="Unidentified")return t}return r.type==="keypress"?(r=Xd(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ix[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vm,charCode:function(r){return r.type==="keypress"?Xd(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Xd(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Fx=yi(Ox),Bx=Dr({},Wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ag=yi(Bx),Dx=Dr({},Pc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vm}),zx=yi(Dx),Ux=Dr({},Wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),$x=yi(Ux),qx=Dr({},Wh,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Wx=yi(qx),Hx=[9,13,27,32],wm=qs&&"CompositionEvent"in window,Ku=null;qs&&"documentMode"in document&&(Ku=document.documentMode);var Vx=qs&&"TextEvent"in window&&!Ku,Xb=qs&&(!wm||Ku&&8<Ku&&11>=Ku),lg=" ",ug=!1;function Yb(r,t){switch(r){case"keyup":return Hx.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jb(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var hl=!1;function Gx(r,t){switch(r){case"compositionend":return Jb(t);case"keypress":return t.which!==32?null:(ug=!0,lg);case"textInput":return r=t.data,r===lg&&ug?null:r;default:return null}}function Kx(r,t){if(hl)return r==="compositionend"||!wm&&Yb(r,t)?(r=Kb(),Kd=bm=Co=null,hl=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Xb&&t.locale!=="ko"?null:t.data;default:return null}}var Xx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cg(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t==="input"?!!Xx[r.type]:t==="textarea"}function Zb(r,t,e,n){Tb(n),t=bh(t,"onChange"),0<t.length&&(e=new ym("onChange","change",null,e,n),r.push({event:e,listeners:t}))}var Xu=null,pc=null;function Yx(r){uy(r,0)}function Hh(r){var t=ml(r);if(_b(t))return r}function Jx(r,t){if(r==="change")return t}var Qb=!1;if(qs){var Zf;if(qs){var Qf="oninput"in document;if(!Qf){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Qf=typeof dg.oninput=="function"}Zf=Qf}else Zf=!1;Qb=Zf&&(!document.documentMode||9<document.documentMode)}function hg(){Xu&&(Xu.detachEvent("onpropertychange",ey),pc=Xu=null)}function ey(r){if(r.propertyName==="value"&&Hh(pc)){var t=[];Zb(t,pc,r,hm(r)),Ib(Yx,t)}}function Zx(r,t,e){r==="focusin"?(hg(),Xu=t,pc=e,Xu.attachEvent("onpropertychange",ey)):r==="focusout"&&hg()}function Qx(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Hh(pc)}function e3(r,t){if(r==="click")return Hh(t)}function t3(r,t){if(r==="input"||r==="change")return Hh(t)}function r3(r,t){return r===t&&(r!==0||1/r===1/t)||r!==r&&t!==t}var Zi=typeof Object.is=="function"?Object.is:r3;function mc(r,t){if(Zi(r,t))return!0;if(typeof r!="object"||r===null||typeof t!="object"||t===null)return!1;var e=Object.keys(r),n=Object.keys(t);if(e.length!==n.length)return!1;for(n=0;n<e.length;n++){var l=e[n];if(!Fp.call(t,l)||!Zi(r[l],t[l]))return!1}return!0}function fg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function pg(r,t){var e=fg(r);r=0;for(var n;e;){if(e.nodeType===3){if(n=r+e.textContent.length,r<=t&&n>=t)return{node:e,offset:t-r};r=n}e:{for(;e;){if(e.nextSibling){e=e.nextSibling;break e}e=e.parentNode}e=void 0}e=fg(e)}}function ty(r,t){return r&&t?r===t?!0:r&&r.nodeType===3?!1:t&&t.nodeType===3?ty(r,t.parentNode):"contains"in r?r.contains(t):r.compareDocumentPosition?!!(r.compareDocumentPosition(t)&16):!1:!1}function ry(){for(var r=window,t=ch();t instanceof r.HTMLIFrameElement;){try{var e=typeof t.contentWindow.location.href=="string"}catch{e=!1}if(e)r=t.contentWindow;else break;t=ch(r.document)}return t}function xm(r){var t=r&&r.nodeName&&r.nodeName.toLowerCase();return t&&(t==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||t==="textarea"||r.contentEditable==="true")}function n3(r){var t=ry(),e=r.focusedElem,n=r.selectionRange;if(t!==e&&e&&e.ownerDocument&&ty(e.ownerDocument.documentElement,e)){if(n!==null&&xm(e)){if(t=n.start,r=n.end,r===void 0&&(r=t),"selectionStart"in e)e.selectionStart=t,e.selectionEnd=Math.min(r,e.value.length);else if(r=(t=e.ownerDocument||document)&&t.defaultView||window,r.getSelection){r=r.getSelection();var l=e.textContent.length,i=Math.min(n.start,l);n=n.end===void 0?i:Math.min(n.end,l),!r.extend&&i>n&&(l=n,n=i,i=l),l=pg(e,i);var s=pg(e,n);l&&s&&(r.rangeCount!==1||r.anchorNode!==l.node||r.anchorOffset!==l.offset||r.focusNode!==s.node||r.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(l.node,l.offset),r.removeAllRanges(),i>n?(r.addRange(t),r.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),r.addRange(t)))}}for(t=[],r=e;r=r.parentNode;)r.nodeType===1&&t.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof e.focus=="function"&&e.focus(),e=0;e<t.length;e++)r=t[e],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var i3=qs&&"documentMode"in document&&11>=document.documentMode,fl=null,r0=null,Yu=null,n0=!1;function mg(r,t,e){var n=e.window===e?e.document:e.nodeType===9?e:e.ownerDocument;n0||fl==null||fl!==ch(n)||(n=fl,"selectionStart"in n&&xm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yu&&mc(Yu,n)||(Yu=n,n=bh(r0,"onSelect"),0<n.length&&(t=new ym("onSelect","select",null,t,e),r.push({event:t,listeners:n}),t.target=fl)))}function Ad(r,t){var e={};return e[r.toLowerCase()]=t.toLowerCase(),e["Webkit"+r]="webkit"+t,e["Moz"+r]="moz"+t,e}var pl={animationend:Ad("Animation","AnimationEnd"),animationiteration:Ad("Animation","AnimationIteration"),animationstart:Ad("Animation","AnimationStart"),transitionend:Ad("Transition","TransitionEnd")},ep={},ny={};qs&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function Vh(r){if(ep[r])return ep[r];if(!pl[r])return r;var t=pl[r],e;for(e in t)if(t.hasOwnProperty(e)&&e in ny)return ep[r]=t[e];return r}var iy=Vh("animationend"),sy=Vh("animationiteration"),oy=Vh("animationstart"),ay=Vh("transitionend"),ly=new Map,gg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wo(r,t){ly.set(r,t),Aa(t,[r])}for(var tp=0;tp<gg.length;tp++){var rp=gg[tp],s3=rp.toLowerCase(),o3=rp[0].toUpperCase()+rp.slice(1);Wo(s3,"on"+o3)}Wo(iy,"onAnimationEnd");Wo(sy,"onAnimationIteration");Wo(oy,"onAnimationStart");Wo("dblclick","onDoubleClick");Wo("focusin","onFocus");Wo("focusout","onBlur");Wo(ay,"onTransitionEnd");Ml("onMouseEnter",["mouseout","mouseover"]);Ml("onMouseLeave",["mouseout","mouseover"]);Ml("onPointerEnter",["pointerout","pointerover"]);Ml("onPointerLeave",["pointerout","pointerover"]);Aa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Aa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Aa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Aa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Aa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Uu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),a3=new Set("cancel close invalid load scroll toggle".split(" ").concat(Uu));function bg(r,t,e){var n=r.type||"unknown-event";r.currentTarget=e,sx(n,t,void 0,r),r.currentTarget=null}function uy(r,t){t=(t&4)!==0;for(var e=0;e<r.length;e++){var n=r[e],l=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var s=n.length-1;0<=s;s--){var u=n[s],a=u.instance,o=u.currentTarget;if(u=u.listener,a!==i&&l.isPropagationStopped())break e;bg(l,u,o),i=a}else for(s=0;s<n.length;s++){if(u=n[s],a=u.instance,o=u.currentTarget,u=u.listener,a!==i&&l.isPropagationStopped())break e;bg(l,u,o),i=a}}}if(hh)throw r=Zp,hh=!1,Zp=null,r}function Pr(r,t){var e=t[l0];e===void 0&&(e=t[l0]=new Set);var n=r+"__bubble";e.has(n)||(cy(t,r,2,!1),e.add(n))}function np(r,t,e){var n=0;t&&(n|=4),cy(e,r,n,t)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function gc(r){if(!r[Ed]){r[Ed]=!0,bb.forEach(function(e){e!=="selectionchange"&&(a3.has(e)||np(e,!1,r),np(e,!0,r))});var t=r.nodeType===9?r:r.ownerDocument;t===null||t[Ed]||(t[Ed]=!0,np("selectionchange",!1,t))}}function cy(r,t,e,n){switch(Gb(t)){case 1:var l=xx;break;case 4:l=_x;break;default:l=gm}e=l.bind(null,t,e,r),l=void 0,!Jp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(l=!0),n?l!==void 0?r.addEventListener(t,e,{capture:!0,passive:l}):r.addEventListener(t,e,!0):l!==void 0?r.addEventListener(t,e,{passive:l}):r.addEventListener(t,e,!1)}function ip(r,t,e,n,l){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var u=n.stateNode.containerInfo;if(u===l||u.nodeType===8&&u.parentNode===l)break;if(s===4)for(s=n.return;s!==null;){var a=s.tag;if((a===3||a===4)&&(a=s.stateNode.containerInfo,a===l||a.nodeType===8&&a.parentNode===l))return;s=s.return}for(;u!==null;){if(s=ha(u),s===null)return;if(a=s.tag,a===5||a===6){n=i=s;continue e}u=u.parentNode}}n=n.return}Ib(function(){var o=i,c=hm(e),f=[];e:{var h=ly.get(r);if(h!==void 0){var d=ym,y=r;switch(r){case"keypress":if(Xd(e)===0)break e;case"keydown":case"keyup":d=Fx;break;case"focusin":y="focus",d=Jf;break;case"focusout":y="blur",d=Jf;break;case"beforeblur":case"afterblur":d=Jf;break;case"click":if(e.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=sg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=Cx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=zx;break;case iy:case sy:case oy:d=jx;break;case ay:d=$x;break;case"scroll":d=Sx;break;case"wheel":d=Wx;break;case"copy":case"cut":case"paste":d=Px;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=ag}var b=(t&4)!==0,m=!b&&r==="scroll",g=b?h!==null?h+"Capture":null:h;b=[];for(var p=o,v;p!==null;){v=p;var C=v.stateNode;if(v.tag===5&&C!==null&&(v=C,g!==null&&(C=cc(p,g),C!=null&&b.push(bc(p,C,v)))),m)break;p=p.return}0<b.length&&(h=new d(h,y,null,e,c),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=r==="mouseover"||r==="pointerover",d=r==="mouseout"||r==="pointerout",h&&e!==Xp&&(y=e.relatedTarget||e.fromElement)&&(ha(y)||y[Ws]))break e;if((d||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,d?(y=e.relatedTarget||e.toElement,d=o,y=y?ha(y):null,y!==null&&(m=Ea(y),y!==m||y.tag!==5&&y.tag!==6)&&(y=null)):(d=null,y=o),d!==y)){if(b=sg,C="onMouseLeave",g="onMouseEnter",p="mouse",(r==="pointerout"||r==="pointerover")&&(b=ag,C="onPointerLeave",g="onPointerEnter",p="pointer"),m=d==null?h:ml(d),v=y==null?h:ml(y),h=new b(C,p+"leave",d,e,c),h.target=m,h.relatedTarget=v,C=null,ha(c)===o&&(b=new b(g,p+"enter",y,e,c),b.target=v,b.relatedTarget=m,C=b),m=C,d&&y)t:{for(b=d,g=y,p=0,v=b;v;v=Ya(v))p++;for(v=0,C=g;C;C=Ya(C))v++;for(;0<p-v;)b=Ya(b),p--;for(;0<v-p;)g=Ya(g),v--;for(;p--;){if(b===g||g!==null&&b===g.alternate)break t;b=Ya(b),g=Ya(g)}b=null}else b=null;d!==null&&yg(f,h,d,b,!1),y!==null&&m!==null&&yg(f,m,y,b,!0)}}e:{if(h=o?ml(o):window,d=h.nodeName&&h.nodeName.toLowerCase(),d==="select"||d==="input"&&h.type==="file")var j=Jx;else if(cg(h))if(Qb)j=t3;else{j=Qx;var L=Zx}else(d=h.nodeName)&&d.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=e3);if(j&&(j=j(r,o))){Zb(f,j,e,c);break e}L&&L(r,h,o),r==="focusout"&&(L=h._wrapperState)&&L.controlled&&h.type==="number"&&Wp(h,"number",h.value)}switch(L=o?ml(o):window,r){case"focusin":(cg(L)||L.contentEditable==="true")&&(fl=L,r0=o,Yu=null);break;case"focusout":Yu=r0=fl=null;break;case"mousedown":n0=!0;break;case"contextmenu":case"mouseup":case"dragend":n0=!1,mg(f,e,c);break;case"selectionchange":if(i3)break;case"keydown":case"keyup":mg(f,e,c)}var $;if(wm)e:{switch(r){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else hl?Yb(r,e)&&(M="onCompositionEnd"):r==="keydown"&&e.keyCode===229&&(M="onCompositionStart");M&&(Xb&&e.locale!=="ko"&&(hl||M!=="onCompositionStart"?M==="onCompositionEnd"&&hl&&($=Kb()):(Co=c,bm="value"in Co?Co.value:Co.textContent,hl=!0)),L=bh(o,M),0<L.length&&(M=new og(M,r,null,e,c),f.push({event:M,listeners:L}),$?M.data=$:($=Jb(e),$!==null&&(M.data=$)))),($=Vx?Gx(r,e):Kx(r,e))&&(o=bh(o,"onBeforeInput"),0<o.length&&(c=new og("onBeforeInput","beforeinput",null,e,c),f.push({event:c,listeners:o}),c.data=$))}uy(f,t)})}function bc(r,t,e){return{instance:r,listener:t,currentTarget:e}}function bh(r,t){for(var e=t+"Capture",n=[];r!==null;){var l=r,i=l.stateNode;l.tag===5&&i!==null&&(l=i,i=cc(r,e),i!=null&&n.unshift(bc(r,i,l)),i=cc(r,t),i!=null&&n.push(bc(r,i,l))),r=r.return}return n}function Ya(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function yg(r,t,e,n,l){for(var i=t._reactName,s=[];e!==null&&e!==n;){var u=e,a=u.alternate,o=u.stateNode;if(a!==null&&a===n)break;u.tag===5&&o!==null&&(u=o,l?(a=cc(e,i),a!=null&&s.unshift(bc(e,a,u))):l||(a=cc(e,i),a!=null&&s.push(bc(e,a,u)))),e=e.return}s.length!==0&&r.push({event:t,listeners:s})}var l3=/\r\n?/g,u3=/\u0000|\uFFFD/g;function vg(r){return(typeof r=="string"?r:""+r).replace(l3,`
`).replace(u3,"")}function jd(r,t,e){if(t=vg(t),vg(r)!==t&&e)throw Error(ft(425))}function yh(){}var i0=null,s0=null;function o0(r,t){return r==="textarea"||r==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var a0=typeof setTimeout=="function"?setTimeout:void 0,c3=typeof clearTimeout=="function"?clearTimeout:void 0,wg=typeof Promise=="function"?Promise:void 0,d3=typeof queueMicrotask=="function"?queueMicrotask:typeof wg<"u"?function(r){return wg.resolve(null).then(r).catch(h3)}:a0;function h3(r){setTimeout(function(){throw r})}function sp(r,t){var e=t,n=0;do{var l=e.nextSibling;if(r.removeChild(e),l&&l.nodeType===8)if(e=l.data,e==="/$"){if(n===0){r.removeChild(l),fc(t);return}n--}else e!=="$"&&e!=="$?"&&e!=="$!"||n++;e=l}while(e);fc(t)}function Io(r){for(;r!=null;r=r.nextSibling){var t=r.nodeType;if(t===1||t===3)break;if(t===8){if(t=r.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return r}function xg(r){r=r.previousSibling;for(var t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="$"||e==="$!"||e==="$?"){if(t===0)return r;t--}else e==="/$"&&t++}r=r.previousSibling}return null}var Hl=Math.random().toString(36).slice(2),fs="__reactFiber$"+Hl,yc="__reactProps$"+Hl,Ws="__reactContainer$"+Hl,l0="__reactEvents$"+Hl,f3="__reactListeners$"+Hl,p3="__reactHandles$"+Hl;function ha(r){var t=r[fs];if(t)return t;for(var e=r.parentNode;e;){if(t=e[Ws]||e[fs]){if(e=t.alternate,t.child!==null||e!==null&&e.child!==null)for(r=xg(r);r!==null;){if(e=r[fs])return e;r=xg(r)}return t}r=e,e=r.parentNode}return null}function Nc(r){return r=r[fs]||r[Ws],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function ml(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(ft(33))}function Gh(r){return r[yc]||null}var u0=[],gl=-1;function Ho(r){return{current:r}}function Rr(r){0>gl||(r.current=u0[gl],u0[gl]=null,gl--)}function Tr(r,t){gl++,u0[gl]=r.current,r.current=t}var zo={},Ln=Ho(zo),ti=Ho(!1),wa=zo;function Ll(r,t){var e=r.type.contextTypes;if(!e)return zo;var n=r.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var l={},i;for(i in e)l[i]=t[i];return n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=t,r.__reactInternalMemoizedMaskedChildContext=l),l}function ri(r){return r=r.childContextTypes,r!=null}function vh(){Rr(ti),Rr(Ln)}function _g(r,t,e){if(Ln.current!==zo)throw Error(ft(168));Tr(Ln,t),Tr(ti,e)}function dy(r,t,e){var n=r.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return e;n=n.getChildContext();for(var l in n)if(!(l in t))throw Error(ft(108,Zw(r)||"Unknown",l));return Dr({},e,n)}function wh(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||zo,wa=Ln.current,Tr(Ln,r),Tr(ti,ti.current),!0}function Sg(r,t,e){var n=r.stateNode;if(!n)throw Error(ft(169));e?(r=dy(r,t,wa),n.__reactInternalMemoizedMergedChildContext=r,Rr(ti),Rr(Ln),Tr(Ln,r)):Rr(ti),Tr(ti,e)}var Bs=null,Kh=!1,op=!1;function hy(r){Bs===null?Bs=[r]:Bs.push(r)}function m3(r){Kh=!0,hy(r)}function Vo(){if(!op&&Bs!==null){op=!0;var r=0,t=yr;try{var e=Bs;for(yr=1;r<e.length;r++){var n=e[r];do n=n(!0);while(n!==null)}Bs=null,Kh=!1}catch(l){throw Bs!==null&&(Bs=Bs.slice(r+1)),Fb(fm,Vo),l}finally{yr=t,op=!1}}return null}var bl=[],yl=0,xh=null,_h=0,Ti=[],Pi=0,xa=null,Ds=1,zs="";function oa(r,t){bl[yl++]=_h,bl[yl++]=xh,xh=r,_h=t}function fy(r,t,e){Ti[Pi++]=Ds,Ti[Pi++]=zs,Ti[Pi++]=xa,xa=r;var n=Ds;r=zs;var l=32-Yi(n)-1;n&=~(1<<l),e+=1;var i=32-Yi(t)+l;if(30<i){var s=l-l%5;i=(n&(1<<s)-1).toString(32),n>>=s,l-=s,Ds=1<<32-Yi(t)+l|e<<l|n,zs=i+r}else Ds=1<<i|e<<l|n,zs=r}function _m(r){r.return!==null&&(oa(r,1),fy(r,1,0))}function Sm(r){for(;r===xh;)xh=bl[--yl],bl[yl]=null,_h=bl[--yl],bl[yl]=null;for(;r===xa;)xa=Ti[--Pi],Ti[Pi]=null,zs=Ti[--Pi],Ti[Pi]=null,Ds=Ti[--Pi],Ti[Pi]=null}var mi=null,fi=null,Ir=!1,Xi=null;function py(r,t){var e=Ni(5,null,null,0);e.elementType="DELETED",e.stateNode=t,e.return=r,t=r.deletions,t===null?(r.deletions=[e],r.flags|=16):t.push(e)}function kg(r,t){switch(r.tag){case 5:var e=r.type;return t=t.nodeType!==1||e.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(r.stateNode=t,mi=r,fi=Io(t.firstChild),!0):!1;case 6:return t=r.pendingProps===""||t.nodeType!==3?null:t,t!==null?(r.stateNode=t,mi=r,fi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(e=xa!==null?{id:Ds,overflow:zs}:null,r.memoizedState={dehydrated:t,treeContext:e,retryLane:1073741824},e=Ni(18,null,null,0),e.stateNode=t,e.return=r,r.child=e,mi=r,fi=null,!0):!1;default:return!1}}function c0(r){return(r.mode&1)!==0&&(r.flags&128)===0}function d0(r){if(Ir){var t=fi;if(t){var e=t;if(!kg(r,t)){if(c0(r))throw Error(ft(418));t=Io(e.nextSibling);var n=mi;t&&kg(r,t)?py(n,e):(r.flags=r.flags&-4097|2,Ir=!1,mi=r)}}else{if(c0(r))throw Error(ft(418));r.flags=r.flags&-4097|2,Ir=!1,mi=r}}}function Cg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;mi=r}function Td(r){if(r!==mi)return!1;if(!Ir)return Cg(r),Ir=!0,!1;var t;if((t=r.tag!==3)&&!(t=r.tag!==5)&&(t=r.type,t=t!=="head"&&t!=="body"&&!o0(r.type,r.memoizedProps)),t&&(t=fi)){if(c0(r))throw my(),Error(ft(418));for(;t;)py(r,t),t=Io(t.nextSibling)}if(Cg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(ft(317));e:{for(r=r.nextSibling,t=0;r;){if(r.nodeType===8){var e=r.data;if(e==="/$"){if(t===0){fi=Io(r.nextSibling);break e}t--}else e!=="$"&&e!=="$!"&&e!=="$?"||t++}r=r.nextSibling}fi=null}}else fi=mi?Io(r.stateNode.nextSibling):null;return!0}function my(){for(var r=fi;r;)r=Io(r.nextSibling)}function Ol(){fi=mi=null,Ir=!1}function km(r){Xi===null?Xi=[r]:Xi.push(r)}var g3=Xs.ReactCurrentBatchConfig;function Tu(r,t,e){if(r=e.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(e._owner){if(e=e._owner,e){if(e.tag!==1)throw Error(ft(309));var n=e.stateNode}if(!n)throw Error(ft(147,r));var l=n,i=""+r;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var u=l.refs;s===null?delete u[i]:u[i]=s},t._stringRef=i,t)}if(typeof r!="string")throw Error(ft(284));if(!e._owner)throw Error(ft(290,r))}return r}function Pd(r,t){throw r=Object.prototype.toString.call(t),Error(ft(31,r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r))}function Ag(r){var t=r._init;return t(r._payload)}function gy(r){function t(g,p){if(r){var v=g.deletions;v===null?(g.deletions=[p],g.flags|=16):v.push(p)}}function e(g,p){if(!r)return null;for(;p!==null;)t(g,p),p=p.sibling;return null}function n(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function l(g,p){return g=Fo(g,p),g.index=0,g.sibling=null,g}function i(g,p,v){return g.index=v,r?(v=g.alternate,v!==null?(v=v.index,v<p?(g.flags|=2,p):v):(g.flags|=2,p)):(g.flags|=1048576,p)}function s(g){return r&&g.alternate===null&&(g.flags|=2),g}function u(g,p,v,C){return p===null||p.tag!==6?(p=fp(v,g.mode,C),p.return=g,p):(p=l(p,v),p.return=g,p)}function a(g,p,v,C){var j=v.type;return j===dl?c(g,p,v.props.children,C,v.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wo&&Ag(j)===p.type)?(C=l(p,v.props),C.ref=Tu(g,p,v),C.return=g,C):(C=rh(v.type,v.key,v.props,null,g.mode,C),C.ref=Tu(g,p,v),C.return=g,C)}function o(g,p,v,C){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=pp(v,g.mode,C),p.return=g,p):(p=l(p,v.children||[]),p.return=g,p)}function c(g,p,v,C,j){return p===null||p.tag!==7?(p=ya(v,g.mode,C,j),p.return=g,p):(p=l(p,v),p.return=g,p)}function f(g,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=fp(""+p,g.mode,v),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case vd:return v=rh(p.type,p.key,p.props,null,g.mode,v),v.ref=Tu(g,null,p),v.return=g,v;case cl:return p=pp(p,g.mode,v),p.return=g,p;case wo:var C=p._init;return f(g,C(p._payload),v)}if(Du(p)||ku(p))return p=ya(p,g.mode,v,null),p.return=g,p;Pd(g,p)}return null}function h(g,p,v,C){var j=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return j!==null?null:u(g,p,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vd:return v.key===j?a(g,p,v,C):null;case cl:return v.key===j?o(g,p,v,C):null;case wo:return j=v._init,h(g,p,j(v._payload),C)}if(Du(v)||ku(v))return j!==null?null:c(g,p,v,C,null);Pd(g,v)}return null}function d(g,p,v,C,j){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(v)||null,u(p,g,""+C,j);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case vd:return g=g.get(C.key===null?v:C.key)||null,a(p,g,C,j);case cl:return g=g.get(C.key===null?v:C.key)||null,o(p,g,C,j);case wo:var L=C._init;return d(g,p,v,L(C._payload),j)}if(Du(C)||ku(C))return g=g.get(v)||null,c(p,g,C,j,null);Pd(p,C)}return null}function y(g,p,v,C){for(var j=null,L=null,$=p,M=p=0,z=null;$!==null&&M<v.length;M++){$.index>M?(z=$,$=null):z=$.sibling;var H=h(g,$,v[M],C);if(H===null){$===null&&($=z);break}r&&$&&H.alternate===null&&t(g,$),p=i(H,p,M),L===null?j=H:L.sibling=H,L=H,$=z}if(M===v.length)return e(g,$),Ir&&oa(g,M),j;if($===null){for(;M<v.length;M++)$=f(g,v[M],C),$!==null&&(p=i($,p,M),L===null?j=$:L.sibling=$,L=$);return Ir&&oa(g,M),j}for($=n(g,$);M<v.length;M++)z=d($,g,M,v[M],C),z!==null&&(r&&z.alternate!==null&&$.delete(z.key===null?M:z.key),p=i(z,p,M),L===null?j=z:L.sibling=z,L=z);return r&&$.forEach(function(q){return t(g,q)}),Ir&&oa(g,M),j}function b(g,p,v,C){var j=ku(v);if(typeof j!="function")throw Error(ft(150));if(v=j.call(v),v==null)throw Error(ft(151));for(var L=j=null,$=p,M=p=0,z=null,H=v.next();$!==null&&!H.done;M++,H=v.next()){$.index>M?(z=$,$=null):z=$.sibling;var q=h(g,$,H.value,C);if(q===null){$===null&&($=z);break}r&&$&&q.alternate===null&&t(g,$),p=i(q,p,M),L===null?j=q:L.sibling=q,L=q,$=z}if(H.done)return e(g,$),Ir&&oa(g,M),j;if($===null){for(;!H.done;M++,H=v.next())H=f(g,H.value,C),H!==null&&(p=i(H,p,M),L===null?j=H:L.sibling=H,L=H);return Ir&&oa(g,M),j}for($=n(g,$);!H.done;M++,H=v.next())H=d($,g,M,H.value,C),H!==null&&(r&&H.alternate!==null&&$.delete(H.key===null?M:H.key),p=i(H,p,M),L===null?j=H:L.sibling=H,L=H);return r&&$.forEach(function(B){return t(g,B)}),Ir&&oa(g,M),j}function m(g,p,v,C){if(typeof v=="object"&&v!==null&&v.type===dl&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case vd:e:{for(var j=v.key,L=p;L!==null;){if(L.key===j){if(j=v.type,j===dl){if(L.tag===7){e(g,L.sibling),p=l(L,v.props.children),p.return=g,g=p;break e}}else if(L.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===wo&&Ag(j)===L.type){e(g,L.sibling),p=l(L,v.props),p.ref=Tu(g,L,v),p.return=g,g=p;break e}e(g,L);break}else t(g,L);L=L.sibling}v.type===dl?(p=ya(v.props.children,g.mode,C,v.key),p.return=g,g=p):(C=rh(v.type,v.key,v.props,null,g.mode,C),C.ref=Tu(g,p,v),C.return=g,g=C)}return s(g);case cl:e:{for(L=v.key;p!==null;){if(p.key===L)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){e(g,p.sibling),p=l(p,v.children||[]),p.return=g,g=p;break e}else{e(g,p);break}else t(g,p);p=p.sibling}p=pp(v,g.mode,C),p.return=g,g=p}return s(g);case wo:return L=v._init,m(g,p,L(v._payload),C)}if(Du(v))return y(g,p,v,C);if(ku(v))return b(g,p,v,C);Pd(g,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(e(g,p.sibling),p=l(p,v),p.return=g,g=p):(e(g,p),p=fp(v,g.mode,C),p.return=g,g=p),s(g)):e(g,p)}return m}var Fl=gy(!0),by=gy(!1),Sh=Ho(null),kh=null,vl=null,Cm=null;function Am(){Cm=vl=kh=null}function Em(r){var t=Sh.current;Rr(Sh),r._currentValue=t}function h0(r,t,e){for(;r!==null;){var n=r.alternate;if((r.childLanes&t)!==t?(r.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),r===e)break;r=r.return}}function El(r,t){kh=r,Cm=vl=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&t&&(ei=!0),r.firstContext=null)}function Ii(r){var t=r._currentValue;if(Cm!==r)if(r={context:r,memoizedValue:t,next:null},vl===null){if(kh===null)throw Error(ft(308));vl=r,kh.dependencies={lanes:0,firstContext:r}}else vl=vl.next=r;return t}var fa=null;function jm(r){fa===null?fa=[r]:fa.push(r)}function yy(r,t,e,n){var l=t.interleaved;return l===null?(e.next=e,jm(t)):(e.next=l.next,l.next=e),t.interleaved=e,Hs(r,n)}function Hs(r,t){r.lanes|=t;var e=r.alternate;for(e!==null&&(e.lanes|=t),e=r,r=r.return;r!==null;)r.childLanes|=t,e=r.alternate,e!==null&&(e.childLanes|=t),e=r,r=r.return;return e.tag===3?e.stateNode:null}var xo=!1;function Tm(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vy(r,t){r=r.updateQueue,t.updateQueue===r&&(t.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Us(r,t){return{eventTime:r,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(r,t,e){var n=r.updateQueue;if(n===null)return null;if(n=n.shared,hr&2){var l=n.pending;return l===null?t.next=t:(t.next=l.next,l.next=t),n.pending=t,Hs(r,e)}return l=n.interleaved,l===null?(t.next=t,jm(n)):(t.next=l.next,l.next=t),n.interleaved=t,Hs(r,e)}function Yd(r,t,e){if(t=t.updateQueue,t!==null&&(t=t.shared,(e&4194240)!==0)){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,pm(r,e)}}function Eg(r,t){var e=r.updateQueue,n=r.alternate;if(n!==null&&(n=n.updateQueue,e===n)){var l=null,i=null;if(e=e.firstBaseUpdate,e!==null){do{var s={eventTime:e.eventTime,lane:e.lane,tag:e.tag,payload:e.payload,callback:e.callback,next:null};i===null?l=i=s:i=i.next=s,e=e.next}while(e!==null);i===null?l=i=t:i=i.next=t}else l=i=t;e={baseState:n.baseState,firstBaseUpdate:l,lastBaseUpdate:i,shared:n.shared,effects:n.effects},r.updateQueue=e;return}r=e.lastBaseUpdate,r===null?e.firstBaseUpdate=t:r.next=t,e.lastBaseUpdate=t}function Ch(r,t,e,n){var l=r.updateQueue;xo=!1;var i=l.firstBaseUpdate,s=l.lastBaseUpdate,u=l.shared.pending;if(u!==null){l.shared.pending=null;var a=u,o=a.next;a.next=null,s===null?i=o:s.next=o,s=a;var c=r.alternate;c!==null&&(c=c.updateQueue,u=c.lastBaseUpdate,u!==s&&(u===null?c.firstBaseUpdate=o:u.next=o,c.lastBaseUpdate=a))}if(i!==null){var f=l.baseState;s=0,c=o=a=null,u=i;do{var h=u.lane,d=u.eventTime;if((n&h)===h){c!==null&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var y=r,b=u;switch(h=t,d=e,b.tag){case 1:if(y=b.payload,typeof y=="function"){f=y.call(d,f,h);break e}f=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=b.payload,h=typeof y=="function"?y.call(d,f,h):y,h==null)break e;f=Dr({},f,h);break e;case 2:xo=!0}}u.callback!==null&&u.lane!==0&&(r.flags|=64,h=l.effects,h===null?l.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},c===null?(o=c=d,a=f):c=c.next=d,s|=h;if(u=u.next,u===null){if(u=l.shared.pending,u===null)break;h=u,u=h.next,h.next=null,l.lastBaseUpdate=h,l.shared.pending=null}}while(!0);if(c===null&&(a=f),l.baseState=a,l.firstBaseUpdate=o,l.lastBaseUpdate=c,t=l.shared.interleaved,t!==null){l=t;do s|=l.lane,l=l.next;while(l!==t)}else i===null&&(l.shared.lanes=0);Sa|=s,r.lanes=s,r.memoizedState=f}}function jg(r,t,e){if(r=t.effects,t.effects=null,r!==null)for(t=0;t<r.length;t++){var n=r[t],l=n.callback;if(l!==null){if(n.callback=null,n=e,typeof l!="function")throw Error(ft(191,l));l.call(n)}}}var Rc={},gs=Ho(Rc),vc=Ho(Rc),wc=Ho(Rc);function pa(r){if(r===Rc)throw Error(ft(174));return r}function Pm(r,t){switch(Tr(wc,t),Tr(vc,r),Tr(gs,Rc),r=t.nodeType,r){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Vp(null,"");break;default:r=r===8?t.parentNode:t,t=r.namespaceURI||null,r=r.tagName,t=Vp(t,r)}Rr(gs),Tr(gs,t)}function Bl(){Rr(gs),Rr(vc),Rr(wc)}function wy(r){pa(wc.current);var t=pa(gs.current),e=Vp(t,r.type);t!==e&&(Tr(vc,r),Tr(gs,e))}function Nm(r){vc.current===r&&(Rr(gs),Rr(vc))}var Fr=Ho(0);function Ah(r){for(var t=r;t!==null;){if(t.tag===13){var e=t.memoizedState;if(e!==null&&(e=e.dehydrated,e===null||e.data==="$?"||e.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ap=[];function Rm(){for(var r=0;r<ap.length;r++)ap[r]._workInProgressVersionPrimary=null;ap.length=0}var Jd=Xs.ReactCurrentDispatcher,lp=Xs.ReactCurrentBatchConfig,_a=0,Br=null,un=null,pn=null,Eh=!1,Ju=!1,xc=0,b3=0;function An(){throw Error(ft(321))}function Im(r,t){if(t===null)return!1;for(var e=0;e<t.length&&e<r.length;e++)if(!Zi(r[e],t[e]))return!1;return!0}function Mm(r,t,e,n,l,i){if(_a=i,Br=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Jd.current=r===null||r.memoizedState===null?x3:_3,r=e(n,l),Ju){i=0;do{if(Ju=!1,xc=0,25<=i)throw Error(ft(301));i+=1,pn=un=null,t.updateQueue=null,Jd.current=S3,r=e(n,l)}while(Ju)}if(Jd.current=jh,t=un!==null&&un.next!==null,_a=0,pn=un=Br=null,Eh=!1,t)throw Error(ft(300));return r}function Lm(){var r=xc!==0;return xc=0,r}function ds(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Br.memoizedState=pn=r:pn=pn.next=r,pn}function Mi(){if(un===null){var r=Br.alternate;r=r!==null?r.memoizedState:null}else r=un.next;var t=pn===null?Br.memoizedState:pn.next;if(t!==null)pn=t,un=r;else{if(r===null)throw Error(ft(310));un=r,r={memoizedState:un.memoizedState,baseState:un.baseState,baseQueue:un.baseQueue,queue:un.queue,next:null},pn===null?Br.memoizedState=pn=r:pn=pn.next=r}return pn}function _c(r,t){return typeof t=="function"?t(r):t}function up(r){var t=Mi(),e=t.queue;if(e===null)throw Error(ft(311));e.lastRenderedReducer=r;var n=un,l=n.baseQueue,i=e.pending;if(i!==null){if(l!==null){var s=l.next;l.next=i.next,i.next=s}n.baseQueue=l=i,e.pending=null}if(l!==null){i=l.next,n=n.baseState;var u=s=null,a=null,o=i;do{var c=o.lane;if((_a&c)===c)a!==null&&(a=a.next={lane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),n=o.hasEagerState?o.eagerState:r(n,o.action);else{var f={lane:c,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null};a===null?(u=a=f,s=n):a=a.next=f,Br.lanes|=c,Sa|=c}o=o.next}while(o!==null&&o!==i);a===null?s=n:a.next=u,Zi(n,t.memoizedState)||(ei=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=a,e.lastRenderedState=n}if(r=e.interleaved,r!==null){l=r;do i=l.lane,Br.lanes|=i,Sa|=i,l=l.next;while(l!==r)}else l===null&&(e.lanes=0);return[t.memoizedState,e.dispatch]}function cp(r){var t=Mi(),e=t.queue;if(e===null)throw Error(ft(311));e.lastRenderedReducer=r;var n=e.dispatch,l=e.pending,i=t.memoizedState;if(l!==null){e.pending=null;var s=l=l.next;do i=r(i,s.action),s=s.next;while(s!==l);Zi(i,t.memoizedState)||(ei=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),e.lastRenderedState=i}return[i,n]}function xy(){}function _y(r,t){var e=Br,n=Mi(),l=t(),i=!Zi(n.memoizedState,l);if(i&&(n.memoizedState=l,ei=!0),n=n.queue,Om(Cy.bind(null,e,n,r),[r]),n.getSnapshot!==t||i||pn!==null&&pn.memoizedState.tag&1){if(e.flags|=2048,Sc(9,ky.bind(null,e,n,l,t),void 0,null),gn===null)throw Error(ft(349));_a&30||Sy(e,t,l)}return l}function Sy(r,t,e){r.flags|=16384,r={getSnapshot:t,value:e},t=Br.updateQueue,t===null?(t={lastEffect:null,stores:null},Br.updateQueue=t,t.stores=[r]):(e=t.stores,e===null?t.stores=[r]:e.push(r))}function ky(r,t,e,n){t.value=e,t.getSnapshot=n,Ay(t)&&Ey(r)}function Cy(r,t,e){return e(function(){Ay(t)&&Ey(r)})}function Ay(r){var t=r.getSnapshot;r=r.value;try{var e=t();return!Zi(r,e)}catch{return!0}}function Ey(r){var t=Hs(r,1);t!==null&&Ji(t,r,1,-1)}function Tg(r){var t=ds();return typeof r=="function"&&(r=r()),t.memoizedState=t.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_c,lastRenderedState:r},t.queue=r,r=r.dispatch=w3.bind(null,Br,r),[t.memoizedState,r]}function Sc(r,t,e,n){return r={tag:r,create:t,destroy:e,deps:n,next:null},t=Br.updateQueue,t===null?(t={lastEffect:null,stores:null},Br.updateQueue=t,t.lastEffect=r.next=r):(e=t.lastEffect,e===null?t.lastEffect=r.next=r:(n=e.next,e.next=r,r.next=n,t.lastEffect=r)),r}function jy(){return Mi().memoizedState}function Zd(r,t,e,n){var l=ds();Br.flags|=r,l.memoizedState=Sc(1|t,e,void 0,n===void 0?null:n)}function Xh(r,t,e,n){var l=Mi();n=n===void 0?null:n;var i=void 0;if(un!==null){var s=un.memoizedState;if(i=s.destroy,n!==null&&Im(n,s.deps)){l.memoizedState=Sc(t,e,i,n);return}}Br.flags|=r,l.memoizedState=Sc(1|t,e,i,n)}function Pg(r,t){return Zd(8390656,8,r,t)}function Om(r,t){return Xh(2048,8,r,t)}function Ty(r,t){return Xh(4,2,r,t)}function Py(r,t){return Xh(4,4,r,t)}function Ny(r,t){if(typeof t=="function")return r=r(),t(r),function(){t(null)};if(t!=null)return r=r(),t.current=r,function(){t.current=null}}function Ry(r,t,e){return e=e!=null?e.concat([r]):null,Xh(4,4,Ny.bind(null,t,r),e)}function Fm(){}function Iy(r,t){var e=Mi();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&Im(t,n[1])?n[0]:(e.memoizedState=[r,t],r)}function My(r,t){var e=Mi();t=t===void 0?null:t;var n=e.memoizedState;return n!==null&&t!==null&&Im(t,n[1])?n[0]:(r=r(),e.memoizedState=[r,t],r)}function Ly(r,t,e){return _a&21?(Zi(e,t)||(e=zb(),Br.lanes|=e,Sa|=e,r.baseState=!0),t):(r.baseState&&(r.baseState=!1,ei=!0),r.memoizedState=e)}function y3(r,t){var e=yr;yr=e!==0&&4>e?e:4,r(!0);var n=lp.transition;lp.transition={};try{r(!1),t()}finally{yr=e,lp.transition=n}}function Oy(){return Mi().memoizedState}function v3(r,t,e){var n=Oo(r);if(e={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null},Fy(r))By(t,e);else if(e=yy(r,t,e,n),e!==null){var l=Wn();Ji(e,r,n,l),Dy(e,t,n)}}function w3(r,t,e){var n=Oo(r),l={lane:n,action:e,hasEagerState:!1,eagerState:null,next:null};if(Fy(r))By(t,l);else{var i=r.alternate;if(r.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,u=i(s,e);if(l.hasEagerState=!0,l.eagerState=u,Zi(u,s)){var a=t.interleaved;a===null?(l.next=l,jm(t)):(l.next=a.next,a.next=l),t.interleaved=l;return}}catch{}finally{}e=yy(r,t,l,n),e!==null&&(l=Wn(),Ji(e,r,n,l),Dy(e,t,n))}}function Fy(r){var t=r.alternate;return r===Br||t!==null&&t===Br}function By(r,t){Ju=Eh=!0;var e=r.pending;e===null?t.next=t:(t.next=e.next,e.next=t),r.pending=t}function Dy(r,t,e){if(e&4194240){var n=t.lanes;n&=r.pendingLanes,e|=n,t.lanes=e,pm(r,e)}}var jh={readContext:Ii,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},x3={readContext:Ii,useCallback:function(r,t){return ds().memoizedState=[r,t===void 0?null:t],r},useContext:Ii,useEffect:Pg,useImperativeHandle:function(r,t,e){return e=e!=null?e.concat([r]):null,Zd(4194308,4,Ny.bind(null,t,r),e)},useLayoutEffect:function(r,t){return Zd(4194308,4,r,t)},useInsertionEffect:function(r,t){return Zd(4,2,r,t)},useMemo:function(r,t){var e=ds();return t=t===void 0?null:t,r=r(),e.memoizedState=[r,t],r},useReducer:function(r,t,e){var n=ds();return t=e!==void 0?e(t):t,n.memoizedState=n.baseState=t,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:t},n.queue=r,r=r.dispatch=v3.bind(null,Br,r),[n.memoizedState,r]},useRef:function(r){var t=ds();return r={current:r},t.memoizedState=r},useState:Tg,useDebugValue:Fm,useDeferredValue:function(r){return ds().memoizedState=r},useTransition:function(){var r=Tg(!1),t=r[0];return r=y3.bind(null,r[1]),ds().memoizedState=r,[t,r]},useMutableSource:function(){},useSyncExternalStore:function(r,t,e){var n=Br,l=ds();if(Ir){if(e===void 0)throw Error(ft(407));e=e()}else{if(e=t(),gn===null)throw Error(ft(349));_a&30||Sy(n,t,e)}l.memoizedState=e;var i={value:e,getSnapshot:t};return l.queue=i,Pg(Cy.bind(null,n,i,r),[r]),n.flags|=2048,Sc(9,ky.bind(null,n,i,e,t),void 0,null),e},useId:function(){var r=ds(),t=gn.identifierPrefix;if(Ir){var e=zs,n=Ds;e=(n&~(1<<32-Yi(n)-1)).toString(32)+e,t=":"+t+"R"+e,e=xc++,0<e&&(t+="H"+e.toString(32)),t+=":"}else e=b3++,t=":"+t+"r"+e.toString(32)+":";return r.memoizedState=t},unstable_isNewReconciler:!1},_3={readContext:Ii,useCallback:Iy,useContext:Ii,useEffect:Om,useImperativeHandle:Ry,useInsertionEffect:Ty,useLayoutEffect:Py,useMemo:My,useReducer:up,useRef:jy,useState:function(){return up(_c)},useDebugValue:Fm,useDeferredValue:function(r){var t=Mi();return Ly(t,un.memoizedState,r)},useTransition:function(){var r=up(_c)[0],t=Mi().memoizedState;return[r,t]},useMutableSource:xy,useSyncExternalStore:_y,useId:Oy,unstable_isNewReconciler:!1},S3={readContext:Ii,useCallback:Iy,useContext:Ii,useEffect:Om,useImperativeHandle:Ry,useInsertionEffect:Ty,useLayoutEffect:Py,useMemo:My,useReducer:cp,useRef:jy,useState:function(){return cp(_c)},useDebugValue:Fm,useDeferredValue:function(r){var t=Mi();return un===null?t.memoizedState=r:Ly(t,un.memoizedState,r)},useTransition:function(){var r=cp(_c)[0],t=Mi().memoizedState;return[r,t]},useMutableSource:xy,useSyncExternalStore:_y,useId:Oy,unstable_isNewReconciler:!1};function Hi(r,t){if(r&&r.defaultProps){t=Dr({},t),r=r.defaultProps;for(var e in r)t[e]===void 0&&(t[e]=r[e]);return t}return t}function f0(r,t,e,n){t=r.memoizedState,e=e(n,t),e=e==null?t:Dr({},t,e),r.memoizedState=e,r.lanes===0&&(r.updateQueue.baseState=e)}var Yh={isMounted:function(r){return(r=r._reactInternals)?Ea(r)===r:!1},enqueueSetState:function(r,t,e){r=r._reactInternals;var n=Wn(),l=Oo(r),i=Us(n,l);i.payload=t,e!=null&&(i.callback=e),t=Mo(r,i,l),t!==null&&(Ji(t,r,l,n),Yd(t,r,l))},enqueueReplaceState:function(r,t,e){r=r._reactInternals;var n=Wn(),l=Oo(r),i=Us(n,l);i.tag=1,i.payload=t,e!=null&&(i.callback=e),t=Mo(r,i,l),t!==null&&(Ji(t,r,l,n),Yd(t,r,l))},enqueueForceUpdate:function(r,t){r=r._reactInternals;var e=Wn(),n=Oo(r),l=Us(e,n);l.tag=2,t!=null&&(l.callback=t),t=Mo(r,l,n),t!==null&&(Ji(t,r,n,e),Yd(t,r,n))}};function Ng(r,t,e,n,l,i,s){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(n,i,s):t.prototype&&t.prototype.isPureReactComponent?!mc(e,n)||!mc(l,i):!0}function zy(r,t,e){var n=!1,l=zo,i=t.contextType;return typeof i=="object"&&i!==null?i=Ii(i):(l=ri(t)?wa:Ln.current,n=t.contextTypes,i=(n=n!=null)?Ll(r,l):zo),t=new t(e,i),r.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Yh,r.stateNode=t,t._reactInternals=r,n&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=l,r.__reactInternalMemoizedMaskedChildContext=i),t}function Rg(r,t,e,n){r=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(e,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(e,n),t.state!==r&&Yh.enqueueReplaceState(t,t.state,null)}function p0(r,t,e,n){var l=r.stateNode;l.props=e,l.state=r.memoizedState,l.refs={},Tm(r);var i=t.contextType;typeof i=="object"&&i!==null?l.context=Ii(i):(i=ri(t)?wa:Ln.current,l.context=Ll(r,i)),l.state=r.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(f0(r,t,i,e),l.state=r.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(t=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),t!==l.state&&Yh.enqueueReplaceState(l,l.state,null),Ch(r,e,l,n),l.state=r.memoizedState),typeof l.componentDidMount=="function"&&(r.flags|=4194308)}function Dl(r,t){try{var e="",n=t;do e+=Jw(n),n=n.return;while(n);var l=e}catch(i){l=`
Error generating stack: `+i.message+`
`+i.stack}return{value:r,source:t,stack:l,digest:null}}function dp(r,t,e){return{value:r,source:null,stack:e??null,digest:t??null}}function m0(r,t){try{console.error(t.value)}catch(e){setTimeout(function(){throw e})}}var k3=typeof WeakMap=="function"?WeakMap:Map;function Uy(r,t,e){e=Us(-1,e),e.tag=3,e.payload={element:null};var n=t.value;return e.callback=function(){Ph||(Ph=!0,C0=n),m0(r,t)},e}function $y(r,t,e){e=Us(-1,e),e.tag=3;var n=r.type.getDerivedStateFromError;if(typeof n=="function"){var l=t.value;e.payload=function(){return n(l)},e.callback=function(){m0(r,t)}}var i=r.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){m0(r,t),typeof n!="function"&&(Lo===null?Lo=new Set([this]):Lo.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),e}function Ig(r,t,e){var n=r.pingCache;if(n===null){n=r.pingCache=new k3;var l=new Set;n.set(t,l)}else l=n.get(t),l===void 0&&(l=new Set,n.set(t,l));l.has(e)||(l.add(e),r=B3.bind(null,r,t,e),t.then(r,r))}function Mg(r){do{var t;if((t=r.tag===13)&&(t=r.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return r;r=r.return}while(r!==null);return null}function Lg(r,t,e,n,l){return r.mode&1?(r.flags|=65536,r.lanes=l,r):(r===t?r.flags|=65536:(r.flags|=128,e.flags|=131072,e.flags&=-52805,e.tag===1&&(e.alternate===null?e.tag=17:(t=Us(-1,1),t.tag=2,Mo(e,t,1))),e.lanes|=1),r)}var C3=Xs.ReactCurrentOwner,ei=!1;function qn(r,t,e,n){t.child=r===null?by(t,null,e,n):Fl(t,r.child,e,n)}function Og(r,t,e,n,l){e=e.render;var i=t.ref;return El(t,l),n=Mm(r,t,e,n,i,l),e=Lm(),r!==null&&!ei?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~l,Vs(r,t,l)):(Ir&&e&&_m(t),t.flags|=1,qn(r,t,n,l),t.child)}function Fg(r,t,e,n,l){if(r===null){var i=e.type;return typeof i=="function"&&!Hm(i)&&i.defaultProps===void 0&&e.compare===null&&e.defaultProps===void 0?(t.tag=15,t.type=i,qy(r,t,i,n,l)):(r=rh(e.type,null,n,t,t.mode,l),r.ref=t.ref,r.return=t,t.child=r)}if(i=r.child,!(r.lanes&l)){var s=i.memoizedProps;if(e=e.compare,e=e!==null?e:mc,e(s,n)&&r.ref===t.ref)return Vs(r,t,l)}return t.flags|=1,r=Fo(i,n),r.ref=t.ref,r.return=t,t.child=r}function qy(r,t,e,n,l){if(r!==null){var i=r.memoizedProps;if(mc(i,n)&&r.ref===t.ref)if(ei=!1,t.pendingProps=n=i,(r.lanes&l)!==0)r.flags&131072&&(ei=!0);else return t.lanes=r.lanes,Vs(r,t,l)}return g0(r,t,e,n,l)}function Wy(r,t,e){var n=t.pendingProps,l=n.children,i=r!==null?r.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Tr(xl,hi),hi|=e;else{if(!(e&1073741824))return r=i!==null?i.baseLanes|e:e,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:r,cachePool:null,transitions:null},t.updateQueue=null,Tr(xl,hi),hi|=r,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:e,Tr(xl,hi),hi|=n}else i!==null?(n=i.baseLanes|e,t.memoizedState=null):n=e,Tr(xl,hi),hi|=n;return qn(r,t,l,e),t.child}function Hy(r,t){var e=t.ref;(r===null&&e!==null||r!==null&&r.ref!==e)&&(t.flags|=512,t.flags|=2097152)}function g0(r,t,e,n,l){var i=ri(e)?wa:Ln.current;return i=Ll(t,i),El(t,l),e=Mm(r,t,e,n,i,l),n=Lm(),r!==null&&!ei?(t.updateQueue=r.updateQueue,t.flags&=-2053,r.lanes&=~l,Vs(r,t,l)):(Ir&&n&&_m(t),t.flags|=1,qn(r,t,e,l),t.child)}function Bg(r,t,e,n,l){if(ri(e)){var i=!0;wh(t)}else i=!1;if(El(t,l),t.stateNode===null)Qd(r,t),zy(t,e,n),p0(t,e,n,l),n=!0;else if(r===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var a=s.context,o=e.contextType;typeof o=="object"&&o!==null?o=Ii(o):(o=ri(e)?wa:Ln.current,o=Ll(t,o));var c=e.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==n||a!==o)&&Rg(t,s,n,o),xo=!1;var h=t.memoizedState;s.state=h,Ch(t,n,s,l),a=t.memoizedState,u!==n||h!==a||ti.current||xo?(typeof c=="function"&&(f0(t,e,c,n),a=t.memoizedState),(u=xo||Ng(t,e,u,n,h,a,o))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),s.props=n,s.state=a,s.context=o,n=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,vy(r,t),u=t.memoizedProps,o=t.type===t.elementType?u:Hi(t.type,u),s.props=o,f=t.pendingProps,h=s.context,a=e.contextType,typeof a=="object"&&a!==null?a=Ii(a):(a=ri(e)?wa:Ln.current,a=Ll(t,a));var d=e.getDerivedStateFromProps;(c=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==f||h!==a)&&Rg(t,s,n,a),xo=!1,h=t.memoizedState,s.state=h,Ch(t,n,s,l);var y=t.memoizedState;u!==f||h!==y||ti.current||xo?(typeof d=="function"&&(f0(t,e,d,n),y=t.memoizedState),(o=xo||Ng(t,e,o,n,h,y,a)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,y,a),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,y,a)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===r.memoizedProps&&h===r.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===r.memoizedProps&&h===r.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=y),s.props=n,s.state=y,s.context=a,n=o):(typeof s.componentDidUpdate!="function"||u===r.memoizedProps&&h===r.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===r.memoizedProps&&h===r.memoizedState||(t.flags|=1024),n=!1)}return b0(r,t,e,n,i,l)}function b0(r,t,e,n,l,i){Hy(r,t);var s=(t.flags&128)!==0;if(!n&&!s)return l&&Sg(t,e,!1),Vs(r,t,i);n=t.stateNode,C3.current=t;var u=s&&typeof e.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,r!==null&&s?(t.child=Fl(t,r.child,null,i),t.child=Fl(t,null,u,i)):qn(r,t,u,i),t.memoizedState=n.state,l&&Sg(t,e,!0),t.child}function Vy(r){var t=r.stateNode;t.pendingContext?_g(r,t.pendingContext,t.pendingContext!==t.context):t.context&&_g(r,t.context,!1),Pm(r,t.containerInfo)}function Dg(r,t,e,n,l){return Ol(),km(l),t.flags|=256,qn(r,t,e,n),t.child}var y0={dehydrated:null,treeContext:null,retryLane:0};function v0(r){return{baseLanes:r,cachePool:null,transitions:null}}function Gy(r,t,e){var n=t.pendingProps,l=Fr.current,i=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=r!==null&&r.memoizedState===null?!1:(l&2)!==0),u?(i=!0,t.flags&=-129):(r===null||r.memoizedState!==null)&&(l|=1),Tr(Fr,l&1),r===null)return d0(t),r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(t.mode&1?r.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,r=n.fallback,i?(n=t.mode,i=t.child,s={mode:"hidden",children:s},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Qh(s,n,0,null),r=ya(r,n,e,null),i.return=t,r.return=t,i.sibling=r,t.child=i,t.child.memoizedState=v0(e),t.memoizedState=y0,r):Bm(t,s));if(l=r.memoizedState,l!==null&&(u=l.dehydrated,u!==null))return A3(r,t,s,n,u,l,e);if(i){i=n.fallback,s=t.mode,l=r.child,u=l.sibling;var a={mode:"hidden",children:n.children};return!(s&1)&&t.child!==l?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=Fo(l,a),n.subtreeFlags=l.subtreeFlags&14680064),u!==null?i=Fo(u,i):(i=ya(i,s,e,null),i.flags|=2),i.return=t,n.return=t,n.sibling=i,t.child=n,n=i,i=t.child,s=r.child.memoizedState,s=s===null?v0(e):{baseLanes:s.baseLanes|e,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=r.childLanes&~e,t.memoizedState=y0,n}return i=r.child,r=i.sibling,n=Fo(i,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=e),n.return=t,n.sibling=null,r!==null&&(e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)),t.child=n,t.memoizedState=null,n}function Bm(r,t){return t=Qh({mode:"visible",children:t},r.mode,0,null),t.return=r,r.child=t}function Nd(r,t,e,n){return n!==null&&km(n),Fl(t,r.child,null,e),r=Bm(t,t.pendingProps.children),r.flags|=2,t.memoizedState=null,r}function A3(r,t,e,n,l,i,s){if(e)return t.flags&256?(t.flags&=-257,n=dp(Error(ft(422))),Nd(r,t,s,n)):t.memoizedState!==null?(t.child=r.child,t.flags|=128,null):(i=n.fallback,l=t.mode,n=Qh({mode:"visible",children:n.children},l,0,null),i=ya(i,l,s,null),i.flags|=2,n.return=t,i.return=t,n.sibling=i,t.child=n,t.mode&1&&Fl(t,r.child,null,s),t.child.memoizedState=v0(s),t.memoizedState=y0,i);if(!(t.mode&1))return Nd(r,t,s,null);if(l.data==="$!"){if(n=l.nextSibling&&l.nextSibling.dataset,n)var u=n.dgst;return n=u,i=Error(ft(419)),n=dp(i,n,void 0),Nd(r,t,s,n)}if(u=(s&r.childLanes)!==0,ei||u){if(n=gn,n!==null){switch(s&-s){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(n.suspendedLanes|s)?0:l,l!==0&&l!==i.retryLane&&(i.retryLane=l,Hs(r,l),Ji(n,r,l,-1))}return Wm(),n=dp(Error(ft(421))),Nd(r,t,s,n)}return l.data==="$?"?(t.flags|=128,t.child=r.child,t=D3.bind(null,r),l._reactRetry=t,null):(r=i.treeContext,fi=Io(l.nextSibling),mi=t,Ir=!0,Xi=null,r!==null&&(Ti[Pi++]=Ds,Ti[Pi++]=zs,Ti[Pi++]=xa,Ds=r.id,zs=r.overflow,xa=t),t=Bm(t,n.children),t.flags|=4096,t)}function zg(r,t,e){r.lanes|=t;var n=r.alternate;n!==null&&(n.lanes|=t),h0(r.return,t,e)}function hp(r,t,e,n,l){var i=r.memoizedState;i===null?r.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:e,tailMode:l}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=e,i.tailMode=l)}function Ky(r,t,e){var n=t.pendingProps,l=n.revealOrder,i=n.tail;if(qn(r,t,n.children,e),n=Fr.current,n&2)n=n&1|2,t.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=t.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&zg(r,e,t);else if(r.tag===19)zg(r,e,t);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}n&=1}if(Tr(Fr,n),!(t.mode&1))t.memoizedState=null;else switch(l){case"forwards":for(e=t.child,l=null;e!==null;)r=e.alternate,r!==null&&Ah(r)===null&&(l=e),e=e.sibling;e=l,e===null?(l=t.child,t.child=null):(l=e.sibling,e.sibling=null),hp(t,!1,l,e,i);break;case"backwards":for(e=null,l=t.child,t.child=null;l!==null;){if(r=l.alternate,r!==null&&Ah(r)===null){t.child=l;break}r=l.sibling,l.sibling=e,e=l,l=r}hp(t,!0,e,null,i);break;case"together":hp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Qd(r,t){!(t.mode&1)&&r!==null&&(r.alternate=null,t.alternate=null,t.flags|=2)}function Vs(r,t,e){if(r!==null&&(t.dependencies=r.dependencies),Sa|=t.lanes,!(e&t.childLanes))return null;if(r!==null&&t.child!==r.child)throw Error(ft(153));if(t.child!==null){for(r=t.child,e=Fo(r,r.pendingProps),t.child=e,e.return=t;r.sibling!==null;)r=r.sibling,e=e.sibling=Fo(r,r.pendingProps),e.return=t;e.sibling=null}return t.child}function E3(r,t,e){switch(t.tag){case 3:Vy(t),Ol();break;case 5:wy(t);break;case 1:ri(t.type)&&wh(t);break;case 4:Pm(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,l=t.memoizedProps.value;Tr(Sh,n._currentValue),n._currentValue=l;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Tr(Fr,Fr.current&1),t.flags|=128,null):e&t.child.childLanes?Gy(r,t,e):(Tr(Fr,Fr.current&1),r=Vs(r,t,e),r!==null?r.sibling:null);Tr(Fr,Fr.current&1);break;case 19:if(n=(e&t.childLanes)!==0,r.flags&128){if(n)return Ky(r,t,e);t.flags|=128}if(l=t.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),Tr(Fr,Fr.current),n)break;return null;case 22:case 23:return t.lanes=0,Wy(r,t,e)}return Vs(r,t,e)}var Xy,w0,Yy,Jy;Xy=function(r,t){for(var e=t.child;e!==null;){if(e.tag===5||e.tag===6)r.appendChild(e.stateNode);else if(e.tag!==4&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return;e=e.return}e.sibling.return=e.return,e=e.sibling}};w0=function(){};Yy=function(r,t,e,n){var l=r.memoizedProps;if(l!==n){r=t.stateNode,pa(gs.current);var i=null;switch(e){case"input":l=$p(r,l),n=$p(r,n),i=[];break;case"select":l=Dr({},l,{value:void 0}),n=Dr({},n,{value:void 0}),i=[];break;case"textarea":l=Hp(r,l),n=Hp(r,n),i=[];break;default:typeof l.onClick!="function"&&typeof n.onClick=="function"&&(r.onclick=yh)}Gp(e,n);var s;e=null;for(o in l)if(!n.hasOwnProperty(o)&&l.hasOwnProperty(o)&&l[o]!=null)if(o==="style"){var u=l[o];for(s in u)u.hasOwnProperty(s)&&(e||(e={}),e[s]="")}else o!=="dangerouslySetInnerHTML"&&o!=="children"&&o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(lc.hasOwnProperty(o)?i||(i=[]):(i=i||[]).push(o,null));for(o in n){var a=n[o];if(u=l!=null?l[o]:void 0,n.hasOwnProperty(o)&&a!==u&&(a!=null||u!=null))if(o==="style")if(u){for(s in u)!u.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||(e||(e={}),e[s]="");for(s in a)a.hasOwnProperty(s)&&u[s]!==a[s]&&(e||(e={}),e[s]=a[s])}else e||(i||(i=[]),i.push(o,e)),e=a;else o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,u=u?u.__html:void 0,a!=null&&u!==a&&(i=i||[]).push(o,a)):o==="children"?typeof a!="string"&&typeof a!="number"||(i=i||[]).push(o,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&(lc.hasOwnProperty(o)?(a!=null&&o==="onScroll"&&Pr("scroll",r),i||u===a||(i=[])):(i=i||[]).push(o,a))}e&&(i=i||[]).push("style",e);var o=i;(t.updateQueue=o)&&(t.flags|=4)}};Jy=function(r,t,e,n){e!==n&&(t.flags|=4)};function Pu(r,t){if(!Ir)switch(r.tailMode){case"hidden":t=r.tail;for(var e=null;t!==null;)t.alternate!==null&&(e=t),t=t.sibling;e===null?r.tail=null:e.sibling=null;break;case"collapsed":e=r.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t||r.tail===null?r.tail=null:r.tail.sibling=null:n.sibling=null}}function En(r){var t=r.alternate!==null&&r.alternate.child===r.child,e=0,n=0;if(t)for(var l=r.child;l!==null;)e|=l.lanes|l.childLanes,n|=l.subtreeFlags&14680064,n|=l.flags&14680064,l.return=r,l=l.sibling;else for(l=r.child;l!==null;)e|=l.lanes|l.childLanes,n|=l.subtreeFlags,n|=l.flags,l.return=r,l=l.sibling;return r.subtreeFlags|=n,r.childLanes=e,t}function j3(r,t,e){var n=t.pendingProps;switch(Sm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(t),null;case 1:return ri(t.type)&&vh(),En(t),null;case 3:return n=t.stateNode,Bl(),Rr(ti),Rr(Ln),Rm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(r===null||r.child===null)&&(Td(t)?t.flags|=4:r===null||r.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Xi!==null&&(j0(Xi),Xi=null))),w0(r,t),En(t),null;case 5:Nm(t);var l=pa(wc.current);if(e=t.type,r!==null&&t.stateNode!=null)Yy(r,t,e,n,l),r.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(ft(166));return En(t),null}if(r=pa(gs.current),Td(t)){n=t.stateNode,e=t.type;var i=t.memoizedProps;switch(n[fs]=t,n[yc]=i,r=(t.mode&1)!==0,e){case"dialog":Pr("cancel",n),Pr("close",n);break;case"iframe":case"object":case"embed":Pr("load",n);break;case"video":case"audio":for(l=0;l<Uu.length;l++)Pr(Uu[l],n);break;case"source":Pr("error",n);break;case"img":case"image":case"link":Pr("error",n),Pr("load",n);break;case"details":Pr("toggle",n);break;case"input":X1(n,i),Pr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Pr("invalid",n);break;case"textarea":J1(n,i),Pr("invalid",n)}Gp(e,i),l=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?n.textContent!==u&&(i.suppressHydrationWarning!==!0&&jd(n.textContent,u,r),l=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&jd(n.textContent,u,r),l=["children",""+u]):lc.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&Pr("scroll",n)}switch(e){case"input":wd(n),Y1(n,i,!0);break;case"textarea":wd(n),Z1(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=yh)}n=l,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=l.nodeType===9?l:l.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Cb(e)),r==="http://www.w3.org/1999/xhtml"?e==="script"?(r=s.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof n.is=="string"?r=s.createElement(e,{is:n.is}):(r=s.createElement(e),e==="select"&&(s=r,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):r=s.createElementNS(r,e),r[fs]=t,r[yc]=n,Xy(r,t,!1,!1),t.stateNode=r;e:{switch(s=Kp(e,n),e){case"dialog":Pr("cancel",r),Pr("close",r),l=n;break;case"iframe":case"object":case"embed":Pr("load",r),l=n;break;case"video":case"audio":for(l=0;l<Uu.length;l++)Pr(Uu[l],r);l=n;break;case"source":Pr("error",r),l=n;break;case"img":case"image":case"link":Pr("error",r),Pr("load",r),l=n;break;case"details":Pr("toggle",r),l=n;break;case"input":X1(r,n),l=$p(r,n),Pr("invalid",r);break;case"option":l=n;break;case"select":r._wrapperState={wasMultiple:!!n.multiple},l=Dr({},n,{value:void 0}),Pr("invalid",r);break;case"textarea":J1(r,n),l=Hp(r,n),Pr("invalid",r);break;default:l=n}Gp(e,l),u=l;for(i in u)if(u.hasOwnProperty(i)){var a=u[i];i==="style"?jb(r,a):i==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&Ab(r,a)):i==="children"?typeof a=="string"?(e!=="textarea"||a!=="")&&uc(r,a):typeof a=="number"&&uc(r,""+a):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(lc.hasOwnProperty(i)?a!=null&&i==="onScroll"&&Pr("scroll",r):a!=null&&lm(r,i,a,s))}switch(e){case"input":wd(r),Y1(r,n,!1);break;case"textarea":wd(r),Z1(r);break;case"option":n.value!=null&&r.setAttribute("value",""+Do(n.value));break;case"select":r.multiple=!!n.multiple,i=n.value,i!=null?Sl(r,!!n.multiple,i,!1):n.defaultValue!=null&&Sl(r,!!n.multiple,n.defaultValue,!0);break;default:typeof l.onClick=="function"&&(r.onclick=yh)}switch(e){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return En(t),null;case 6:if(r&&t.stateNode!=null)Jy(r,t,r.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(ft(166));if(e=pa(wc.current),pa(gs.current),Td(t)){if(n=t.stateNode,e=t.memoizedProps,n[fs]=t,(i=n.nodeValue!==e)&&(r=mi,r!==null))switch(r.tag){case 3:jd(n.nodeValue,e,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&jd(n.nodeValue,e,(r.mode&1)!==0)}i&&(t.flags|=4)}else n=(e.nodeType===9?e:e.ownerDocument).createTextNode(n),n[fs]=t,t.stateNode=n}return En(t),null;case 13:if(Rr(Fr),n=t.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(Ir&&fi!==null&&t.mode&1&&!(t.flags&128))my(),Ol(),t.flags|=98560,i=!1;else if(i=Td(t),n!==null&&n.dehydrated!==null){if(r===null){if(!i)throw Error(ft(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ft(317));i[fs]=t}else Ol(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;En(t),i=!1}else Xi!==null&&(j0(Xi),Xi=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=e,t):(n=n!==null,n!==(r!==null&&r.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(r===null||Fr.current&1?cn===0&&(cn=3):Wm())),t.updateQueue!==null&&(t.flags|=4),En(t),null);case 4:return Bl(),w0(r,t),r===null&&gc(t.stateNode.containerInfo),En(t),null;case 10:return Em(t.type._context),En(t),null;case 17:return ri(t.type)&&vh(),En(t),null;case 19:if(Rr(Fr),i=t.memoizedState,i===null)return En(t),null;if(n=(t.flags&128)!==0,s=i.rendering,s===null)if(n)Pu(i,!1);else{if(cn!==0||r!==null&&r.flags&128)for(r=t.child;r!==null;){if(s=Ah(r),s!==null){for(t.flags|=128,Pu(i,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=e,e=t.child;e!==null;)i=e,r=n,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,r=s.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),e=e.sibling;return Tr(Fr,Fr.current&1|2),t.child}r=r.sibling}i.tail!==null&&Xr()>zl&&(t.flags|=128,n=!0,Pu(i,!1),t.lanes=4194304)}else{if(!n)if(r=Ah(s),r!==null){if(t.flags|=128,n=!0,e=r.updateQueue,e!==null&&(t.updateQueue=e,t.flags|=4),Pu(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!Ir)return En(t),null}else 2*Xr()-i.renderingStartTime>zl&&e!==1073741824&&(t.flags|=128,n=!0,Pu(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(e=i.last,e!==null?e.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xr(),t.sibling=null,e=Fr.current,Tr(Fr,n?e&1|2:e&1),t):(En(t),null);case 22:case 23:return qm(),n=t.memoizedState!==null,r!==null&&r.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?hi&1073741824&&(En(t),t.subtreeFlags&6&&(t.flags|=8192)):En(t),null;case 24:return null;case 25:return null}throw Error(ft(156,t.tag))}function T3(r,t){switch(Sm(t),t.tag){case 1:return ri(t.type)&&vh(),r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 3:return Bl(),Rr(ti),Rr(Ln),Rm(),r=t.flags,r&65536&&!(r&128)?(t.flags=r&-65537|128,t):null;case 5:return Nm(t),null;case 13:if(Rr(Fr),r=t.memoizedState,r!==null&&r.dehydrated!==null){if(t.alternate===null)throw Error(ft(340));Ol()}return r=t.flags,r&65536?(t.flags=r&-65537|128,t):null;case 19:return Rr(Fr),null;case 4:return Bl(),null;case 10:return Em(t.type._context),null;case 22:case 23:return qm(),null;case 24:return null;default:return null}}var Rd=!1,Rn=!1,P3=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function wl(r,t){var e=r.ref;if(e!==null)if(typeof e=="function")try{e(null)}catch(n){qr(r,t,n)}else e.current=null}function x0(r,t,e){try{e()}catch(n){qr(r,t,n)}}var Ug=!1;function N3(r,t){if(i0=mh,r=ry(),xm(r)){if("selectionStart"in r)var e={start:r.selectionStart,end:r.selectionEnd};else e:{e=(e=r.ownerDocument)&&e.defaultView||window;var n=e.getSelection&&e.getSelection();if(n&&n.rangeCount!==0){e=n.anchorNode;var l=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{e.nodeType,i.nodeType}catch{e=null;break e}var s=0,u=-1,a=-1,o=0,c=0,f=r,h=null;t:for(;;){for(var d;f!==e||l!==0&&f.nodeType!==3||(u=s+l),f!==i||n!==0&&f.nodeType!==3||(a=s+n),f.nodeType===3&&(s+=f.nodeValue.length),(d=f.firstChild)!==null;)h=f,f=d;for(;;){if(f===r)break t;if(h===e&&++o===l&&(u=s),h===i&&++c===n&&(a=s),(d=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=d}e=u===-1||a===-1?null:{start:u,end:a}}else e=null}e=e||{start:0,end:0}}else e=null;for(s0={focusedElem:r,selectionRange:e},mh=!1,Pt=t;Pt!==null;)if(t=Pt,r=t.child,(t.subtreeFlags&1028)!==0&&r!==null)r.return=t,Pt=r;else for(;Pt!==null;){t=Pt;try{var y=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var b=y.memoizedProps,m=y.memoizedState,g=t.stateNode,p=g.getSnapshotBeforeUpdate(t.elementType===t.type?b:Hi(t.type,b),m);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=t.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ft(163))}}catch(C){qr(t,t.return,C)}if(r=t.sibling,r!==null){r.return=t.return,Pt=r;break}Pt=t.return}return y=Ug,Ug=!1,y}function Zu(r,t,e){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var l=n=n.next;do{if((l.tag&r)===r){var i=l.destroy;l.destroy=void 0,i!==void 0&&x0(t,e,i)}l=l.next}while(l!==n)}}function Jh(r,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var e=t=t.next;do{if((e.tag&r)===r){var n=e.create;e.destroy=n()}e=e.next}while(e!==t)}}function _0(r){var t=r.ref;if(t!==null){var e=r.stateNode;switch(r.tag){case 5:r=e;break;default:r=e}typeof t=="function"?t(r):t.current=r}}function Zy(r){var t=r.alternate;t!==null&&(r.alternate=null,Zy(t)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(t=r.stateNode,t!==null&&(delete t[fs],delete t[yc],delete t[l0],delete t[f3],delete t[p3])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Qy(r){return r.tag===5||r.tag===3||r.tag===4}function $g(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Qy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function S0(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.nodeType===8?e.parentNode.insertBefore(r,t):e.insertBefore(r,t):(e.nodeType===8?(t=e.parentNode,t.insertBefore(r,e)):(t=e,t.appendChild(r)),e=e._reactRootContainer,e!=null||t.onclick!==null||(t.onclick=yh));else if(n!==4&&(r=r.child,r!==null))for(S0(r,t,e),r=r.sibling;r!==null;)S0(r,t,e),r=r.sibling}function k0(r,t,e){var n=r.tag;if(n===5||n===6)r=r.stateNode,t?e.insertBefore(r,t):e.appendChild(r);else if(n!==4&&(r=r.child,r!==null))for(k0(r,t,e),r=r.sibling;r!==null;)k0(r,t,e),r=r.sibling}var xn=null,Gi=!1;function mo(r,t,e){for(e=e.child;e!==null;)ev(r,t,e),e=e.sibling}function ev(r,t,e){if(ms&&typeof ms.onCommitFiberUnmount=="function")try{ms.onCommitFiberUnmount(qh,e)}catch{}switch(e.tag){case 5:Rn||wl(e,t);case 6:var n=xn,l=Gi;xn=null,mo(r,t,e),xn=n,Gi=l,xn!==null&&(Gi?(r=xn,e=e.stateNode,r.nodeType===8?r.parentNode.removeChild(e):r.removeChild(e)):xn.removeChild(e.stateNode));break;case 18:xn!==null&&(Gi?(r=xn,e=e.stateNode,r.nodeType===8?sp(r.parentNode,e):r.nodeType===1&&sp(r,e),fc(r)):sp(xn,e.stateNode));break;case 4:n=xn,l=Gi,xn=e.stateNode.containerInfo,Gi=!0,mo(r,t,e),xn=n,Gi=l;break;case 0:case 11:case 14:case 15:if(!Rn&&(n=e.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){l=n=n.next;do{var i=l,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&x0(e,t,s),l=l.next}while(l!==n)}mo(r,t,e);break;case 1:if(!Rn&&(wl(e,t),n=e.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=e.memoizedProps,n.state=e.memoizedState,n.componentWillUnmount()}catch(u){qr(e,t,u)}mo(r,t,e);break;case 21:mo(r,t,e);break;case 22:e.mode&1?(Rn=(n=Rn)||e.memoizedState!==null,mo(r,t,e),Rn=n):mo(r,t,e);break;default:mo(r,t,e)}}function qg(r){var t=r.updateQueue;if(t!==null){r.updateQueue=null;var e=r.stateNode;e===null&&(e=r.stateNode=new P3),t.forEach(function(n){var l=z3.bind(null,r,n);e.has(n)||(e.add(n),n.then(l,l))})}}function $i(r,t){var e=t.deletions;if(e!==null)for(var n=0;n<e.length;n++){var l=e[n];try{var i=r,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:xn=u.stateNode,Gi=!1;break e;case 3:xn=u.stateNode.containerInfo,Gi=!0;break e;case 4:xn=u.stateNode.containerInfo,Gi=!0;break e}u=u.return}if(xn===null)throw Error(ft(160));ev(i,s,l),xn=null,Gi=!1;var a=l.alternate;a!==null&&(a.return=null),l.return=null}catch(o){qr(l,t,o)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tv(t,r),t=t.sibling}function tv(r,t){var e=r.alternate,n=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if($i(t,r),as(r),n&4){try{Zu(3,r,r.return),Jh(3,r)}catch(b){qr(r,r.return,b)}try{Zu(5,r,r.return)}catch(b){qr(r,r.return,b)}}break;case 1:$i(t,r),as(r),n&512&&e!==null&&wl(e,e.return);break;case 5:if($i(t,r),as(r),n&512&&e!==null&&wl(e,e.return),r.flags&32){var l=r.stateNode;try{uc(l,"")}catch(b){qr(r,r.return,b)}}if(n&4&&(l=r.stateNode,l!=null)){var i=r.memoizedProps,s=e!==null?e.memoizedProps:i,u=r.type,a=r.updateQueue;if(r.updateQueue=null,a!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&Sb(l,i),Kp(u,s);var o=Kp(u,i);for(s=0;s<a.length;s+=2){var c=a[s],f=a[s+1];c==="style"?jb(l,f):c==="dangerouslySetInnerHTML"?Ab(l,f):c==="children"?uc(l,f):lm(l,c,f,o)}switch(u){case"input":qp(l,i);break;case"textarea":kb(l,i);break;case"select":var h=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!i.multiple;var d=i.value;d!=null?Sl(l,!!i.multiple,d,!1):h!==!!i.multiple&&(i.defaultValue!=null?Sl(l,!!i.multiple,i.defaultValue,!0):Sl(l,!!i.multiple,i.multiple?[]:"",!1))}l[yc]=i}catch(b){qr(r,r.return,b)}}break;case 6:if($i(t,r),as(r),n&4){if(r.stateNode===null)throw Error(ft(162));l=r.stateNode,i=r.memoizedProps;try{l.nodeValue=i}catch(b){qr(r,r.return,b)}}break;case 3:if($i(t,r),as(r),n&4&&e!==null&&e.memoizedState.isDehydrated)try{fc(t.containerInfo)}catch(b){qr(r,r.return,b)}break;case 4:$i(t,r),as(r);break;case 13:$i(t,r),as(r),l=r.child,l.flags&8192&&(i=l.memoizedState!==null,l.stateNode.isHidden=i,!i||l.alternate!==null&&l.alternate.memoizedState!==null||(Um=Xr())),n&4&&qg(r);break;case 22:if(c=e!==null&&e.memoizedState!==null,r.mode&1?(Rn=(o=Rn)||c,$i(t,r),Rn=o):$i(t,r),as(r),n&8192){if(o=r.memoizedState!==null,(r.stateNode.isHidden=o)&&!c&&r.mode&1)for(Pt=r,c=r.child;c!==null;){for(f=Pt=c;Pt!==null;){switch(h=Pt,d=h.child,h.tag){case 0:case 11:case 14:case 15:Zu(4,h,h.return);break;case 1:wl(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){n=h,e=h.return;try{t=n,y.props=t.memoizedProps,y.state=t.memoizedState,y.componentWillUnmount()}catch(b){qr(n,e,b)}}break;case 5:wl(h,h.return);break;case 22:if(h.memoizedState!==null){Hg(f);continue}}d!==null?(d.return=h,Pt=d):Hg(f)}c=c.sibling}e:for(c=null,f=r;;){if(f.tag===5){if(c===null){c=f;try{l=f.stateNode,o?(i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=f.stateNode,a=f.memoizedProps.style,s=a!=null&&a.hasOwnProperty("display")?a.display:null,u.style.display=Eb("display",s))}catch(b){qr(r,r.return,b)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=o?"":f.memoizedProps}catch(b){qr(r,r.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===r)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:$i(t,r),as(r),n&4&&qg(r);break;case 21:break;default:$i(t,r),as(r)}}function as(r){var t=r.flags;if(t&2){try{e:{for(var e=r.return;e!==null;){if(Qy(e)){var n=e;break e}e=e.return}throw Error(ft(160))}switch(n.tag){case 5:var l=n.stateNode;n.flags&32&&(uc(l,""),n.flags&=-33);var i=$g(r);k0(r,i,l);break;case 3:case 4:var s=n.stateNode.containerInfo,u=$g(r);S0(r,u,s);break;default:throw Error(ft(161))}}catch(a){qr(r,r.return,a)}r.flags&=-3}t&4096&&(r.flags&=-4097)}function R3(r,t,e){Pt=r,rv(r)}function rv(r,t,e){for(var n=(r.mode&1)!==0;Pt!==null;){var l=Pt,i=l.child;if(l.tag===22&&n){var s=l.memoizedState!==null||Rd;if(!s){var u=l.alternate,a=u!==null&&u.memoizedState!==null||Rn;u=Rd;var o=Rn;if(Rd=s,(Rn=a)&&!o)for(Pt=l;Pt!==null;)s=Pt,a=s.child,s.tag===22&&s.memoizedState!==null?Vg(l):a!==null?(a.return=s,Pt=a):Vg(l);for(;i!==null;)Pt=i,rv(i),i=i.sibling;Pt=l,Rd=u,Rn=o}Wg(r)}else l.subtreeFlags&8772&&i!==null?(i.return=l,Pt=i):Wg(r)}}function Wg(r){for(;Pt!==null;){var t=Pt;if(t.flags&8772){var e=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Rn||Jh(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Rn)if(e===null)n.componentDidMount();else{var l=t.elementType===t.type?e.memoizedProps:Hi(t.type,e.memoizedProps);n.componentDidUpdate(l,e.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&jg(t,i,n);break;case 3:var s=t.updateQueue;if(s!==null){if(e=null,t.child!==null)switch(t.child.tag){case 5:e=t.child.stateNode;break;case 1:e=t.child.stateNode}jg(t,s,e)}break;case 5:var u=t.stateNode;if(e===null&&t.flags&4){e=u;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&e.focus();break;case"img":a.src&&(e.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var o=t.alternate;if(o!==null){var c=o.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&fc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ft(163))}Rn||t.flags&512&&_0(t)}catch(h){qr(t,t.return,h)}}if(t===r){Pt=null;break}if(e=t.sibling,e!==null){e.return=t.return,Pt=e;break}Pt=t.return}}function Hg(r){for(;Pt!==null;){var t=Pt;if(t===r){Pt=null;break}var e=t.sibling;if(e!==null){e.return=t.return,Pt=e;break}Pt=t.return}}function Vg(r){for(;Pt!==null;){var t=Pt;try{switch(t.tag){case 0:case 11:case 15:var e=t.return;try{Jh(4,t)}catch(a){qr(t,e,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var l=t.return;try{n.componentDidMount()}catch(a){qr(t,l,a)}}var i=t.return;try{_0(t)}catch(a){qr(t,i,a)}break;case 5:var s=t.return;try{_0(t)}catch(a){qr(t,s,a)}}}catch(a){qr(t,t.return,a)}if(t===r){Pt=null;break}var u=t.sibling;if(u!==null){u.return=t.return,Pt=u;break}Pt=t.return}}var I3=Math.ceil,Th=Xs.ReactCurrentDispatcher,Dm=Xs.ReactCurrentOwner,Ri=Xs.ReactCurrentBatchConfig,hr=0,gn=null,sn=null,_n=0,hi=0,xl=Ho(0),cn=0,kc=null,Sa=0,Zh=0,zm=0,Qu=null,Zn=null,Um=0,zl=1/0,Os=null,Ph=!1,C0=null,Lo=null,Id=!1,Ao=null,Nh=0,ec=0,A0=null,eh=-1,th=0;function Wn(){return hr&6?Xr():eh!==-1?eh:eh=Xr()}function Oo(r){return r.mode&1?hr&2&&_n!==0?_n&-_n:g3.transition!==null?(th===0&&(th=zb()),th):(r=yr,r!==0||(r=window.event,r=r===void 0?16:Gb(r.type)),r):1}function Ji(r,t,e,n){if(50<ec)throw ec=0,A0=null,Error(ft(185));Tc(r,e,n),(!(hr&2)||r!==gn)&&(r===gn&&(!(hr&2)&&(Zh|=e),cn===4&&So(r,_n)),ni(r,n),e===1&&hr===0&&!(t.mode&1)&&(zl=Xr()+500,Kh&&Vo()))}function ni(r,t){var e=r.callbackNode;gx(r,t);var n=ph(r,r===gn?_n:0);if(n===0)e!==null&&tg(e),r.callbackNode=null,r.callbackPriority=0;else if(t=n&-n,r.callbackPriority!==t){if(e!=null&&tg(e),t===1)r.tag===0?m3(Gg.bind(null,r)):hy(Gg.bind(null,r)),d3(function(){!(hr&6)&&Vo()}),e=null;else{switch(Ub(n)){case 1:e=fm;break;case 4:e=Bb;break;case 16:e=fh;break;case 536870912:e=Db;break;default:e=fh}e=cv(e,nv.bind(null,r))}r.callbackPriority=t,r.callbackNode=e}}function nv(r,t){if(eh=-1,th=0,hr&6)throw Error(ft(327));var e=r.callbackNode;if(jl()&&r.callbackNode!==e)return null;var n=ph(r,r===gn?_n:0);if(n===0)return null;if(n&30||n&r.expiredLanes||t)t=Rh(r,n);else{t=n;var l=hr;hr|=2;var i=sv();(gn!==r||_n!==t)&&(Os=null,zl=Xr()+500,ba(r,t));do try{O3();break}catch(u){iv(r,u)}while(!0);Am(),Th.current=i,hr=l,sn!==null?t=0:(gn=null,_n=0,t=cn)}if(t!==0){if(t===2&&(l=Qp(r),l!==0&&(n=l,t=E0(r,l))),t===1)throw e=kc,ba(r,0),So(r,n),ni(r,Xr()),e;if(t===6)So(r,n);else{if(l=r.current.alternate,!(n&30)&&!M3(l)&&(t=Rh(r,n),t===2&&(i=Qp(r),i!==0&&(n=i,t=E0(r,i))),t===1))throw e=kc,ba(r,0),So(r,n),ni(r,Xr()),e;switch(r.finishedWork=l,r.finishedLanes=n,t){case 0:case 1:throw Error(ft(345));case 2:aa(r,Zn,Os);break;case 3:if(So(r,n),(n&130023424)===n&&(t=Um+500-Xr(),10<t)){if(ph(r,0)!==0)break;if(l=r.suspendedLanes,(l&n)!==n){Wn(),r.pingedLanes|=r.suspendedLanes&l;break}r.timeoutHandle=a0(aa.bind(null,r,Zn,Os),t);break}aa(r,Zn,Os);break;case 4:if(So(r,n),(n&4194240)===n)break;for(t=r.eventTimes,l=-1;0<n;){var s=31-Yi(n);i=1<<s,s=t[s],s>l&&(l=s),n&=~i}if(n=l,n=Xr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*I3(n/1960))-n,10<n){r.timeoutHandle=a0(aa.bind(null,r,Zn,Os),n);break}aa(r,Zn,Os);break;case 5:aa(r,Zn,Os);break;default:throw Error(ft(329))}}}return ni(r,Xr()),r.callbackNode===e?nv.bind(null,r):null}function E0(r,t){var e=Qu;return r.current.memoizedState.isDehydrated&&(ba(r,t).flags|=256),r=Rh(r,t),r!==2&&(t=Zn,Zn=e,t!==null&&j0(t)),r}function j0(r){Zn===null?Zn=r:Zn.push.apply(Zn,r)}function M3(r){for(var t=r;;){if(t.flags&16384){var e=t.updateQueue;if(e!==null&&(e=e.stores,e!==null))for(var n=0;n<e.length;n++){var l=e[n],i=l.getSnapshot;l=l.value;try{if(!Zi(i(),l))return!1}catch{return!1}}}if(e=t.child,t.subtreeFlags&16384&&e!==null)e.return=t,t=e;else{if(t===r)break;for(;t.sibling===null;){if(t.return===null||t.return===r)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function So(r,t){for(t&=~zm,t&=~Zh,r.suspendedLanes|=t,r.pingedLanes&=~t,r=r.expirationTimes;0<t;){var e=31-Yi(t),n=1<<e;r[e]=-1,t&=~n}}function Gg(r){if(hr&6)throw Error(ft(327));jl();var t=ph(r,0);if(!(t&1))return ni(r,Xr()),null;var e=Rh(r,t);if(r.tag!==0&&e===2){var n=Qp(r);n!==0&&(t=n,e=E0(r,n))}if(e===1)throw e=kc,ba(r,0),So(r,t),ni(r,Xr()),e;if(e===6)throw Error(ft(345));return r.finishedWork=r.current.alternate,r.finishedLanes=t,aa(r,Zn,Os),ni(r,Xr()),null}function $m(r,t){var e=hr;hr|=1;try{return r(t)}finally{hr=e,hr===0&&(zl=Xr()+500,Kh&&Vo())}}function ka(r){Ao!==null&&Ao.tag===0&&!(hr&6)&&jl();var t=hr;hr|=1;var e=Ri.transition,n=yr;try{if(Ri.transition=null,yr=1,r)return r()}finally{yr=n,Ri.transition=e,hr=t,!(hr&6)&&Vo()}}function qm(){hi=xl.current,Rr(xl)}function ba(r,t){r.finishedWork=null,r.finishedLanes=0;var e=r.timeoutHandle;if(e!==-1&&(r.timeoutHandle=-1,c3(e)),sn!==null)for(e=sn.return;e!==null;){var n=e;switch(Sm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&vh();break;case 3:Bl(),Rr(ti),Rr(Ln),Rm();break;case 5:Nm(n);break;case 4:Bl();break;case 13:Rr(Fr);break;case 19:Rr(Fr);break;case 10:Em(n.type._context);break;case 22:case 23:qm()}e=e.return}if(gn=r,sn=r=Fo(r.current,null),_n=hi=t,cn=0,kc=null,zm=Zh=Sa=0,Zn=Qu=null,fa!==null){for(t=0;t<fa.length;t++)if(e=fa[t],n=e.interleaved,n!==null){e.interleaved=null;var l=n.next,i=e.pending;if(i!==null){var s=i.next;i.next=l,n.next=s}e.pending=n}fa=null}return r}function iv(r,t){do{var e=sn;try{if(Am(),Jd.current=jh,Eh){for(var n=Br.memoizedState;n!==null;){var l=n.queue;l!==null&&(l.pending=null),n=n.next}Eh=!1}if(_a=0,pn=un=Br=null,Ju=!1,xc=0,Dm.current=null,e===null||e.return===null){cn=1,kc=t,sn=null;break}e:{var i=r,s=e.return,u=e,a=t;if(t=_n,u.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var o=a,c=u,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=Mg(s);if(d!==null){d.flags&=-257,Lg(d,s,u,i,t),d.mode&1&&Ig(i,o,t),t=d,a=o;var y=t.updateQueue;if(y===null){var b=new Set;b.add(a),t.updateQueue=b}else y.add(a);break e}else{if(!(t&1)){Ig(i,o,t),Wm();break e}a=Error(ft(426))}}else if(Ir&&u.mode&1){var m=Mg(s);if(m!==null){!(m.flags&65536)&&(m.flags|=256),Lg(m,s,u,i,t),km(Dl(a,u));break e}}i=a=Dl(a,u),cn!==4&&(cn=2),Qu===null?Qu=[i]:Qu.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var g=Uy(i,a,t);Eg(i,g);break e;case 1:u=a;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Lo===null||!Lo.has(v)))){i.flags|=65536,t&=-t,i.lanes|=t;var C=$y(i,u,t);Eg(i,C);break e}}i=i.return}while(i!==null)}av(e)}catch(j){t=j,sn===e&&e!==null&&(sn=e=e.return);continue}break}while(!0)}function sv(){var r=Th.current;return Th.current=jh,r===null?jh:r}function Wm(){(cn===0||cn===3||cn===2)&&(cn=4),gn===null||!(Sa&268435455)&&!(Zh&268435455)||So(gn,_n)}function Rh(r,t){var e=hr;hr|=2;var n=sv();(gn!==r||_n!==t)&&(Os=null,ba(r,t));do try{L3();break}catch(l){iv(r,l)}while(!0);if(Am(),hr=e,Th.current=n,sn!==null)throw Error(ft(261));return gn=null,_n=0,cn}function L3(){for(;sn!==null;)ov(sn)}function O3(){for(;sn!==null&&!ax();)ov(sn)}function ov(r){var t=uv(r.alternate,r,hi);r.memoizedProps=r.pendingProps,t===null?av(r):sn=t,Dm.current=null}function av(r){var t=r;do{var e=t.alternate;if(r=t.return,t.flags&32768){if(e=T3(e,t),e!==null){e.flags&=32767,sn=e;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{cn=6,sn=null;return}}else if(e=j3(e,t,hi),e!==null){sn=e;return}if(t=t.sibling,t!==null){sn=t;return}sn=t=r}while(t!==null);cn===0&&(cn=5)}function aa(r,t,e){var n=yr,l=Ri.transition;try{Ri.transition=null,yr=1,F3(r,t,e,n)}finally{Ri.transition=l,yr=n}return null}function F3(r,t,e,n){do jl();while(Ao!==null);if(hr&6)throw Error(ft(327));e=r.finishedWork;var l=r.finishedLanes;if(e===null)return null;if(r.finishedWork=null,r.finishedLanes=0,e===r.current)throw Error(ft(177));r.callbackNode=null,r.callbackPriority=0;var i=e.lanes|e.childLanes;if(bx(r,i),r===gn&&(sn=gn=null,_n=0),!(e.subtreeFlags&2064)&&!(e.flags&2064)||Id||(Id=!0,cv(fh,function(){return jl(),null})),i=(e.flags&15990)!==0,e.subtreeFlags&15990||i){i=Ri.transition,Ri.transition=null;var s=yr;yr=1;var u=hr;hr|=4,Dm.current=null,N3(r,e),tv(e,r),n3(s0),mh=!!i0,s0=i0=null,r.current=e,R3(e),lx(),hr=u,yr=s,Ri.transition=i}else r.current=e;if(Id&&(Id=!1,Ao=r,Nh=l),i=r.pendingLanes,i===0&&(Lo=null),dx(e.stateNode),ni(r,Xr()),t!==null)for(n=r.onRecoverableError,e=0;e<t.length;e++)l=t[e],n(l.value,{componentStack:l.stack,digest:l.digest});if(Ph)throw Ph=!1,r=C0,C0=null,r;return Nh&1&&r.tag!==0&&jl(),i=r.pendingLanes,i&1?r===A0?ec++:(ec=0,A0=r):ec=0,Vo(),null}function jl(){if(Ao!==null){var r=Ub(Nh),t=Ri.transition,e=yr;try{if(Ri.transition=null,yr=16>r?16:r,Ao===null)var n=!1;else{if(r=Ao,Ao=null,Nh=0,hr&6)throw Error(ft(331));var l=hr;for(hr|=4,Pt=r.current;Pt!==null;){var i=Pt,s=i.child;if(Pt.flags&16){var u=i.deletions;if(u!==null){for(var a=0;a<u.length;a++){var o=u[a];for(Pt=o;Pt!==null;){var c=Pt;switch(c.tag){case 0:case 11:case 15:Zu(8,c,i)}var f=c.child;if(f!==null)f.return=c,Pt=f;else for(;Pt!==null;){c=Pt;var h=c.sibling,d=c.return;if(Zy(c),c===o){Pt=null;break}if(h!==null){h.return=d,Pt=h;break}Pt=d}}}var y=i.alternate;if(y!==null){var b=y.child;if(b!==null){y.child=null;do{var m=b.sibling;b.sibling=null,b=m}while(b!==null)}}Pt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,Pt=s;else e:for(;Pt!==null;){if(i=Pt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Zu(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,Pt=g;break e}Pt=i.return}}var p=r.current;for(Pt=p;Pt!==null;){s=Pt;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,Pt=v;else e:for(s=p;Pt!==null;){if(u=Pt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Jh(9,u)}}catch(j){qr(u,u.return,j)}if(u===s){Pt=null;break e}var C=u.sibling;if(C!==null){C.return=u.return,Pt=C;break e}Pt=u.return}}if(hr=l,Vo(),ms&&typeof ms.onPostCommitFiberRoot=="function")try{ms.onPostCommitFiberRoot(qh,r)}catch{}n=!0}return n}finally{yr=e,Ri.transition=t}}return!1}function Kg(r,t,e){t=Dl(e,t),t=Uy(r,t,1),r=Mo(r,t,1),t=Wn(),r!==null&&(Tc(r,1,t),ni(r,t))}function qr(r,t,e){if(r.tag===3)Kg(r,r,e);else for(;t!==null;){if(t.tag===3){Kg(t,r,e);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Lo===null||!Lo.has(n))){r=Dl(e,r),r=$y(t,r,1),t=Mo(t,r,1),r=Wn(),t!==null&&(Tc(t,1,r),ni(t,r));break}}t=t.return}}function B3(r,t,e){var n=r.pingCache;n!==null&&n.delete(t),t=Wn(),r.pingedLanes|=r.suspendedLanes&e,gn===r&&(_n&e)===e&&(cn===4||cn===3&&(_n&130023424)===_n&&500>Xr()-Um?ba(r,0):zm|=e),ni(r,t)}function lv(r,t){t===0&&(r.mode&1?(t=Sd,Sd<<=1,!(Sd&130023424)&&(Sd=4194304)):t=1);var e=Wn();r=Hs(r,t),r!==null&&(Tc(r,t,e),ni(r,e))}function D3(r){var t=r.memoizedState,e=0;t!==null&&(e=t.retryLane),lv(r,e)}function z3(r,t){var e=0;switch(r.tag){case 13:var n=r.stateNode,l=r.memoizedState;l!==null&&(e=l.retryLane);break;case 19:n=r.stateNode;break;default:throw Error(ft(314))}n!==null&&n.delete(t),lv(r,e)}var uv;uv=function(r,t,e){if(r!==null)if(r.memoizedProps!==t.pendingProps||ti.current)ei=!0;else{if(!(r.lanes&e)&&!(t.flags&128))return ei=!1,E3(r,t,e);ei=!!(r.flags&131072)}else ei=!1,Ir&&t.flags&1048576&&fy(t,_h,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Qd(r,t),r=t.pendingProps;var l=Ll(t,Ln.current);El(t,e),l=Mm(null,t,n,r,l,e);var i=Lm();return t.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ri(n)?(i=!0,wh(t)):i=!1,t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,Tm(t),l.updater=Yh,t.stateNode=l,l._reactInternals=t,p0(t,n,r,e),t=b0(null,t,n,!0,i,e)):(t.tag=0,Ir&&i&&_m(t),qn(null,t,l,e),t=t.child),t;case 16:n=t.elementType;e:{switch(Qd(r,t),r=t.pendingProps,l=n._init,n=l(n._payload),t.type=n,l=t.tag=$3(n),r=Hi(n,r),l){case 0:t=g0(null,t,n,r,e);break e;case 1:t=Bg(null,t,n,r,e);break e;case 11:t=Og(null,t,n,r,e);break e;case 14:t=Fg(null,t,n,Hi(n.type,r),e);break e}throw Error(ft(306,n,""))}return t;case 0:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Hi(n,l),g0(r,t,n,l,e);case 1:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Hi(n,l),Bg(r,t,n,l,e);case 3:e:{if(Vy(t),r===null)throw Error(ft(387));n=t.pendingProps,i=t.memoizedState,l=i.element,vy(r,t),Ch(t,n,null,e);var s=t.memoizedState;if(n=s.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){l=Dl(Error(ft(423)),t),t=Dg(r,t,n,e,l);break e}else if(n!==l){l=Dl(Error(ft(424)),t),t=Dg(r,t,n,e,l);break e}else for(fi=Io(t.stateNode.containerInfo.firstChild),mi=t,Ir=!0,Xi=null,e=by(t,null,n,e),t.child=e;e;)e.flags=e.flags&-3|4096,e=e.sibling;else{if(Ol(),n===l){t=Vs(r,t,e);break e}qn(r,t,n,e)}t=t.child}return t;case 5:return wy(t),r===null&&d0(t),n=t.type,l=t.pendingProps,i=r!==null?r.memoizedProps:null,s=l.children,o0(n,l)?s=null:i!==null&&o0(n,i)&&(t.flags|=32),Hy(r,t),qn(r,t,s,e),t.child;case 6:return r===null&&d0(t),null;case 13:return Gy(r,t,e);case 4:return Pm(t,t.stateNode.containerInfo),n=t.pendingProps,r===null?t.child=Fl(t,null,n,e):qn(r,t,n,e),t.child;case 11:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Hi(n,l),Og(r,t,n,l,e);case 7:return qn(r,t,t.pendingProps,e),t.child;case 8:return qn(r,t,t.pendingProps.children,e),t.child;case 12:return qn(r,t,t.pendingProps.children,e),t.child;case 10:e:{if(n=t.type._context,l=t.pendingProps,i=t.memoizedProps,s=l.value,Tr(Sh,n._currentValue),n._currentValue=s,i!==null)if(Zi(i.value,s)){if(i.children===l.children&&!ti.current){t=Vs(r,t,e);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var a=u.firstContext;a!==null;){if(a.context===n){if(i.tag===1){a=Us(-1,e&-e),a.tag=2;var o=i.updateQueue;if(o!==null){o=o.shared;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}}i.lanes|=e,a=i.alternate,a!==null&&(a.lanes|=e),h0(i.return,e,t),u.lanes|=e;break}a=a.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(ft(341));s.lanes|=e,u=s.alternate,u!==null&&(u.lanes|=e),h0(s,e,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}qn(r,t,l.children,e),t=t.child}return t;case 9:return l=t.type,n=t.pendingProps.children,El(t,e),l=Ii(l),n=n(l),t.flags|=1,qn(r,t,n,e),t.child;case 14:return n=t.type,l=Hi(n,t.pendingProps),l=Hi(n.type,l),Fg(r,t,n,l,e);case 15:return qy(r,t,t.type,t.pendingProps,e);case 17:return n=t.type,l=t.pendingProps,l=t.elementType===n?l:Hi(n,l),Qd(r,t),t.tag=1,ri(n)?(r=!0,wh(t)):r=!1,El(t,e),zy(t,n,l),p0(t,n,l,e),b0(null,t,n,!0,r,e);case 19:return Ky(r,t,e);case 22:return Wy(r,t,e)}throw Error(ft(156,t.tag))};function cv(r,t){return Fb(r,t)}function U3(r,t,e,n){this.tag=r,this.key=e,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(r,t,e,n){return new U3(r,t,e,n)}function Hm(r){return r=r.prototype,!(!r||!r.isReactComponent)}function $3(r){if(typeof r=="function")return Hm(r)?1:0;if(r!=null){if(r=r.$$typeof,r===cm)return 11;if(r===dm)return 14}return 2}function Fo(r,t){var e=r.alternate;return e===null?(e=Ni(r.tag,t,r.key,r.mode),e.elementType=r.elementType,e.type=r.type,e.stateNode=r.stateNode,e.alternate=r,r.alternate=e):(e.pendingProps=t,e.type=r.type,e.flags=0,e.subtreeFlags=0,e.deletions=null),e.flags=r.flags&14680064,e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},e.sibling=r.sibling,e.index=r.index,e.ref=r.ref,e}function rh(r,t,e,n,l,i){var s=2;if(n=r,typeof r=="function")Hm(r)&&(s=1);else if(typeof r=="string")s=5;else e:switch(r){case dl:return ya(e.children,l,i,t);case um:s=8,l|=8;break;case Bp:return r=Ni(12,e,t,l|2),r.elementType=Bp,r.lanes=i,r;case Dp:return r=Ni(13,e,t,l),r.elementType=Dp,r.lanes=i,r;case zp:return r=Ni(19,e,t,l),r.elementType=zp,r.lanes=i,r;case wb:return Qh(e,l,i,t);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case yb:s=10;break e;case vb:s=9;break e;case cm:s=11;break e;case dm:s=14;break e;case wo:s=16,n=null;break e}throw Error(ft(130,r==null?r:typeof r,""))}return t=Ni(s,e,t,l),t.elementType=r,t.type=n,t.lanes=i,t}function ya(r,t,e,n){return r=Ni(7,r,n,t),r.lanes=e,r}function Qh(r,t,e,n){return r=Ni(22,r,n,t),r.elementType=wb,r.lanes=e,r.stateNode={isHidden:!1},r}function fp(r,t,e){return r=Ni(6,r,null,t),r.lanes=e,r}function pp(r,t,e){return t=Ni(4,r.children!==null?r.children:[],r.key,t),t.lanes=e,t.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},t}function q3(r,t,e,n,l){this.tag=t,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Kf(0),this.expirationTimes=Kf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Kf(0),this.identifierPrefix=n,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function Vm(r,t,e,n,l,i,s,u,a){return r=new q3(r,t,e,u,a),t===1?(t=1,i===!0&&(t|=8)):t=0,i=Ni(3,null,null,t),r.current=i,i.stateNode=r,i.memoizedState={element:n,isDehydrated:e,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tm(i),r}function W3(r,t,e){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:cl,key:n==null?null:""+n,children:r,containerInfo:t,implementation:e}}function dv(r){if(!r)return zo;r=r._reactInternals;e:{if(Ea(r)!==r||r.tag!==1)throw Error(ft(170));var t=r;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(ft(171))}if(r.tag===1){var e=r.type;if(ri(e))return dy(r,e,t)}return t}function hv(r,t,e,n,l,i,s,u,a){return r=Vm(e,n,!0,r,l,i,s,u,a),r.context=dv(null),e=r.current,n=Wn(),l=Oo(e),i=Us(n,l),i.callback=t??null,Mo(e,i,l),r.current.lanes=l,Tc(r,l,n),ni(r,n),r}function ef(r,t,e,n){var l=t.current,i=Wn(),s=Oo(l);return e=dv(e),t.context===null?t.context=e:t.pendingContext=e,t=Us(i,s),t.payload={element:r},n=n===void 0?null:n,n!==null&&(t.callback=n),r=Mo(l,t,s),r!==null&&(Ji(r,l,s,i),Yd(r,l,s)),s}function Ih(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Xg(r,t){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var e=r.retryLane;r.retryLane=e!==0&&e<t?e:t}}function Gm(r,t){Xg(r,t),(r=r.alternate)&&Xg(r,t)}function H3(){return null}var fv=typeof reportError=="function"?reportError:function(r){console.error(r)};function Km(r){this._internalRoot=r}tf.prototype.render=Km.prototype.render=function(r){var t=this._internalRoot;if(t===null)throw Error(ft(409));ef(r,t,null,null)};tf.prototype.unmount=Km.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var t=r.containerInfo;ka(function(){ef(null,r,null,null)}),t[Ws]=null}};function tf(r){this._internalRoot=r}tf.prototype.unstable_scheduleHydration=function(r){if(r){var t=Wb();r={blockedOn:null,target:r,priority:t};for(var e=0;e<_o.length&&t!==0&&t<_o[e].priority;e++);_o.splice(e,0,r),e===0&&Vb(r)}};function Xm(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function rf(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Yg(){}function V3(r,t,e,n,l){if(l){if(typeof n=="function"){var i=n;n=function(){var o=Ih(s);i.call(o)}}var s=hv(t,n,r,0,null,!1,!1,"",Yg);return r._reactRootContainer=s,r[Ws]=s.current,gc(r.nodeType===8?r.parentNode:r),ka(),s}for(;l=r.lastChild;)r.removeChild(l);if(typeof n=="function"){var u=n;n=function(){var o=Ih(a);u.call(o)}}var a=Vm(r,0,!1,null,null,!1,!1,"",Yg);return r._reactRootContainer=a,r[Ws]=a.current,gc(r.nodeType===8?r.parentNode:r),ka(function(){ef(t,a,e,n)}),a}function nf(r,t,e,n,l){var i=e._reactRootContainer;if(i){var s=i;if(typeof l=="function"){var u=l;l=function(){var a=Ih(s);u.call(a)}}ef(t,s,r,l)}else s=V3(e,t,r,l,n);return Ih(s)}$b=function(r){switch(r.tag){case 3:var t=r.stateNode;if(t.current.memoizedState.isDehydrated){var e=zu(t.pendingLanes);e!==0&&(pm(t,e|1),ni(t,Xr()),!(hr&6)&&(zl=Xr()+500,Vo()))}break;case 13:ka(function(){var n=Hs(r,1);if(n!==null){var l=Wn();Ji(n,r,1,l)}}),Gm(r,1)}};mm=function(r){if(r.tag===13){var t=Hs(r,134217728);if(t!==null){var e=Wn();Ji(t,r,134217728,e)}Gm(r,134217728)}};qb=function(r){if(r.tag===13){var t=Oo(r),e=Hs(r,t);if(e!==null){var n=Wn();Ji(e,r,t,n)}Gm(r,t)}};Wb=function(){return yr};Hb=function(r,t){var e=yr;try{return yr=r,t()}finally{yr=e}};Yp=function(r,t,e){switch(t){case"input":if(qp(r,e),t=e.name,e.type==="radio"&&t!=null){for(e=r;e.parentNode;)e=e.parentNode;for(e=e.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<e.length;t++){var n=e[t];if(n!==r&&n.form===r.form){var l=Gh(n);if(!l)throw Error(ft(90));_b(n),qp(n,l)}}}break;case"textarea":kb(r,e);break;case"select":t=e.value,t!=null&&Sl(r,!!e.multiple,t,!1)}};Nb=$m;Rb=ka;var G3={usingClientEntryPoint:!1,Events:[Nc,ml,Gh,Tb,Pb,$m]},Nu={findFiberByHostInstance:ha,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},K3={bundleType:Nu.bundleType,version:Nu.version,rendererPackageName:Nu.rendererPackageName,rendererConfig:Nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xs.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Lb(r),r===null?null:r.stateNode},findFiberByHostInstance:Nu.findFiberByHostInstance||H3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{qh=Md.inject(K3),ms=Md}catch{}}bi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G3;bi.createPortal=function(r,t){var e=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Xm(t))throw Error(ft(200));return W3(r,t,null,e)};bi.createRoot=function(r,t){if(!Xm(r))throw Error(ft(299));var e=!1,n="",l=fv;return t!=null&&(t.unstable_strictMode===!0&&(e=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(l=t.onRecoverableError)),t=Vm(r,1,!1,null,null,e,!1,n,l),r[Ws]=t.current,gc(r.nodeType===8?r.parentNode:r),new Km(t)};bi.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var t=r._reactInternals;if(t===void 0)throw typeof r.render=="function"?Error(ft(188)):(r=Object.keys(r).join(","),Error(ft(268,r)));return r=Lb(t),r=r===null?null:r.stateNode,r};bi.flushSync=function(r){return ka(r)};bi.hydrate=function(r,t,e){if(!rf(t))throw Error(ft(200));return nf(null,r,t,!0,e)};bi.hydrateRoot=function(r,t,e){if(!Xm(r))throw Error(ft(405));var n=e!=null&&e.hydratedSources||null,l=!1,i="",s=fv;if(e!=null&&(e.unstable_strictMode===!0&&(l=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),t=hv(t,null,r,1,e??null,l,!1,i,s),r[Ws]=t.current,gc(r),n)for(r=0;r<n.length;r++)e=n[r],l=e._getVersion,l=l(e._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[e,l]:t.mutableSourceEagerHydrationData.push(e,l);return new tf(t)};bi.render=function(r,t,e){if(!rf(t))throw Error(ft(200));return nf(null,r,t,!1,e)};bi.unmountComponentAtNode=function(r){if(!rf(r))throw Error(ft(40));return r._reactRootContainer?(ka(function(){nf(null,null,r,!1,function(){r._reactRootContainer=null,r[Ws]=null})}),!0):!1};bi.unstable_batchedUpdates=$m;bi.unstable_renderSubtreeIntoContainer=function(r,t,e,n){if(!rf(e))throw Error(ft(200));if(r==null||r._reactInternals===void 0)throw Error(ft(38));return nf(r,t,e,!1,n)};bi.version="18.3.1-next-f1338f8080-20240426";function pv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pv)}catch(r){console.error(r)}}pv(),pb.exports=bi;var X3=pb.exports,Jg=X3;Op.createRoot=Jg.createRoot,Op.hydrateRoot=Jg.hydrateRoot;/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Zg="popstate";function Y3(r={}){function t(n,l){let{pathname:i,search:s,hash:u}=n.location;return T0("",{pathname:i,search:s,hash:u},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function e(n,l){return typeof l=="string"?l:Cc(l)}return Z3(t,e,null,r)}function Mr(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function Qi(r,t){if(!r){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function J3(){return Math.random().toString(36).substring(2,10)}function Qg(r,t){return{usr:r.state,key:r.key,idx:t}}function T0(r,t,e=null,n){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof t=="string"?Vl(t):t,state:e,key:t&&t.key||n||J3()}}function Cc({pathname:r="/",search:t="",hash:e=""}){return t&&t!=="?"&&(r+=t.charAt(0)==="?"?t:"?"+t),e&&e!=="#"&&(r+=e.charAt(0)==="#"?e:"#"+e),r}function Vl(r){let t={};if(r){let e=r.indexOf("#");e>=0&&(t.hash=r.substring(e),r=r.substring(0,e));let n=r.indexOf("?");n>=0&&(t.search=r.substring(n),r=r.substring(0,n)),r&&(t.pathname=r)}return t}function Z3(r,t,e,n={}){let{window:l=document.defaultView,v5Compat:i=!1}=n,s=l.history,u="POP",a=null,o=c();o==null&&(o=0,s.replaceState({...s.state,idx:o},""));function c(){return(s.state||{idx:null}).idx}function f(){u="POP";let m=c(),g=m==null?null:m-o;o=m,a&&a({action:u,location:b.location,delta:g})}function h(m,g){u="PUSH";let p=T0(b.location,m,g);o=c()+1;let v=Qg(p,o),C=b.createHref(p);try{s.pushState(v,"",C)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;l.location.assign(C)}i&&a&&a({action:u,location:b.location,delta:1})}function d(m,g){u="REPLACE";let p=T0(b.location,m,g);o=c();let v=Qg(p,o),C=b.createHref(p);s.replaceState(v,"",C),i&&a&&a({action:u,location:b.location,delta:0})}function y(m){return Q3(m)}let b={get action(){return u},get location(){return r(l,s)},listen(m){if(a)throw new Error("A history only accepts one active listener");return l.addEventListener(Zg,f),a=m,()=>{l.removeEventListener(Zg,f),a=null}},createHref(m){return t(l,m)},createURL:y,encodeLocation(m){let g=y(m);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:h,replace:d,go(m){return s.go(m)}};return b}function Q3(r,t=!1){let e="http://localhost";typeof window<"u"&&(e=window.location.origin!=="null"?window.location.origin:window.location.href),Mr(e,"No window.location.(origin|href) available to create URL");let n=typeof r=="string"?r:Cc(r);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=e+n),new URL(n,e)}function mv(r,t,e="/"){return e4(r,t,e,!1)}function e4(r,t,e,n){let l=typeof t=="string"?Vl(t):t,i=Gs(l.pathname||"/",e);if(i==null)return null;let s=gv(r);t4(s);let u=null;for(let a=0;u==null&&a<s.length;++a){let o=h4(i);u=c4(s[a],o,n)}return u}function gv(r,t=[],e=[],n="",l=!1){let i=(s,u,a=l,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&a)return;Mr(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let f=$s([n,c.relativePath]),h=e.concat(c);s.children&&s.children.length>0&&(Mr(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),gv(s.children,t,h,f,a)),!(s.path==null&&!s.index)&&t.push({path:f,score:l4(f,s.index),routesMeta:h})};return r.forEach((s,u)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,u);else for(let o of bv(s.path))i(s,u,!0,o)}),t}function bv(r){let t=r.split("/");if(t.length===0)return[];let[e,...n]=t,l=e.endsWith("?"),i=e.replace(/\?$/,"");if(n.length===0)return l?[i,""]:[i];let s=bv(n.join("/")),u=[];return u.push(...s.map(a=>a===""?i:[i,a].join("/"))),l&&u.push(...s),u.map(a=>r.startsWith("/")&&a===""?"/":a)}function t4(r){r.sort((t,e)=>t.score!==e.score?e.score-t.score:u4(t.routesMeta.map(n=>n.childrenIndex),e.routesMeta.map(n=>n.childrenIndex)))}var r4=/^:[\w-]+$/,n4=3,i4=2,s4=1,o4=10,a4=-2,e2=r=>r==="*";function l4(r,t){let e=r.split("/"),n=e.length;return e.some(e2)&&(n+=a4),t&&(n+=i4),e.filter(l=>!e2(l)).reduce((l,i)=>l+(r4.test(i)?n4:i===""?s4:o4),n)}function u4(r,t){return r.length===t.length&&r.slice(0,-1).every((n,l)=>n===t[l])?r[r.length-1]-t[t.length-1]:0}function c4(r,t,e=!1){let{routesMeta:n}=r,l={},i="/",s=[];for(let u=0;u<n.length;++u){let a=n[u],o=u===n.length-1,c=i==="/"?t:t.slice(i.length)||"/",f=Mh({path:a.relativePath,caseSensitive:a.caseSensitive,end:o},c),h=a.route;if(!f&&o&&e&&!n[n.length-1].route.index&&(f=Mh({path:a.relativePath,caseSensitive:a.caseSensitive,end:!1},c)),!f)return null;Object.assign(l,f.params),s.push({params:l,pathname:$s([i,f.pathname]),pathnameBase:g4($s([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=$s([i,f.pathnameBase]))}return s}function Mh(r,t){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[e,n]=d4(r.path,r.caseSensitive,r.end),l=t.match(e);if(!l)return null;let i=l[0],s=i.replace(/(.)\/+$/,"$1"),u=l.slice(1);return{params:n.reduce((o,{paramName:c,isOptional:f},h)=>{if(c==="*"){let y=u[h]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const d=u[h];return f&&!d?o[c]=void 0:o[c]=(d||"").replace(/%2F/g,"/"),o},{}),pathname:i,pathnameBase:s,pattern:r}}function d4(r,t=!1,e=!0){Qi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let n=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,a)=>(n.push({paramName:u,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(n.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):e?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,t?void 0:"i"),n]}function h4(r){try{return r.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Qi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),r}}function Gs(r,t){if(t==="/")return r;if(!r.toLowerCase().startsWith(t.toLowerCase()))return null;let e=t.endsWith("/")?t.length-1:t.length,n=r.charAt(e);return n&&n!=="/"?null:r.slice(e)||"/"}function f4(r,t="/"){let{pathname:e,search:n="",hash:l=""}=typeof r=="string"?Vl(r):r;return{pathname:e?e.startsWith("/")?e:p4(e,t):t,search:b4(n),hash:y4(l)}}function p4(r,t){let e=t.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?e.length>1&&e.pop():l!=="."&&e.push(l)}),e.length>1?e.join("/"):"/"}function mp(r,t,e,n){return`Cannot include a '${r}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${e}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function m4(r){return r.filter((t,e)=>e===0||t.route.path&&t.route.path.length>0)}function Ym(r){let t=m4(r);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Jm(r,t,e,n=!1){let l;typeof r=="string"?l=Vl(r):(l={...r},Mr(!l.pathname||!l.pathname.includes("?"),mp("?","pathname","search",l)),Mr(!l.pathname||!l.pathname.includes("#"),mp("#","pathname","hash",l)),Mr(!l.search||!l.search.includes("#"),mp("#","search","hash",l)));let i=r===""||l.pathname==="",s=i?"/":l.pathname,u;if(s==null)u=e;else{let f=t.length-1;if(!n&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;l.pathname=h.join("/")}u=f>=0?t[f]:"/"}let a=f4(l,u),o=s&&s!=="/"&&s.endsWith("/"),c=(i||s===".")&&e.endsWith("/");return!a.pathname.endsWith("/")&&(o||c)&&(a.pathname+="/"),a}var $s=r=>r.join("/").replace(/\/\/+/g,"/"),g4=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),b4=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,y4=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function v4(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var yv=["POST","PUT","PATCH","DELETE"];new Set(yv);var w4=["GET",...yv];new Set(w4);var Gl=me.createContext(null);Gl.displayName="DataRouter";var sf=me.createContext(null);sf.displayName="DataRouterState";me.createContext(!1);var vv=me.createContext({isTransitioning:!1});vv.displayName="ViewTransition";var x4=me.createContext(new Map);x4.displayName="Fetchers";var _4=me.createContext(null);_4.displayName="Await";var es=me.createContext(null);es.displayName="Navigation";var Ic=me.createContext(null);Ic.displayName="Location";var vs=me.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var Zm=me.createContext(null);Zm.displayName="RouteError";function S4(r,{relative:t}={}){Mr(Kl(),"useHref() may be used only in the context of a <Router> component.");let{basename:e,navigator:n}=me.useContext(es),{hash:l,pathname:i,search:s}=Mc(r,{relative:t}),u=i;return e!=="/"&&(u=i==="/"?e:$s([e,i])),n.createHref({pathname:u,search:s,hash:l})}function Kl(){return me.useContext(Ic)!=null}function Li(){return Mr(Kl(),"useLocation() may be used only in the context of a <Router> component."),me.useContext(Ic).location}var wv="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xv(r){me.useContext(es).static||me.useLayoutEffect(r)}function On(){let{isDataRoute:r}=me.useContext(vs);return r?O4():k4()}function k4(){Mr(Kl(),"useNavigate() may be used only in the context of a <Router> component.");let r=me.useContext(Gl),{basename:t,navigator:e}=me.useContext(es),{matches:n}=me.useContext(vs),{pathname:l}=Li(),i=JSON.stringify(Ym(n)),s=me.useRef(!1);return xv(()=>{s.current=!0}),me.useCallback((a,o={})=>{if(Qi(s.current,wv),!s.current)return;if(typeof a=="number"){e.go(a);return}let c=Jm(a,JSON.parse(i),l,o.relative==="path");r==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:$s([t,c.pathname])),(o.replace?e.replace:e.push)(c,o.state,o)},[t,e,i,l,r])}me.createContext(null);function Mc(r,{relative:t}={}){let{matches:e}=me.useContext(vs),{pathname:n}=Li(),l=JSON.stringify(Ym(e));return me.useMemo(()=>Jm(r,JSON.parse(l),n,t==="path"),[r,l,n,t])}function C4(r,t){return _v(r,t)}function _v(r,t,e,n,l){var p;Mr(Kl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=me.useContext(es),{matches:s}=me.useContext(vs),u=s[s.length-1],a=u?u.params:{},o=u?u.pathname:"/",c=u?u.pathnameBase:"/",f=u&&u.route;{let v=f&&f.path||"";Sv(o,!f||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${o}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let h=Li(),d;if(t){let v=typeof t=="string"?Vl(t):t;Mr(c==="/"||((p=v.pathname)==null?void 0:p.startsWith(c)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${c}" but pathname "${v.pathname}" was given in the \`location\` prop.`),d=v}else d=h;let y=d.pathname||"/",b=y;if(c!=="/"){let v=c.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=mv(r,{pathname:b});Qi(f||m!=null,`No routes matched location "${d.pathname}${d.search}${d.hash}" `),Qi(m==null||m[m.length-1].route.element!==void 0||m[m.length-1].route.Component!==void 0||m[m.length-1].route.lazy!==void 0,`Matched leaf route at location "${d.pathname}${d.search}${d.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let g=P4(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},a,v.params),pathname:$s([c,i.encodeLocation?i.encodeLocation(v.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?c:$s([c,i.encodeLocation?i.encodeLocation(v.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:v.pathnameBase])})),s,e,n,l);return t&&g?me.createElement(Ic.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...d},navigationType:"POP"}},g):g}function A4(){let r=L4(),t=v4(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),e=r instanceof Error?r.stack:null,n="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",r),s=me.createElement(me.Fragment,null,me.createElement("p",null," Hey developer "),me.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",me.createElement("code",{style:i},"ErrorBoundary")," or"," ",me.createElement("code",{style:i},"errorElement")," prop on your route.")),me.createElement(me.Fragment,null,me.createElement("h2",null,"Unexpected Application Error!"),me.createElement("h3",{style:{fontStyle:"italic"}},t),e?me.createElement("pre",{style:l},e):null,s)}var E4=me.createElement(A4,null),j4=class extends me.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,t){return t.location!==r.location||t.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:t.error,location:t.location,revalidation:r.revalidation||t.revalidation}}componentDidCatch(r,t){this.props.unstable_onError?this.props.unstable_onError(r,t):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?me.createElement(vs.Provider,{value:this.props.routeContext},me.createElement(Zm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function T4({routeContext:r,match:t,children:e}){let n=me.useContext(Gl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),me.createElement(vs.Provider,{value:r},e)}function P4(r,t=[],e=null,n=null,l=null){if(r==null){if(!e)return null;if(e.errors)r=e.matches;else if(t.length===0&&!e.initialized&&e.matches.length>0)r=e.matches;else return null}let i=r,s=e==null?void 0:e.errors;if(s!=null){let o=i.findIndex(c=>c.route.id&&(s==null?void 0:s[c.route.id])!==void 0);Mr(o>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,o+1))}let u=!1,a=-1;if(e)for(let o=0;o<i.length;o++){let c=i[o];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=o),c.route.id){let{loaderData:f,errors:h}=e,d=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!h||h[c.route.id]===void 0);if(c.route.lazy||d){u=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((o,c,f)=>{let h,d=!1,y=null,b=null;e&&(h=s&&c.route.id?s[c.route.id]:void 0,y=c.route.errorElement||E4,u&&(a<0&&f===0?(Sv("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,b=null):a===f&&(d=!0,b=c.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,f+1)),g=()=>{let p;return h?p=y:d?p=b:c.route.Component?p=me.createElement(c.route.Component,null):c.route.element?p=c.route.element:p=o,me.createElement(T4,{match:c,routeContext:{outlet:o,matches:m,isDataRoute:e!=null},children:p})};return e&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?me.createElement(j4,{location:e.location,revalidation:e.revalidation,component:y,error:h,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:n}):g()},null)}function Qm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function N4(r){let t=me.useContext(Gl);return Mr(t,Qm(r)),t}function R4(r){let t=me.useContext(sf);return Mr(t,Qm(r)),t}function I4(r){let t=me.useContext(vs);return Mr(t,Qm(r)),t}function e1(r){let t=I4(r),e=t.matches[t.matches.length-1];return Mr(e.route.id,`${r} can only be used on routes that contain a unique "id"`),e.route.id}function M4(){return e1("useRouteId")}function L4(){var n;let r=me.useContext(Zm),t=R4("useRouteError"),e=e1("useRouteError");return r!==void 0?r:(n=t.errors)==null?void 0:n[e]}function O4(){let{router:r}=N4("useNavigate"),t=e1("useNavigate"),e=me.useRef(!1);return xv(()=>{e.current=!0}),me.useCallback(async(l,i={})=>{Qi(e.current,wv),e.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:t,...i}))},[r,t])}var t2={};function Sv(r,t,e){!t&&!t2[r]&&(t2[r]=!0,Qi(!1,e))}me.memo(F4);function F4({routes:r,future:t,state:e,unstable_onError:n}){return _v(r,void 0,e,n,t)}function B4({to:r,replace:t,state:e,relative:n}){Mr(Kl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=me.useContext(es);Qi(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=me.useContext(vs),{pathname:s}=Li(),u=On(),a=Jm(r,Ym(i),s,n==="path"),o=JSON.stringify(a);return me.useEffect(()=>{u(JSON.parse(o),{replace:t,state:e,relative:n})},[u,o,n,t,e]),null}function wn(r){Mr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function D4({basename:r="/",children:t=null,location:e,navigationType:n="POP",navigator:l,static:i=!1}){Mr(!Kl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=r.replace(/^\/*/,"/"),u=me.useMemo(()=>({basename:s,navigator:l,static:i,future:{}}),[s,l,i]);typeof e=="string"&&(e=Vl(e));let{pathname:a="/",search:o="",hash:c="",state:f=null,key:h="default"}=e,d=me.useMemo(()=>{let y=Gs(a,s);return y==null?null:{location:{pathname:y,search:o,hash:c,state:f,key:h},navigationType:n}},[s,a,o,c,f,h,n]);return Qi(d!=null,`<Router basename="${s}"> is not able to match the URL "${a}${o}${c}" because it does not start with the basename, so the <Router> won't render anything.`),d==null?null:me.createElement(es.Provider,{value:u},me.createElement(Ic.Provider,{children:t,value:d}))}function z4({children:r,location:t}){return C4(P0(r),t)}function P0(r,t=[]){let e=[];return me.Children.forEach(r,(n,l)=>{if(!me.isValidElement(n))return;let i=[...t,l];if(n.type===me.Fragment){e.push.apply(e,P0(n.props.children,i));return}Mr(n.type===wn,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Mr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=P0(n.props.children,i)),e.push(s)}),e}var nh="get",ih="application/x-www-form-urlencoded";function of(r){return r!=null&&typeof r.tagName=="string"}function U4(r){return of(r)&&r.tagName.toLowerCase()==="button"}function $4(r){return of(r)&&r.tagName.toLowerCase()==="form"}function q4(r){return of(r)&&r.tagName.toLowerCase()==="input"}function W4(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function H4(r,t){return r.button===0&&(!t||t==="_self")&&!W4(r)}var Ld=null;function V4(){if(Ld===null)try{new FormData(document.createElement("form"),0),Ld=!1}catch{Ld=!0}return Ld}var G4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gp(r){return r!=null&&!G4.has(r)?(Qi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):r}function K4(r,t){let e,n,l,i,s;if($4(r)){let u=r.getAttribute("action");n=u?Gs(u,t):null,e=r.getAttribute("method")||nh,l=gp(r.getAttribute("enctype"))||ih,i=new FormData(r)}else if(U4(r)||q4(r)&&(r.type==="submit"||r.type==="image")){let u=r.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=r.getAttribute("formaction")||u.getAttribute("action");if(n=a?Gs(a,t):null,e=r.getAttribute("formmethod")||u.getAttribute("method")||nh,l=gp(r.getAttribute("formenctype"))||gp(u.getAttribute("enctype"))||ih,i=new FormData(u,r),!V4()){let{name:o,type:c,value:f}=r;if(c==="image"){let h=o?`${o}.`:"";i.append(`${h}x`,"0"),i.append(`${h}y`,"0")}else o&&i.append(o,f)}}else{if(of(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');e=nh,n=null,l=ih,s=r}return i&&l==="text/plain"&&(s=i,i=void 0),{action:n,method:e.toLowerCase(),encType:l,formData:i,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function t1(r,t){if(r===!1||r===null||typeof r>"u")throw new Error(t)}function X4(r,t,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname=`_root.${e}`:t&&Gs(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${e}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${e}`,n}async function Y4(r,t){if(r.id in t)return t[r.id];try{let e=await import(r.module);return t[r.id]=e,e}catch(e){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(e),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function J4(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Z4(r,t,e){let n=await Promise.all(r.map(async l=>{let i=t.routes[l.route.id];if(i){let s=await Y4(i,e);return s.links?s.links():[]}return[]}));return r6(n.flat(1).filter(J4).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function r2(r,t,e,n,l,i){let s=(a,o)=>e[o]?a.route.id!==e[o].route.id:!0,u=(a,o)=>{var c;return e[o].pathname!==a.pathname||((c=e[o].route.path)==null?void 0:c.endsWith("*"))&&e[o].params["*"]!==a.params["*"]};return i==="assets"?t.filter((a,o)=>s(a,o)||u(a,o)):i==="data"?t.filter((a,o)=>{var f;let c=n.routes[a.route.id];if(!c||!c.hasLoader)return!1;if(s(a,o)||u(a,o))return!0;if(a.route.shouldRevalidate){let h=a.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:((f=e[0])==null?void 0:f.params)||{},nextUrl:new URL(r,window.origin),nextParams:a.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Q4(r,t,{includeHydrateFallback:e}={}){return e6(r.map(n=>{let l=t.routes[n.route.id];if(!l)return[];let i=[l.module];return l.clientActionModule&&(i=i.concat(l.clientActionModule)),l.clientLoaderModule&&(i=i.concat(l.clientLoaderModule)),e&&l.hydrateFallbackModule&&(i=i.concat(l.hydrateFallbackModule)),l.imports&&(i=i.concat(l.imports)),i}).flat(1))}function e6(r){return[...new Set(r)]}function t6(r){let t={},e=Object.keys(r).sort();for(let n of e)t[n]=r[n];return t}function r6(r,t){let e=new Set;return new Set(t),r.reduce((n,l)=>{let i=JSON.stringify(t6(l));return e.has(i)||(e.add(i),n.push({key:i,link:l})),n},[])}function kv(){let r=me.useContext(Gl);return t1(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function n6(){let r=me.useContext(sf);return t1(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var r1=me.createContext(void 0);r1.displayName="FrameworkContext";function Cv(){let r=me.useContext(r1);return t1(r,"You must render this element inside a <HydratedRouter> element"),r}function i6(r,t){let e=me.useContext(r1),[n,l]=me.useState(!1),[i,s]=me.useState(!1),{onFocus:u,onBlur:a,onMouseEnter:o,onMouseLeave:c,onTouchStart:f}=t,h=me.useRef(null);me.useEffect(()=>{if(r==="render"&&s(!0),r==="viewport"){let b=g=>{g.forEach(p=>{s(p.isIntersecting)})},m=new IntersectionObserver(b,{threshold:.5});return h.current&&m.observe(h.current),()=>{m.disconnect()}}},[r]),me.useEffect(()=>{if(n){let b=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(b)}}},[n]);let d=()=>{l(!0)},y=()=>{l(!1),s(!1)};return e?r!=="intent"?[i,h,{}]:[i,h,{onFocus:Ru(u,d),onBlur:Ru(a,y),onMouseEnter:Ru(o,d),onMouseLeave:Ru(c,y),onTouchStart:Ru(f,d)}]:[!1,h,{}]}function Ru(r,t){return e=>{r&&r(e),e.defaultPrevented||t(e)}}function s6({page:r,...t}){let{router:e}=kv(),n=me.useMemo(()=>mv(e.routes,r,e.basename),[e.routes,r,e.basename]);return n?me.createElement(a6,{page:r,matches:n,...t}):null}function o6(r){let{manifest:t,routeModules:e}=Cv(),[n,l]=me.useState([]);return me.useEffect(()=>{let i=!1;return Z4(r,t,e).then(s=>{i||l(s)}),()=>{i=!0}},[r,t,e]),n}function a6({page:r,matches:t,...e}){let n=Li(),{manifest:l,routeModules:i}=Cv(),{basename:s}=kv(),{loaderData:u,matches:a}=n6(),o=me.useMemo(()=>r2(r,t,a,l,n,"data"),[r,t,a,l,n]),c=me.useMemo(()=>r2(r,t,a,l,n,"assets"),[r,t,a,l,n]),f=me.useMemo(()=>{if(r===n.pathname+n.search+n.hash)return[];let y=new Set,b=!1;if(t.forEach(g=>{var v;let p=l.routes[g.route.id];!p||!p.hasLoader||(!o.some(C=>C.route.id===g.route.id)&&g.route.id in u&&((v=i[g.route.id])!=null&&v.shouldRevalidate)||p.hasClientLoader?b=!0:y.add(g.route.id))}),y.size===0)return[];let m=X4(r,s,"data");return b&&y.size>0&&m.searchParams.set("_routes",t.filter(g=>y.has(g.route.id)).map(g=>g.route.id).join(",")),[m.pathname+m.search]},[s,u,n,l,o,t,r,i]),h=me.useMemo(()=>Q4(c,l),[c,l]),d=o6(c);return me.createElement(me.Fragment,null,f.map(y=>me.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...e})),h.map(y=>me.createElement("link",{key:y,rel:"modulepreload",href:y,...e})),d.map(({key:y,link:b})=>me.createElement("link",{key:y,nonce:e.nonce,...b})))}function l6(...r){return t=>{r.forEach(e=>{typeof e=="function"?e(t):e!=null&&(e.current=t)})}}var Av=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Av&&(window.__reactRouterVersion="7.9.3")}catch{}function u6({basename:r,children:t,window:e}){let n=me.useRef();n.current==null&&(n.current=Y3({window:e,v5Compat:!0}));let l=n.current,[i,s]=me.useState({action:l.action,location:l.location}),u=me.useCallback(a=>{me.startTransition(()=>s(a))},[s]);return me.useLayoutEffect(()=>l.listen(u),[l,u]),me.createElement(D4,{basename:r,children:t,location:i.location,navigationType:i.action,navigator:l})}var Ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,jv=me.forwardRef(function({onClick:t,discover:e="render",prefetch:n="none",relative:l,reloadDocument:i,replace:s,state:u,target:a,to:o,preventScrollReset:c,viewTransition:f,...h},d){let{basename:y}=me.useContext(es),b=typeof o=="string"&&Ev.test(o),m,g=!1;if(typeof o=="string"&&b&&(m=o,Av))try{let z=new URL(window.location.href),H=o.startsWith("//")?new URL(z.protocol+o):new URL(o),q=Gs(H.pathname,y);H.origin===z.origin&&q!=null?o=q+H.search+H.hash:g=!0}catch{Qi(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let p=S4(o,{relative:l}),[v,C,j]=i6(n,h),L=f6(o,{replace:s,state:u,target:a,preventScrollReset:c,relative:l,viewTransition:f});function $(z){t&&t(z),z.defaultPrevented||L(z)}let M=me.createElement("a",{...h,...j,href:m||p,onClick:g||i?t:$,ref:l6(d,C),target:a,"data-discover":!b&&e==="render"?"true":void 0});return v&&!b?me.createElement(me.Fragment,null,M,me.createElement(s6,{page:p})):M});jv.displayName="Link";var c6=me.forwardRef(function({"aria-current":t="page",caseSensitive:e=!1,className:n="",end:l=!1,style:i,to:s,viewTransition:u,children:a,...o},c){let f=Mc(s,{relative:o.relative}),h=Li(),d=me.useContext(sf),{navigator:y,basename:b}=me.useContext(es),m=d!=null&&y6(f)&&u===!0,g=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,p=h.pathname,v=d&&d.navigation&&d.navigation.location?d.navigation.location.pathname:null;e||(p=p.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&b&&(v=Gs(v,b)||v);const C=g!=="/"&&g.endsWith("/")?g.length-1:g.length;let j=p===g||!l&&p.startsWith(g)&&p.charAt(C)==="/",L=v!=null&&(v===g||!l&&v.startsWith(g)&&v.charAt(g.length)==="/"),$={isActive:j,isPending:L,isTransitioning:m},M=j?t:void 0,z;typeof n=="function"?z=n($):z=[n,j?"active":null,L?"pending":null,m?"transitioning":null].filter(Boolean).join(" ");let H=typeof i=="function"?i($):i;return me.createElement(jv,{...o,"aria-current":M,className:z,ref:c,style:H,to:s,viewTransition:u},typeof a=="function"?a($):a)});c6.displayName="NavLink";var d6=me.forwardRef(({discover:r="render",fetcherKey:t,navigate:e,reloadDocument:n,replace:l,state:i,method:s=nh,action:u,onSubmit:a,relative:o,preventScrollReset:c,viewTransition:f,...h},d)=>{let y=g6(),b=b6(u,{relative:o}),m=s.toLowerCase()==="get"?"get":"post",g=typeof u=="string"&&Ev.test(u),p=v=>{if(a&&a(v),v.defaultPrevented)return;v.preventDefault();let C=v.nativeEvent.submitter,j=(C==null?void 0:C.getAttribute("formmethod"))||s;y(C||v.currentTarget,{fetcherKey:t,method:j,navigate:e,replace:l,state:i,relative:o,preventScrollReset:c,viewTransition:f})};return me.createElement("form",{ref:d,method:m,action:b,onSubmit:n?a:p,...h,"data-discover":!g&&r==="render"?"true":void 0})});d6.displayName="Form";function h6(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Tv(r){let t=me.useContext(Gl);return Mr(t,h6(r)),t}function f6(r,{target:t,replace:e,state:n,preventScrollReset:l,relative:i,viewTransition:s}={}){let u=On(),a=Li(),o=Mc(r,{relative:i});return me.useCallback(c=>{if(H4(c,t)){c.preventDefault();let f=e!==void 0?e:Cc(a)===Cc(o);u(r,{replace:f,state:n,preventScrollReset:l,relative:i,viewTransition:s})}},[a,u,o,e,n,t,r,l,i,s])}var p6=0,m6=()=>`__${String(++p6)}__`;function g6(){let{router:r}=Tv("useSubmit"),{basename:t}=me.useContext(es),e=M4();return me.useCallback(async(n,l={})=>{let{action:i,method:s,encType:u,formData:a,body:o}=K4(n,t);if(l.navigate===!1){let c=l.fetcherKey||m6();await r.fetch(c,e,l.action||i,{preventScrollReset:l.preventScrollReset,formData:a,body:o,formMethod:l.method||s,formEncType:l.encType||u,flushSync:l.flushSync})}else await r.navigate(l.action||i,{preventScrollReset:l.preventScrollReset,formData:a,body:o,formMethod:l.method||s,formEncType:l.encType||u,replace:l.replace,state:l.state,fromRouteId:e,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,t,e])}function b6(r,{relative:t}={}){let{basename:e}=me.useContext(es),n=me.useContext(vs);Mr(n,"useFormAction must be used inside a RouteContext");let[l]=n.matches.slice(-1),i={...Mc(r||".",{relative:t})},s=Li();if(r==null){i.search=s.search;let u=new URLSearchParams(i.search),a=u.getAll("index");if(a.some(c=>c==="")){u.delete("index"),a.filter(f=>f).forEach(f=>u.append("index",f));let c=u.toString();i.search=c?`?${c}`:""}}return(!r||r===".")&&l.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),e!=="/"&&(i.pathname=i.pathname==="/"?e:$s([e,i.pathname])),Cc(i)}function y6(r,{relative:t}={}){let e=me.useContext(vv);Mr(e!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Tv("useViewTransitionState"),l=Mc(r,{relative:t});if(!e.isTransitioning)return!1;let i=Gs(e.currentLocation.pathname,n)||e.currentLocation.pathname,s=Gs(e.nextLocation.pathname,n)||e.nextLocation.pathname;return Mh(l.pathname,s)!=null||Mh(l.pathname,i)!=null}const v6="modulepreload",w6=function(r){return"/"+r},n2={},Ks=function(t,e,n){let l=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));l=Promise.allSettled(e.map(a=>{if(a=w6(a),a in n2)return;n2[a]=!0;const o=a.endsWith(".css"),c=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${c}`))return;const f=document.createElement("link");if(f.rel=o?"stylesheet":v6,o||(f.as="script"),f.crossOrigin="",f.href=a,u&&f.setAttribute("nonce",u),document.head.appendChild(f),o)return new Promise((h,d)=>{f.addEventListener("load",h),f.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${a}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return l.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})};function x6(r={}){const{immediate:t=!1,onNeedRefresh:e,onOfflineReady:n,onRegistered:l,onRegisteredSW:i,onRegisterError:s}=r;let u,a;const o=async(f=!0)=>{await a};async function c(){if("serviceWorker"in navigator){if(u=await Ks(async()=>{const{Workbox:f}=await import("./workbox-window.prod.es5-B9K5rw8f.js");return{Workbox:f}},[]).then(({Workbox:f})=>new f("/sw.js",{scope:"/",type:"classic"})).catch(f=>{s==null||s(f)}),!u)return;u.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),u.addEventListener("installed",f=>{f.isUpdate||n==null||n()}),u.register({immediate:t}).then(f=>{i?i("/sw.js",f):l==null||l(f)}).catch(f=>{s==null||s(f)})}}return a=c(),o}const Pv=me.createContext(void 0),_6=({children:r})=>{const[t,e]=me.useState(null),[n,l]=me.useState(null),[i,s]=me.useState(null),[u,a]=me.useState(!0);me.useEffect(()=>{const c=localStorage.getItem("currentUser"),f=localStorage.getItem("selectedPlant"),h=localStorage.getItem("selectedLine");if(c)try{const d=JSON.parse(c);e(d.username||c)}catch{e(c)}f&&l(f),h&&s(h),a(!1)},[]),me.useEffect(()=>{n?localStorage.setItem("selectedPlant",n):localStorage.removeItem("selectedPlant")},[n]),me.useEffect(()=>{i?localStorage.setItem("selectedLine",i):localStorage.removeItem("selectedLine")},[i]);const o=()=>{e(null),l(null),s(null),localStorage.clear()};return R.jsx(Pv.Provider,{value:{currentUser:t,selectedPlant:n,selectedLine:i,isLoading:u,setCurrentUser:e,setSelectedPlant:l,setSelectedLine:s,logout:o},children:r})},Lc=()=>{const r=me.useContext(Pv);if(r===void 0)throw new Error("useApp must be used within an AppProvider");return r};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S6={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k6=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Sr=(r,t)=>{const e=me.forwardRef(({color:n="currentColor",size:l=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:u="",children:a,...o},c)=>me.createElement("svg",{ref:c,...S6,width:l,height:l,stroke:n,strokeWidth:s?Number(i)*24/Number(l):i,className:["lucide",`lucide-${k6(r)}`,u].join(" "),...o},[...t.map(([f,h])=>me.createElement(f,h)),...Array.isArray(a)?a:[a]]));return e.displayName=`${r}`,e};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=Sr("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Sr("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C6=Sr("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nv=Sr("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rv=Sr("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A6=Sr("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E6=Sr("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j6=Sr("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Sr("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T6=Sr("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P6=Sr("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=Sr("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N6=Sr("Factory",[["path",{d:"M2 20a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8l-7 5V8l-7 5V4a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"159hny"}],["path",{d:"M17 18h1",key:"uldtlt"}],["path",{d:"M12 18h1",key:"s9uhes"}],["path",{d:"M7 18h1",key:"1neino"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R6=Sr("FileCheck",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=Sr("FileDown",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $u=Sr("FileEdit",[["path",{d:"M4 13.5V4a2 2 0 0 1 2-2h8.5L20 7.5V20a2 2 0 0 1-2 2h-5.5",key:"1bg6eb"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M10.42 12.61a2.1 2.1 0 1 1 2.97 2.97L7.95 21 4 22l.99-3.95 5.43-5.44Z",key:"1rgxu8"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iu=Sr("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mv=Sr("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tc=Sr("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Sr("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=Sr("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i2=Sr("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lv=Sr("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Sr("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=Sr("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I6=Sr("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=Sr("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),M6=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>Ks(async()=>{const{default:n}=await Promise.resolve().then(()=>Xl);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)};class n1 extends Error{constructor(t,e="FunctionsError",n){super(t),this.name=e,this.context=n}}class s2 extends n1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class o2 extends n1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class a2 extends n1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var N0;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(N0||(N0={}));var L6=function(r,t,e,n){function l(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function u(c){try{o(n.next(c))}catch(f){s(f)}}function a(c){try{o(n.throw(c))}catch(f){s(f)}}function o(c){c.done?i(c.value):l(c.value).then(u,a)}o((n=n.apply(r,t||[])).next())})};class O6{constructor(t,{headers:e={},customFetch:n,region:l=N0.Any}={}){this.url=t,this.headers=e,this.region=l,this.fetch=M6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var n;return L6(this,void 0,void 0,function*(){try{const{headers:l,method:i,body:s,signal:u}=e;let a={},{region:o}=e;o||(o=this.region);const c=new URL(`${this.url}/${t}`);o&&o!=="any"&&(a["x-region"]=o,c.searchParams.set("forceFunctionRegion",o));let f;s&&(l&&!Object.prototype.hasOwnProperty.call(l,"Content-Type")||!l)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",f=s):typeof s=="string"?(a["Content-Type"]="text/plain",f=s):typeof FormData<"u"&&s instanceof FormData?f=s:(a["Content-Type"]="application/json",f=JSON.stringify(s)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),l),body:f,signal:u}).catch(m=>{throw m.name==="AbortError"?m:new s2(m)}),d=h.headers.get("x-relay-error");if(d&&d==="true")throw new o2(h);if(!h.ok)throw new a2(h);let y=((n=h.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return y==="application/json"?b=yield h.json():y==="application/octet-stream"?b=yield h.blob():y==="text/event-stream"?b=h:y==="multipart/form-data"?b=yield h.formData():b=yield h.text(),{data:b,error:null,response:h}}catch(l){return l instanceof Error&&l.name==="AbortError"?{data:null,error:new s2(l)}:{data:null,error:l,response:l instanceof a2||l instanceof o2?l.context:void 0}}})}}var Qn={},i1={},af={},Oc={},lf={},uf={},F6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ul=F6();const B6=Ul.fetch,Ov=Ul.fetch.bind(Ul),Fv=Ul.Headers,D6=Ul.Request,z6=Ul.Response,Xl=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fv,Request:D6,Response:z6,default:Ov,fetch:B6},Symbol.toStringTag,{value:"Module"})),U6=Sw(Xl);var cf={};Object.defineProperty(cf,"__esModule",{value:!0});let $6=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};cf.default=$6;var Bv=Vt&&Vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(uf,"__esModule",{value:!0});const q6=Bv(U6),W6=Bv(cf);let H6=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=q6.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let l=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var s,u,a,o;let c=null,f=null,h=null,d=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((s=this.headers.get("Accept"))===null||s===void 0)&&s.includes("application/vnd.pgrst.plan+text"))?f=p:f=JSON.parse(p))}const m=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),g=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");m&&g&&g.length>1&&(h=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(c={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,d=406,y="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const m=await i.text();try{c=JSON.parse(m),Array.isArray(c)&&i.status===404&&(f=[],c=null,d=200,y="OK")}catch{i.status===404&&m===""?(d=204,y="No Content"):c={message:m}}if(c&&this.isMaybeSingle&&(!((o=c==null?void 0:c.details)===null||o===void 0)&&o.includes("0 rows"))&&(c=null,d=200,y="OK"),c&&this.shouldThrowOnError)throw new W6.default(c)}return{error:c,data:f,count:h,status:d,statusText:y}});return this.shouldThrowOnError||(l=l.catch(i=>{var s,u,a;return{error:{message:`${(s=i==null?void 0:i.name)!==null&&s!==void 0?s:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(u=i==null?void 0:i.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(a=i==null?void 0:i.code)!==null&&a!==void 0?a:""}`},data:null,count:null,status:0,statusText:""}})),l.then(t,e)}returns(){return this}overrideTypes(){return this}};uf.default=H6;var V6=Vt&&Vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(lf,"__esModule",{value:!0});const G6=V6(uf);let K6=class extends G6.default{select(t){let e=!1;const n=(t??"*").split("").map(l=>/\s/.test(l)&&!e?"":(l==='"'&&(e=!e),l)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:l,referencedTable:i=l}={}){const s=i?`${i}.order`:"order",u=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${u?`${u},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const l=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(l,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:l=n}={}){const i=typeof l>"u"?"offset":`${l}.offset`,s=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:l=!1,wal:i=!1,format:s="text"}={}){var u;const a=[t?"analyze":null,e?"verbose":null,n?"settings":null,l?"buffers":null,i?"wal":null].filter(Boolean).join("|"),o=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${o}"; options=${a};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};lf.default=K6;var X6=Vt&&Vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Oc,"__esModule",{value:!0});const Y6=X6(lf);let J6=class extends Y6.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(l=>typeof l=="string"&&new RegExp("[,()]").test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:l}={}){let i="";l==="plain"?i="pl":l==="phrase"?i="ph":l==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const l=n?`${n}.or`:"or";return this.url.searchParams.append(l,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}};Oc.default=J6;var Z6=Vt&&Vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(af,"__esModule",{value:!0});const Mu=Z6(Oc);let Q6=class{constructor(t,{headers:e={},schema:n,fetch:l}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=l}select(t,{head:e=!1,count:n}={}){const l=e?"HEAD":"GET";let i=!1;const s=(t??"*").split("").map(u=>/\s/.test(u)&&!i?"":(u==='"'&&(i=!i),u)).join("");return this.url.searchParams.set("select",s),n&&this.headers.append("Prefer",`count=${n}`),new Mu.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var l;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((u,a)=>u.concat(Object.keys(a)),[]);if(s.length>0){const u=[...new Set(s)].map(a=>`"${a}"`);this.url.searchParams.set("columns",u.join(","))}}return new Mu.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:l,defaultToNull:i=!0}={}){var s;const u="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),l&&this.headers.append("Prefer",`count=${l}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const a=t.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Mu.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var n;const l="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Mu.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Mu.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};af.default=Q6;var Dv=Vt&&Vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(i1,"__esModule",{value:!0});const e_=Dv(af),t_=Dv(Oc);let r_=class zv{constructor(t,{headers:e={},schema:n,fetch:l}={}){this.url=t,this.headers=new Headers(e),this.schemaName=n,this.fetch=l}from(t){const e=new URL(`${this.url}/${t}`);return new e_.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new zv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:n=!1,get:l=!1,count:i}={}){var s;let u;const a=new URL(`${this.url}/rpc/${t}`);let o;n||l?(u=n?"HEAD":"GET",Object.entries(e).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{a.searchParams.append(f,h)})):(u="POST",o=e);const c=new Headers(this.headers);return i&&c.set("Prefer",`count=${i}`),new t_.default({method:u,url:a,headers:c,schema:this.schemaName,body:o,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}};i1.default=r_;var Yl=Vt&&Vt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qn,"__esModule",{value:!0});Qn.PostgrestError=Qn.PostgrestBuilder=Qn.PostgrestTransformBuilder=Qn.PostgrestFilterBuilder=Qn.PostgrestQueryBuilder=Qn.PostgrestClient=void 0;const Uv=Yl(i1);Qn.PostgrestClient=Uv.default;const $v=Yl(af);Qn.PostgrestQueryBuilder=$v.default;const qv=Yl(Oc);Qn.PostgrestFilterBuilder=qv.default;const Wv=Yl(lf);Qn.PostgrestTransformBuilder=Wv.default;const Hv=Yl(uf);Qn.PostgrestBuilder=Hv.default;const Vv=Yl(cf);Qn.PostgrestError=Vv.default;var n_=Qn.default={PostgrestClient:Uv.default,PostgrestQueryBuilder:$v.default,PostgrestFilterBuilder:qv.default,PostgrestTransformBuilder:Wv.default,PostgrestBuilder:Hv.default,PostgrestError:Vv.default};const{PostgrestClient:i_,PostgrestQueryBuilder:rk,PostgrestFilterBuilder:nk,PostgrestTransformBuilder:ik,PostgrestBuilder:sk,PostgrestError:ok}=n_;class s_{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const e=process.versions;if(e&&e.node){const n=e.node,l=parseInt(n.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){const n=this.getWebSocketConstructor();return new n(t,e)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const o_="2.15.5",a_=`realtime-js/${o_}`,l_="1.0.0",R0=1e4,u_=1e3,c_=100;var nc;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(nc||(nc={}));var ln;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(ln||(ln={}));var Ki;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(Ki||(Ki={}));var I0;(function(r){r.websocket="websocket"})(I0||(I0={}));var ca;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(ca||(ca={}));class d_{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const e=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,e,n)}_decodeBroadcast(t,e,n){const l=e.getUint8(1),i=e.getUint8(2);let s=this.HEADER_LENGTH+2;const u=n.decode(t.slice(s,s+l));s=s+l;const a=n.decode(t.slice(s,s+i));s=s+i;const o=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:u,event:a,payload:o}}}class Gv{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var jr;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(jr||(jr={}));const l2=(r,t,e={})=>{var n;const l=(n=e.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((i,s)=>(i[s]=h_(s,r,t,l),i),{})},h_=(r,t,e,n)=>{const l=t.find(u=>u.name===r),i=l==null?void 0:l.type,s=e[r];return i&&!n.includes(i)?Kv(i,s):M0(s)},Kv=(r,t)=>{if(r.charAt(0)==="_"){const e=r.slice(1,r.length);return g_(t,e)}switch(r){case jr.bool:return f_(t);case jr.float4:case jr.float8:case jr.int2:case jr.int4:case jr.int8:case jr.numeric:case jr.oid:return p_(t);case jr.json:case jr.jsonb:return m_(t);case jr.timestamp:return b_(t);case jr.abstime:case jr.date:case jr.daterange:case jr.int4range:case jr.int8range:case jr.money:case jr.reltime:case jr.text:case jr.time:case jr.timestamptz:case jr.timetz:case jr.tsrange:case jr.tstzrange:return M0(t);default:return M0(t)}},M0=r=>r,f_=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},p_=r=>{if(typeof r=="string"){const t=parseFloat(r);if(!Number.isNaN(t))return t}return r},m_=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},g_=(r,t)=>{if(typeof r!="string")return r;const e=r.length-1,n=r[e];if(r[0]==="{"&&n==="}"){let i;const s=r.slice(1,e);try{i=JSON.parse("["+s+"]")}catch{i=s?s.split(","):[]}return i.map(u=>Kv(t,u))}return r},b_=r=>typeof r=="string"?r.replace(" ","T"):r,Xv=r=>{let t=r;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class bp{constructor(t,e,n={},l=R0){this.channel=t,this.event=e,this.payload=n,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var n;return this._hasReceived(t)&&e((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var u2;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(u2||(u2={}));class ic{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(e==null?void 0:e.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},l=>{const{onJoin:i,onLeave:s,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ic.syncState(this.state,l,i,s),this.pendingDiffs.forEach(a=>{this.state=ic.syncDiff(this.state,a,i,s)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},l=>{const{onJoin:i,onLeave:s,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=ic.syncDiff(this.state,l,i,s),u())}),this.onJoin((l,i,s)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:i,newPresences:s})}),this.onLeave((l,i,s)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:i,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,n,l){const i=this.cloneDeep(t),s=this.transformState(e),u={},a={};return this.map(i,(o,c)=>{s[o]||(a[o]=c)}),this.map(s,(o,c)=>{const f=i[o];if(f){const h=c.map(m=>m.presence_ref),d=f.map(m=>m.presence_ref),y=c.filter(m=>d.indexOf(m.presence_ref)<0),b=f.filter(m=>h.indexOf(m.presence_ref)<0);y.length>0&&(u[o]=y),b.length>0&&(a[o]=b)}else u[o]=c}),this.syncDiff(i,{joins:u,leaves:a},n,l)}static syncDiff(t,e,n,l){const{joins:i,leaves:s}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return n||(n=()=>{}),l||(l=()=>{}),this.map(i,(u,a)=>{var o;const c=(o=t[u])!==null&&o!==void 0?o:[];if(t[u]=this.cloneDeep(a),c.length>0){const f=t[u].map(d=>d.presence_ref),h=c.filter(d=>f.indexOf(d.presence_ref)<0);t[u].unshift(...h)}n(u,c,a)}),this.map(s,(u,a)=>{let o=t[u];if(!o)return;const c=a.map(f=>f.presence_ref);o=o.filter(f=>c.indexOf(f.presence_ref)<0),t[u]=o,l(u,o,a),o.length===0&&delete t[u]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(n=>e(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,n)=>{const l=t[n];return"metas"in l?e[n]=l.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):e[n]=l,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var c2;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(c2||(c2={}));var sc;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(sc||(sc={}));var Fs;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Fs||(Fs={}));class s1{constructor(t,e={config:{}},n){this.topic=t,this.params=e,this.socket=n,this.bindings={},this.state=ln.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new bp(this,Ki.join,this.params,this.timeout),this.rejoinTimer=new Gv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ln.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ln.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=ln.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ki.reply,{},(l,i)=>{this._trigger(this._replyEventName(i),l)}),this.presence=new ic(this),this.broadcastEndpointURL=Xv(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var n,l,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ln.closed){const{config:{broadcast:s,presence:u,private:a}}=this.params,o=(l=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&l!==void 0?l:[],c=!!this.bindings[sc.PRESENCE]&&this.bindings[sc.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:s,presence:Object.assign(Object.assign({},u),{enabled:c}),postgres_changes:o,private:a};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(d=>t==null?void 0:t(Fs.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Fs.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:d})=>{var y;if(this.socket.setAuth(),d===void 0){t==null||t(Fs.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,m=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,g=[];for(let p=0;p<m;p++){const v=b[p],{filter:{event:C,schema:j,table:L,filter:$}}=v,M=d&&d[p];if(M&&M.event===C&&M.schema===j&&M.table===L&&M.filter===$)g.push(Object.assign(Object.assign({},v),{id:M.id}));else{this.unsubscribe(),this.state=ln.errored,t==null||t(Fs.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Fs.SUBSCRIBED);return}}).receive("error",d=>{this.state=ln.errored,t==null||t(Fs.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Fs.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,n){return this.state===ln.joined&&t===sc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,n)}async send(t,e={}){var n,l;if(!this._canPush()&&t.type==="broadcast"){const{event:i,payload:s}=t,a={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{const o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(n=e.timeout)!==null&&n!==void 0?n:this.timeout);return await((l=o.body)===null||l===void 0?void 0:l.cancel()),o.ok?"ok":"error"}catch(o){return o.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,u,a;const o=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((a=(u=(s=this.params)===null||s===void 0?void 0:s.config)===null||u===void 0?void 0:u.broadcast)===null||a===void 0)&&a.ack)&&i("ok"),o.receive("ok",()=>i("ok")),o.receive("error",()=>i("error")),o.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ln.leaving;const e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ki.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(l=>{n=new bp(this,Ki.leave,{},t),n.receive("ok",()=>{e(),l("ok")}).receive("timeout",()=>{e(),l("timed out")}).receive("error",()=>{l("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ln.closed,this.bindings={}}async _fetchWithTimeout(t,e,n){const l=new AbortController,i=setTimeout(()=>l.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:l.signal}));return clearTimeout(i),s}_push(t,e,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new bp(this,t,e,n);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>c_){const e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,n){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,n){var l,i;const s=t.toLocaleLowerCase(),{close:u,error:a,leave:o,join:c}=Ki;if(n&&[u,a,o,c].indexOf(s)>=0&&n!==this._joinRef())return;let h=this._onMessage(s,e,n);if(e&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(d=>{var y,b,m;return((y=d.filter)===null||y===void 0?void 0:y.event)==="*"||((m=(b=d.filter)===null||b===void 0?void 0:b.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===s}).map(d=>d.callback(h,n)):(i=this.bindings[s])===null||i===void 0||i.filter(d=>{var y,b,m,g,p,v;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in d){const C=d.id,j=(y=d.filter)===null||y===void 0?void 0:y.event;return C&&((b=e.ids)===null||b===void 0?void 0:b.includes(C))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((m=e.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{const C=(p=(g=d==null?void 0:d.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return C==="*"||C===((v=e==null?void 0:e.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return d.type.toLocaleLowerCase()===s}).map(d=>{if(typeof h=="object"&&"ids"in h){const y=h.data,{schema:b,table:m,commit_timestamp:g,type:p,errors:v}=y;h=Object.assign(Object.assign({},{schema:b,table:m,commit_timestamp:g,eventType:p,new:{},old:{},errors:v}),this._getPayloadRecords(y))}d.callback(h,n)})}_isClosed(){return this.state===ln.closed}_isJoined(){return this.state===ln.joined}_isJoining(){return this.state===ln.joining}_isLeaving(){return this.state===ln.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,n){const l=t.toLocaleLowerCase(),i={type:l,filter:e,callback:n};return this.bindings[l]?this.bindings[l].push(i):this.bindings[l]=[i],this}_off(t,e){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(l=>{var i;return!(((i=l.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&s1.isEqual(l.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(t[n]!==e[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ki.close,{},t)}_onError(t){this._on(Ki.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ln.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=l2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=l2(t.columns,t.old_record)),e}}const yp=()=>{},Od={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},y_=[1e3,2e3,5e3,1e4],v_=1e4,w_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x_{constructor(t,e){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=R0,this.transport=null,this.heartbeatIntervalMs=Od.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yp,this.ref=0,this.reconnectTimer=null,this.logger=yp,this.conn=null,this.sendBuffer=[],this.serializer=new d_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let i;return l?i=l:typeof fetch>"u"?i=(...s)=>Ks(async()=>{const{default:u}=await Promise.resolve().then(()=>Xl);return{default:u}},void 0).then(({default:u})=>u(...s)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...s)=>i(...s)},!(!((n=e==null?void 0:e.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${I0.websocket}`,this.httpEndpoint=Xv(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e==null?void 0:e.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=s_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:l_}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,e??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){const t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,e,n){this.logger(t,e,n)}connectionState(){switch(this.conn&&this.conn.readyState){case nc.connecting:return ca.Connecting;case nc.open:return ca.Open;case nc.closing:return ca.Closing;default:return ca.Closed}}isConnected(){return this.connectionState()===ca.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){const n=`realtime:${t}`,l=this.getChannels().find(i=>i.topic===n);if(l)return l;{const i=new s1(`realtime:${t}`,e,this);return this.channels.push(i),i}}push(t){const{topic:e,event:n,payload:l,ref:i}=t,s=()=>{this.encode(t,u=>{var a;(a=this.conn)===null||a===void 0||a.send(u)})};this.log("push",`${e} ${n} (${i})`,l),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(u_,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},Od.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(o){this.log("error","error in heartbeat callback",o)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:l,payload:i,ref:s}=e,u=s?`(${s})`:"",a=i.status||"";this.log("receive",`${a} ${n} ${l} ${u}`.trim(),i),this.channels.filter(o=>o._isMember(n)).forEach(o=>o._trigger(l,i,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ki.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;const n=t.match(/\?/)?"&":"?",l=new URLSearchParams(e);return`${t}${n}${l}`}_workerObjectUrl(t){let e;if(t)e=t;else{const n=new Blob([w_],{type:"application/javascript"});e=URL.createObjectURL(n)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(t=null){let e;t?e=t:this.accessToken?e=await this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(n=>{const l={access_token:e,version:a_};e&&n.updateJoinPayload(l),n.joinedOnce&&n._isJoined()&&n._push(Ki.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(e)}catch(l){this.log("error",`error in ${t} callback`,l)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Gv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Od.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var e,n,l,i,s,u,a,o,c;if(this.transport=(e=t==null?void 0:t.transport)!==null&&e!==void 0?e:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:R0,this.heartbeatIntervalMs=(l=t==null?void 0:t.heartbeatIntervalMs)!==null&&l!==void 0?l:Od.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,this.heartbeatCallback=(u=t==null?void 0:t.heartbeatCallback)!==null&&u!==void 0?u:yp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t==null?void 0:t.reconnectAfterMs)!==null&&a!==void 0?a:f=>y_[f-1]||v_,this.encode=(o=t==null?void 0:t.encode)!==null&&o!==void 0?o:(f,h)=>h(JSON.stringify(f)),this.decode=(c=t==null?void 0:t.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class o1 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function nn(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class __ extends o1{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class L0 extends o1{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}}var S_=function(r,t,e,n){function l(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function u(c){try{o(n.next(c))}catch(f){s(f)}}function a(c){try{o(n.throw(c))}catch(f){s(f)}}function o(c){c.done?i(c.value):l(c.value).then(u,a)}o((n=n.apply(r,t||[])).next())})};const Yv=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>Ks(async()=>{const{default:n}=await Promise.resolve().then(()=>Xl);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},k_=()=>S_(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ks(()=>Promise.resolve().then(()=>Xl),void 0)).Response:Response}),O0=r=>{if(Array.isArray(r))return r.map(e=>O0(e));if(typeof r=="function"||r!==Object(r))return r;const t={};return Object.entries(r).forEach(([e,n])=>{const l=e.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[l]=O0(n)}),t},C_=r=>{if(typeof r!="object"||r===null)return!1;const t=Object.getPrototypeOf(r);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in r)&&!(Symbol.iterator in r)};var ja=function(r,t,e,n){function l(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function u(c){try{o(n.next(c))}catch(f){s(f)}}function a(c){try{o(n.throw(c))}catch(f){s(f)}}function o(c){c.done?i(c.value):l(c.value).then(u,a)}o((n=n.apply(r,t||[])).next())})};const vp=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),A_=(r,t,e)=>ja(void 0,void 0,void 0,function*(){const n=yield k_();r instanceof n&&!(e!=null&&e.noResolveJson)?r.json().then(l=>{const i=r.status||500,s=(l==null?void 0:l.statusCode)||i+"";t(new __(vp(l),i,s))}).catch(l=>{t(new L0(vp(l),l))}):t(new L0(vp(r),r))}),E_=(r,t,e,n)=>{const l={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"||!n?l:(C_(n)?(l.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),l.body=JSON.stringify(n)):l.body=n,t!=null&&t.duplex&&(l.duplex=t.duplex),Object.assign(Object.assign({},l),e))};function Fc(r,t,e,n,l,i){return ja(this,void 0,void 0,function*(){return new Promise((s,u)=>{r(e,E_(t,n,l,i)).then(a=>{if(!a.ok)throw a;return n!=null&&n.noResolveJson?a:a.json()}).then(a=>s(a)).catch(a=>A_(a,u,n))})})}function Lh(r,t,e,n){return ja(this,void 0,void 0,function*(){return Fc(r,"GET",t,e,n)})}function hs(r,t,e,n,l){return ja(this,void 0,void 0,function*(){return Fc(r,"POST",t,n,l,e)})}function F0(r,t,e,n,l){return ja(this,void 0,void 0,function*(){return Fc(r,"PUT",t,n,l,e)})}function j_(r,t,e,n){return ja(this,void 0,void 0,function*(){return Fc(r,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),n)})}function Jv(r,t,e,n,l){return ja(this,void 0,void 0,function*(){return Fc(r,"DELETE",t,n,l,e)})}var T_=function(r,t,e,n){function l(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function u(c){try{o(n.next(c))}catch(f){s(f)}}function a(c){try{o(n.throw(c))}catch(f){s(f)}}function o(c){c.done?i(c.value):l(c.value).then(u,a)}o((n=n.apply(r,t||[])).next())})};class P_{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return T_(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}var N_=function(r,t,e,n){function l(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function u(c){try{o(n.next(c))}catch(f){s(f)}}function a(c){try{o(n.throw(c))}catch(f){s(f)}}function o(c){c.done?i(c.value):l(c.value).then(u,a)}o((n=n.apply(r,t||[])).next())})};class R_{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}asStream(){return new P_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.execute().then(t,e)}execute(){return N_(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}}var Jn=function(r,t,e,n){function l(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function u(c){try{o(n.next(c))}catch(f){s(f)}}function a(c){try{o(n.throw(c))}catch(f){s(f)}}function o(c){c.done?i(c.value):l(c.value).then(u,a)}o((n=n.apply(r,t||[])).next())})};const I_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},d2={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class M_{constructor(t,e={},n,l){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Yv(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,n,l){return Jn(this,void 0,void 0,function*(){try{let i;const s=Object.assign(Object.assign({},d2),l);let u=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const a=s.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",s.cacheControl),a&&i.append("metadata",this.encodeMetadata(a)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",s.cacheControl),a&&i.append("metadata",this.encodeMetadata(a))):(i=n,u["cache-control"]=`max-age=${s.cacheControl}`,u["content-type"]=s.contentType,a&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(a)))),l!=null&&l.headers&&(u=Object.assign(Object.assign({},u),l.headers));const o=this._removeEmptyFolders(e),c=this._getFinalPath(o),f=yield(t=="PUT"?F0:hs)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:u},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:o,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(nn(i))return{data:null,error:i};throw i}})}upload(t,e,n){return Jn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,n)})}uploadToSignedUrl(t,e,n,l){return Jn(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),s=this._getFinalPath(i),u=new URL(this.url+`/object/upload/sign/${s}`);u.searchParams.set("token",e);try{let a;const o=Object.assign({upsert:d2.upsert},l),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",o.cacheControl),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",o.cacheControl)):(a=n,c["cache-control"]=`max-age=${o.cacheControl}`,c["content-type"]=o.contentType);const f=yield F0(this.fetch,u.toString(),a,{headers:c});return{data:{path:i,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nn(a))return{data:null,error:a};throw a}})}createSignedUploadUrl(t,e){return Jn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const l=Object.assign({},this.headers);e!=null&&e.upsert&&(l["x-upsert"]="true");const i=yield hs(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:l}),s=new URL(this.url+i.url),u=s.searchParams.get("token");if(!u)throw new o1("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}update(t,e,n){return Jn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,n)})}move(t,e,n){return Jn(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nn(l))return{data:null,error:l};throw l}})}copy(t,e,n){return Jn(this,void 0,void 0,function*(){try{return{data:{path:(yield hs(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nn(l))return{data:null,error:l};throw l}})}createSignedUrl(t,e,n){return Jn(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t),i=yield hs(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${s}`)},{data:i,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nn(l))return{data:null,error:l};throw l}})}createSignedUrls(t,e,n){return Jn(this,void 0,void 0,function*(){try{const l=yield hs(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:l.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${i}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nn(l))return{data:null,error:l};throw l}})}download(t,e){const l=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),s=i?`?${i}`:"",u=this._getFinalPath(t),a=()=>Lh(this.fetch,`${this.url}/${l}/${u}${s}`,{headers:this.headers,noResolveJson:!0});return new R_(a,this.shouldThrowOnError)}info(t){return Jn(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{const n=yield Lh(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:O0(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}exists(t){return Jn(this,void 0,void 0,function*(){const e=this._getFinalPath(t);try{return yield j_(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n)&&n instanceof L0){const l=n.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,e){const n=this._getFinalPath(t),l=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&l.push(i);const u=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&l.push(a);let o=l.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${o}`)}}}remove(t){return Jn(this,void 0,void 0,function*(){try{return{data:yield Jv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nn(e))return{data:null,error:e};throw e}})}list(t,e,n){return Jn(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},I_),e),{prefix:t||""});return{data:yield hs(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},n),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(nn(l))return{data:null,error:l};throw l}})}listV2(t,e){return Jn(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield hs(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},e),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}}const L_="2.12.2",O_={"X-Client-Info":`storage-js/${L_}`};var Ja=function(r,t,e,n){function l(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function u(c){try{o(n.next(c))}catch(f){s(f)}}function a(c){try{o(n.throw(c))}catch(f){s(f)}}function o(c){c.done?i(c.value):l(c.value).then(u,a)}o((n=n.apply(r,t||[])).next())})};class F_{constructor(t,e={},n,l){this.shouldThrowOnError=!1;const i=new URL(t);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},O_),e),this.fetch=Yv(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Ja(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(nn(t))return{data:null,error:t};throw t}})}getBucket(t){return Ja(this,void 0,void 0,function*(){try{return{data:yield Lh(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nn(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return Ja(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}updateBucket(t,e){return Ja(this,void 0,void 0,function*(){try{return{data:yield F0(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(nn(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Ja(this,void 0,void 0,function*(){try{return{data:yield hs(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nn(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Ja(this,void 0,void 0,function*(){try{return{data:yield Jv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(nn(e))return{data:null,error:e};throw e}})}}class B_ extends F_{constructor(t,e={},n,l){super(t,e,n,l)}from(t){return new M_(this.url,this.headers,t,this.fetch)}}const D_="2.58.0";let qu="";typeof Deno<"u"?qu="deno":typeof document<"u"?qu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?qu="react-native":qu="node";const z_={"X-Client-Info":`supabase-js-${qu}/${D_}`},U_={headers:z_},$_={schema:"public"},q_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},W_={};var H_=function(r,t,e,n){function l(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function u(c){try{o(n.next(c))}catch(f){s(f)}}function a(c){try{o(n.throw(c))}catch(f){s(f)}}function o(c){c.done?i(c.value):l(c.value).then(u,a)}o((n=n.apply(r,t||[])).next())})};const V_=r=>{let t;return r?t=r:typeof fetch>"u"?t=Ov:t=fetch,(...e)=>t(...e)},G_=()=>typeof Headers>"u"?Fv:Headers,K_=(r,t,e)=>{const n=V_(e),l=G_();return(i,s)=>H_(void 0,void 0,void 0,function*(){var u;const a=(u=yield t())!==null&&u!==void 0?u:r;let o=new l(s==null?void 0:s.headers);return o.has("apikey")||o.set("apikey",r),o.has("Authorization")||o.set("Authorization",`Bearer ${a}`),n(i,Object.assign(Object.assign({},s),{headers:o}))})};var X_=function(r,t,e,n){function l(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function u(c){try{o(n.next(c))}catch(f){s(f)}}function a(c){try{o(n.throw(c))}catch(f){s(f)}}function o(c){c.done?i(c.value):l(c.value).then(u,a)}o((n=n.apply(r,t||[])).next())})};function Y_(r){return r.endsWith("/")?r:r+"/"}function J_(r,t){var e,n;const{db:l,auth:i,realtime:s,global:u}=r,{db:a,auth:o,realtime:c,global:f}=t,h={db:Object.assign(Object.assign({},a),l),auth:Object.assign(Object.assign({},o),i),realtime:Object.assign(Object.assign({},c),s),storage:{},global:Object.assign(Object.assign(Object.assign({},f),u),{headers:Object.assign(Object.assign({},(e=f==null?void 0:f.headers)!==null&&e!==void 0?e:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>X_(this,void 0,void 0,function*(){return""})};return r.accessToken?h.accessToken=r.accessToken:delete h.accessToken,h}function Z_(r){const t=r==null?void 0:r.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Y_(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Zv="2.72.0",ol=30*1e3,B0=3,wp=B0*ol,Q_="http://localhost:9999",e8="supabase.auth.token",t8={"X-Client-Info":`gotrue-js/${Zv}`},D0="X-Supabase-Api-Version",Qv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},r8=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,n8=10*60*1e3;class a1 extends Error{constructor(t,e,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=n}}function Zt(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class i8 extends a1{constructor(t,e,n){super(t,e,n),this.name="AuthApiError",this.status=e,this.code=n}}function s8(r){return Zt(r)&&r.name==="AuthApiError"}class e5 extends a1{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}}class Go extends a1{constructor(t,e,n,l){super(t,n,l),this.name=e,this.status=n}}class vo extends Go{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function o8(r){return Zt(r)&&r.name==="AuthSessionMissingError"}class Lu extends Go{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fd extends Go{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Bd extends Go{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function a8(r){return Zt(r)&&r.name==="AuthImplicitGrantRedirectError"}class h2 extends Go{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class z0 extends Go{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}}function xp(r){return Zt(r)&&r.name==="AuthRetryableFetchError"}class f2 extends Go{constructor(t,e,n){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=n}}class U0 extends Go{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Oh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),p2=` 	
\r=`.split(""),l8=(()=>{const r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<p2.length;t+=1)r[p2[t].charCodeAt(0)]=-2;for(let t=0;t<Oh.length;t+=1)r[Oh[t].charCodeAt(0)]=t;return r})();function m2(r,t,e){if(r!==null)for(t.queue=t.queue<<8|r,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;e(Oh[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;e(Oh[n]),t.queuedBits-=6}}function t5(r,t,e){const n=l8[r];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function g2(r){const t=[],e=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},i=s=>{d8(s,n,e)};for(let s=0;s<r.length;s+=1)t5(r.charCodeAt(s),l,i);return t.join("")}function u8(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function c8(r,t){for(let e=0;e<r.length;e+=1){let n=r.charCodeAt(e);if(n>55295&&n<=56319){const l=(n-55296)*1024&65535;n=(r.charCodeAt(e+1)-56320&65535|l)+65536,e+=1}u8(n,t)}}function d8(r,t,e){if(t.utf8seq===0){if(r<=127){e(r);return}for(let n=1;n<6;n+=1)if(!(r>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function h8(r){const t=[],e={queue:0,queuedBits:0},n=l=>{t.push(l)};for(let l=0;l<r.length;l+=1)t5(r.charCodeAt(l),e,n);return new Uint8Array(t)}function f8(r){const t=[];return c8(r,e=>t.push(e)),new Uint8Array(t)}function p8(r){const t=[],e={queue:0,queuedBits:0},n=l=>{t.push(l)};return r.forEach(l=>m2(l,e,n)),m2(null,e,n),t.join("")}function m8(r){return Math.round(Date.now()/1e3)+r}function g8(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}const ji=()=>typeof window<"u"&&typeof document<"u",ia={tested:!1,writable:!1},r5=()=>{if(!ji())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ia.tested)return ia.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ia.tested=!0,ia.writable=!0}catch{ia.tested=!0,ia.writable=!1}return ia.writable};function b8(r){const t={},e=new URL(r);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((l,i)=>{t[i]=l})}catch{}return e.searchParams.forEach((n,l)=>{t[l]=n}),t}const n5=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>Ks(async()=>{const{default:n}=await Promise.resolve().then(()=>Xl);return{default:n}},void 0).then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},y8=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",al=async(r,t,e)=>{await r.setItem(t,JSON.stringify(e))},sa=async(r,t)=>{const e=await r.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},go=async(r,t)=>{await r.removeItem(t)};class df{constructor(){this.promise=new df.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}}df.promiseConstructor=Promise;function _p(r){const t=r.split(".");if(t.length!==3)throw new U0("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!r8.test(t[n]))throw new U0("JWT not in base64url format");return{header:JSON.parse(g2(t[0])),payload:JSON.parse(g2(t[1])),signature:h8(t[2]),raw:{header:t[0],payload:t[1]}}}async function v8(r){return await new Promise(t=>{setTimeout(()=>t(null),r)})}function w8(r,t){return new Promise((n,l)=>{(async()=>{for(let i=0;i<1/0;i++)try{const s=await r(i);if(!t(i,null,s)){n(s);return}}catch(s){if(!t(i,s)){l(s);return}}})()})}function x8(r){return("0"+r.toString(16)).substr(-2)}function _8(){const t=new Uint32Array(56);if(typeof crypto>"u"){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=e.length;let l="";for(let i=0;i<56;i++)l+=e.charAt(Math.floor(Math.random()*n));return l}return crypto.getRandomValues(t),Array.from(t,x8).join("")}async function S8(r){const e=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",e),l=new Uint8Array(n);return Array.from(l).map(i=>String.fromCharCode(i)).join("")}async function k8(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const e=await S8(r);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Za(r,t,e=!1){const n=_8();let l=n;e&&(l+="/PASSWORD_RECOVERY"),await al(r,`${t}-code-verifier`,l);const i=await k8(n);return[i,n===i?"plain":"s256"]}const C8=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function A8(r){const t=r.headers.get(D0);if(!t||!t.match(C8))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function E8(r){if(!r)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function j8(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const T8=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Qa(r){if(!T8.test(r))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Sp(){const r={};return new Proxy(r,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){const n=e.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function b2(r){return JSON.parse(JSON.stringify(r))}var P8=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(r);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(r,n[l])&&(e[n[l]]=r[n[l]]);return e};const la=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),N8=[502,503,504];async function y2(r){var t;if(!y8(r))throw new z0(la(r),0);if(N8.includes(r.status))throw new z0(la(r),r.status);let e;try{e=await r.json()}catch(i){throw new e5(la(i),i)}let n;const l=A8(r);if(l&&l.getTime()>=Qv["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?n=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(n=e.error_code),n){if(n==="weak_password")throw new f2(la(e),r.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new vo}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((i,s)=>i&&typeof s=="string",!0))throw new f2(la(e),r.status,e.weak_password.reasons);throw new i8(la(e),r.status||500,n)}const R8=(r,t,e,n)=>{const l={method:r,headers:(t==null?void 0:t.headers)||{}};return r==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),l.body=JSON.stringify(n),Object.assign(Object.assign({},l),e))};async function nr(r,t,e,n){var l;const i=Object.assign({},n==null?void 0:n.headers);i[D0]||(i[D0]=Qv["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const s=(l=n==null?void 0:n.query)!==null&&l!==void 0?l:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const u=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",a=await I8(r,t,e+u,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(a):{data:Object.assign({},a),error:null}}async function I8(r,t,e,n,l,i){const s=R8(t,n,l,i);let u;try{u=await r(e,Object.assign({},s))}catch(a){throw console.error(a),new z0(la(a),0)}if(u.ok||await y2(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(a){await y2(a)}}function ls(r){var t;let e=null;F8(r)&&(e=Object.assign({},r),r.expires_at||(e.expires_at=m8(r.expires_in)));const n=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:e,user:n},error:null}}function v2(r){const t=ls(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((e,n)=>e&&typeof n=="string",!0)&&(t.data.weak_password=r.weak_password),t}function ko(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function M8(r){return{data:r,error:null}}function L8(r){const{action_link:t,email_otp:e,hashed_token:n,redirect_to:l,verification_type:i}=r,s=P8(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:t,email_otp:e,hashed_token:n,redirect_to:l,verification_type:i},a=Object.assign({},s);return{data:{properties:u,user:a},error:null}}function O8(r){return r}function F8(r){return r.access_token&&r.refresh_token&&r.expires_in}const kp=["global","local","others"];var B8=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(r);l<n.length;l++)t.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(r,n[l])&&(e[n[l]]=r[n[l]]);return e};class D8{constructor({url:t="",headers:e={},fetch:n}){this.url=t,this.headers=e,this.fetch=n5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,e=kp[0]){if(kp.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${kp.join(", ")}`);try{return await nr(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,e={}){try{return await nr(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:ko})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:e}=t,n=B8(t,["options"]),l=Object.assign(Object.assign({},n),e);return"newEmail"in n&&(l.new_email=n==null?void 0:n.newEmail,delete l.newEmail),await nr(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:L8,redirectTo:e==null?void 0:e.redirectTo})}catch(e){if(Zt(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await nr(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ko})}catch(e){if(Zt(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,n,l,i,s,u,a;try{const o={nextPage:null,lastPage:0,total:0},c=await nr(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(e=t==null?void 0:t.page)===null||e===void 0?void 0:e.toString())!==null&&n!==void 0?n:"",per_page:(i=(l=t==null?void 0:t.perPage)===null||l===void 0?void 0:l.toString())!==null&&i!==void 0?i:""},xform:O8});if(c.error)throw c.error;const f=await c.json(),h=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,d=(a=(u=c.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&a!==void 0?a:[];return d.length>0&&(d.forEach(y=>{const b=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(y.split(";")[1].split("=")[1]);o[`${m}Page`]=b}),o.total=parseInt(h)),{data:Object.assign(Object.assign({},f),o),error:null}}catch(o){if(Zt(o))return{data:{users:[]},error:o};throw o}}async getUserById(t){Qa(t);try{return await nr(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ko})}catch(e){if(Zt(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){Qa(t);try{return await nr(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:ko})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,e=!1){Qa(t);try{return await nr(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:ko})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Qa(t.userId);try{const{data:e,error:n}=await nr(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:e,error:n}}catch(e){if(Zt(e))return{data:null,error:e};throw e}}async _deleteFactor(t){Qa(t.userId),Qa(t.id);try{return{data:await nr(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(Zt(e))return{data:null,error:e};throw e}}}function w2(r={}){return{getItem:t=>r[t]||null,setItem:(t,e)=>{r[t]=e},removeItem:t=>{delete r[t]}}}function z8(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const el={debug:!!(globalThis&&r5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class i5 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class U8 extends i5{}async function $8(r,t,e){el.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),el.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async l=>{if(l){el.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,l.name);try{return await e()}finally{el.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,l.name)}}else{if(t===0)throw el.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new U8(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(el.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}function s5(r){if(!/^0x[a-fA-F0-9]{40}$/.test(r))throw new Error(`@supabase/auth-js: Address "${r}" is invalid.`);return r.toLowerCase()}function q8(r){return parseInt(r,16)}function W8(r){const t=new TextEncoder().encode(r);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function H8(r){var t;const{chainId:e,domain:n,expirationTime:l,issuedAt:i=new Date,nonce:s,notBefore:u,requestId:a,resources:o,scheme:c,uri:f,version:h}=r;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(s&&s.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${s}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=r.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${r.statement}`)}const d=s5(r.address),y=c?`${c}://${n}`:n,b=r.statement?`${r.statement}
`:"",m=`${y} wants you to sign in with your Ethereum account:
${d}

${b}`;let g=`URI: ${f}
Version: ${h}
Chain ID: ${e}${s?`
Nonce: ${s}`:""}
Issued At: ${i.toISOString()}`;if(l&&(g+=`
Expiration Time: ${l.toISOString()}`),u&&(g+=`
Not Before: ${u.toISOString()}`),a&&(g+=`
Request ID: ${a}`),o){let p=`
Resources:`;for(const v of o){if(!v||typeof v!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${v}`);p+=`
- ${v}`}g+=p}return`${m}
${g}`}z8();const V8={url:Q_,storageKey:e8,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:t8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function x2(r,t,e){return await e()}const tl={};class Ac{constructor(t){var e,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ac.nextInstanceID,Ac.nextInstanceID+=1,this.instanceID>0&&ji()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},V8),t);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new D8({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=n5(l.fetch),this.lock=l.lock||x2,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:ji()&&(!((e=globalThis==null?void 0:globalThis.navigator)===null||e===void 0)&&e.locks)?this.lock=$8:this.lock=x2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(l.storage?this.storage=l.storage:r5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=w2(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=w2(this.memoryStorage)),ji()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var t,e;return(e=(t=tl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&e!==void 0?e:{keys:[]}}set jwks(t){tl[this.storageKey]=Object.assign(Object.assign({},tl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,e;return(e=(t=tl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&e!==void 0?e:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){tl[this.storageKey]=Object.assign(Object.assign({},tl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Zv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const e=b8(window.location.href);let n="none";if(this._isImplicitGrantCallback(e)?n="implicit":await this._isPKCECallback(e)&&(n="pkce"),ji()&&this.detectSessionInUrl&&n!=="none"){const{data:l,error:i}=await this._getSessionFromURL(e,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),a8(i)){const a=(t=i.details)===null||t===void 0?void 0:t.code;if(a==="identity_already_exists"||a==="identity_not_found"||a==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:s,redirectType:u}=l;return this._debug("#_initialize()","detected session in URL",s,"redirect type",u),await this._saveSession(s),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return Zt(e)?{error:e}:{error:new e5("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var e,n,l;try{const i=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(e=t==null?void 0:t.options)===null||e===void 0?void 0:e.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(l=t==null?void 0:t.options)===null||l===void 0?void 0:l.captchaToken}},xform:ls}),{data:s,error:u}=i;if(u||!s)return{data:{user:null,session:null},error:u};const a=s.session,o=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:o,session:a},error:null}}catch(i){if(Zt(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var e,n,l;try{let i;if("email"in t){const{email:c,password:f,options:h}=t;let d=null,y=null;this.flowType==="pkce"&&([d,y]=await Za(this.storage,this.storageKey)),i=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(e=h==null?void 0:h.data)!==null&&e!==void 0?e:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:d,code_challenge_method:y},xform:ls})}else if("phone"in t){const{phone:c,password:f,options:h}=t;i=await nr(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(l=h==null?void 0:h.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:ls})}else throw new Fd("You must provide either an email or phone number and a password");const{data:s,error:u}=i;if(u||!s)return{data:{user:null,session:null},error:u};const a=s.session,o=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",a)),{data:{user:o,session:a},error:null}}catch(i){if(Zt(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let e;if("email"in t){const{email:i,password:s,options:u}=t;e=await nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:v2})}else if("phone"in t){const{phone:i,password:s,options:u}=t;e=await nr(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:v2})}else throw new Fd("You must provide either an email or phone number and a password");const{data:n,error:l}=e;return l?{data:{user:null,session:null},error:l}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Lu}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:l})}catch(e){if(Zt(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOAuth(t){var e,n,l,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(e=t.options)===null||e===void 0?void 0:e.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:e}=t;switch(e){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${e}"`)}}async signInWithEthereum(t){var e,n,l,i,s,u,a,o,c,f,h;let d,y;if("message"in t)d=t.message,y=t.signature;else{const{chain:b,wallet:m,statement:g,options:p}=t;let v;if(ji())if(typeof m=="object")v=m;else{const z=window;if("ethereum"in z&&typeof z.ethereum=="object"&&"request"in z.ethereum&&typeof z.ethereum.request=="function")v=z.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");v=m}const C=new URL((e=p==null?void 0:p.url)!==null&&e!==void 0?e:window.location.href),j=await v.request({method:"eth_requestAccounts"}).then(z=>z).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const L=s5(j[0]);let $=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!$){const z=await v.request({method:"eth_chainId"});$=q8(z)}const M={domain:C.host,address:L,statement:g,uri:C.href,version:"1",chainId:$,nonce:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(s=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.notBefore,requestId:(o=p==null?void 0:p.signInWithEthereum)===null||o===void 0?void 0:o.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};d=H8(M),y=await v.request({method:"personal_sign",params:[W8(d),L]})}try{const{data:b,error:m}=await nr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:d,signature:y},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:ls});if(m)throw m;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Lu}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:m})}catch(b){if(Zt(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var e,n,l,i,s,u,a,o,c,f,h,d;let y,b;if("message"in t)y=t.message,b=t.signature;else{const{chain:m,wallet:g,statement:p,options:v}=t;let C;if(ji())if(typeof g=="object")C=g;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))C=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=g}const j=new URL((e=v==null?void 0:v.url)!==null&&e!==void 0?e:window.location.href);if("signIn"in C&&C.signIn){const L=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let $;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")$=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)$=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in $&&"signature"in $&&(typeof $.signedMessage=="string"||$.signedMessage instanceof Uint8Array)&&$.signature instanceof Uint8Array)y=typeof $.signedMessage=="string"?$.signedMessage:new TextDecoder().decode($.signedMessage),b=$.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(l=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((s=v==null?void 0:v.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((a=v==null?void 0:v.signInWithSolana)===null||a===void 0)&&a.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(c=v==null?void 0:v.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map($=>`- ${$}`)]:[]].join(`
`);const L=await C.signMessage(new TextEncoder().encode(y),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=L}}try{const{data:m,error:g}=await nr(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:p8(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(d=t.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:ls});if(g)throw g;return!m||!m.session||!m.user?{data:{user:null,session:null},error:new Lu}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:Object.assign({},m),error:g})}catch(m){if(Zt(m))return{data:{user:null,session:null},error:m};throw m}}async _exchangeCodeForSession(t){const e=await sa(this.storage,`${this.storageKey}-code-verifier`),[n,l]=(e??"").split("/");try{const{data:i,error:s}=await nr(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ls});if(await go(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Lu}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:l??null}),error:s})}catch(i){if(Zt(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:e,provider:n,token:l,access_token:i,nonce:s}=t,u=await nr(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:l,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:e==null?void 0:e.captchaToken}},xform:ls}),{data:a,error:o}=u;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Lu}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:a,error:o})}catch(e){if(Zt(e))return{data:{user:null,session:null},error:e};throw e}}async signInWithOtp(t){var e,n,l,i,s;try{if("email"in t){const{email:u,options:a}=t;let o=null,c=null;this.flowType==="pkce"&&([o,c]=await Za(this.storage,this.storageKey));const{error:f}=await nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(e=a==null?void 0:a.data)!==null&&e!==void 0?e:{},create_user:(n=a==null?void 0:a.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},code_challenge:o,code_challenge_method:c},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:u,options:a}=t,{data:o,error:c}=await nr(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(l=a==null?void 0:a.data)!==null&&l!==void 0?l:{},create_user:(i=a==null?void 0:a.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken},channel:(s=a==null?void 0:a.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:c}}throw new Fd("You must provide either an email or phone number.")}catch(u){if(Zt(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(t){var e,n;try{let l,i;"options"in t&&(l=(e=t.options)===null||e===void 0?void 0:e.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:u}=await nr(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:l,xform:ls});if(u)throw u;if(!s)throw new Error("An error occurred on token verification.");const a=s.session,o=s.user;return a!=null&&a.access_token&&(await this._saveSession(a),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",a)),{data:{user:o,session:a},error:null}}catch(l){if(Zt(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(t){var e,n,l;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=await Za(this.storage,this.storageKey)),await nr(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(e=t.options)===null||e===void 0?void 0:e.redirectTo)!==null&&n!==void 0?n:void 0}),!((l=t==null?void 0:t.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:M8})}catch(i){if(Zt(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:e},error:n}=t;if(n)throw n;if(!e)throw new vo;const{error:l}=await nr(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:e.access_token});return{data:{user:null,session:null},error:l}})}catch(t){if(Zt(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const e=`${this.url}/resend`;if("email"in t){const{email:n,type:l,options:i}=t,{error:s}=await nr(this.fetch,"POST",e,{headers:this.headers,body:{email:n,type:l,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:l,options:i}=t,{data:s,error:u}=await nr(this.fetch,"POST",e,{headers:this.headers,body:{phone:n,type:l,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:u}}throw new Fd("You must provide either an email or phone number and a type")}catch(e){if(Zt(e))return{data:{user:null,session:null},error:e};throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(t,e){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await n,await e()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=e();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const e=await this.__loadSession();return await t(e)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const e=await sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",e),e!==null&&(this._isValidSession(e)?t=e:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<wp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await sa(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=Sp()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(a,o,c)=>(!s&&o==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(a,o,c))})}return{data:{session:t},error:null}}const{session:l,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ko}):await this._useSession(async e=>{var n,l,i;const{data:s,error:u}=e;if(u)throw u;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vo}:await nr(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(l=s.session)===null||l===void 0?void 0:l.access_token)!==null&&i!==void 0?i:void 0,xform:ko})})}catch(e){if(Zt(e))return o8(e)&&(await this._removeSession(),await go(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:e};throw e}}async updateUser(t,e={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,e))}async _updateUser(t,e={}){try{return await this._useSession(async n=>{const{data:l,error:i}=n;if(i)throw i;if(!l.session)throw new vo;const s=l.session;let u=null,a=null;this.flowType==="pkce"&&t.email!=null&&([u,a]=await Za(this.storage,this.storageKey));const{data:o,error:c}=await nr(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:e==null?void 0:e.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:u,code_challenge_method:a}),jwt:s.access_token,xform:ko});if(c)throw c;return s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(Zt(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new vo;const e=Date.now()/1e3;let n=e,l=!0,i=null;const{payload:s}=_p(t.access_token);if(s.exp&&(n=s.exp,l=n<=e),l){const{session:u,error:a}=await this._callRefreshToken(t.refresh_token);if(a)return{data:{user:null,session:null},error:a};if(!u)return{data:{user:null,session:null},error:null};i=u}else{const{data:u,error:a}=await this._getUser(t.access_token);if(a)throw a;i={access_token:t.access_token,refresh_token:t.refresh_token,user:u.user,token_type:"bearer",expires_in:n-e,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(e){if(Zt(e))return{data:{session:null,user:null},error:e};throw e}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async e=>{var n;if(!t){const{data:s,error:u}=e;if(u)throw u;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new vo;const{session:l,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(e){if(Zt(e))return{data:{user:null,session:null},error:e};throw e}}async _getSessionFromURL(t,e){try{if(!ji())throw new Bd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Bd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(e){case"implicit":if(this.flowType==="pkce")throw new h2("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Bd("Not a valid implicit grant flow url.");break;default:}if(e==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new h2("No code detected.");const{data:p,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:l,access_token:i,refresh_token:s,expires_in:u,expires_at:a,token_type:o}=t;if(!i||!u||!s||!o)throw new Bd("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(u);let h=c+f;a&&(h=parseInt(a));const d=h-c;d*1e3<=ol&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${f}s`);const y=h-f;c-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,h,c):c-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,h,c);const{data:b,error:m}=await this._getUser(i);if(m)throw m;const g={provider_token:n,provider_refresh_token:l,access_token:i,expires_in:f,expires_at:h,refresh_token:s,token_type:o,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:t.type},error:null}}catch(n){if(Zt(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const e=await sa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&e)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async e=>{var n;const{data:l,error:i}=e;if(i)return{error:i};const s=(n=l.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:u}=await this.admin.signOut(s,t);if(u&&!(s8(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return t!=="others"&&(await this._removeSession(),await go(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const e=g8(),n={id:e,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",e),this.stateChangeEmitters.delete(e)}};return this._debug("#onAuthStateChange()","registered callback with id",e),this.stateChangeEmitters.set(e,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(e)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async e=>{var n,l;try{const{data:{session:i},error:s}=e;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,e={}){let n=null,l=null;this.flowType==="pkce"&&([n,l]=await Za(this.storage,this.storageKey,!0));try{return await nr(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:l,gotrue_meta_security:{captcha_token:e.captchaToken}},headers:this.headers,redirectTo:e.redirectTo})}catch(i){if(Zt(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:e,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=e.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(e){if(Zt(e))return{data:null,error:e};throw e}}async linkIdentity(t){var e;try{const{data:n,error:l}=await this._useSession(async i=>{var s,u,a,o,c;const{data:f,error:h}=i;if(h)throw h;const d=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(u=t.options)===null||u===void 0?void 0:u.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:!0});return await nr(this.fetch,"GET",d,{headers:this.headers,jwt:(c=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0})});if(l)throw l;return ji()&&!(!((e=t.options)===null||e===void 0)&&e.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Zt(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async e=>{var n,l;const{data:i,error:s}=e;if(s)throw s;return await nr(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(l=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&l!==void 0?l:void 0})})}catch(e){if(Zt(e))return{data:null,error:e};throw e}}async _refreshAccessToken(t){const e=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(e,"begin");try{const n=Date.now();return await w8(async l=>(l>0&&await v8(200*Math.pow(2,l-1)),this._debug(e,"refreshing attempt",l),await nr(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ls})),(l,i)=>{const s=200*Math.pow(2,l);return i&&xp(i)&&Date.now()+s-n<ol})}catch(n){if(this._debug(e,"error",n),Zt(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(e,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,e){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:e.redirectTo,scopes:e.scopes,queryParams:e.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",e,"url",n),ji()&&!e.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const l=await sa(this.storage,this.storageKey);if(l&&this.userStorage){let s=await sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:l.user},await al(this.userStorage,this.storageKey+"-user",s)),l.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:Sp()}else if(l&&!l.user&&!l.user){const s=await sa(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(l.user=s.user,await go(this.storage,this.storageKey+"-user"),await al(this.storage,this.storageKey,l)):l.user=Sp()}if(this._debug(n,"session from storage",l),!this._isValidSession(l)){this._debug(n,"session is not valid"),l!==null&&await this._removeSession();return}const i=((e=l.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<wp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${wp}s`),i){if(this.autoRefreshToken&&l.refresh_token){const{error:s}=await this._callRefreshToken(l.refresh_token);s&&(console.error(s),xp(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:u}=await this._getUser(l.access_token);!u&&(s!=null&&s.user)?(l.user=s.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(n,"error",l),console.error(l);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var e,n;if(!t)throw new vo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new df;const{data:i,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new vo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const u={session:i.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(i){if(this._debug(l,"error",i),Zt(i)){const s={session:null,error:i};return xp(i)||await this._removeSession(),(e=this.refreshingDeferred)===null||e===void 0||e.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(t,e,n=!0){const l=`#_notifyAllSubscribers(${t})`;this._debug(l,"begin",e,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:e});const i=[],s=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(t,e)}catch(a){i.push(a)}});if(await Promise.all(s),i.length>0){for(let u=0;u<i.length;u+=1)console.error(i[u]);throw i[0]}}finally{this._debug(l,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const e=Object.assign({},t),n=e.user&&e.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&e.user&&await al(this.userStorage,this.storageKey+"-user",{user:e.user});const l=Object.assign({},e);delete l.user;const i=b2(l);await al(this.storage,this.storageKey,i)}else{const l=b2(e);await al(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await go(this.storage,this.storageKey),await go(this.storage,this.storageKey+"-code-verifier"),await go(this.storage,this.storageKey+"-user"),this.userStorage&&await go(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ji()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ol);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async e=>{const{data:{session:n}}=e;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((n.expires_at*1e3-t)/ol);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${ol}ms, refresh threshold is ${B0} ticks`),l<=B0&&await this._callRefreshToken(n.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof i5)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ji()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const e=`#_onVisibilityChanged(${t})`;this._debug(e,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(e,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,e,n){const l=[`provider=${encodeURIComponent(e)}`];if(n!=null&&n.redirectTo&&l.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&l.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,s]=await Za(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});l.push(u.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);l.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&l.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${l.join("&")}`}async _unenroll(t){try{return await this._useSession(async e=>{var n;const{data:l,error:i}=e;return i?{data:null,error:i}:await nr(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token})})}catch(e){if(Zt(e))return{data:null,error:e};throw e}}async _enroll(t){try{return await this._useSession(async e=>{var n,l;const{data:i,error:s}=e;if(s)return{data:null,error:s};const u=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:a,error:o}=await nr(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(t.factorType==="totp"&&(!((l=a==null?void 0:a.totp)===null||l===void 0)&&l.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(e){if(Zt(e))return{data:null,error:e};throw e}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var n;const{data:l,error:i}=e;if(i)return{data:null,error:i};const{data:s,error:u}=await nr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:u})})}catch(e){if(Zt(e))return{data:null,error:e};throw e}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async e=>{var n;const{data:l,error:i}=e;return i?{data:null,error:i}:await nr(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token})})}catch(e){if(Zt(e))return{data:null,error:e};throw e}})}async _challengeAndVerify(t){const{data:e,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:e.id,code:t.code})}async _listFactors(){const{data:{user:t},error:e}=await this.getUser();if(e)return{data:null,error:e};const n=(t==null?void 0:t.factors)||[],l=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:l,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var e,n;const{data:{session:l},error:i}=t;if(i)return{data:null,error:i};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=_p(l.access_token);let u=null;s.aal&&(u=s.aal);let a=u;((n=(e=l.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const c=s.amr||[];return{data:{currentLevel:u,nextLevel:a,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,e={keys:[]}){let n=e.keys.find(u=>u.kid===t);if(n)return n;const l=Date.now();if(n=this.jwks.keys.find(u=>u.kid===t),n&&this.jwks_cached_at+n8>l)return n;const{data:i,error:s}=await nr(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=l,n=i.keys.find(u=>u.kid===t),!n)?null:n}async getClaims(t,e={}){try{let n=t;if(!n){const{data:d,error:y}=await this.getSession();if(y||!d.session)return{data:null,error:y};n=d.session.access_token}const{header:l,payload:i,signature:s,raw:{header:u,payload:a}}=_p(n);e!=null&&e.allowExpired||E8(i.exp);const o=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,e!=null&&e.keys?{keys:e.keys}:e==null?void 0:e.jwks);if(!o){const{error:d}=await this.getUser(n);if(d)throw d;return{data:{claims:i,header:l,signature:s},error:null}}const c=j8(l.alg),f=await crypto.subtle.importKey("jwk",o,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,s,f8(`${u}.${a}`)))throw new U0("Invalid JWT signature");return{data:{claims:i,header:l,signature:s},error:null}}catch(n){if(Zt(n))return{data:null,error:n};throw n}}}Ac.nextInstanceID=0;const G8=Ac;class K8 extends G8{constructor(t){super(t)}}var X8=function(r,t,e,n){function l(i){return i instanceof e?i:new e(function(s){s(i)})}return new(e||(e=Promise))(function(i,s){function u(c){try{o(n.next(c))}catch(f){s(f)}}function a(c){try{o(n.throw(c))}catch(f){s(f)}}function o(c){c.done?i(c.value):l(c.value).then(u,a)}o((n=n.apply(r,t||[])).next())})};class Y8{constructor(t,e,n){var l,i,s;this.supabaseUrl=t,this.supabaseKey=e;const u=Z_(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const a=`sb-${u.hostname.split(".")[0]}-auth-token`,o={db:$_,realtime:W_,auth:Object.assign(Object.assign({},q_),{storageKey:a}),global:U_},c=J_(n??{},o);this.storageKey=(l=c.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=c.auth)!==null&&s!==void 0?s:{},this.headers,c.global.fetch),this.fetch=K_(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new i_(new URL("rest/v1",u).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new B_(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new O6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return X8(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(e=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:l,userStorage:i,storageKey:s,flowType:u,lock:a,debug:o},c,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new K8({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:l,userStorage:i,flowType:u,lock:a,debug:o,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(d=>d.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new x_(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,n)=>{this._handleTokenChanged(e,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const J8=(r,t,e)=>new Y8(r,t,e);function Z8(){if(typeof window<"u"||typeof process>"u")return!1;const r=process.version;if(r==null)return!1;const t=r.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Z8()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const l1={SUPABASE_URL:"https://smgykukpclxbgbqgyslv.supabase.co",SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtZ3lrdWtwY2x4YmdicWd5c2x2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjQ4MTIzODEsImV4cCI6MjA4MDM4ODM4MX0.Fpea0d3KMUpVw0GxYOg7cMTACS1tAUlvzCUGO-93AfE"};console.log("[CONFIG] Environment configuration loaded");console.log("[CONFIG] SUPABASE_URL:",l1.SUPABASE_URL);console.log("[CONFIG] SUPABASE_ANON_KEY:","Present");const oc=l1.SUPABASE_URL,Q8=l1.SUPABASE_ANON_KEY;console.log("[SUPABASE] URL:",oc);console.log("[SUPABASE] Anon Key:","Present");console.log("[SUPABASE] Full URL check:",oc!=null&&oc.includes("supabase.co")?"Valid":"Invalid");const At=J8(oc,Q8,{auth:{persistSession:!1,autoRefreshToken:!1,detectSessionInUrl:!1},realtime:{params:{eventsPerSecond:10}},global:{headers:{"X-Client-Info":"sanitation-pwa"}}});console.log("[SUPABASE] Testing connection...");(async()=>{try{const{data:r,error:t}=await At.from("sanitation_records").select("count",{count:"exact",head:!0});t?(console.error("[SUPABASE] Connection test failed:",t),console.error("[SUPABASE] Error details:",{message:t.message,details:t.details,hint:t.hint,code:t.code})):console.log("[SUPABASE] Connection test successful",r)}catch(r){console.error("[SUPABASE] Connection test error:",r)}})();const e7=[{username:"admin",password:"admin123",full_name:"Administrator",role:"admin",permissions:["create_record","edit_record","delete_record","view_records","save_all_draft_to_completed","export_records","manage_users","view_admin_panel","delete_monitoring_records"]},{username:"supervisor",password:"super123",full_name:"Supervisor",role:"supervisor",permissions:["create_record","edit_record","view_records","export_records"]},{username:"qcfield",password:"qc123",full_name:"QC Field",role:"qc_field",permissions:["create_record","view_records"]},{username:"manajer",password:"manajer123",full_name:"Manager",role:"manajer",permissions:["create_record","edit_record","delete_record","view_records","export_records","view_admin_panel","manage_master_data"]}];class t7{constructor(){Ms(this,"currentUser",null);Ms(this,"initialized",!1)}async initializeDefaultUsers(){if(!this.initialized){this.initialized=!0;try{for(const t of e7){const{data:e,error:n}=await At.from("app_users").select("id").eq("username",t.username).maybeSingle();if(n){console.error(`Error checking user ${t.username}:`,n);continue}if(!e){const{data:l,error:i}=await At.from("app_users").insert({username:t.username,password_hash:t.password,full_name:t.full_name,role:t.role,is_active:!0,allowed_menus:["sanitasi_besar","kliping","monitoring_area","audit_internal"],allowed_plants:["Plant-1","Plant-2","Plant-3"],created_by:"system"}).select().maybeSingle();if(i){if(i.code==="23505"){console.log(`User ${t.username} already exists (caught unique constraint violation)`);continue}console.error(`Error creating user ${t.username}:`,i);continue}if(l)for(const s of t.permissions){const{error:u}=await At.from("user_permissions").insert({user_id:l.id,permission:s});u&&u.code!=="23505"&&console.error(`Error adding permission ${s}:`,u)}}}}catch(t){console.error("Failed to initialize default users:",t)}}}async login(t,e){try{console.log("Login attempt:",t);const{data:n,error:l}=await At.from("app_users").select("*").eq("username",t).eq("is_active",!0).maybeSingle();if(console.log("User query result:",{user:n,error:l}),l)return console.error("Database error:",l),null;if(!n)return console.error("User not found or inactive"),null;if(console.log("Password check:",{provided:e,stored:n.password_hash}),n.password_hash!==e)return console.error("Invalid password"),null;const{data:i}=await At.from("user_permissions").select("permission").eq("user_id",n.id);let s=n.allowed_menus||[],u=n.allowed_plants||[];if(typeof s=="string")try{s=JSON.parse(s)}catch{s=[]}if(typeof u=="string")try{u=JSON.parse(u)}catch{u=[]}const a={id:n.id,username:n.username,full_name:n.full_name,role:n.role,is_active:n.is_active,permissions:(i==null?void 0:i.map(o=>o.permission))||[],allowed_menus:Array.isArray(s)?s:[],allowed_plants:Array.isArray(u)?u:[]};return this.currentUser=a,localStorage.setItem("currentUser",JSON.stringify(a)),a}catch(n){return console.error("Login error:",n),null}}logout(){this.currentUser=null,localStorage.removeItem("currentUser")}getCurrentUser(){if(this.currentUser)return this.currentUser;const t=localStorage.getItem("currentUser");return t?(this.currentUser=JSON.parse(t),this.currentUser):null}hasPermission(t){const e=this.getCurrentUser();return(e==null?void 0:e.permissions.includes(t))||!1}hasMenuAccess(t){const e=this.getCurrentUser();return e?e.allowed_menus.includes(t):!1}hasPlantAccess(t){const e=this.getCurrentUser();return e?e.allowed_plants.includes(t):!1}getAllowedPlants(){const t=this.getCurrentUser(),e=t==null?void 0:t.allowed_plants;if(!e)return[];if(Array.isArray(e))return e;if(typeof e=="string")try{const n=JSON.parse(e);return Array.isArray(n)?n:[]}catch{return[]}return[]}getAllowedMenus(){const t=this.getCurrentUser(),e=t==null?void 0:t.allowed_menus;if(!e)return[];if(Array.isArray(e))return e;if(typeof e=="string")try{const n=JSON.parse(e);return Array.isArray(n)?n:[]}catch{return[]}return[]}isAdmin(){const t=this.getCurrentUser();return(t==null?void 0:t.role)==="admin"||!1}async getAllUsers(){try{const{data:t}=await At.from("app_users").select("*").order("created_at",{ascending:!1});return t?await Promise.all(t.map(async n=>{const{data:l}=await At.from("user_permissions").select("permission").eq("user_id",n.id);let i=n.allowed_menus||[],s=n.allowed_plants||[];if(typeof i=="string")try{i=JSON.parse(i)}catch{i=[]}if(typeof s=="string")try{s=JSON.parse(s)}catch{s=[]}return{...n,permissions:(l==null?void 0:l.map(u=>u.permission))||[],allowed_menus:Array.isArray(i)?i:[],allowed_plants:Array.isArray(s)?s:[]}})):[]}catch(t){return console.error("Failed to get users:",t),[]}}async createUser(t){var e;try{const{data:n,error:l}=await At.from("app_users").insert({username:t.username,password_hash:t.password,full_name:t.full_name,role:t.role,is_active:!0,allowed_menus:t.allowed_menus,allowed_plants:t.allowed_plants,created_by:((e=this.currentUser)==null?void 0:e.username)||"admin"}).select().single();if(l||!n)return console.error("Failed to create user:",l),!1;for(const i of t.permissions)await At.from("user_permissions").insert({user_id:n.id,permission:i});return!0}catch(n){return console.error("Create user error:",n),!1}}async updateUser(t,e){try{const n={};if(e.full_name&&(n.full_name=e.full_name),e.role&&(n.role=e.role),e.is_active!==void 0&&(n.is_active=e.is_active),e.allowed_menus!==void 0&&(n.allowed_menus=e.allowed_menus),e.allowed_plants!==void 0&&(n.allowed_plants=e.allowed_plants),Object.keys(n).length>0){const{error:l}=await At.from("app_users").update(n).eq("id",t);if(l)return console.error("Failed to update user:",l),!1}if(e.permissions){await At.from("user_permissions").delete().eq("user_id",t);for(const l of e.permissions)await At.from("user_permissions").insert({user_id:t,permission:l})}return!0}catch(n){return console.error("Update user error:",n),!1}}async deleteUser(t){try{const{error:e}=await At.from("app_users").delete().eq("id",t);return!e}catch(e){return console.error("Delete user error:",e),!1}}async getPermissionDefinitions(){try{const{data:t}=await At.from("permission_definitions").select("*").order("category",{ascending:!0});return t||[]}catch(t){return console.error("Failed to get permission definitions:",t),[]}}async getUserPermissions(t){try{const{data:e}=await At.from("app_users").select("id").eq("username",t).maybeSingle();if(!e)return[];const{data:n}=await At.from("user_permissions").select("permission").eq("user_id",e.id);return(n==null?void 0:n.map(l=>l.permission))||[]}catch(e){return console.error("Failed to get user permissions:",e),[]}}}const tr=new t7,r7=r=>tr.getUserPermissions(r);function n7(){const[r,t]=me.useState(""),[e,n]=me.useState(""),[l,i]=me.useState(!1),[s,u]=me.useState(""),[a,o]=me.useState(!1),{setCurrentUser:c}=Lc(),f=On();me.useEffect(()=>{tr.initializeDefaultUsers()},[]);const h=async d=>{d.preventDefault(),u(""),o(!0);try{const y=await tr.login(r,e);y?(c(y.username),f("/menu")):u("NIK atau Password salah!")}catch{u("Terjadi kesalahan saat login")}finally{o(!1)}};return R.jsx("div",{className:"container",children:R.jsxs("div",{className:"card",children:[R.jsx("div",{className:"header",style:{textAlign:"center"},children:R.jsx("img",{src:"/ISS.svg",alt:"ISS Track Logo",style:{width:"250px",height:"auto",marginBottom:"1rem"}})}),R.jsxs("form",{onSubmit:h,children:[s&&R.jsx("div",{className:"alert alert-error",children:s}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"NIK"}),R.jsx("input",{type:"text",className:"input",value:r,onChange:d=>t(d.target.value),placeholder:"Masukkan NIK",required:!0,autoComplete:"username"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"Password"}),R.jsxs("div",{style:{position:"relative"},children:[R.jsx("input",{type:l?"text":"password",className:"input",value:e,onChange:d=>n(d.target.value),placeholder:"Masukkan Password",required:!0,autoComplete:"current-password",style:{paddingRight:"3rem"}}),R.jsx("button",{type:"button",onClick:()=>i(!l),style:{position:"absolute",right:"1rem",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#6B7280"},children:l?R.jsx(P6,{size:20}):R.jsx(ys,{size:20})})]})]}),R.jsx("button",{type:"submit",className:"button button-primary",disabled:!r||!e||a,children:a?"Memproses...":"Masuk"}),R.jsx("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#F3F4F6",borderRadius:"0.5rem",fontSize:"0.875rem"},children:R.jsx("p",{style:{fontWeight:"600",marginBottom:"0.5rem"},children:"Default Password: Ind0f00d25"})})]})]})})}const i7=()=>{const r=On(),{setCurrentUser:t}=Lc(),e=tr.getCurrentUser(),[n,l]=me.useState(0);me.useEffect(()=>{e||r("/")},[e,r]),me.useEffect(()=>{n>=5&&tr.hasPermission("view_admin_panel")&&r("/admin");const o=setTimeout(()=>l(0),2e3);return()=>clearTimeout(o)},[n,r]);const i=[{id:"sanitasi_besar",icon:T6,title:"Sanitasi Besar",color:"#3B82F6",available:!0},{id:"kliping",icon:E6,title:"Kliping",color:"#10B981",available:!0},{id:"monitoring_area",icon:N6,title:"Monitoring Area",color:"#F1AA62",available:!0},{id:"audit_internal",icon:R6,title:"Audit Internal",color:"#8B5CF6",available:!1}],s=(o,c)=>{if(!c){alert("Coming soon, yeay! ");return}if(!tr.hasMenuAccess(o)){alert("Anda tidak memiliki akses ke menu ini. Silakan hubungi administrator.");return}o==="sanitasi_besar"?r("/plant-selection"):o==="kliping"?r("/plant-selection-kliping"):o==="monitoring_area"&&r("/plant-selection-monitoring")},u=()=>{l(o=>o+1)},a=()=>{tr.logout(),t(""),r("/")};return R.jsx("div",{className:"container",children:R.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"800px",margin:"0 auto"},children:[R.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[R.jsx("h1",{onClick:u,style:{fontSize:"2rem",fontWeight:"bold",color:"#1F2937",marginBottom:"0.5rem",cursor:"default",userSelect:"none"},children:"Pilih Menu"}),R.jsxs("p",{style:{color:"#6B7280",fontSize:"0.875rem"},children:["Selamat datang, ",e==null?void 0:e.full_name]})]}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem",marginBottom:"2rem"},children:i.map(o=>{const c=o.icon,f=tr.hasMenuAccess(o.id),h=!o.available||!f;return R.jsxs("button",{onClick:()=>s(o.id,o.available),style:{background:h?"#F3F4F6":o.color,color:h?"#9CA3AF":"white",border:"none",borderRadius:"1rem",padding:"2rem 1rem",cursor:h?"not-allowed":"pointer",transition:"all 0.3s ease",opacity:h?.6:1,display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem",boxShadow:h?"none":"0 4px 6px rgba(0, 0, 0, 0.1)",transform:"scale(1)"},onMouseEnter:d=>{h||(d.currentTarget.style.transform="scale(1.05)",d.currentTarget.style.boxShadow="0 10px 20px rgba(0, 0, 0, 0.15)")},onMouseLeave:d=>{h||(d.currentTarget.style.transform="scale(1)",d.currentTarget.style.boxShadow="0 4px 6px rgba(0, 0, 0, 0.1)")},children:[R.jsx(c,{size:48}),R.jsx("span",{style:{fontSize:"1.125rem",fontWeight:"600",textAlign:"center"},children:o.title}),!o.available&&R.jsx("span",{style:{fontSize:"0.75rem",opacity:.8},children:"Coming Soon"}),o.available&&!f&&R.jsx("span",{style:{fontSize:"0.75rem",opacity:.8},children:"No Access"})]},o.id)})}),tr.hasPermission("view_admin_panel")&&R.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #E5E7EB"},children:R.jsxs("button",{onClick:()=>r("/admin"),style:{background:"#6366F1",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 2rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background 0.3s ease",display:"inline-flex",alignItems:"center",gap:"0.5rem"},onMouseEnter:o=>{o.currentTarget.style.background="#4F46E5"},onMouseLeave:o=>{o.currentTarget.style.background="#6366F1"},children:[R.jsx(Lv,{size:20}),"Admin Panel"]})}),R.jsx("div",{style:{textAlign:"center"},children:R.jsx("button",{onClick:a,style:{background:"#EF4444",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 2rem",fontSize:"1rem",fontWeight:"600",cursor:"pointer",transition:"background 0.3s ease"},onMouseEnter:o=>{o.currentTarget.style.background="#DC2626"},onMouseLeave:o=>{o.currentTarget.style.background="#EF4444"},children:"Logout"})})]})})},$l={"Plant-1":Array.from({length:8},(r,t)=>t+1),"Plant-2":Array.from({length:15},(r,t)=>t+16),"Plant-3":Array.from({length:3},(r,t)=>t+31)},sh=["Silo","Mixer","Roll Press","Steambox","Cutter dan Folder","Fryer","Cooling Box","Packing"],$0={Silo:["Sievter Silo","Pembersihan selongsong sieveter silo"],Mixer:["Bagian dalam mixer","Baling - Baling mixer dan pipa distribusi alkali","Bagian dalam corong mixer dan flexible hose","Motor penggerak mixer bagian depan","Motor penggerak mixer bagian belakang","Weighing Tank Alkali"],"Roll Press":["Feeder doughsheet","Chute feeder","Roll press ganda","Belt kotak cangkulan press","Scrapper roll ganda","Conveyor/ban Chord doughsheet","Kolong bagian bawah press","Roll press continous","Slitter","Waving net","Mesin press keseluruhan"],Steambox:["Net steambox","Bagian dalam steambox","Bodi steambox keseluruhan","Lantai bawah steambox"],"Cutter dan Folder":["Cutter","Palet/net distributor","Bagian bawah roll cutter folder"],Fryer:["Mangkok fryer","Bagian dalam kuali fryer","Strainer","Talang out fryer"],"Cooling Box":["Plat perforasi / net cooling","Cover bagian bawah cooling","Filter Cooling","Exhaust cooling","Body cooling keseluruhan"],Packing:["Conveyor pembagi / chanilizer out cooling","Talang penampung conveyor chanelizer","Bak penampung mie","Anting-anting","Autoloader","Meja infeed packing","Infeed packing","Mesin packing"]},s7={"Sievter Silo":"Pembersihan sievter dari sisa tepung terigu","Pembersihan selongsong sieveter silo":"Pembersihan selongsong sievter dari sisa tepung terigu","Bagian dalam mixer":"Wet cleaning menggunakan Vosen Divertig","Baling - Baling mixer dan pipa distribusi alkali":"Wet cleaning menggunakan Vosen Divertig","Bagian dalam corong mixer dan flexible hose":"Pembersihan flexible hoose dari sisa tepung terigu","Motor penggerak mixer bagian depan":"Pembersihan motor penggerak bagian depan mixer","Motor penggerak mixer bagian belakang":"Pembersihan motor penggerak bagian belakang mixer","Weighing Tank Alkali":"Pembersihan weighting tank alkali dari sisa alkali","Feeder doughsheet":"Pembersihan feeder doughsheet dari sisa adonan","Chute feeder":"Pembersihan chute feeder dari sisa adonan","Roll press ganda":"Pembersihan roll press ganda dari sisa adonan","Belt kotak cangkulan press":"Pembersihan belt cangkulan press dari sisa adonan","Scrapper roll ganda":"Pembersihan scrapper roll ganda dari sisa adonan","Conveyor/ban Chord doughsheet":"Pembersihan conveyor penghantar adonan roll press dari sisa adonan","Kolong bagian bawah press":"Pembersihan bagian bawah roll press d","Roll press continous":"Pembersihan roll press continues dari sisa adonan",Slitter:"Pembersihan slitter dari sisa adonan","Waving net":"Pembersihan waving net dari sisa adonan","Mesin press keseluruhan":"Pembersihan bodi luar dan dalam roll press mixer","Net steambox":"Pembersihan net steambox dari sisa untaian mie","Bagian dalam steambox":"Pembersihan bagian dalam steambox dari sisa untaian mie","Bodi steambox keseluruhan":"Pembersihan bodi luar steambox","Lantai bawah steambox":"Pembersihan lantai bawah steambox",Cutter:"Pembersihan cutter dan folder dari sisa untaian mie","Palet/net distributor":"Pembersihan net distributor dari sisa untaian mie","Bagian bawah roll cutter folder":"Pembersihan bagian bawah cutter dan folder","Mangkok fryer":"Pembersihan mangkok fryer dari sisa mie HH/HP","Bagian dalam kuali fryer":"Pembersihan kuali fryer dari sisa mie HH/HP",Strainer:"Pembersihan strainer dari sisa mie HH/HP","Talang out fryer":"Pembersihan talang out fryer dari sisa mie HH/HP","Plat perforasi / net cooling":"Pembersihan plat perforasi cooling bagian atas dan bawah dari sisa mie HH/HP","Cover bagian bawah cooling":"Pembersihan bagian bawah coolingdari sisa mie HH/HP","Filter Cooling":"Pembersihan dan pencucian filter cooling","Exhaust cooling":"Pembersihan exhaust cooling","Body cooling keseluruhan":"Pembersihan bodi luar dan dalam cooling","Conveyor pembagi / chanilizer out cooling":"Pembersihan channelizer","Talang penampung conveyor chanelizer":"Pembersihan talang penampung mie ex-channelizer","Bak penampung mie":"Pembersihan bak penampung mie di area packing","Anting-anting":"Pembersihan dan pencucian anting-anting",Autoloader:`Pembersihan autoloader :
- chute autoloader
- pusher lug conveyor
- bodi autoloader`,"Meja infeed packing":"Pembersihan meja panampung seasoning","Infeed packing":"Pembersihan area infeed packing","Mesin packing":`Pembersihan mesin packing secara menyeluruh
- talang penampung bagian bawah mesin
- bodi mesin packing
- heater longsealer dan endsealer`};function o7(){const{setSelectedPlant:r,currentUser:t,isLoading:e}=Lc(),n=On(),l=tr.getAllowedPlants();hb.useEffect(()=>{!e&&!t&&n("/")},[t,e,n]);const i=f=>{r(f),n("/records")},s=()=>{n("/menu")},u=()=>{n("/master-data")};if(e)return R.jsx("div",{className:"container",children:R.jsx("div",{className:"loading",children:R.jsx("div",{className:"spinner"})})});if(!t)return null;const a=Object.keys($l).filter(f=>l.includes(f)),o=tr.getCurrentUser(),c=tr.hasPermission("view_admin_panel")||tr.hasPermission("manage_master_data")||(o==null?void 0:o.role)==="manajer"||(o==null?void 0:o.role)==="supervisor";return R.jsxs("div",{className:"container",children:[R.jsx("button",{className:"back-button",onClick:s,children:R.jsx(Oi,{size:24})}),R.jsxs("div",{className:"card",children:[R.jsxs("div",{className:"header",children:[R.jsx("h1",{className:"title",children:"Pilih Plant"}),R.jsx("p",{className:"subtitle",children:"Pilih plant yang mau diinput"})]}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[a.length>0?a.map(f=>R.jsx("button",{className:"button button-secondary",onClick:()=>i(f),style:{padding:"1.5rem",fontSize:"1.25rem",fontWeight:"bold"},children:f},f)):R.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#6B7280"},children:"Anda tidak memiliki akses ke plant manapun. Silakan hubungi administrator."}),c&&R.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1.5rem",borderTop:"2px solid #E5E7EB"},children:[R.jsxs("button",{className:"button",onClick:u,style:{background:"linear-gradient(135deg, #10B981 0%, #059669 100%)",color:"white",padding:"1.25rem",fontSize:"1.125rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.75rem",boxShadow:"0 4px 6px rgba(16, 185, 129, 0.3)",border:"none"},children:[R.jsx(j6,{size:24}),"Master Data Management"]}),R.jsx("p",{style:{textAlign:"center",marginTop:"0.75rem",fontSize:"0.875rem",color:"#6B7280"},children:"Kelola Areas dan Bagian Sanitasi"})]})]})]})]})}class a7{constructor(){Ms(this,"queue",[]);Ms(this,"running",0);Ms(this,"maxConcurrent",3);Ms(this,"abortController",null)}setMaxConcurrent(t){this.maxConcurrent=t}async add(t){return new Promise((e,n)=>{this.queue.push(async()=>{var l;try{if((l=this.abortController)!=null&&l.signal.aborted)throw new Error("Request aborted");const i=await t();e(i)}catch(i){n(i)}}),this.process()})}async process(){if(this.running>=this.maxConcurrent||this.queue.length===0)return;this.running++;const t=this.queue.shift();if(t)try{await t()}catch(e){console.error("[REQUEST QUEUE] Error:",e)}finally{this.running--,this.process()}}abort(){this.abortController||(this.abortController=new AbortController),this.abortController.abort(),this.queue=[],this.running=0,console.log("[REQUEST QUEUE] Aborted all pending requests")}reset(){this.abortController=null,this.queue=[],this.running=0}getStatus(){return{queued:this.queue.length,running:this.running,maxConcurrent:this.maxConcurrent}}}const Ca=new a7,Bc=async r=>{try{const{error:t}=await At.from("audit_logs").insert({table_name:r.table_name,record_id:r.record_id,affected_count:r.affected_count,deleted_by:r.deleted_by,action:r.action||"DELETE",plant:r.plant,additional_info:r.additional_info||{}});t?console.error("[AUDIT LOG] Failed to log delete:",t):console.log("[AUDIT LOG] Delete logged successfully:",{table:r.table_name,record_id:r.record_id,deleted_by:r.deleted_by})}catch(t){console.error("[AUDIT LOG] Error logging delete:",t)}},l7=async r=>{try{console.log("[AUDIT LOG] Fetching audit logs with filters:",r);let t=At.from("audit_logs").select("*").order("deleted_at",{ascending:!1});r!=null&&r.table_name&&(t=t.eq("table_name",r.table_name)),r!=null&&r.deleted_by&&(t=t.eq("deleted_by",r.deleted_by)),r!=null&&r.plant&&(t=t.eq("plant",r.plant)),r!=null&&r.start_date&&(t=t.gte("deleted_at",r.start_date)),r!=null&&r.end_date&&(t=t.lte("deleted_at",r.end_date)),r!=null&&r.limit&&(t=t.limit(r.limit)),console.log("[AUDIT LOG] Executing query...");const{data:e,error:n}=await t;if(n)throw console.error("[AUDIT LOG] Failed to fetch audit logs:",n),console.error("[AUDIT LOG] Error details:",{message:n.message,code:n.code,details:n.details,hint:n.hint}),n;return console.log("[AUDIT LOG] Successfully fetched audit logs:",(e==null?void 0:e.length)||0,"records"),console.log("[AUDIT LOG] First record:",e==null?void 0:e[0]),e||[]}catch(t){return console.error("[AUDIT LOG] Error fetching audit logs:",t),[]}},Ht=(r,t)=>{console.log(`[DATABASE] ${r}`,t||"")};class u7{async init(){try{Ht("Testing database connection...");const{data:t,error:e}=await At.from("sanitation_records").select("count",{count:"exact",head:!0});if(e)throw Ht("Database connection error:",e),e;Ht("Database connection successful",{count:t})}catch(t){throw Ht("Failed to connect to database:",t),t}}async insertRecord(t){Ht("Starting insertRecord...",{plant:t.plant,line:t.line,area:t.area,bagian:t.bagian});const e=localStorage.getItem("currentUser");let n="anonymous";if(Ht("Raw currentUser from localStorage:",e),e)try{const i=JSON.parse(e);Ht("Parsed currentUser:",i),n=i.full_name||i.username||"anonymous",Ht("Using created_by:",{full_name:i.full_name,username:i.username,result:n})}catch(i){Ht("Error parsing currentUser:",i),Ht("Failed string:",e),n="anonymous"}else Ht("No currentUser in localStorage!");Ht("Final created_by value:",n);const l={plant:t.plant,line:t.line,tanggal:t.tanggal,area:t.area,bagian:t.bagian,foto_sebelum:t.photoBeforeUri||null,foto_sesudah:t.photoAfterUri||null,keterangan:t.keterangan||"",status:t.status||"completed",created_by:n};t.foto_sebelum_timestamp&&(l.foto_sebelum_timestamp=t.foto_sebelum_timestamp),t.foto_sesudah_timestamp&&(l.foto_sesudah_timestamp=t.foto_sesudah_timestamp),Ht("Attempting to insert record:",l);try{Ht("Calling supabase.from(sanitation_records).insert()...");const i=l.foto_sebelum?l.foto_sebelum.length:0,s=l.foto_sesudah?l.foto_sesudah.length:0;Ht("Photo sizes:",{beforeKB:Math.round(i/1024),afterKB:Math.round(s/1024)});const{data:u,error:a}=await At.from("sanitation_records").insert(l).select("id").single();if(a)throw Ht("Insert error details:",{message:a.message,details:a.details,hint:a.hint,code:a.code}),new Error(`Database error: ${a.message} (Code: ${a.code})`);return Ht("Record inserted successfully:",u),u.id}catch(i){if(Ht("Database insert failed:",{message:i.message,code:i.code,details:i.details}),i.code==="42703"){Ht("Retrying without timestamp columns..."),delete l.foto_sebelum_timestamp,delete l.foto_sesudah_timestamp;const{data:s,error:u}=await At.from("sanitation_records").insert(l).select("id").single();if(u)throw Ht("Retry insert error:",u),u;return Ht("Record inserted successfully on retry:",s),s.id}throw i}}async getAllRecords(){try{Ht("Fetching all records...");const{data:t,error:e}=await At.from("sanitation_records").select("*").order("tanggal",{ascending:!1});if(e)throw Ht("Get all records error:",e),e;return Ht("Records fetched successfully:",{count:(t==null?void 0:t.length)||0}),(t||[]).map(n=>({id:n.id,plant:n.plant,line:n.line,area:n.area,bagian:n.bagian,photoBeforeUri:n.foto_sebelum,photoAfterUri:n.foto_sesudah,foto_sebelum:n.foto_sebelum,foto_sebelum_timestamp:n.foto_sebelum_timestamp,foto_sesudah:n.foto_sesudah,foto_sesudah_timestamp:n.foto_sesudah_timestamp,keterangan:n.keterangan,tanggal:n.tanggal,createdAt:n.created_at,created_at:n.created_at,created_by:n.created_by,updated_at:n.updated_at,status:n.status}))}catch(t){return Ht("Failed to fetch records:",t),[]}}async getRecordsMetadata(t,e,n){try{Ht("Fetching records metadata:",{plant:t,line:e,tanggal:n});const{data:l,error:i}=await Ca.add(async()=>await At.from("sanitation_records").select("id, area, bagian, status, foto_sebelum_timestamp, foto_sesudah_timestamp").eq("plant",t).eq("line",e).eq("tanggal",n).order("created_at",{ascending:!1}));if(i)throw Ht("Get records metadata error:",i),i;const s=new Map;(l||[]).forEach(a=>{const o=`${a.area}-${a.bagian}`;s.has(o)||s.set(o,a)});const u=Array.from(s.values());return Ht("Metadata fetched successfully (unique):",{count:u.length}),u}catch(l){return Ht("Failed to fetch records metadata:",l),[]}}async getRecordsByPlant(t,e,n){try{Ht("Fetching records by plant:",{plant:t,status:e,limit:n});let l=At.from("sanitation_records").select("id, plant, line, area, bagian, keterangan, tanggal, created_at, created_by, updated_at, status, foto_sebelum_timestamp, foto_sesudah_timestamp").eq("plant",t).order("tanggal",{ascending:!1});e?l=l.eq("status",e):l=l.neq("status","draft"),n&&(l=l.limit(n));const{data:i,error:s}=await l;if(s)throw Ht("Get records by plant error:",s),s;return Ht("Records fetched successfully:",{count:(i==null?void 0:i.length)||0}),(i||[]).map(u=>({id:u.id,plant:u.plant,line:u.line,area:u.area,bagian:u.bagian,photoBeforeUri:void 0,photoAfterUri:void 0,foto_sebelum:void 0,foto_sebelum_timestamp:u.foto_sebelum_timestamp,foto_sesudah:void 0,foto_sesudah_timestamp:u.foto_sesudah_timestamp,keterangan:u.keterangan,tanggal:u.tanggal,createdAt:u.created_at,created_at:u.created_at,created_by:u.created_by,updated_at:u.updated_at,status:u.status}))}catch(l){return Ht("Failed to fetch records by plant:",l),[]}}async getRecordById(t){try{Ht("Fetching record by id:",t);const{data:e,error:n}=await At.from("sanitation_records").select("*").eq("id",t).maybeSingle();if(n)throw Ht("Get record by id error:",n),n;return e?(Ht("Record fetched successfully:",{id:e.id}),{id:e.id,plant:e.plant,line:e.line,area:e.area,bagian:e.bagian,photoBeforeUri:e.foto_sebelum,photoAfterUri:e.foto_sesudah,foto_sebelum:e.foto_sebelum,foto_sebelum_timestamp:e.foto_sebelum_timestamp,foto_sesudah:e.foto_sesudah,foto_sesudah_timestamp:e.foto_sesudah_timestamp,keterangan:e.keterangan,tanggal:e.tanggal,createdAt:e.created_at,created_at:e.created_at,created_by:e.created_by,updated_at:e.updated_at,status:e.status}):(Ht("Record not found:",t),null)}catch(e){return Ht("Failed to fetch record by id:",e),null}}async getRecordsByDate(t){try{console.log("Fetching records for date:",t);const{data:e,error:n}=await At.from("sanitation_records").select("*").eq("tanggal",t).order("created_at",{ascending:!1});if(n)throw console.error("Get records by date error:",n),n;return console.log("Records fetched for date:",(e==null?void 0:e.length)||0,"records"),(e||[]).map(l=>({id:l.id,plant:l.plant,line:l.line,area:l.area,bagian:l.bagian,photoBeforeUri:l.foto_sebelum,photoAfterUri:l.foto_sesudah,foto_sebelum:l.foto_sebelum,foto_sebelum_timestamp:l.foto_sebelum_timestamp,foto_sesudah:l.foto_sesudah,foto_sesudah_timestamp:l.foto_sesudah_timestamp,keterangan:l.keterangan,tanggal:l.tanggal,createdAt:l.created_at,created_at:l.created_at,created_by:l.created_by,updated_at:l.updated_at,status:l.status}))}catch(e){return console.error("Failed to fetch records by date:",e),[]}}async updateRecord(t,e){Ht("Starting updateRecord...",{id:t,hasData:!!e});const n={};e.plant&&(n.plant=e.plant),e.line&&(n.line=e.line),e.tanggal&&(n.tanggal=e.tanggal),e.area&&(n.area=e.area),e.bagian&&(n.bagian=e.bagian),e.photoBeforeUri!==void 0&&(n.foto_sebelum=e.photoBeforeUri),e.photoAfterUri!==void 0&&(n.foto_sesudah=e.photoAfterUri),e.keterangan!==void 0&&(n.keterangan=e.keterangan),e.status&&(n.status=e.status),e.foto_sebelum_timestamp!==void 0&&(n.foto_sebelum_timestamp=e.foto_sebelum_timestamp),e.foto_sesudah_timestamp!==void 0&&(n.foto_sesudah_timestamp=e.foto_sesudah_timestamp),Ht("Attempting to update record:",{id:t,updateData:n});try{Ht("Calling supabase.from(sanitation_records).update()...");const l=n.foto_sebelum?n.foto_sebelum.length:0,i=n.foto_sesudah?n.foto_sesudah.length:0;Ht("Photo sizes:",{beforeKB:Math.round(l/1024),afterKB:Math.round(i/1024)});const{error:s}=await At.from("sanitation_records").update(n).eq("id",t);if(s)throw Ht("Update error details:",{message:s.message,details:s.details,hint:s.hint,code:s.code}),new Error(`Database error: ${s.message} (Code: ${s.code})`);Ht("Record updated successfully")}catch(l){if(Ht("Database update failed:",{message:l.message,code:l.code,details:l.details}),l.code==="42703"){Ht("Retrying update without timestamp columns..."),delete n.foto_sebelum_timestamp,delete n.foto_sesudah_timestamp;const{error:i}=await At.from("sanitation_records").update(n).eq("id",t);if(i)throw Ht("Retry update error:",i),i;Ht("Record updated successfully on retry")}else throw l}}async deleteRecord(t){try{console.log("Attempting to delete record:",t);const e=await this.getRecordById(t);if(!e)throw new Error("Record not found");const n=localStorage.getItem("currentUser");let l="anonymous";if(n)try{const s=JSON.parse(n);l=s.full_name||s.username||"anonymous"}catch(s){console.error("Failed to parse currentUser:",s)}await Bc({table_name:"sanitation_records",record_id:t.toString(),affected_count:1,deleted_by:l,plant:e.plant,additional_info:{line:e.line,area:e.area,bagian:e.bagian,tanggal:e.tanggal}});const{error:i}=await At.from("sanitation_records").delete().eq("id",t);if(i)throw console.error("Delete error:",i),i;console.log("Record deleted successfully")}catch(e){throw console.error("Failed to delete record:",e),e}}async checkRecordExists(t,e,n){try{console.log("Checking if record exists:",{plant:t,line:e,tanggal:n});const{data:l,error:i}=await At.from("sanitation_records").select("id").eq("plant",t).eq("line",e).eq("tanggal",n).maybeSingle();if(i)throw console.error("Check record exists error:",i),i;const s=l!==null;return console.log("Record exists:",s),s}catch(l){return console.error("Failed to check if record exists:",l),!1}}async clearAllData(){try{console.log("Clearing all data...");const{error:t}=await At.from("sanitation_records").delete().neq("id",0);if(t)throw console.error("Clear all data error:",t),t;console.log("All data cleared successfully")}catch(t){throw console.error("Failed to clear all data:",t),t}}}const Ta=new u7,o5=()=>Ta.init(),c7=r=>Ta.insertRecord(r),d7=(r,t,e)=>Ta.getRecordsMetadata(r,t,e),h7=(r,t,e)=>Ta.getRecordsByPlant(r,t,e),Fh=r=>Ta.getRecordById(r),_2=(r,t)=>Ta.updateRecord(r,t),Cp=r=>Ta.deleteRecord(r);function Dd(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var a5={exports:{}};/*! ExcelJS 19-10-2023 */(function(r,t){(function(e){r.exports=e()})(function(){return function e(n,l,i){function s(o,c){if(!l[o]){if(!n[o]){var f=typeof Dd=="function"&&Dd;if(!c&&f)return f(o,!0);if(u)return u(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var d=l[o]={exports:{}};n[o][0].call(d.exports,function(y){return s(n[o][1][y]||y)},d,d.exports,e,n,l,i)}return l[o].exports}for(var u=typeof Dd=="function"&&Dd,a=0;a<i.length;a++)s(i[a]);return s}({1:[function(e,n,l){const i=e("fs"),s=e("fast-csv"),u=e("dayjs/plugin/customParseFormat"),a=e("dayjs/plugin/utc"),o=e("dayjs").extend(u).extend(a),c=e("../utils/stream-buf"),{fs:{exists:f}}=e("../utils/utils"),h={true:!0,false:!1,"#N/A":{error:"#N/A"},"#REF!":{error:"#REF!"},"#NAME?":{error:"#NAME?"},"#DIV/0!":{error:"#DIV/0!"},"#NULL!":{error:"#NULL!"},"#VALUE!":{error:"#VALUE!"},"#NUM!":{error:"#NUM!"}};n.exports=class{constructor(d){this.workbook=d,this.worksheet=null}async readFile(d,y){if(y=y||{},!await f(d))throw new Error("File not found: "+d);const b=i.createReadStream(d),m=await this.read(b,y);return b.close(),m}read(d,y){return y=y||{},new Promise((b,m)=>{const g=this.workbook.addWorksheet(y.sheetName),p=y.dateFormats||["YYYY-MM-DD[T]HH:mm:ssZ","YYYY-MM-DD[T]HH:mm:ss","MM-DD-YYYY","YYYY-MM-DD"],v=y.map||function(j){if(j==="")return null;const L=Number(j);if(!Number.isNaN(L)&&L!==1/0)return L;const $=p.reduce((z,H)=>{if(z)return z;const q=o(j,H,!0);return q.isValid()?q:null},null);if($)return new Date($.valueOf());const M=h[j];return M!==void 0?M:j},C=s.parse(y.parserOptions).on("data",j=>{g.addRow(j.map(v))}).on("end",()=>{C.emit("worksheet",g)});C.on("worksheet",b).on("error",m),d.pipe(C)})}createInputStream(){throw new Error("`CSV#createInputStream` is deprecated. You should use `CSV#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}write(d,y){return new Promise((b,m)=>{y=y||{};const g=this.workbook.getWorksheet(y.sheetName||y.sheetId),p=s.format(y.formatterOptions);d.on("finish",()=>{b()}),p.on("error",m),p.pipe(d);const{dateFormat:v,dateUTC:C}=y,j=y.map||(M=>{if(M){if(M.text||M.hyperlink)return M.hyperlink||M.text||"";if(M.formula||M.result)return M.result||"";if(M instanceof Date)return v?C?o.utc(M).format(v):o(M).format(v):C?o.utc(M).format():o(M).format();if(M.error)return M.error;if(typeof M=="object")return JSON.stringify(M)}return M}),L=y.includeEmptyRows===void 0||y.includeEmptyRows;let $=1;g&&g.eachRow((M,z)=>{if(L)for(;$++<z-1;)p.write([]);const{values:H}=M;H.shift(),p.write(H.map(j)),$=z}),p.end()})}writeFile(d,y){const b={encoding:(y=y||{}).encoding||"utf8"},m=i.createWriteStream(d,b);return this.write(m,y)}async writeBuffer(d){const y=new c;return await this.write(y,d),y.read()}}},{"../utils/stream-buf":24,"../utils/utils":27,dayjs:391,"dayjs/plugin/customParseFormat":392,"dayjs/plugin/utc":393,"fast-csv":424,fs:216}],2:[function(e,n,l){const i=e("../utils/col-cache");class s{constructor(a,o){let c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this.worksheet=a,o)if(typeof o=="string"){const f=i.decodeAddress(o);this.nativeCol=f.col+c,this.nativeColOff=0,this.nativeRow=f.row+c,this.nativeRowOff=0}else o.nativeCol!==void 0?(this.nativeCol=o.nativeCol||0,this.nativeColOff=o.nativeColOff||0,this.nativeRow=o.nativeRow||0,this.nativeRowOff=o.nativeRowOff||0):o.col!==void 0?(this.col=o.col+c,this.row=o.row+c):(this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0);else this.nativeCol=0,this.nativeColOff=0,this.nativeRow=0,this.nativeRowOff=0}static asInstance(a){return a instanceof s||a==null?a:new s(a)}get col(){return this.nativeCol+Math.min(this.colWidth-1,this.nativeColOff)/this.colWidth}set col(a){this.nativeCol=Math.floor(a),this.nativeColOff=Math.floor((a-this.nativeCol)*this.colWidth)}get row(){return this.nativeRow+Math.min(this.rowHeight-1,this.nativeRowOff)/this.rowHeight}set row(a){this.nativeRow=Math.floor(a),this.nativeRowOff=Math.floor((a-this.nativeRow)*this.rowHeight)}get colWidth(){return this.worksheet&&this.worksheet.getColumn(this.nativeCol+1)&&this.worksheet.getColumn(this.nativeCol+1).isCustomWidth?Math.floor(1e4*this.worksheet.getColumn(this.nativeCol+1).width):64e4}get rowHeight(){return this.worksheet&&this.worksheet.getRow(this.nativeRow+1)&&this.worksheet.getRow(this.nativeRow+1).height?Math.floor(1e4*this.worksheet.getRow(this.nativeRow+1).height):18e4}get model(){return{nativeCol:this.nativeCol,nativeColOff:this.nativeColOff,nativeRow:this.nativeRow,nativeRowOff:this.nativeRowOff}}set model(a){this.nativeCol=a.nativeCol,this.nativeColOff=a.nativeColOff,this.nativeRow=a.nativeRow,this.nativeRowOff=a.nativeRowOff}}n.exports=s},{"../utils/col-cache":19}],3:[function(e,n,l){const i=e("../utils/col-cache"),s=e("../utils/under-dash"),u=e("./enums"),{slideFormula:a}=e("../utils/shared-formula"),o=e("./note");class c{constructor(d,y,b){if(!d||!y)throw new Error("A Cell needs a Row");this._row=d,this._column=y,i.validateAddress(b),this._address=b,this._value=f.create(c.Types.Null,this),this.style=this._mergeStyle(d.style,y.style,{}),this._mergeCount=0}get worksheet(){return this._row.worksheet}get workbook(){return this._row.worksheet.workbook}destroy(){delete this.style,delete this._value,delete this._row,delete this._column,delete this._address}get numFmt(){return this.style.numFmt}set numFmt(d){this.style.numFmt=d}get font(){return this.style.font}set font(d){this.style.font=d}get alignment(){return this.style.alignment}set alignment(d){this.style.alignment=d}get border(){return this.style.border}set border(d){this.style.border=d}get fill(){return this.style.fill}set fill(d){this.style.fill=d}get protection(){return this.style.protection}set protection(d){this.style.protection=d}_mergeStyle(d,y,b){const m=d&&d.numFmt||y&&y.numFmt;m&&(b.numFmt=m);const g=d&&d.font||y&&y.font;g&&(b.font=g);const p=d&&d.alignment||y&&y.alignment;p&&(b.alignment=p);const v=d&&d.border||y&&y.border;v&&(b.border=v);const C=d&&d.fill||y&&y.fill;C&&(b.fill=C);const j=d&&d.protection||y&&y.protection;return j&&(b.protection=j),b}get address(){return this._address}get row(){return this._row.number}get col(){return this._column.number}get $col$row(){return`$${this._column.letter}$${this.row}`}get type(){return this._value.type}get effectiveType(){return this._value.effectiveType}toCsvString(){return this._value.toCsvString()}addMergeRef(){this._mergeCount++}releaseMergeRef(){this._mergeCount--}get isMerged(){return this._mergeCount>0||this.type===c.Types.Merge}merge(d,y){this._value.release(),this._value=f.create(c.Types.Merge,this,d),y||(this.style=d.style)}unmerge(){this.type===c.Types.Merge&&(this._value.release(),this._value=f.create(c.Types.Null,this),this.style=this._mergeStyle(this._row.style,this._column.style,{}))}isMergedTo(d){return this._value.type===c.Types.Merge&&this._value.isMergedTo(d)}get master(){return this.type===c.Types.Merge?this._value.master:this}get isHyperlink(){return this._value.type===c.Types.Hyperlink}get hyperlink(){return this._value.hyperlink}get value(){return this._value.value}set value(d){this.type!==c.Types.Merge?(this._value.release(),this._value=f.create(f.getType(d),this,d)):this._value.master.value=d}get note(){return this._comment&&this._comment.note}set note(d){this._comment=new o(d)}get text(){return this._value.toString()}get html(){return s.escapeHtml(this.text)}toString(){return this.text}_upgradeToHyperlink(d){this.type===c.Types.String&&(this._value=f.create(c.Types.Hyperlink,this,{text:this._value.value,hyperlink:d}))}get formula(){return this._value.formula}get result(){return this._value.result}get formulaType(){return this._value.formulaType}get fullAddress(){const{worksheet:d}=this._row;return{sheetName:d.name,address:this.address,row:this.row,col:this.col}}get name(){return this.names[0]}set name(d){this.names=[d]}get names(){return this.workbook.definedNames.getNamesEx(this.fullAddress)}set names(d){const{definedNames:y}=this.workbook;y.removeAllNames(this.fullAddress),d.forEach(b=>{y.addEx(this.fullAddress,b)})}addName(d){this.workbook.definedNames.addEx(this.fullAddress,d)}removeName(d){this.workbook.definedNames.removeEx(this.fullAddress,d)}removeAllNames(){this.workbook.definedNames.removeAllNames(this.fullAddress)}get _dataValidations(){return this.worksheet.dataValidations}get dataValidation(){return this._dataValidations.find(this.address)}set dataValidation(d){this._dataValidations.add(this.address,d)}get model(){const{model:d}=this._value;return d.style=this.style,this._comment&&(d.comment=this._comment.model),d}set model(d){if(this._value.release(),this._value=f.create(d.type,this),this._value.model=d,d.comment)switch(d.comment.type){case"note":this._comment=o.fromModel(d.comment)}d.style?this.style=d.style:this.style={}}}c.Types=u.ValueType;const f={getType:h=>h==null?c.Types.Null:h instanceof String||typeof h=="string"?c.Types.String:typeof h=="number"?c.Types.Number:typeof h=="boolean"?c.Types.Boolean:h instanceof Date?c.Types.Date:h.text&&h.hyperlink?c.Types.Hyperlink:h.formula||h.sharedFormula?c.Types.Formula:h.richText?c.Types.RichText:h.sharedString?c.Types.SharedString:h.error?c.Types.Error:c.Types.JSON,types:[{t:c.Types.Null,f:class{constructor(h){this.model={address:h.address,type:c.Types.Null}}get value(){return null}set value(h){}get type(){return c.Types.Null}get effectiveType(){return c.Types.Null}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){}toString(){return""}}},{t:c.Types.Number,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Number,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Number}get effectiveType(){return c.Types.Number}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.String,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.model.value.replace(/"/g,'""')}"`}release(){}toString(){return this.model.value}}},{t:c.Types.Date,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Date,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Date}get effectiveType(){return c.Types.Date}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toISOString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Hyperlink,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Hyperlink,text:d?d.text:void 0,hyperlink:d?d.hyperlink:void 0},d&&d.tooltip&&(this.model.tooltip=d.tooltip)}get value(){const h={text:this.model.text,hyperlink:this.model.hyperlink};return this.model.tooltip&&(h.tooltip=this.model.tooltip),h}set value(h){this.model={text:h.text,hyperlink:h.hyperlink},h.tooltip&&(this.model.tooltip=h.tooltip)}get text(){return this.model.text}set text(h){this.model.text=h}get hyperlink(){return this.model.hyperlink}set hyperlink(h){this.model.hyperlink=h}get type(){return c.Types.Hyperlink}get effectiveType(){return c.Types.Hyperlink}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.hyperlink}release(){}toString(){return this.model.text}}},{t:c.Types.Formula,f:class{constructor(h,d){this.cell=h,this.model={address:h.address,type:c.Types.Formula,shareType:d?d.shareType:void 0,ref:d?d.ref:void 0,formula:d?d.formula:void 0,sharedFormula:d?d.sharedFormula:void 0,result:d?d.result:void 0}}_copyModel(h){const d={},y=b=>{const m=h[b];m&&(d[b]=m)};return y("formula"),y("result"),y("ref"),y("shareType"),y("sharedFormula"),d}get value(){return this._copyModel(this.model)}set value(h){this.model=this._copyModel(h)}validate(h){switch(f.getType(h)){case c.Types.Null:case c.Types.String:case c.Types.Number:case c.Types.Date:break;case c.Types.Hyperlink:case c.Types.Formula:default:throw new Error("Cannot process that type of result value")}}get dependencies(){return{ranges:this.formula.match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g),cells:this.formula.replace(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}:[A-Z]{1,3}\d{1,4}/g,"").match(/([a-zA-Z0-9]+!)?[A-Z]{1,3}\d{1,4}/g)}}get formula(){return this.model.formula||this._getTranslatedFormula()}set formula(h){this.model.formula=h}get formulaType(){return this.model.formula?u.FormulaType.Master:this.model.sharedFormula?u.FormulaType.Shared:u.FormulaType.None}get result(){return this.model.result}set result(h){this.model.result=h}get type(){return c.Types.Formula}get effectiveType(){const h=this.model.result;return h==null?u.ValueType.Null:h instanceof String||typeof h=="string"?u.ValueType.String:typeof h=="number"?u.ValueType.Number:h instanceof Date?u.ValueType.Date:h.text&&h.hyperlink?u.ValueType.Hyperlink:h.formula?u.ValueType.Formula:u.ValueType.Null}get address(){return this.model.address}set address(h){this.model.address=h}_getTranslatedFormula(){if(!this._translatedFormula&&this.model.sharedFormula){const{worksheet:h}=this.cell,d=h.findCell(this.model.sharedFormula);this._translatedFormula=d&&a(d.formula,d.address,this.model.address)}return this._translatedFormula}toCsvString(){return""+(this.model.result||"")}release(){}toString(){return this.model.result?this.model.result.toString():""}}},{t:c.Types.Merge,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Merge,master:d?d.address:void 0},this._master=d,d&&d.addMergeRef()}get value(){return this._master.value}set value(h){h instanceof c?(this._master&&this._master.releaseMergeRef(),h.addMergeRef(),this._master=h):this._master.value=h}isMergedTo(h){return h===this._master}get master(){return this._master}get type(){return c.Types.Merge}get effectiveType(){return this._master.effectiveType}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return""}release(){this._master.releaseMergeRef()}toString(){return this.value.toString()}}},{t:c.Types.JSON,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.String,value:JSON.stringify(d),rawValue:d}}get value(){return this.model.rawValue}set value(h){this.model.rawValue=h,this.model.value=JSON.stringify(h)}get type(){return c.Types.String}get effectiveType(){return c.Types.String}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value}release(){}toString(){return this.model.value}}},{t:c.Types.SharedString,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.SharedString,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.SharedString}get effectiveType(){return c.Types.SharedString}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value.toString()}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.RichText,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.String,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}toString(){return this.model.value.richText.map(h=>h.text).join("")}get type(){return c.Types.RichText}get effectiveType(){return c.Types.RichText}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return`"${this.text.replace(/"/g,'""')}"`}release(){}}},{t:c.Types.Boolean,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Boolean,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Boolean}get effectiveType(){return c.Types.Boolean}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.model.value?1:0}release(){}toString(){return this.model.value.toString()}}},{t:c.Types.Error,f:class{constructor(h,d){this.model={address:h.address,type:c.Types.Error,value:d}}get value(){return this.model.value}set value(h){this.model.value=h}get type(){return c.Types.Error}get effectiveType(){return c.Types.Error}get address(){return this.model.address}set address(h){this.model.address=h}toCsvString(){return this.toString()}release(){}toString(){return this.model.value.error.toString()}}}].reduce((h,d)=>(h[d.t]=d.f,h),[]),create(h,d,y){const b=this.types[h];if(!b)throw new Error("Could not create Value of type "+h);return new b(d,y)}};n.exports=c},{"../utils/col-cache":19,"../utils/shared-formula":23,"../utils/under-dash":26,"./enums":7,"./note":9}],4:[function(e,n,l){const i=e("../utils/under-dash"),s=e("./enums"),u=e("../utils/col-cache");class a{constructor(c,f,h){this._worksheet=c,this._number=f,h!==!1&&(this.defn=h)}get number(){return this._number}get worksheet(){return this._worksheet}get letter(){return u.n2l(this._number)}get isCustomWidth(){return this.width!==void 0&&this.width!==9}get defn(){return{header:this._header,key:this.key,width:this.width,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel}}set defn(c){c?(this.key=c.key,this.width=c.width!==void 0?c.width:9,this.outlineLevel=c.outlineLevel,c.style?this.style=c.style:this.style={},this.header=c.header,this._hidden=!!c.hidden):(delete this._header,delete this._key,delete this.width,this.style={},this.outlineLevel=0)}get headers(){return this._header&&this._header instanceof Array?this._header:[this._header]}get header(){return this._header}set header(c){c!==void 0?(this._header=c,this.headers.forEach((f,h)=>{this._worksheet.getCell(h+1,this.number).value=f})):this._header=void 0}get key(){return this._key}set key(c){(this._key&&this._worksheet.getColumnKey(this._key))===this&&this._worksheet.deleteColumnKey(this._key),this._key=c,c&&this._worksheet.setColumnKey(this._key,this)}get hidden(){return!!this._hidden}set hidden(c){this._hidden=c}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(c){this._outlineLevel=c}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelCol)}toString(){return JSON.stringify({key:this.key,width:this.width,headers:this.headers.length?this.headers:void 0})}equivalentTo(c){return this.width===c.width&&this.hidden===c.hidden&&this.outlineLevel===c.outlineLevel&&i.isEqual(this.style,c.style)}get isDefault(){if(this.isCustomWidth||this.hidden||this.outlineLevel)return!1;const c=this.style;return!c||!(c.font||c.numFmt||c.alignment||c.border||c.fill||c.protection)}get headerCount(){return this.headers.length}eachCell(c,f){const h=this.number;f||(f=c,c=null),this._worksheet.eachRow(c,(d,y)=>{f(d.getCell(h),y)})}get values(){const c=[];return this.eachCell((f,h)=>{f&&f.type!==s.ValueType.Null&&(c[h]=f.value)}),c}set values(c){if(!c)return;const f=this.number;let h=0;c.hasOwnProperty("0")&&(h=1),c.forEach((d,y)=>{this._worksheet.getCell(y+h,f).value=d})}_applyStyle(c,f){return this.style[c]=f,this.eachCell(h=>{h[c]=f}),f}get numFmt(){return this.style.numFmt}set numFmt(c){this._applyStyle("numFmt",c)}get font(){return this.style.font}set font(c){this._applyStyle("font",c)}get alignment(){return this.style.alignment}set alignment(c){this._applyStyle("alignment",c)}get protection(){return this.style.protection}set protection(c){this._applyStyle("protection",c)}get border(){return this.style.border}set border(c){this._applyStyle("border",c)}get fill(){return this.style.fill}set fill(c){this._applyStyle("fill",c)}static toModel(c){const f=[];let h=null;return c&&c.forEach((d,y)=>{d.isDefault?h&&(h=null):h&&d.equivalentTo(h)?h.max=y+1:(h={min:y+1,max:y+1,width:d.width!==void 0?d.width:9,style:d.style,isCustomWidth:d.isCustomWidth,hidden:d.hidden,outlineLevel:d.outlineLevel,collapsed:d.collapsed},f.push(h))}),f.length?f:void 0}static fromModel(c,f){const h=[];let d=1,y=0;for(f=(f=f||[]).sort(function(b,m){return b.min-m.min});y<f.length;){const b=f[y++];for(;d<b.min;)h.push(new a(c,d++));for(;d<=b.max;)h.push(new a(c,d++,b))}return h.length?h:null}}n.exports=a},{"../utils/col-cache":19,"../utils/under-dash":26,"./enums":7}],5:[function(e,n,l){n.exports=class{constructor(i){this.model=i||{}}add(i,s){return this.model[i]=s}find(i){return this.model[i]}remove(i){this.model[i]=void 0}}},{}],6:[function(e,n,l){const i=e("../utils/under-dash"),s=e("../utils/col-cache"),u=e("../utils/cell-matrix"),a=e("./range"),o=/[$](\w+)[$](\d+)(:[$](\w+)[$](\d+))?/;n.exports=class{constructor(){this.matrixMap={}}getMatrix(c){return this.matrixMap[c]||(this.matrixMap[c]=new u)}add(c,f){const h=s.decodeEx(c);this.addEx(h,f)}addEx(c,f){const h=this.getMatrix(f);if(c.top)for(let d=c.left;d<=c.right;d++)for(let y=c.top;y<=c.bottom;y++){const b={sheetName:c.sheetName,address:s.n2l(d)+y,row:y,col:d};h.addCellEx(b)}else h.addCellEx(c)}remove(c,f){const h=s.decodeEx(c);this.removeEx(h,f)}removeEx(c,f){this.getMatrix(f).removeCellEx(c)}removeAllNames(c){i.each(this.matrixMap,f=>{f.removeCellEx(c)})}forEach(c){i.each(this.matrixMap,(f,h)=>{f.forEach(d=>{c(h,d)})})}getNames(c){return this.getNamesEx(s.decodeEx(c))}getNamesEx(c){return i.map(this.matrixMap,(f,h)=>f.findCellEx(c)&&h).filter(Boolean)}_explore(c,f){f.mark=!1;const{sheetName:h}=f,d=new a(f.row,f.col,f.row,f.col,h);let y,b;function m(p,v){const C=c.findCellAt(h,p,f.col);return!(!C||!C.mark)&&(d[v]=p,C.mark=!1,!0)}for(b=f.row-1;m(b,"top");b--);for(b=f.row+1;m(b,"bottom");b++);function g(p,v){const C=[];for(b=d.top;b<=d.bottom;b++){const j=c.findCellAt(h,b,p);if(!j||!j.mark)return!1;C.push(j)}d[v]=p;for(let j=0;j<C.length;j++)C[j].mark=!1;return!0}for(y=f.col-1;g(y,"left");y--);for(y=f.col+1;g(y,"right");y++);return d}getRanges(c,f){return(f=f||this.matrixMap[c])?(f.forEach(h=>{h.mark=!0}),{name:c,ranges:f.map(h=>h.mark&&this._explore(f,h)).filter(Boolean).map(h=>h.$shortRange)}):{name:c,ranges:[]}}normaliseMatrix(c,f){c.forEachInSheet(f,(h,d,y)=>{h&&(h.row===d&&h.col===y||(h.row=d,h.col=y,h.address=s.n2l(y)+d))})}spliceRows(c,f,h,d){i.each(this.matrixMap,y=>{y.spliceRows(c,f,h,d),this.normaliseMatrix(y,c)})}spliceColumns(c,f,h,d){i.each(this.matrixMap,y=>{y.spliceColumns(c,f,h,d),this.normaliseMatrix(y,c)})}get model(){return i.map(this.matrixMap,(c,f)=>this.getRanges(f,c)).filter(c=>c.ranges.length)}set model(c){const f=this.matrixMap={};c.forEach(h=>{const d=f[h.name]=new u;h.ranges.forEach(y=>{o.test(y.split("!").pop()||"")&&d.addCell(y)})})}}},{"../utils/cell-matrix":18,"../utils/col-cache":19,"../utils/under-dash":26,"./range":10}],7:[function(e,n,l){n.exports={ValueType:{Null:0,Merge:1,Number:2,String:3,Date:4,Hyperlink:5,Formula:6,SharedString:7,RichText:8,Boolean:9,Error:10},FormulaType:{None:0,Master:1,Shared:2},RelationshipType:{None:0,OfficeDocument:1,Worksheet:2,CalcChain:3,SharedStrings:4,Styles:5,Theme:6,Hyperlink:7},DocumentType:{Xlsx:1},ReadingOrder:{LeftToRight:1,RightToLeft:2},ErrorValue:{NotApplicable:"#N/A",Ref:"#REF!",Name:"#NAME?",DivZero:"#DIV/0!",Null:"#NULL!",Value:"#VALUE!",Num:"#NUM!"}}},{}],8:[function(e,n,l){const i=e("../utils/col-cache"),s=e("./anchor");n.exports=class{constructor(u,a){this.worksheet=u,this.model=a}get model(){switch(this.type){case"background":return{type:this.type,imageId:this.imageId};case"image":return{type:this.type,imageId:this.imageId,hyperlinks:this.range.hyperlinks,range:{tl:this.range.tl.model,br:this.range.br&&this.range.br.model,ext:this.range.ext,editAs:this.range.editAs}};default:throw new Error("Invalid Image Type")}}set model(u){let{type:a,imageId:o,range:c,hyperlinks:f}=u;if(this.type=a,this.imageId=o,a==="image")if(typeof c=="string"){const h=i.decode(c);this.range={tl:new s(this.worksheet,{col:h.left,row:h.top},-1),br:new s(this.worksheet,{col:h.right,row:h.bottom},0),editAs:"oneCell"}}else this.range={tl:new s(this.worksheet,c.tl,0),br:c.br&&new s(this.worksheet,c.br,0),ext:c.ext,editAs:c.editAs,hyperlinks:f||c.hyperlinks}}}},{"../utils/col-cache":19,"./anchor":2}],9:[function(e,n,l){const i=e("../utils/under-dash");class s{constructor(a){this.note=a}get model(){let a=null;switch(typeof this.note){case"string":a={type:"note",note:{texts:[{text:this.note}]}};break;default:a={type:"note",note:this.note}}return i.deepMerge({},s.DEFAULT_CONFIGS,a)}set model(a){const{note:o}=a,{texts:c}=o;c.length===1&&Object.keys(c[0]).length===1?this.note=c[0].text:this.note=o}static fromModel(a){const o=new s;return o.model=a,o}}s.DEFAULT_CONFIGS={note:{margins:{insetmode:"auto",inset:[.13,.13,.25,.25]},protection:{locked:"True",lockText:"True"},editAs:"absolute"}},n.exports=s},{"../utils/under-dash":26}],10:[function(e,n,l){const i=e("../utils/col-cache");class s{constructor(){this.decode(arguments)}setTLBR(a,o,c,f,h){if(arguments.length<4){const d=i.decodeAddress(a),y=i.decodeAddress(o);this.model={top:Math.min(d.row,y.row),left:Math.min(d.col,y.col),bottom:Math.max(d.row,y.row),right:Math.max(d.col,y.col),sheetName:c},this.setTLBR(d.row,d.col,y.row,y.col,h)}else this.model={top:Math.min(a,c),left:Math.min(o,f),bottom:Math.max(a,c),right:Math.max(o,f),sheetName:h}}decode(a){switch(a.length){case 5:this.setTLBR(a[0],a[1],a[2],a[3],a[4]);break;case 4:this.setTLBR(a[0],a[1],a[2],a[3]);break;case 3:this.setTLBR(a[0],a[1],a[2]);break;case 2:this.setTLBR(a[0],a[1]);break;case 1:{const o=a[0];if(o instanceof s)this.model={top:o.model.top,left:o.model.left,bottom:o.model.bottom,right:o.model.right,sheetName:o.sheetName};else if(o instanceof Array)this.decode(o);else if(o.top&&o.left&&o.bottom&&o.right)this.model={top:o.top,left:o.left,bottom:o.bottom,right:o.right,sheetName:o.sheetName};else{const c=i.decodeEx(o);c.top?this.model={top:c.top,left:c.left,bottom:c.bottom,right:c.right,sheetName:c.sheetName}:this.model={top:c.row,left:c.col,bottom:c.row,right:c.col,sheetName:c.sheetName}}break}case 0:this.model={top:0,left:0,bottom:0,right:0};break;default:throw new Error("Invalid number of arguments to _getDimensions() - "+a.length)}}get top(){return this.model.top||1}set top(a){this.model.top=a}get left(){return this.model.left||1}set left(a){this.model.left=a}get bottom(){return this.model.bottom||1}set bottom(a){this.model.bottom=a}get right(){return this.model.right||1}set right(a){this.model.right=a}get sheetName(){return this.model.sheetName}set sheetName(a){this.model.sheetName=a}get _serialisedSheetName(){const{sheetName:a}=this.model;return a?/^[a-zA-Z0-9]*$/.test(a)?a+"!":`'${a}'!`:""}expand(a,o,c,f){(!this.model.top||a<this.top)&&(this.top=a),(!this.model.left||o<this.left)&&(this.left=o),(!this.model.bottom||c>this.bottom)&&(this.bottom=c),(!this.model.right||f>this.right)&&(this.right=f)}expandRow(a){if(a){const{dimensions:o,number:c}=a;o&&this.expand(c,o.min,c,o.max)}}expandToAddress(a){const o=i.decodeEx(a);this.expand(o.row,o.col,o.row,o.col)}get tl(){return i.n2l(this.left)+this.top}get $t$l(){return`$${i.n2l(this.left)}$${this.top}`}get br(){return i.n2l(this.right)+this.bottom}get $b$r(){return`$${i.n2l(this.right)}$${this.bottom}`}get range(){return`${this._serialisedSheetName+this.tl}:${this.br}`}get $range(){return`${this._serialisedSheetName+this.$t$l}:${this.$b$r}`}get shortRange(){return this.count>1?this.range:this._serialisedSheetName+this.tl}get $shortRange(){return this.count>1?this.$range:this._serialisedSheetName+this.$t$l}get count(){return(1+this.bottom-this.top)*(1+this.right-this.left)}toString(){return this.range}intersects(a){return(!a.sheetName||!this.sheetName||a.sheetName===this.sheetName)&&!(a.bottom<this.top)&&!(a.top>this.bottom)&&!(a.right<this.left)&&!(a.left>this.right)}contains(a){const o=i.decodeEx(a);return this.containsEx(o)}containsEx(a){return(!a.sheetName||!this.sheetName||a.sheetName===this.sheetName)&&a.row>=this.top&&a.row<=this.bottom&&a.col>=this.left&&a.col<=this.right}forEachAddress(a){for(let o=this.left;o<=this.right;o++)for(let c=this.top;c<=this.bottom;c++)a(i.encodeAddress(c,o),c,o)}}n.exports=s},{"../utils/col-cache":19}],11:[function(e,n,l){const i=e("../utils/under-dash"),s=e("./enums"),u=e("../utils/col-cache"),a=e("./cell");n.exports=class{constructor(o,c){this._worksheet=o,this._number=c,this._cells=[],this.style={},this.outlineLevel=0}get number(){return this._number}get worksheet(){return this._worksheet}commit(){this._worksheet._commitRow(this)}destroy(){delete this._worksheet,delete this._cells,delete this.style}findCell(o){return this._cells[o-1]}getCellEx(o){let c=this._cells[o.col-1];if(!c){const f=this._worksheet.getColumn(o.col);c=new a(this,f,o.address),this._cells[o.col-1]=c}return c}getCell(o){if(typeof o=="string"){const c=this._worksheet.getColumnKey(o);o=c?c.number:u.l2n(o)}return this._cells[o-1]||this.getCellEx({address:u.encodeAddress(this._number,o),row:this._number,col:o})}splice(o,c){const f=o+c;for(var h=arguments.length,d=new Array(h>2?h-2:0),y=2;y<h;y++)d[y-2]=arguments[y];const b=d.length-c,m=this._cells.length;let g,p,v;if(b<0)for(g=o+d.length;g<=m;g++)v=this._cells[g-1],p=this._cells[g-b-1],p?(v=this.getCell(g),v.value=p.value,v.style=p.style,v._comment=p._comment):v&&(v.value=null,v.style={},v._comment=void 0);else if(b>0)for(g=m;g>=f;g--)p=this._cells[g-1],p?(v=this.getCell(g+b),v.value=p.value,v.style=p.style,v._comment=p._comment):this._cells[g+b-1]=void 0;for(g=0;g<d.length;g++)v=this.getCell(o+g),v.value=d[g],v.style={},v._comment=void 0}eachCell(o,c){if(c||(c=o,o=null),o&&o.includeEmpty){const f=this._cells.length;for(let h=1;h<=f;h++)c(this.getCell(h),h)}else this._cells.forEach((f,h)=>{f&&f.type!==s.ValueType.Null&&c(f,h+1)})}addPageBreak(o,c){const f=this._worksheet,h=Math.max(0,o-1)||0,d=Math.max(0,c-1)||16838,y={id:this._number,max:d,man:1};h&&(y.min=h),f.rowBreaks.push(y)}get values(){const o=[];return this._cells.forEach(c=>{c&&c.type!==s.ValueType.Null&&(o[c.col]=c.value)}),o}set values(o){if(this._cells=[],o)if(o instanceof Array){let c=0;o.hasOwnProperty("0")&&(c=1),o.forEach((f,h)=>{f!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,h+c),row:this._number,col:h+c}).value=f)})}else this._worksheet.eachColumnKey((c,f)=>{o[f]!==void 0&&(this.getCellEx({address:u.encodeAddress(this._number,c.number),row:this._number,col:c.number}).value=o[f])})}get hasValues(){return i.some(this._cells,o=>o&&o.type!==s.ValueType.Null)}get cellCount(){return this._cells.length}get actualCellCount(){let o=0;return this.eachCell(()=>{o++}),o}get dimensions(){let o=0,c=0;return this._cells.forEach(f=>{f&&f.type!==s.ValueType.Null&&((!o||o>f.col)&&(o=f.col),c<f.col&&(c=f.col))}),o>0?{min:o,max:c}:null}_applyStyle(o,c){return this.style[o]=c,this._cells.forEach(f=>{f&&(f[o]=c)}),c}get numFmt(){return this.style.numFmt}set numFmt(o){this._applyStyle("numFmt",o)}get font(){return this.style.font}set font(o){this._applyStyle("font",o)}get alignment(){return this.style.alignment}set alignment(o){this._applyStyle("alignment",o)}get protection(){return this.style.protection}set protection(o){this._applyStyle("protection",o)}get border(){return this.style.border}set border(o){this._applyStyle("border",o)}get fill(){return this.style.fill}set fill(o){this._applyStyle("fill",o)}get hidden(){return!!this._hidden}set hidden(o){this._hidden=o}get outlineLevel(){return this._outlineLevel||0}set outlineLevel(o){this._outlineLevel=o}get collapsed(){return!!(this._outlineLevel&&this._outlineLevel>=this._worksheet.properties.outlineLevelRow)}get model(){const o=[];let c=0,f=0;return this._cells.forEach(h=>{if(h){const d=h.model;d&&((!c||c>h.col)&&(c=h.col),f<h.col&&(f=h.col),o.push(d))}}),this.height||o.length?{cells:o,number:this.number,min:c,max:f,height:this.height,style:this.style,hidden:this.hidden,outlineLevel:this.outlineLevel,collapsed:this.collapsed}:null}set model(o){if(o.number!==this._number)throw new Error("Invalid row number in model");let c;this._cells=[],o.cells.forEach(f=>{switch(f.type){case a.Types.Merge:break;default:{let h;if(f.address)h=u.decodeAddress(f.address);else if(c){const{row:d}=c,y=c.col+1;h={row:d,col:y,address:u.encodeAddress(d,y),$col$row:`$${u.n2l(y)}$${d}`}}c=h,this.getCellEx(h).model=f;break}}}),o.height?this.height=o.height:delete this.height,this.hidden=o.hidden,this.outlineLevel=o.outlineLevel||0,this.style=o.style&&JSON.parse(JSON.stringify(o.style))||{}}}},{"../utils/col-cache":19,"../utils/under-dash":26,"./cell":3,"./enums":7}],12:[function(e,n,l){const i=e("../utils/col-cache");class s{constructor(a,o,c){this.table=a,this.column=o,this.index=c}_set(a,o){this.table.cacheState(),this.column[a]=o}get name(){return this.column.name}set name(a){this._set("name",a)}get filterButton(){return this.column.filterButton}set filterButton(a){this.column.filterButton=a}get style(){return this.column.style}set style(a){this.column.style=a}get totalsRowLabel(){return this.column.totalsRowLabel}set totalsRowLabel(a){this._set("totalsRowLabel",a)}get totalsRowFunction(){return this.column.totalsRowFunction}set totalsRowFunction(a){this._set("totalsRowFunction",a)}get totalsRowResult(){return this.column.totalsRowResult}set totalsRowResult(a){this._set("totalsRowResult",a)}get totalsRowFormula(){return this.column.totalsRowFormula}set totalsRowFormula(a){this._set("totalsRowFormula",a)}}n.exports=class{constructor(u,a){this.worksheet=u,a&&(this.table=a,this.validate(),this.store())}getFormula(u){switch(u.totalsRowFunction){case"none":return null;case"average":return`SUBTOTAL(101,${this.table.name}[${u.name}])`;case"countNums":return`SUBTOTAL(102,${this.table.name}[${u.name}])`;case"count":return`SUBTOTAL(103,${this.table.name}[${u.name}])`;case"max":return`SUBTOTAL(104,${this.table.name}[${u.name}])`;case"min":return`SUBTOTAL(105,${this.table.name}[${u.name}])`;case"stdDev":return`SUBTOTAL(106,${this.table.name}[${u.name}])`;case"var":return`SUBTOTAL(107,${this.table.name}[${u.name}])`;case"sum":return`SUBTOTAL(109,${this.table.name}[${u.name}])`;case"custom":return u.totalsRowFormula;default:throw new Error("Invalid Totals Row Function: "+u.totalsRowFunction)}}get width(){return this.table.columns.length}get height(){return this.table.rows.length}get filterHeight(){return this.height+(this.table.headerRow?1:0)}get tableHeight(){return this.filterHeight+(this.table.totalsRow?1:0)}validate(){const{table:u}=this,a=(b,m,g)=>{b[m]===void 0&&(b[m]=g)};a(u,"headerRow",!0),a(u,"totalsRow",!1),a(u,"style",{}),a(u.style,"theme","TableStyleMedium2"),a(u.style,"showFirstColumn",!1),a(u.style,"showLastColumn",!1),a(u.style,"showRowStripes",!1),a(u.style,"showColumnStripes",!1);const o=(b,m)=>{if(!b)throw new Error(m)};o(u.ref,"Table must have ref"),o(u.columns,"Table must have column definitions"),o(u.rows,"Table must have row definitions"),u.tl=i.decodeAddress(u.ref);const{row:c,col:f}=u.tl;o(c>0,"Table must be on valid row"),o(f>0,"Table must be on valid col");const{width:h,filterHeight:d,tableHeight:y}=this;u.autoFilterRef=i.encode(c,f,c+d-1,f+h-1),u.tableRef=i.encode(c,f,c+y-1,f+h-1),u.columns.forEach((b,m)=>{o(b.name,`Column ${m} must have a name`),m===0?a(b,"totalsRowLabel","Total"):(a(b,"totalsRowFunction","none"),b.totalsRowFormula=this.getFormula(b))})}store(){const u=(d,y)=>{y&&Object.keys(y).forEach(b=>{d[b]=y[b]})},{worksheet:a,table:o}=this,{row:c,col:f}=o.tl;let h=0;if(o.headerRow){const d=a.getRow(c+h++);o.columns.forEach((y,b)=>{const{style:m,name:g}=y,p=d.getCell(f+b);p.value=g,u(p,m)})}if(o.rows.forEach(d=>{const y=a.getRow(c+h++);d.forEach((b,m)=>{const g=y.getCell(f+m);g.value=b,u(g,o.columns[m].style)})}),o.totalsRow){const d=a.getRow(c+h++);o.columns.forEach((y,b)=>{const m=d.getCell(f+b);if(b===0)m.value=y.totalsRowLabel;else{const g=this.getFormula(y);m.value=g?{formula:y.totalsRowFormula,result:y.totalsRowResult}:null}u(m,y.style)})}}load(u){const{table:a}=this,{row:o,col:c}=a.tl;let f=0;if(a.headerRow){const h=u.getRow(o+f++);a.columns.forEach((d,y)=>{h.getCell(c+y).value=d.name})}if(a.rows.forEach(h=>{const d=u.getRow(o+f++);h.forEach((y,b)=>{d.getCell(c+b).value=y})}),a.totalsRow){const h=u.getRow(o+f++);a.columns.forEach((d,y)=>{const b=h.getCell(c+y);y===0?b.value=d.totalsRowLabel:this.getFormula(d)&&(b.value={formula:d.totalsRowFormula,result:d.totalsRowResult})})}}get model(){return this.table}set model(u){this.table=u}cacheState(){this._cache||(this._cache={ref:this.ref,width:this.width,tableHeight:this.tableHeight})}commit(){if(!this._cache)return;this.validate();const u=i.decodeAddress(this._cache.ref);if(this.ref!==this._cache.ref)for(let a=0;a<this._cache.tableHeight;a++){const o=this.worksheet.getRow(u.row+a);for(let c=0;c<this._cache.width;c++)o.getCell(u.col+c).value=null}else{for(let a=this.tableHeight;a<this._cache.tableHeight;a++){const o=this.worksheet.getRow(u.row+a);for(let c=0;c<this._cache.width;c++)o.getCell(u.col+c).value=null}for(let a=0;a<this.tableHeight;a++){const o=this.worksheet.getRow(u.row+a);for(let c=this.width;c<this._cache.width;c++)o.getCell(u.col+c).value=null}}this.store()}addRow(u,a){this.cacheState(),a===void 0?this.table.rows.push(u):this.table.rows.splice(a,0,u)}removeRows(u){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.rows.splice(u,a)}getColumn(u){const a=this.table.columns[u];return new s(this,a,u)}addColumn(u,a,o){this.cacheState(),o===void 0?(this.table.columns.push(u),this.table.rows.forEach((c,f)=>{c.push(a[f])})):(this.table.columns.splice(o,0,u),this.table.rows.forEach((c,f)=>{c.splice(o,0,a[f])}))}removeColumns(u){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this.cacheState(),this.table.columns.splice(u,a),this.table.rows.forEach(o=>{o.splice(u,a)})}_assign(u,a,o){this.cacheState(),u[a]=o}get ref(){return this.table.ref}set ref(u){this._assign(this.table,"ref",u)}get name(){return this.table.name}set name(u){this.table.name=u}get displayName(){return this.table.displyName||this.table.name}set displayNamename(u){this.table.displayName=u}get headerRow(){return this.table.headerRow}set headerRow(u){this._assign(this.table,"headerRow",u)}get totalsRow(){return this.table.totalsRow}set totalsRow(u){this._assign(this.table,"totalsRow",u)}get theme(){return this.table.style.name}set theme(u){this.table.style.name=u}get showFirstColumn(){return this.table.style.showFirstColumn}set showFirstColumn(u){this.table.style.showFirstColumn=u}get showLastColumn(){return this.table.style.showLastColumn}set showLastColumn(u){this.table.style.showLastColumn=u}get showRowStripes(){return this.table.style.showRowStripes}set showRowStripes(u){this.table.style.showRowStripes=u}get showColumnStripes(){return this.table.style.showColumnStripes}set showColumnStripes(u){this.table.style.showColumnStripes=u}}},{"../utils/col-cache":19}],13:[function(e,n,l){const i=e("./worksheet"),s=e("./defined-names"),u=e("../xlsx/xlsx"),a=e("../csv/csv");n.exports=class{constructor(){this.category="",this.company="",this.created=new Date,this.description="",this.keywords="",this.manager="",this.modified=this.created,this.properties={},this.calcProperties={},this._worksheets=[],this.subject="",this.title="",this.views=[],this.media=[],this._definedNames=new s}get xlsx(){return this._xlsx||(this._xlsx=new u(this)),this._xlsx}get csv(){return this._csv||(this._csv=new a(this)),this._csv}get nextId(){for(let o=1;o<this._worksheets.length;o++)if(!this._worksheets[o])return o;return this._worksheets.length||1}addWorksheet(o,c){const f=this.nextId;c&&(typeof c=="string"?(console.trace('tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { argb: "rbg value" } }'),c={properties:{tabColor:{argb:c}}}):(c.argb||c.theme||c.indexed)&&(console.trace("tabColor argument is now deprecated. Please use workbook.addWorksheet(name, {properties: { tabColor: { ... } }"),c={properties:{tabColor:c}}));const h=this._worksheets.reduce((b,m)=>(m&&m.orderNo)>b?m.orderNo:b,0),d=Object.assign({},c,{id:f,name:o,orderNo:h+1,workbook:this}),y=new i(d);return this._worksheets[f]=y,y}removeWorksheetEx(o){delete this._worksheets[o.id]}removeWorksheet(o){const c=this.getWorksheet(o);c&&c.destroy()}getWorksheet(o){return o===void 0?this._worksheets.find(Boolean):typeof o=="number"?this._worksheets[o]:typeof o=="string"?this._worksheets.find(c=>c&&c.name===o):void 0}get worksheets(){return this._worksheets.slice(1).sort((o,c)=>o.orderNo-c.orderNo).filter(Boolean)}eachSheet(o){this.worksheets.forEach(c=>{o(c,c.id)})}get definedNames(){return this._definedNames}clearThemes(){this._themes=void 0}addImage(o){const c=this.media.length;return this.media.push(Object.assign({},o,{type:"image"})),c}getImage(o){return this.media[o]}get model(){return{creator:this.creator||"Unknown",lastModifiedBy:this.lastModifiedBy||"Unknown",lastPrinted:this.lastPrinted,created:this.created,modified:this.modified,properties:this.properties,worksheets:this.worksheets.map(o=>o.model),sheets:this.worksheets.map(o=>o.model).filter(Boolean),definedNames:this._definedNames.model,views:this.views,company:this.company,manager:this.manager,title:this.title,subject:this.subject,keywords:this.keywords,category:this.category,description:this.description,language:this.language,revision:this.revision,contentStatus:this.contentStatus,themes:this._themes,media:this.media,calcProperties:this.calcProperties}}set model(o){this.creator=o.creator,this.lastModifiedBy=o.lastModifiedBy,this.lastPrinted=o.lastPrinted,this.created=o.created,this.modified=o.modified,this.company=o.company,this.manager=o.manager,this.title=o.title,this.subject=o.subject,this.keywords=o.keywords,this.category=o.category,this.description=o.description,this.language=o.language,this.revision=o.revision,this.contentStatus=o.contentStatus,this.properties=o.properties,this.calcProperties=o.calcProperties,this._worksheets=[],o.worksheets.forEach(c=>{const{id:f,name:h,state:d}=c,y=o.sheets&&o.sheets.findIndex(b=>b.id===f);(this._worksheets[f]=new i({id:f,name:h,orderNo:y,state:d,workbook:this})).model=c}),this._definedNames.model=o.definedNames,this.views=o.views,this._themes=o.themes,this.media=o.media||[]}}},{"../csv/csv":1,"../xlsx/xlsx":144,"./defined-names":6,"./worksheet":14}],14:[function(e,n,l){const i=e("../utils/under-dash"),s=e("../utils/col-cache"),u=e("./range"),a=e("./row"),o=e("./column"),c=e("./enums"),f=e("./image"),h=e("./table"),d=e("./data-validations"),y=e("../utils/encryptor"),{copyStyle:b}=e("../utils/copy-style");n.exports=class{constructor(m){m=m||{},this._workbook=m.workbook,this.id=m.id,this.orderNo=m.orderNo,this.name=m.name,this.state=m.state||"visible",this._rows=[],this._columns=null,this._keys={},this._merges={},this.rowBreaks=[],this.properties=Object.assign({},{defaultRowHeight:15,dyDescent:55,outlineLevelCol:0,outlineLevelRow:0},m.properties),this.pageSetup=Object.assign({},{margins:{left:.7,right:.7,top:.75,bottom:.75,header:.3,footer:.3},orientation:"portrait",horizontalDpi:4294967295,verticalDpi:4294967295,fitToPage:!(!m.pageSetup||!m.pageSetup.fitToWidth&&!m.pageSetup.fitToHeight||m.pageSetup.scale),pageOrder:"downThenOver",blackAndWhite:!1,draft:!1,cellComments:"None",errors:"displayed",scale:100,fitToWidth:1,fitToHeight:1,paperSize:void 0,showRowColHeaders:!1,showGridLines:!1,firstPageNumber:void 0,horizontalCentered:!1,verticalCentered:!1,rowBreaks:null,colBreaks:null},m.pageSetup),this.headerFooter=Object.assign({},{differentFirst:!1,differentOddEven:!1,oddHeader:null,oddFooter:null,evenHeader:null,evenFooter:null,firstHeader:null,firstFooter:null},m.headerFooter),this.dataValidations=new d,this.views=m.views||[],this.autoFilter=m.autoFilter||null,this._media=[],this.sheetProtection=null,this.tables={},this.conditionalFormattings=[]}get name(){return this._name}set name(m){if(m===void 0&&(m="sheet"+this.id),this._name!==m){if(typeof m!="string")throw new Error("The name has to be a string.");if(m==="")throw new Error("The name can't be empty.");if(m==="History")throw new Error('The name "History" is protected. Please use a different name.');if(/[*?:/\\[\]]/.test(m))throw new Error(`Worksheet name ${m} cannot include any of the following characters: * ? : \\ / [ ]`);if(/(^')|('$)/.test(m))throw new Error("The first or last character of worksheet name cannot be a single quotation mark: "+m);if(m&&m.length>31&&(console.warn(`Worksheet name ${m} exceeds 31 chars. This will be truncated`),m=m.substring(0,31)),this._workbook._worksheets.find(g=>g&&g.name.toLowerCase()===m.toLowerCase()))throw new Error("Worksheet name already exists: "+m);this._name=m}}get workbook(){return this._workbook}destroy(){this._workbook.removeWorksheetEx(this)}get dimensions(){const m=new u;return this._rows.forEach(g=>{if(g){const p=g.dimensions;p&&m.expand(g.number,p.min,g.number,p.max)}}),m}get columns(){return this._columns}set columns(m){this._headerRowCount=m.reduce((v,C)=>{const j=(C.header?1:C.headers&&C.headers.length)||0;return Math.max(v,j)},0);let g=1;const p=this._columns=[];m.forEach(v=>{const C=new o(this,g++,!1);p.push(C),C.defn=v})}getColumnKey(m){return this._keys[m]}setColumnKey(m,g){this._keys[m]=g}deleteColumnKey(m){delete this._keys[m]}eachColumnKey(m){i.each(this._keys,m)}getColumn(m){if(typeof m=="string"){const g=this._keys[m];if(g)return g;m=s.l2n(m)}if(this._columns||(this._columns=[]),m>this._columns.length){let g=this._columns.length+1;for(;g<=m;)this._columns.push(new o(this,g++))}return this._columns[m-1]}spliceColumns(m,g){const p=this._rows.length;for(var v=arguments.length,C=new Array(v>2?v-2:0),j=2;j<v;j++)C[j-2]=arguments[j];if(C.length>0)for(let z=0;z<p;z++){const H=[m,g];C.forEach(B=>{H.push(B[z]||null)});const q=this.getRow(z+1);q.splice.apply(q,H)}else this._rows.forEach(z=>{z&&z.splice(m,g)});const L=C.length-g,$=m+g,M=this._columns.length;if(L<0)for(let z=m+C.length;z<=M;z++)this.getColumn(z).defn=this.getColumn(z-L).defn;else if(L>0)for(let z=M;z>=$;z--)this.getColumn(z+L).defn=this.getColumn(z).defn;for(let z=m;z<m+C.length;z++)this.getColumn(z).defn=null;this.workbook.definedNames.spliceColumns(this.name,m,g,C.length)}get lastColumn(){return this.getColumn(this.columnCount)}get columnCount(){let m=0;return this.eachRow(g=>{m=Math.max(m,g.cellCount)}),m}get actualColumnCount(){const m=[];let g=0;return this.eachRow(p=>{p.eachCell(v=>{let{col:C}=v;m[C]||(m[C]=!0,g++)})}),g}_commitRow(){}get _lastRowNumber(){const m=this._rows;let g=m.length;for(;g>0&&m[g-1]===void 0;)g--;return g}get _nextRow(){return this._lastRowNumber+1}get lastRow(){if(this._rows.length)return this._rows[this._rows.length-1]}findRow(m){return this._rows[m-1]}findRows(m,g){return this._rows.slice(m-1,m-1+g)}get rowCount(){return this._lastRowNumber}get actualRowCount(){let m=0;return this.eachRow(()=>{m++}),m}getRow(m){let g=this._rows[m-1];return g||(g=this._rows[m-1]=new a(this,m)),g}getRows(m,g){if(g<1)return;const p=[];for(let v=m;v<m+g;v++)p.push(this.getRow(v));return p}addRow(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const p=this._nextRow,v=this.getRow(p);return v.values=m,this._setStyleOption(p,g[0]==="i"?g:"n"),v}addRows(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";const p=[];return m.forEach(v=>{p.push(this.addRow(v,g))}),p}insertRow(m,g){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";return this.spliceRows(m,0,g),this._setStyleOption(m,p),this.getRow(m)}insertRows(m,g){let p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"n";if(this.spliceRows(m,0,...g),p!=="n")for(let v=0;v<g.length;v++)p[0]==="o"&&this.findRow(g.length+m+v)!==void 0?this._copyStyle(g.length+m+v,m+v,p[1]==="+"):p[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m+v,p[1]==="+");return this.getRows(m,g.length)}_setStyleOption(m){let g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"n";g[0]==="o"&&this.findRow(m+1)!==void 0?this._copyStyle(m+1,m,g[1]==="+"):g[0]==="i"&&this.findRow(m-1)!==void 0&&this._copyStyle(m-1,m,g[1]==="+")}_copyStyle(m,g){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const v=this.getRow(m),C=this.getRow(g);C.style=b(v.style),v.eachCell({includeEmpty:p},(j,L)=>{C.getCell(L).style=b(j.style)}),C.height=v.height}duplicateRow(m,g){let p=arguments.length>2&&arguments[2]!==void 0&&arguments[2];const v=this._rows[m-1],C=new Array(g).fill(v.values);this.spliceRows(m+1,p?0:g,...C);for(let j=0;j<g;j++){const L=this._rows[m+j];L.style=v.style,L.height=v.height,v.eachCell({includeEmpty:!0},($,M)=>{L.getCell(M).style=$.style})}}spliceRows(m,g){const p=m+g;for(var v=arguments.length,C=new Array(v>2?v-2:0),j=2;j<v;j++)C[j-2]=arguments[j];const L=C.length,$=L-g,M=this._rows.length;let z,H;if($<0)for(m===M&&(this._rows[M-1]=void 0),z=p;z<=M;z++)if(H=this._rows[z-1],H){const q=this.getRow(z+$);q.values=H.values,q.style=H.style,q.height=H.height,H.eachCell({includeEmpty:!0},(B,A)=>{q.getCell(A).style=B.style}),this._rows[z-1]=void 0}else this._rows[z+$-1]=void 0;else if($>0)for(z=M;z>=p;z--)if(H=this._rows[z-1],H){const q=this.getRow(z+$);q.values=H.values,q.style=H.style,q.height=H.height,H.eachCell({includeEmpty:!0},(B,A)=>{if(q.getCell(A).style=B.style,B._value.constructor.name==="MergeValue"){const P=this.getRow(B._row._number+L).getCell(A),k=B._value._master,w=this.getRow(k._row._number+L).getCell(k._column._number);P.merge(w)}})}else this._rows[z+$-1]=void 0;for(z=0;z<L;z++){const q=this.getRow(m+z);q.style={},q.values=C[z]}this.workbook.definedNames.spliceRows(this.name,m,g,L)}eachRow(m,g){if(g||(g=m,m=void 0),m&&m.includeEmpty){const p=this._rows.length;for(let v=1;v<=p;v++)g(this.getRow(v),v)}else this._rows.forEach(p=>{p&&p.hasValues&&g(p,p.number)})}getSheetValues(){const m=[];return this._rows.forEach(g=>{g&&(m[g.number]=g.values)}),m}findCell(m,g){const p=s.getAddress(m,g),v=this._rows[p.row-1];return v?v.findCell(p.col):void 0}getCell(m,g){const p=s.getAddress(m,g);return this.getRow(p.row).getCellEx(p)}mergeCells(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];const v=new u(g);this._mergeCellsInternal(v)}mergeCellsWithoutStyle(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];const v=new u(g);this._mergeCellsInternal(v,!0)}_mergeCellsInternal(m,g){i.each(this._merges,v=>{if(v.intersects(m))throw new Error("Cannot merge already merged cells")});const p=this.getCell(m.top,m.left);for(let v=m.top;v<=m.bottom;v++)for(let C=m.left;C<=m.right;C++)(v>m.top||C>m.left)&&this.getCell(v,C).merge(p,g);this._merges[p.address]=m}_unMergeMaster(m){const g=this._merges[m.address];if(g){for(let p=g.top;p<=g.bottom;p++)for(let v=g.left;v<=g.right;v++)this.getCell(p,v).unmerge();delete this._merges[m.address]}}get hasMerges(){return i.some(this._merges,Boolean)}unMergeCells(){for(var m=arguments.length,g=new Array(m),p=0;p<m;p++)g[p]=arguments[p];const v=new u(g);for(let C=v.top;C<=v.bottom;C++)for(let j=v.left;j<=v.right;j++){const L=this.findCell(C,j);L&&(L.type===c.ValueType.Merge?this._unMergeMaster(L.master):this._merges[L.address]&&this._unMergeMaster(L))}}fillFormula(m,g,p){let v=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"shared";const C=s.decode(m),{top:j,left:L,bottom:$,right:M}=C,z=M-L+1,H=s.encodeAddress(j,L),q=v==="shared";let B;B=typeof p=="function"?p:Array.isArray(p)?Array.isArray(p[0])?(P,k)=>p[P-j][k-L]:(P,k)=>p[(P-j)*z+(k-L)]:()=>{};let A=!0;for(let P=j;P<=$;P++)for(let k=L;k<=M;k++)A?(this.getCell(P,k).value={shareType:v,formula:g,ref:m,result:B(P,k)},A=!1):this.getCell(P,k).value=q?{sharedFormula:H,result:B(P,k)}:B(P,k)}addImage(m,g){const p={type:"image",imageId:m,range:g};this._media.push(new f(this,p))}getImages(){return this._media.filter(m=>m.type==="image")}addBackgroundImage(m){const g={type:"background",imageId:m};this._media.push(new f(this,g))}getBackgroundImageId(){const m=this._media.find(g=>g.type==="background");return m&&m.imageId}protect(m,g){return new Promise(p=>{this.sheetProtection={sheet:!0},g&&"spinCount"in g&&(g.spinCount=Number.isFinite(g.spinCount)?Math.round(Math.max(0,g.spinCount)):1e5),m&&(this.sheetProtection.algorithmName="SHA-512",this.sheetProtection.saltValue=y.randomBytes(16).toString("base64"),this.sheetProtection.spinCount=g&&"spinCount"in g?g.spinCount:1e5,this.sheetProtection.hashValue=y.convertPasswordToHash(m,"SHA512",this.sheetProtection.saltValue,this.sheetProtection.spinCount)),g&&(this.sheetProtection=Object.assign(this.sheetProtection,g),!m&&"spinCount"in g&&delete this.sheetProtection.spinCount),p()})}unprotect(){this.sheetProtection=null}addTable(m){const g=new h(this,m);return this.tables[m.name]=g,g}getTable(m){return this.tables[m]}removeTable(m){delete this.tables[m]}getTables(){return Object.values(this.tables)}addConditionalFormatting(m){this.conditionalFormattings.push(m)}removeConditionalFormatting(m){typeof m=="number"?this.conditionalFormattings.splice(m,1):this.conditionalFormattings=m instanceof Function?this.conditionalFormattings.filter(m):[]}get tabColor(){return console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor}set tabColor(m){console.trace("worksheet.tabColor property is now deprecated. Please use worksheet.properties.tabColor"),this.properties.tabColor=m}get model(){const m={id:this.id,name:this.name,dataValidations:this.dataValidations.model,properties:this.properties,state:this.state,pageSetup:this.pageSetup,headerFooter:this.headerFooter,rowBreaks:this.rowBreaks,views:this.views,autoFilter:this.autoFilter,media:this._media.map(v=>v.model),sheetProtection:this.sheetProtection,tables:Object.values(this.tables).map(v=>v.model),conditionalFormattings:this.conditionalFormattings};m.cols=o.toModel(this.columns);const g=m.rows=[],p=m.dimensions=new u;return this._rows.forEach(v=>{const C=v&&v.model;C&&(p.expand(C.number,C.min,C.number,C.max),g.push(C))}),m.merges=[],i.each(this._merges,v=>{m.merges.push(v.range)}),m}_parseRows(m){this._rows=[],m.rows.forEach(g=>{const p=new a(this,g.number);this._rows[p.number-1]=p,p.model=g})}_parseMergeCells(m){i.each(m.mergeCells,g=>{this.mergeCellsWithoutStyle(g)})}set model(m){this.name=m.name,this._columns=o.fromModel(this,m.cols),this._parseRows(m),this._parseMergeCells(m),this.dataValidations=new d(m.dataValidations),this.properties=m.properties,this.pageSetup=m.pageSetup,this.headerFooter=m.headerFooter,this.views=m.views,this.autoFilter=m.autoFilter,this._media=m.media.map(g=>new f(this,g)),this.sheetProtection=m.sheetProtection,this.tables=m.tables.reduce((g,p)=>{const v=new h;return v.model=p,g[p.name]=v,g},{}),this.conditionalFormattings=m.conditionalFormattings}}},{"../utils/col-cache":19,"../utils/copy-style":20,"../utils/encryptor":21,"../utils/under-dash":26,"./column":4,"./data-validations":5,"./enums":7,"./image":8,"./range":10,"./row":11,"./table":12}],15:[function(e,n,l){e("core-js/modules/es.promise"),e("core-js/modules/es.promise.finally"),e("core-js/modules/es.object.assign"),e("core-js/modules/es.object.keys"),e("core-js/modules/es.object.values"),e("core-js/modules/es.symbol"),e("core-js/modules/es.symbol.async-iterator"),e("core-js/modules/es.array.iterator"),e("core-js/modules/es.array.includes"),e("core-js/modules/es.array.find-index"),e("core-js/modules/es.array.find"),e("core-js/modules/es.string.from-code-point"),e("core-js/modules/es.string.includes"),e("core-js/modules/es.number.is-nan"),e("regenerator-runtime/runtime");const i={Workbook:e("./doc/workbook")},s=e("./doc/enums");Object.keys(s).forEach(u=>{i[u]=s[u]}),n.exports=i},{"./doc/enums":7,"./doc/workbook":13,"core-js/modules/es.array.find":359,"core-js/modules/es.array.find-index":358,"core-js/modules/es.array.includes":360,"core-js/modules/es.array.iterator":361,"core-js/modules/es.number.is-nan":363,"core-js/modules/es.object.assign":364,"core-js/modules/es.object.keys":366,"core-js/modules/es.object.values":367,"core-js/modules/es.promise":372,"core-js/modules/es.promise.finally":371,"core-js/modules/es.string.from-code-point":376,"core-js/modules/es.string.includes":377,"core-js/modules/es.symbol":381,"core-js/modules/es.symbol.async-iterator":378,"regenerator-runtime/runtime":492}],16:[function(e,n,l){const i=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");l.bufferToString=function(s){return typeof s=="string"?s:i?i.decode(s):s.toString()}},{}],17:[function(e,n,l){const i=typeof TextEncoder>"u"?null:new TextEncoder("utf-8"),{Buffer:s}=e("buffer");l.stringToBuffer=function(u){return typeof u!="string"?u:i?s.from(i.encode(u).buffer):s.from(u)}},{buffer:220}],18:[function(e,n,l){const i=e("./under-dash"),s=e("./col-cache");n.exports=class{constructor(u){this.template=u,this.sheets={}}addCell(u){this.addCellEx(s.decodeEx(u))}getCell(u){return this.findCellEx(s.decodeEx(u),!0)}findCell(u){return this.findCellEx(s.decodeEx(u),!1)}findCellAt(u,a,o){const c=this.sheets[u],f=c&&c[a];return f&&f[o]}addCellEx(u){if(u.top)for(let a=u.top;a<=u.bottom;a++)for(let o=u.left;o<=u.right;o++)this.getCellAt(u.sheetName,a,o);else this.findCellEx(u,!0)}getCellEx(u){return this.findCellEx(u,!0)}findCellEx(u,a){const o=this.findSheet(u,a),c=this.findSheetRow(o,u,a);return this.findRowCell(c,u,a)}getCellAt(u,a,o){const c=this.sheets[u]||(this.sheets[u]=[]),f=c[a]||(c[a]=[]);return f[o]||(f[o]={sheetName:u,address:s.n2l(o)+a,row:a,col:o})}removeCellEx(u){const a=this.findSheet(u);if(!a)return;const o=this.findSheetRow(a,u);o&&delete o[u.col]}forEachInSheet(u,a){const o=this.sheets[u];o&&o.forEach((c,f)=>{c&&c.forEach((h,d)=>{h&&a(h,f,d)})})}forEach(u){i.each(this.sheets,(a,o)=>{this.forEachInSheet(o,u)})}map(u){const a=[];return this.forEach(o=>{a.push(u(o))}),a}findSheet(u,a){const o=u.sheetName;return this.sheets[o]?this.sheets[o]:a?this.sheets[o]=[]:void 0}findSheetRow(u,a,o){const{row:c}=a;return u&&u[c]?u[c]:o?u[c]=[]:void 0}findRowCell(u,a,o){const{col:c}=a;return u&&u[c]?u[c]:o?u[c]=this.template?Object.assign(a,JSON.parse(JSON.stringify(this.template))):a:void 0}spliceRows(u,a,o,c){const f=this.sheets[u];if(f){const h=[];for(let d=0;d<c;d++)h.push([]);f.splice(a,o,...h)}}spliceColumns(u,a,o,c){const f=this.sheets[u];if(f){const h=[];for(let d=0;d<c;d++)h.push(null);i.each(f,d=>{d.splice(a,o,...h)})}}}},{"./col-cache":19,"./under-dash":26}],19:[function(e,n,l){const i=/^[A-Z]+\d+$/,s={_dictionary:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],_l2nFill:0,_l2n:{},_n2l:[],_level:u=>u<=26?1:u<=676?2:3,_fill(u){let a,o,c,f,h,d=1;if(u>=4)throw new Error("Out of bounds. Excel supports columns from 1 to 16384");if(this._l2nFill<1&&u>=1){for(;d<=26;)a=this._dictionary[d-1],this._n2l[d]=a,this._l2n[a]=d,d++;this._l2nFill=1}if(this._l2nFill<2&&u>=2){for(d=27;d<=702;)o=d-27,c=o%26,f=Math.floor(o/26),a=this._dictionary[f]+this._dictionary[c],this._n2l[d]=a,this._l2n[a]=d,d++;this._l2nFill=2}if(this._l2nFill<3&&u>=3){for(d=703;d<=16384;)o=d-703,c=o%26,f=Math.floor(o/26)%26,h=Math.floor(o/676),a=this._dictionary[h]+this._dictionary[f]+this._dictionary[c],this._n2l[d]=a,this._l2n[a]=d,d++;this._l2nFill=3}},l2n(u){if(this._l2n[u]||this._fill(u.length),!this._l2n[u])throw new Error("Out of bounds. Invalid column letter: "+u);return this._l2n[u]},n2l(u){if(u<1||u>16384)throw new Error(u+" is out of bounds. Excel supports columns from 1 to 16384");return this._n2l[u]||this._fill(this._level(u)),this._n2l[u]},_hash:{},validateAddress(u){if(!i.test(u))throw new Error("Invalid Address: "+u);return!0},decodeAddress(u){const a=u.length<5&&this._hash[u];if(a)return a;let o=!1,c="",f=0,h=!1,d="",y=0;for(let m,g=0;g<u.length;g++)if(m=u.charCodeAt(g),!h&&m>=65&&m<=90)o=!0,c+=u[g],f=26*f+m-64;else if(m>=48&&m<=57)h=!0,d+=u[g],y=10*y+m-48;else if(h&&o&&m!==36)break;if(o){if(f>16384)throw new Error("Out of bounds. Invalid column letter: "+c)}else f=void 0;h||(y=void 0);const b={address:u=c+d,col:f,row:y,$col$row:`$${c}$${d}`};return f<=100&&y<=100&&(this._hash[u]=b,this._hash[b.$col$row]=b),b},getAddress(u,a){if(a){const o=this.n2l(a)+u;return this.decodeAddress(o)}return this.decodeAddress(u)},decode(u){const a=u.split(":");if(a.length===2){const o=this.decodeAddress(a[0]),c=this.decodeAddress(a[1]),f={top:Math.min(o.row,c.row),left:Math.min(o.col,c.col),bottom:Math.max(o.row,c.row),right:Math.max(o.col,c.col)};return f.tl=this.n2l(f.left)+f.top,f.br=this.n2l(f.right)+f.bottom,f.dimensions=`${f.tl}:${f.br}`,f}return this.decodeAddress(u)},decodeEx(u){const a=u.match(/(?:(?:(?:'((?:[^']|'')*)')|([^'^ !]*))!)?(.*)/),o=a[1]||a[2],c=a[3],f=c.split(":");if(f.length>1){let d=this.decodeAddress(f[0]),y=this.decodeAddress(f[1]);const b=Math.min(d.row,y.row),m=Math.min(d.col,y.col),g=Math.max(d.row,y.row),p=Math.max(d.col,y.col);return d=this.n2l(m)+b,y=this.n2l(p)+g,{top:b,left:m,bottom:g,right:p,sheetName:o,tl:{address:d,col:m,row:b,$col$row:`$${this.n2l(m)}$${b}`,sheetName:o},br:{address:y,col:p,row:g,$col$row:`$${this.n2l(p)}$${g}`,sheetName:o},dimensions:`${d}:${y}`}}if(c.startsWith("#"))return o?{sheetName:o,error:c}:{error:c};const h=this.decodeAddress(c);return o?{sheetName:o,...h}:h},encodeAddress:(u,a)=>s.n2l(a)+u,encode(){switch(arguments.length){case 2:return s.encodeAddress(arguments[0],arguments[1]);case 4:return`${s.encodeAddress(arguments[0],arguments[1])}:${s.encodeAddress(arguments[2],arguments[3])}`;default:throw new Error("Can only encode with 2 or 4 arguments")}},inRange(u,a){const[o,c,,f,h]=u,[d,y]=a;return d>=o&&d<=f&&y>=c&&y<=h}};n.exports=s},{}],20:[function(e,n,l){const i=(u,a)=>({...u,...a.reduce((o,c)=>(u[c]&&(o[c]={...u[c]}),o),{})}),s=function(u,a,o){let c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[];u[o]&&(a[o]=i(u[o],c))};l.copyStyle=u=>{if(!u)return u;if(a=u,Object.keys(a).length===0)return{};var a;const o={...u};return s(u,o,"font",["color"]),s(u,o,"alignment"),s(u,o,"protection"),u.border&&(s(u,o,"border"),s(u.border,o.border,"top",["color"]),s(u.border,o.border,"left",["color"]),s(u.border,o.border,"bottom",["color"]),s(u.border,o.border,"right",["color"]),s(u.border,o.border,"diagonal",["color"])),u.fill&&(s(u,o,"fill",["fgColor","bgColor","center"]),u.fill.stops&&(o.fill.stops=u.fill.stops.map(c=>i(c,["color"])))),o}},{}],21:[function(e,n,l){(function(i){(function(){const s=e("crypto"),u={hash(a){const o=s.createHash(a);for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];return o.update(i.concat(f)),o.digest()},convertPasswordToHash(a,o,c,f){if(o=o.toLowerCase(),s.getHashes().indexOf(o)<0)throw new Error(`Hash algorithm '${o}' not supported!`);const h=i.from(a,"utf16le");let d=this.hash(o,i.from(c,"base64"),h);for(let y=0;y<f;y++){const b=i.alloc(4);b.writeUInt32LE(y,0),d=this.hash(o,d,b)}return d.toString("base64")},randomBytes:a=>s.randomBytes(a)};n.exports=u}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,crypto:390}],22:[function(e,n,l){const{SaxesParser:i}=e("saxes"),{PassThrough:s}=e("readable-stream"),{bufferToString:u}=e("./browser-buffer-decode");n.exports=async function*(a){a.pipe&&!a[Symbol.asyncIterator]&&(a=a.pipe(new s));const o=new i;let c;o.on("error",h=>{c=h});let f=[];o.on("opentag",h=>f.push({eventType:"opentag",value:h})),o.on("text",h=>f.push({eventType:"text",value:h})),o.on("closetag",h=>f.push({eventType:"closetag",value:h}));for await(const h of a){if(o.write(u(h)),c)throw c;yield f,f=[]}}},{"./browser-buffer-decode":16,"readable-stream":491,saxes:496}],23:[function(e,n,l){const i=e("./col-cache"),s=/(([a-z_\-0-9]*)!)?([a-z0-9_$]{2,})([(])?/gi,u=/^([$])?([a-z]+)([$])?([1-9][0-9]*)$/i;n.exports={slideFormula:function(a,o,c){const f=i.decode(o),h=i.decode(c);return a.replace(s,(d,y,b,m,g)=>{if(g)return d;const p=u.exec(m);if(p){const v=p[1],C=p[2].toUpperCase(),j=p[3],L=p[4];if(C.length>3||C.length===3&&C>"XFD")return d;let $=i.l2n(C),M=parseInt(L,10);return v||($+=h.col-f.col),j||(M+=h.row-f.row),(y||"")+(v||"")+i.n2l($)+(j||"")+M}return d})}}},{"./col-cache":19}],24:[function(e,n,l){(function(i,s){(function(){const u=e("readable-stream"),a=e("./utils"),o=e("./string-buf");class c{constructor(m,g){this._data=m,this._encoding=g}get length(){return this.toBuffer().length}copy(m,g,p,v){return this.toBuffer().copy(m,g,p,v)}toBuffer(){return this._buffer||(this._buffer=s.from(this._data,this._encoding)),this._buffer}}class f{constructor(m){this._data=m}get length(){return this._data.length}copy(m,g,p,v){return this._data._buf.copy(m,g,p,v)}toBuffer(){return this._data.toBuffer()}}class h{constructor(m){this._data=m}get length(){return this._data.length}copy(m,g,p,v){this._data.copy(m,g,p,v)}toBuffer(){return this._data}}class d{constructor(m){this.size=m,this.buffer=s.alloc(m),this.iRead=0,this.iWrite=0}toBuffer(){if(this.iRead===0&&this.iWrite===this.size)return this.buffer;const m=s.alloc(this.iWrite-this.iRead);return this.buffer.copy(m,0,this.iRead,this.iWrite),m}get length(){return this.iWrite-this.iRead}get eod(){return this.iRead===this.iWrite}get full(){return this.iWrite===this.size}read(m){let g;return m===0?null:m===void 0||m>=this.length?(g=this.toBuffer(),this.iRead=this.iWrite,g):(g=s.alloc(m),this.buffer.copy(g,0,this.iRead,m),this.iRead+=m,g)}write(m,g,p){const v=Math.min(p,this.size-this.iWrite);return m.copy(this.buffer,this.iWrite,g,g+v),this.iWrite+=v,v}}const y=function(b){b=b||{},this.bufSize=b.bufSize||1048576,this.buffers=[],this.batch=b.batch||!1,this.corked=!1,this.inPos=0,this.outPos=0,this.pipes=[],this.paused=!1,this.encoding=null};a.inherits(y,u.Duplex,{toBuffer(){switch(this.buffers.length){case 0:return null;case 1:return this.buffers[0].toBuffer();default:return s.concat(this.buffers.map(b=>b.toBuffer()))}},_getWritableBuffer(){if(this.buffers.length){const m=this.buffers[this.buffers.length-1];if(!m.full)return m}const b=new d(this.bufSize);return this.buffers.push(b),b},async _pipe(b){await Promise.all(this.pipes.map(function(m){return new Promise(g=>{m.write(b.toBuffer(),()=>{g()})})}))},_writeToBuffers(b){let m=0;const g=b.length;for(;m<g;)m+=this._getWritableBuffer().write(b,m,g-m)},async write(b,m,g){let p;if(m instanceof Function&&(g=m,m="utf8"),g=g||a.nop,b instanceof o)p=new f(b);else if(b instanceof s)p=new h(b);else{if(!(typeof b=="string"||b instanceof String||b instanceof ArrayBuffer))throw new Error("Chunk must be one of type String, Buffer or StringBuf.");p=new c(b,m)}if(this.pipes.length)if(this.batch)for(this._writeToBuffers(p);!this.corked&&this.buffers.length>1;)this._pipe(this.buffers.shift());else this.corked?(this._writeToBuffers(p),i.nextTick(g)):(await this._pipe(p),g());else this.paused||this.emit("data",p.toBuffer()),this._writeToBuffers(p),this.emit("readable");return!0},cork(){this.corked=!0},_flush(){if(this.pipes.length)for(;this.buffers.length;)this._pipe(this.buffers.shift())},uncork(){this.corked=!1,this._flush()},end(b,m,g){const p=v=>{v?g(v):(this._flush(),this.pipes.forEach(C=>{C.end()}),this.emit("finish"))};b?this.write(b,m,p):p()},read(b){let m;if(b){for(m=[];b&&this.buffers.length&&!this.buffers[0].eod;){const g=this.buffers[0],p=g.read(b);b-=p.length,m.push(p),g.eod&&g.full&&this.buffers.shift()}return s.concat(m)}return m=this.buffers.map(g=>g.toBuffer()).filter(Boolean),this.buffers=[],s.concat(m)},setEncoding(b){this.encoding=b},pause(){this.paused=!0},resume(){this.paused=!1},isPaused(){return!!this.paused},pipe(b){this.pipes.push(b),!this.paused&&this.buffers.length&&this.end()},unpipe(b){this.pipes=this.pipes.filter(m=>m!==b)},unshift(){throw new Error("Not Implemented")},wrap(){throw new Error("Not Implemented")}}),n.exports=y}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"./string-buf":25,"./utils":27,_process:467,buffer:220,"readable-stream":491}],25:[function(e,n,l){(function(i){(function(){n.exports=class{constructor(s){this._buf=i.alloc(s&&s.size||16384),this._encoding=s&&s.encoding||"utf8",this._inPos=0,this._buffer=void 0}get length(){return this._inPos}get capacity(){return this._buf.length}get buffer(){return this._buf}toBuffer(){return this._buffer||(this._buffer=i.alloc(this.length),this._buf.copy(this._buffer,0,0,this.length)),this._buffer}reset(s){s=s||0,this._buffer=void 0,this._inPos=s}_grow(s){let u=2*this._buf.length;for(;u<s;)u*=2;const a=i.alloc(u);this._buf.copy(a,0),this._buf=a}addText(s){this._buffer=void 0;let u=this._inPos+this._buf.write(s,this._inPos,this._encoding);for(;u>=this._buf.length-4;)this._grow(this._inPos+s.length),u=this._inPos+this._buf.write(s,this._inPos,this._encoding);this._inPos=u}addStringBuf(s){s.length&&(this._buffer=void 0,this.length+s.length>this.capacity&&this._grow(this.length+s.length),s._buf.copy(this._buf,this._inPos,0,s.length),this._inPos+=s.length)}}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],26:[function(e,n,l){const{toString:i}=Object.prototype,s=/["&<>]/,u={each:function(a,o){a&&(Array.isArray(a)?a.forEach(o):Object.keys(a).forEach(c=>{o(a[c],c)}))},some:function(a,o){return!!a&&(Array.isArray(a)?a.some(o):Object.keys(a).some(c=>o(a[c],c)))},every:function(a,o){return!a||(Array.isArray(a)?a.every(o):Object.keys(a).every(c=>o(a[c],c)))},map:function(a,o){return a?Array.isArray(a)?a.map(o):Object.keys(a).map(c=>o(a[c],c)):[]},keyBy:(a,o)=>a.reduce((c,f)=>(c[f[o]]=f,c),{}),isEqual:function(a,o){const c=typeof a,f=typeof o,h=Array.isArray(a),d=Array.isArray(o);let y;if(c!==f)return!1;switch(typeof a){case"object":if(h||d)return!(!h||!d)&&a.length===o.length&&a.every((b,m)=>{const g=o[m];return u.isEqual(b,g)});if(a===null||o===null)return a===o;if(y=Object.keys(a),Object.keys(o).length!==y.length)return!1;for(const b of y)if(!o.hasOwnProperty(b))return!1;return u.every(a,(b,m)=>{const g=o[m];return u.isEqual(b,g)});default:return a===o}},escapeHtml(a){const o=s.exec(a);if(!o)return a;let c="",f="",h=0,d=o.index;for(;d<a.length;d++){switch(a.charAt(d)){case'"':f="&quot;";break;case"&":f="&amp;";break;case"'":f="&apos;";break;case"<":f="&lt;";break;case">":f="&gt;";break;default:continue}h!==d&&(c+=a.substring(h,d)),h=d+1,c+=f}return h!==d?c+a.substring(h,d):c},strcmp:(a,o)=>a<o?-1:a>o?1:0,isUndefined:a=>i.call(a)==="[object Undefined]",isObject:a=>i.call(a)==="[object Object]",deepMerge(){const a=arguments[0]||{},{length:o}=arguments;let c,f,h;function d(y,b){c=a[b],h=Array.isArray(y),u.isObject(y)||h?(h?(h=!1,f=c&&Array.isArray(c)?c:[]):f=c&&u.isObject(c)?c:{},a[b]=u.deepMerge(f,y)):u.isUndefined(y)||(a[b]=y)}for(let y=0;y<o;y++)u.each(arguments[y],d);return a}};n.exports=u},{}],27:[function(e,n,l){(function(i,s){(function(){const u=e("fs"),a=/[<>&'"\x7F\x00-\x08\x0B-\x0C\x0E-\x1F]/,o={nop(){},promiseImmediate:c=>new Promise(f=>{i.setImmediate?s(()=>{f(c)}):setTimeout(()=>{f(c)},1)}),inherits:function(c,f,h,d){c.super_=f,d||(d=h,h=null),h&&Object.keys(h).forEach(b=>{Object.defineProperty(c,b,Object.getOwnPropertyDescriptor(h,b))});const y={constructor:{value:c,enumerable:!1,writable:!1,configurable:!0}};d&&Object.keys(d).forEach(b=>{y[b]=Object.getOwnPropertyDescriptor(d,b)}),c.prototype=Object.create(f.prototype,y)},dateToExcel:(c,f)=>25569+c.getTime()/864e5-(f?1462:0),excelToDate(c,f){const h=Math.round(24*(c-25569+(f?1462:0))*3600*1e3);return new Date(h)},parsePath(c){const f=c.lastIndexOf("/");return{path:c.substring(0,f),name:c.substring(f+1)}},getRelsPath(c){const f=o.parsePath(c);return`${f.path}/_rels/${f.name}.rels`},xmlEncode(c){const f=a.exec(c);if(!f)return c;let h="",d="",y=0,b=f.index;for(;b<c.length;b++){const m=c.charCodeAt(b);switch(m){case 34:d="&quot;";break;case 38:d="&amp;";break;case 39:d="&apos;";break;case 60:d="&lt;";break;case 62:d="&gt;";break;case 127:d="";break;default:if(m<=31&&(m<=8||m>=11&&m!==13)){d="";break}continue}y!==b&&(h+=c.substring(y,b)),y=b+1,d&&(h+=d)}return y!==b?h+c.substring(y,b):h},xmlDecode:c=>c.replace(/&([a-z]*);/g,f=>{switch(f){case"&lt;":return"<";case"&gt;":return">";case"&amp;":return"&";case"&apos;":return"'";case"&quot;":return'"';default:return f}}),validInt(c){const f=parseInt(c,10);return Number.isNaN(f)?0:f},isDateFmt(c){return c?(c=(c=c.replace(/\[[^\]]*]/g,"")).replace(/"[^"]*"/g,"")).match(/[ymdhMsb]+/)!==null:!1},fs:{exists:c=>new Promise(f=>{u.access(c,u.constants.F_OK,h=>{f(!h)})})},toIsoDateString:c=>c.toIsoString().subsstr(0,10),parseBoolean:c=>c===!0||c==="true"||c===1||c==="1"};n.exports=o}).call(this)}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{fs:216,timers:523}],28:[function(e,n,l){const i=e("./under-dash"),s=e("./utils");function u(c,f,h){c.push(` ${f}="${s.xmlEncode(h.toString())}"`)}function a(c,f){if(f){const h=[];i.each(f,(d,y)=>{d!==void 0&&u(h,y,d)}),c.push(h.join(""))}}class o{constructor(){this._xml=[],this._stack=[],this._rollbacks=[]}get tos(){return this._stack.length?this._stack[this._stack.length-1]:void 0}get cursor(){return this._xml.length}openXml(f){const h=this._xml;h.push("<?xml"),a(h,f),h.push(`?>
`)}openNode(f,h){const d=this.tos,y=this._xml;d&&this.open&&y.push(">"),this._stack.push(f),y.push("<"),y.push(f),a(y,h),this.leaf=!0,this.open=!0}addAttribute(f,h){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");h!==void 0&&u(this._xml,f,h)}addAttributes(f){if(!this.open)throw new Error("Cannot write attributes to node if it is not open");a(this._xml,f)}writeText(f){const h=this._xml;this.open&&(h.push(">"),this.open=!1),this.leaf=!1,h.push(s.xmlEncode(f.toString()))}writeXml(f){this.open&&(this._xml.push(">"),this.open=!1),this.leaf=!1,this._xml.push(f)}closeNode(){const f=this._stack.pop(),h=this._xml;this.leaf?h.push("/>"):(h.push("</"),h.push(f),h.push(">")),this.open=!1,this.leaf=!1}leafNode(f,h,d){this.openNode(f,h),d!==void 0&&this.writeText(d),this.closeNode()}closeAll(){for(;this._stack.length;)this.closeNode()}addRollback(){return this._rollbacks.push({xml:this._xml.length,stack:this._stack.length,leaf:this.leaf,open:this.open}),this.cursor}commit(){this._rollbacks.pop()}rollback(){const f=this._rollbacks.pop();this._xml.length>f.xml&&this._xml.splice(f.xml,this._xml.length-f.xml),this._stack.length>f.stack&&this._stack.splice(f.stack,this._stack.length-f.stack),this.leaf=f.leaf,this.open=f.open}get xml(){return this.closeAll(),this._xml.join("")}}o.StdDocAttributes={version:"1.0",encoding:"UTF-8",standalone:"yes"},n.exports=o},{"./under-dash":26,"./utils":27}],29:[function(e,n,l){(function(i){(function(){const s=e("events"),u=e("jszip"),a=e("./stream-buf"),{stringToBuffer:o}=e("./browser-buffer-encode");class c extends s.EventEmitter{constructor(h){super(),this.options=Object.assign({type:"nodebuffer",compression:"DEFLATE"},h),this.zip=new u,this.stream=new a}append(h,d){d.hasOwnProperty("base64")&&d.base64?this.zip.file(d.name,h,{base64:!0}):(i.browser&&typeof h=="string"&&(h=o(h)),this.zip.file(d.name,h))}async finalize(){const h=await this.zip.generateAsync(this.options);this.stream.end(h),this.emit("finish")}read(h){return this.stream.read(h)}setEncoding(h){return this.stream.setEncoding(h)}pause(){return this.stream.pause()}resume(){return this.stream.resume()}isPaused(){return this.stream.isPaused()}pipe(h,d){return this.stream.pipe(h,d)}unpipe(h){return this.stream.unpipe(h)}unshift(h){return this.stream.unshift(h)}wrap(h){return this.stream.wrap(h)}}n.exports={ZipWriter:c}}).call(this)}).call(this,e("_process"))},{"./browser-buffer-encode":17,"./stream-buf":24,_process:467,events:422,jszip:441}],30:[function(e,n,l){n.exports={0:{f:"General"},1:{f:"0"},2:{f:"0.00"},3:{f:"#,##0"},4:{f:"#,##0.00"},9:{f:"0%"},10:{f:"0.00%"},11:{f:"0.00E+00"},12:{f:"# ?/?"},13:{f:"# ??/??"},14:{f:"mm-dd-yy"},15:{f:"d-mmm-yy"},16:{f:"d-mmm"},17:{f:"mmm-yy"},18:{f:"h:mm AM/PM"},19:{f:"h:mm:ss AM/PM"},20:{f:"h:mm"},21:{f:"h:mm:ss"},22:{f:'m/d/yy "h":mm'},27:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},28:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},29:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},30:{"zh-tw":"m/d/yy ","zh-cn":"m-d-yy","ja-jp":"m/d/yy","ko-kr":"mm-dd-yy"},31:{"zh-tw":'yyyy""m""d""',"zh-cn":'yyyy""m""d""',"ja-jp":'yyyy""m""d""',"ko-kr":'yyyy"" mm"" dd""'},32:{"zh-tw":'hh""mm""',"zh-cn":'h""mm""',"ja-jp":'h""mm""',"ko-kr":'h"" mm""'},33:{"zh-tw":'hh""mm""ss""',"zh-cn":'h""mm""ss""',"ja-jp":'h""mm""ss""',"ko-kr":'h"" mm"" ss""'},34:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},35:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},36:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},37:{f:"#,##0 ;(#,##0)"},38:{f:"#,##0 ;[Red](#,##0)"},39:{f:"#,##0.00 ;(#,##0.00)"},40:{f:"#,##0.00 ;[Red](#,##0.00)"},45:{f:"mm:ss"},46:{f:"[h]:mm:ss"},47:{f:"mmss.0"},48:{f:"##0.0E+0"},49:{f:"@"},50:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},51:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},52:{"zh-tw":'/ hh""mm""',"zh-cn":'yyyy""m""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},53:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'m""d""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},54:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},55:{"zh-tw":'/ hh""mm""',"zh-cn":'/ h""mm""',"ja-jp":'yyyy""m""',"ko-kr":"yyyy-mm-dd"},56:{"zh-tw":'/ hh""mm""ss""',"zh-cn":'/ h""mm""ss""',"ja-jp":'m""d""',"ko-kr":"yyyy-mm-dd"},57:{"zh-tw":"[$-404]e/m/d","zh-cn":'yyyy""m""',"ja-jp":"[$-411]ge.m.d","ko-kr":'yyyy"" mm"" dd""'},58:{"zh-tw":'[$-404]e""m""d""',"zh-cn":'m""d""',"ja-jp":'[$-411]ggge""m""d""',"ko-kr":"mm-dd"},59:{"th-th":"t0"},60:{"th-th":"t0.00"},61:{"th-th":"t#,##0"},62:{"th-th":"t#,##0.00"},67:{"th-th":"t0%"},68:{"th-th":"t0.00%"},69:{"th-th":"t# ?/?"},70:{"th-th":"t# ??/??"},81:{"th-th":"d/m/bb"}}},{}],31:[function(e,n,l){n.exports={OfficeDocument:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",Worksheet:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet",CalcChain:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/calcChain",SharedStrings:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",Styles:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",Theme:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",Hyperlink:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",Image:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",CoreProperties:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",ExtenderProperties:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",Comments:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",VmlDrawing:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",Table:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/table"}},{}],32:[function(e,n,l){const i=e("../../utils/parse-sax"),s=e("../../utils/xml-stream");class u{prepare(){}render(){}parseOpen(o){}parseText(o){}parseClose(o){}reconcile(o,c){}reset(){this.model=null,this.map&&Object.values(this.map).forEach(o=>{o instanceof u?o.reset():o.xform&&o.xform.reset()})}mergeModel(o){this.model=Object.assign(this.model||{},o)}async parse(o){for await(const c of o)for(const{eventType:f,value:h}of c)if(f==="opentag")this.parseOpen(h);else if(f==="text")this.parseText(h);else if(f==="closetag"&&!this.parseClose(h.name))return this.model;return this.model}async parseStream(o){return this.parse(i(o))}get xml(){return this.toXml(this.model)}toXml(o){const c=new s;return this.render(c,o),c.xml}static toAttribute(o,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(f)return c}else if(f||o!==c)return o.toString()}static toStringAttribute(o,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(o,c,f)}static toStringValue(o,c){return o===void 0?c:o}static toBoolAttribute(o,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(o===void 0){if(f)return c}else if(f||o!==c)return o?"1":"0"}static toBoolValue(o,c){return o===void 0?c:o==="1"}static toIntAttribute(o,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(o,c,f)}static toIntValue(o,c){return o===void 0?c:parseInt(o,10)}static toFloatAttribute(o,c){let f=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return u.toAttribute(o,c,f)}static toFloatValue(o,c){return o===void 0?c:parseFloat(o)}}n.exports=u},{"../../utils/parse-sax":22,"../../utils/xml-stream":28}],33:[function(e,n,l){const i=e("../base-xform"),s=e("../../../utils/col-cache");function u(o){try{return s.decodeEx(o),!0}catch{return!1}}function a(o){const c=[];let f=!1,h="";return o.split(",").forEach(d=>{if(!d)return;const y=(d.match(/'/g)||[]).length;if(!y)return void(f?h+=d+",":u(d)&&c.push(d));const b=y%2==0;!f&&b&&u(d)?c.push(d):f&&!b?(f=!1,u(h+d)&&c.push(h+d),h=""):(f=!0,h+=d+",")}),c}n.exports=class extends i{render(o,c){o.openNode("definedName",{name:c.name,localSheetId:c.localSheetId}),o.writeText(c.ranges.join(",")),o.closeNode()}parseOpen(o){switch(o.name){case"definedName":return this._parsedName=o.attributes.name,this._parsedLocalSheetId=o.attributes.localSheetId,this._parsedText=[],!0;default:return!1}}parseText(o){this._parsedText.push(o)}parseClose(){return this.model={name:this._parsedName,ranges:a(this._parsedText.join(""))},this._parsedLocalSheetId!==void 0&&(this.model.localSheetId=parseInt(this._parsedLocalSheetId,10)),!1}}},{"../../../utils/col-cache":19,"../base-xform":32}],34:[function(e,n,l){const i=e("../../../utils/utils"),s=e("../base-xform");n.exports=class extends s{render(u,a){u.leafNode("sheet",{sheetId:a.id,name:a.name,state:a.state,"r:id":a.rId})}parseOpen(u){return u.name==="sheet"&&(this.model={name:i.xmlDecode(u.attributes.name),id:parseInt(u.attributes.sheetId,10),state:u.attributes.state,rId:u.attributes["r:id"]},!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/utils":27,"../base-xform":32}],35:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{render(s,u){s.leafNode("calcPr",{calcId:171027,fullCalcOnLoad:u.fullCalcOnLoad?1:void 0})}parseOpen(s){return s.name==="calcPr"&&(this.model={},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],36:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{render(s,u){s.leafNode("workbookPr",{date1904:u.date1904?1:void 0,defaultThemeVersion:164011,filterPrivacy:1})}parseOpen(s){return s.name==="workbookPr"&&(this.model={date1904:s.attributes.date1904==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],37:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{render(s,u){const a={xWindow:u.x||0,yWindow:u.y||0,windowWidth:u.width||12e3,windowHeight:u.height||24e3,firstSheet:u.firstSheet,activeTab:u.activeTab};u.visibility&&u.visibility!=="visible"&&(a.visibility=u.visibility),s.leafNode("workbookView",a)}parseOpen(s){if(s.name==="workbookView"){const u=this.model={},a=function(c,f,h){const d=f!==void 0?u[c]=f:h;d!==void 0&&(u[c]=d)},o=function(c,f,h){const d=f!==void 0?u[c]=parseInt(f,10):h;d!==void 0&&(u[c]=d)};return o("x",s.attributes.xWindow,0),o("y",s.attributes.yWindow,0),o("width",s.attributes.windowWidth,25e3),o("height",s.attributes.windowHeight,1e4),a("visibility",s.attributes.visibility,"visible"),o("activeTab",s.attributes.activeTab,void 0),o("firstSheet",s.attributes.firstSheet,void 0),!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],38:[function(e,n,l){const i=e("../../../utils/under-dash"),s=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),a=e("../base-xform"),o=e("../static-xform"),c=e("../list-xform"),f=e("./defined-name-xform"),h=e("./sheet-xform"),d=e("./workbook-view-xform"),y=e("./workbook-properties-xform"),b=e("./workbook-calc-properties-xform");class m extends a{constructor(){super(),this.map={fileVersion:m.STATIC_XFORMS.fileVersion,workbookPr:new y,bookViews:new c({tag:"bookViews",count:!1,childXform:new d}),sheets:new c({tag:"sheets",count:!1,childXform:new h}),definedNames:new c({tag:"definedNames",count:!1,childXform:new f}),calcPr:new b}}prepare(p){p.sheets=p.worksheets;const v=[];let C=0;p.sheets.forEach(j=>{if(j.pageSetup&&j.pageSetup.printArea&&j.pageSetup.printArea.split("&&").forEach(L=>{const $=L.split(":"),M={name:"_xlnm.Print_Area",ranges:[`'${j.name}'!$${$[0]}:$${$[1]}`],localSheetId:C};v.push(M)}),j.pageSetup&&(j.pageSetup.printTitlesRow||j.pageSetup.printTitlesColumn)){const L=[];if(j.pageSetup.printTitlesColumn){const M=j.pageSetup.printTitlesColumn.split(":");L.push(`'${j.name}'!$${M[0]}:$${M[1]}`)}if(j.pageSetup.printTitlesRow){const M=j.pageSetup.printTitlesRow.split(":");L.push(`'${j.name}'!$${M[0]}:$${M[1]}`)}const $={name:"_xlnm.Print_Titles",ranges:L,localSheetId:C};v.push($)}C++}),v.length&&(p.definedNames=p.definedNames.concat(v)),(p.media||[]).forEach((j,L)=>{j.name=j.type+(L+1)})}render(p,v){p.openXml(u.StdDocAttributes),p.openNode("workbook",m.WORKBOOK_ATTRIBUTES),this.map.fileVersion.render(p),this.map.workbookPr.render(p,v.properties),this.map.bookViews.render(p,v.views),this.map.sheets.render(p,v.sheets),this.map.definedNames.render(p,v.definedNames),this.map.calcPr.render(p,v.calcProperties),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"workbook":return!0;default:return this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p),!0}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case"workbook":return this.model={sheets:this.map.sheets.model,properties:this.map.workbookPr.model||{},views:this.map.bookViews.model,calcProperties:{}},this.map.definedNames.model&&(this.model.definedNames=this.map.definedNames.model),!1;default:return!0}}reconcile(p){const v=(p.workbookRels||[]).reduce((M,z)=>(M[z.Id]=z,M),{}),C=[];let j,L=0;(p.sheets||[]).forEach(M=>{const z=v[M.rId];z&&(j=p.worksheetHash["xl/"+z.Target.replace(/^(\s|\/xl\/)+/,"")],j&&(j.name=M.name,j.id=M.id,j.state=M.state,C[L++]=j))});const $=[];i.each(p.definedNames,M=>{if(M.name==="_xlnm.Print_Area"){if(j=C[M.localSheetId],j){j.pageSetup||(j.pageSetup={});const z=s.decodeEx(M.ranges[0]);j.pageSetup.printArea=j.pageSetup.printArea?`${j.pageSetup.printArea}&&${z.dimensions}`:z.dimensions}}else if(M.name==="_xlnm.Print_Titles"){if(j=C[M.localSheetId],j){j.pageSetup||(j.pageSetup={});const z=M.ranges.join(","),H=/\$/g,q=/\$\d+:\$\d+/,B=z.match(q);if(B&&B.length){const k=B[0];j.pageSetup.printTitlesRow=k.replace(H,"")}const A=/\$[A-Z]+:\$[A-Z]+/,P=z.match(A);if(P&&P.length){const k=P[0];j.pageSetup.printTitlesColumn=k.replace(H,"")}}}else $.push(M)}),p.definedNames=$,p.media.forEach((M,z)=>{M.index=z})}}m.WORKBOOK_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x15","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},m.STATIC_XFORMS={fileVersion:new o({tag:"fileVersion",$:{appName:"xl",lastEdited:5,lowestEdited:5,rupBuild:9303}})},n.exports=m},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./defined-name-xform":33,"./sheet-xform":34,"./workbook-calc-properties-xform":35,"./workbook-properties-xform":36,"./workbook-view-xform":37}],39:[function(e,n,l){const i=e("../strings/rich-text-xform"),s=e("../../../utils/utils"),u=e("../base-xform"),a=n.exports=function(o){this.model=o};s.inherits(a,u,{get tag(){return"r"},get richTextXform(){return this._richTextXform||(this._richTextXform=new i),this._richTextXform},render(o,c){c=c||this.model,o.openNode("comment",{ref:c.ref,authorId:0}),o.openNode("text"),c&&c.note&&c.note.texts&&c.note.texts.forEach(f=>{this.richTextXform.render(o,f)}),o.closeNode(),o.closeNode()},parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"comment":return this.model={type:"note",note:{texts:[]},...o.attributes},!0;case"r":return this.parser=this.richTextXform,this.parser.parseOpen(o),!0;default:return!1}},parseText(o){this.parser&&this.parser.parseText(o)},parseClose(o){switch(o){case"comment":return!1;case"r":return this.model.note.texts.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(o),!0}}})},{"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],40:[function(e,n,l){const i=e("../../../utils/xml-stream"),s=e("../../../utils/utils"),u=e("../base-xform"),a=e("./comment-xform"),o=n.exports=function(){this.map={comment:new a}};s.inherits(o,u,{COMMENTS_ATTRIBUTES:{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main"}},{render(c,f){f=f||this.model,c.openXml(i.StdDocAttributes),c.openNode("comments",o.COMMENTS_ATTRIBUTES),c.openNode("authors"),c.leafNode("author",null,"Author"),c.closeNode(),c.openNode("commentList"),f.comments.forEach(h=>{this.map.comment.render(c,h)}),c.closeNode(),c.closeNode()},parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"commentList":return this.model={comments:[]},!0;case"comment":return this.parser=this.map.comment,this.parser.parseOpen(c),!0;default:return!1}},parseText(c){this.parser&&this.parser.parseText(c)},parseClose(c){switch(c){case"commentList":return!1;case"comment":return this.model.comments.push(this.parser.model),this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}})},{"../../../utils/utils":27,"../../../utils/xml-stream":28,"../base-xform":32,"./comment-xform":39}],41:[function(e,n,l){const i=e("../../base-xform");n.exports=class extends i{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,u,a){(u===a[2]||this.tag==="x:SizeWithCells"&&u===a[1])&&s.leafNode(this.tag)}parseOpen(s){switch(s.name){case this.tag:return this.model={},this.model[this.tag]=!0,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../base-xform":32}],42:[function(e,n,l){const i=e("../../base-xform");n.exports=class extends i{constructor(s){super(),this._model=s}get tag(){return this._model&&this._model.tag}render(s,u){s.leafNode(this.tag,null,u)}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../../base-xform":32}],43:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"x:Anchor"}getAnchorRect(s){const u=Math.floor(s.left),a=Math.floor(68*(s.left-u)),o=Math.floor(s.top),c=Math.floor(18*(s.top-o)),f=Math.floor(s.right),h=Math.floor(68*(s.right-f)),d=Math.floor(s.bottom);return[u,a,o,c,f,h,d,Math.floor(18*(s.bottom-d))]}getDefaultRect(s){const u=s.col,a=Math.max(s.row-2,0);return[u,6,a,14,u+2,2,a+4,16]}render(s,u){const a=u.anchor?this.getAnchorRect(u.anchor):this.getDefaultRect(u.refAddress);s.leafNode("x:Anchor",null,a.join(", "))}parseOpen(s){switch(s.name){case this.tag:return this.text="",!0;default:return!1}}parseText(s){this.text=s}parseClose(){return!1}}},{"../base-xform":32}],44:[function(e,n,l){const i=e("../base-xform"),s=e("./vml-anchor-xform"),u=e("./style/vml-protection-xform"),a=e("./style/vml-position-xform"),o=["twoCells","oneCells","absolute"];n.exports=class extends i{constructor(){super(),this.map={"x:Anchor":new s,"x:Locked":new u({tag:"x:Locked"}),"x:LockText":new u({tag:"x:LockText"}),"x:SizeWithCells":new a({tag:"x:SizeWithCells"}),"x:MoveWithCells":new a({tag:"x:MoveWithCells"})}}get tag(){return"x:ClientData"}render(c,f){const{protection:h,editAs:d}=f.note;c.openNode(this.tag,{ObjectType:"Note"}),this.map["x:MoveWithCells"].render(c,d,o),this.map["x:SizeWithCells"].render(c,d,o),this.map["x:Anchor"].render(c,f),this.map["x:Locked"].render(c,h.locked),c.leafNode("x:AutoFill",null,"False"),this.map["x:LockText"].render(c,h.lockText),c.leafNode("x:Row",null,f.refAddress.row-1),c.leafNode("x:Column",null,f.refAddress.col-1),c.closeNode()}parseOpen(c){switch(c.name){case this.tag:this.reset(),this.model={anchor:[],protection:{},editAs:""};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.normalizeModel(),!1;default:return!0}}normalizeModel(){const c=Object.assign({},this.map["x:MoveWithCells"].model,this.map["x:SizeWithCells"].model),f=Object.keys(c).length;this.model.editAs=o[f],this.model.anchor=this.map["x:Anchor"].text,this.model.protection.locked=this.map["x:Locked"].text,this.model.protection.lockText=this.map["x:LockText"].text}}},{"../base-xform":32,"./style/vml-position-xform":41,"./style/vml-protection-xform":42,"./vml-anchor-xform":43}],45:[function(e,n,l){const i=e("../../../utils/xml-stream"),s=e("../base-xform"),u=e("./vml-shape-xform");class a extends s{constructor(){super(),this.map={"v:shape":new u}}get tag(){return"xml"}render(c,f){c.openXml(i.StdDocAttributes),c.openNode(this.tag,a.DRAWING_ATTRIBUTES),c.openNode("o:shapelayout",{"v:ext":"edit"}),c.leafNode("o:idmap",{"v:ext":"edit",data:1}),c.closeNode(),c.openNode("v:shapetype",{id:"_x0000_t202",coordsize:"21600,21600","o:spt":202,path:"m,l,21600r21600,l21600,xe"}),c.leafNode("v:stroke",{joinstyle:"miter"}),c.leafNode("v:path",{gradientshapeok:"t","o:connecttype":"rect"}),c.closeNode(),f.comments.forEach((h,d)=>{this.map["v:shape"].render(c,h,d)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={comments:[]};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.comments.push(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}reconcile(c,f){c.anchors.forEach(h=>{h.br?this.map["xdr:twoCellAnchor"].reconcile(h,f):this.map["xdr:oneCellAnchor"].reconcile(h,f)})}}a.DRAWING_ATTRIBUTES={"xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:x":"urn:schemas-microsoft-com:office:excel"},n.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./vml-shape-xform":46}],46:[function(e,n,l){const i=e("../base-xform"),s=e("./vml-textbox-xform"),u=e("./vml-client-data-xform");class a extends i{constructor(){super(),this.map={"v:textbox":new s,"x:ClientData":new u}}get tag(){return"v:shape"}render(c,f,h){c.openNode("v:shape",a.V_SHAPE_ATTRIBUTES(f,h)),c.leafNode("v:fill",{color2:"infoBackground [80]"}),c.leafNode("v:shadow",{color:"none [81]",obscured:"t"}),c.leafNode("v:path",{"o:connecttype":"none"}),this.map["v:textbox"].render(c,f),this.map["x:ClientData"].render(c,f),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset(),this.model={margins:{insetmode:c.attributes["o:insetmode"]},anchor:"",editAs:"",protection:{}};break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.margins.inset=this.map["v:textbox"].model&&this.map["v:textbox"].model.inset,this.model.protection=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.protection,this.model.anchor=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.anchor,this.model.editAs=this.map["x:ClientData"].model&&this.map["x:ClientData"].model.editAs,!1;default:return!0}}}a.V_SHAPE_ATTRIBUTES=(o,c)=>({id:"_x0000_s"+(1025+c),type:"#_x0000_t202",style:"position:absolute; margin-left:105.3pt;margin-top:10.5pt;width:97.8pt;height:59.1pt;z-index:1;visibility:hidden",fillcolor:"infoBackground [80]",strokecolor:"none [81]","o:insetmode":o.note.margins&&o.note.margins.insetmode}),n.exports=a},{"../base-xform":32,"./vml-client-data-xform":44,"./vml-textbox-xform":47}],47:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"v:textbox"}conversionUnit(s,u,a){return`${parseFloat(s)*u.toFixed(2)}${a}`}reverseConversionUnit(s){return(s||"").split(",").map(u=>Number(parseFloat(this.conversionUnit(parseFloat(u),.1,"")).toFixed(2)))}render(s,u){const a={style:"mso-direction-alt:auto"};if(u&&u.note){let{inset:o}=u.note&&u.note.margins;Array.isArray(o)&&(o=o.map(c=>this.conversionUnit(c,10,"mm")).join(",")),o&&(a.inset=o)}s.openNode("v:textbox",a),s.leafNode("div",{style:"text-align:left"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:return this.model={inset:this.reverseConversionUnit(s.attributes.inset)},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],48:[function(e,n,l){const i=e("./base-xform");n.exports=class extends i{createNewModel(s){return{}}parseOpen(s){return this.parser=this.parser||this.map[s.name],this.parser?(this.parser.parseOpen(s),!0):s.name===this.tag&&(this.model=this.createNewModel(s),!0)}parseText(s){this.parser&&this.parser.parseText(s)}onParserClose(s,u){this.model[s]=u.model}parseClose(s){return this.parser?(this.parser.parseClose(s)||(this.onParserClose(s,this.parser),this.parser=void 0),!0):s!==this.tag}}},{"./base-xform":32}],49:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{render(s,u){s.openNode("HeadingPairs"),s.openNode("vt:vector",{size:2,baseType:"variant"}),s.openNode("vt:variant"),s.leafNode("vt:lpstr",void 0,"Worksheets"),s.closeNode(),s.openNode("vt:variant"),s.leafNode("vt:i4",void 0,u.length),s.closeNode(),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="HeadingPairs"}parseText(){}parseClose(s){return s!=="HeadingPairs"}}},{"../base-xform":32}],50:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{render(s,u){s.openNode("TitlesOfParts"),s.openNode("vt:vector",{size:u.length,baseType:"lpstr"}),u.forEach(a=>{s.leafNode("vt:lpstr",void 0,a.name)}),s.closeNode(),s.closeNode()}parseOpen(s){return s.name==="TitlesOfParts"}parseText(){}parseClose(s){return s!=="TitlesOfParts"}}},{"../base-xform":32}],51:[function(e,n,l){const i=e("../../../utils/xml-stream"),s=e("../base-xform"),u=e("../simple/string-xform"),a=e("./app-heading-pairs-xform"),o=e("./app-titles-of-parts-xform");class c extends s{constructor(){super(),this.map={Company:new u({tag:"Company"}),Manager:new u({tag:"Manager"}),HeadingPairs:new a,TitleOfParts:new o}}render(h,d){h.openXml(i.StdDocAttributes),h.openNode("Properties",c.PROPERTY_ATTRIBUTES),h.leafNode("Application",void 0,"Microsoft Excel"),h.leafNode("DocSecurity",void 0,"0"),h.leafNode("ScaleCrop",void 0,"false"),this.map.HeadingPairs.render(h,d.worksheets),this.map.TitleOfParts.render(h,d.worksheets),this.map.Company.render(h,d.company||""),this.map.Manager.render(h,d.manager),h.leafNode("LinksUpToDate",void 0,"false"),h.leafNode("SharedDoc",void 0,"false"),h.leafNode("HyperlinksChanged",void 0,"false"),h.leafNode("AppVersion",void 0,"16.0300"),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"Properties":return!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"Properties":return this.model={worksheets:this.map.TitleOfParts.model,company:this.map.Company.model,manager:this.map.Manager.model},!1;default:return!0}}}c.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3,6}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties","xmlns:vt":"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/string-xform":119,"./app-heading-pairs-xform":49,"./app-titles-of-parts-xform":50}],52:[function(e,n,l){const i=e("../../../utils/xml-stream"),s=e("../base-xform");class u extends s{render(o,c){o.openXml(i.StdDocAttributes),o.openNode("Types",u.PROPERTY_ATTRIBUTES);const f={};(c.media||[]).forEach(h=>{if(h.type==="image"){const d=h.extension;f[d]||(f[d]=!0,o.leafNode("Default",{Extension:d,ContentType:"image/"+d}))}}),o.leafNode("Default",{Extension:"rels",ContentType:"application/vnd.openxmlformats-package.relationships+xml"}),o.leafNode("Default",{Extension:"xml",ContentType:"application/xml"}),o.leafNode("Override",{PartName:"/xl/workbook.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"}),c.worksheets.forEach(h=>{const d=`/xl/worksheets/sheet${h.id}.xml`;o.leafNode("Override",{PartName:d,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"})}),o.leafNode("Override",{PartName:"/xl/theme/theme1.xml",ContentType:"application/vnd.openxmlformats-officedocument.theme+xml"}),o.leafNode("Override",{PartName:"/xl/styles.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"}),c.sharedStrings&&c.sharedStrings.count&&o.leafNode("Override",{PartName:"/xl/sharedStrings.xml",ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"}),c.tables&&c.tables.forEach(h=>{o.leafNode("Override",{PartName:"/xl/tables/"+h.target,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml"})}),c.drawings&&c.drawings.forEach(h=>{o.leafNode("Override",{PartName:`/xl/drawings/${h.name}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.drawing+xml"})}),c.commentRefs&&(o.leafNode("Default",{Extension:"vml",ContentType:"application/vnd.openxmlformats-officedocument.vmlDrawing"}),c.commentRefs.forEach(h=>{let{commentName:d}=h;o.leafNode("Override",{PartName:`/xl/${d}.xml`,ContentType:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml"})})),o.leafNode("Override",{PartName:"/docProps/core.xml",ContentType:"application/vnd.openxmlformats-package.core-properties+xml"}),o.leafNode("Override",{PartName:"/docProps/app.xml",ContentType:"application/vnd.openxmlformats-officedocument.extended-properties+xml"}),o.closeNode()}parseOpen(){return!1}parseText(){}parseClose(){return!1}}u.PROPERTY_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"},n.exports=u},{"../../../utils/xml-stream":28,"../base-xform":32}],53:[function(e,n,l){const i=e("../../../utils/xml-stream"),s=e("../base-xform"),u=e("../simple/date-xform"),a=e("../simple/string-xform"),o=e("../simple/integer-xform");class c extends s{constructor(){super(),this.map={"dc:creator":new a({tag:"dc:creator"}),"dc:title":new a({tag:"dc:title"}),"dc:subject":new a({tag:"dc:subject"}),"dc:description":new a({tag:"dc:description"}),"dc:identifier":new a({tag:"dc:identifier"}),"dc:language":new a({tag:"dc:language"}),"cp:keywords":new a({tag:"cp:keywords"}),"cp:category":new a({tag:"cp:category"}),"cp:lastModifiedBy":new a({tag:"cp:lastModifiedBy"}),"cp:lastPrinted":new u({tag:"cp:lastPrinted",format:c.DateFormat}),"cp:revision":new o({tag:"cp:revision"}),"cp:version":new a({tag:"cp:version"}),"cp:contentStatus":new a({tag:"cp:contentStatus"}),"cp:contentType":new a({tag:"cp:contentType"}),"dcterms:created":new u({tag:"dcterms:created",attrs:c.DateAttrs,format:c.DateFormat}),"dcterms:modified":new u({tag:"dcterms:modified",attrs:c.DateAttrs,format:c.DateFormat})}}render(h,d){h.openXml(i.StdDocAttributes),h.openNode("cp:coreProperties",c.CORE_PROPERTY_ATTRIBUTES),this.map["dc:creator"].render(h,d.creator),this.map["dc:title"].render(h,d.title),this.map["dc:subject"].render(h,d.subject),this.map["dc:description"].render(h,d.description),this.map["dc:identifier"].render(h,d.identifier),this.map["dc:language"].render(h,d.language),this.map["cp:keywords"].render(h,d.keywords),this.map["cp:category"].render(h,d.category),this.map["cp:lastModifiedBy"].render(h,d.lastModifiedBy),this.map["cp:lastPrinted"].render(h,d.lastPrinted),this.map["cp:revision"].render(h,d.revision),this.map["cp:version"].render(h,d.version),this.map["cp:contentStatus"].render(h,d.contentStatus),this.map["cp:contentType"].render(h,d.contentType),this.map["dcterms:created"].render(h,d.created),this.map["dcterms:modified"].render(h,d.modified),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"cp:coreProperties":case"coreProperties":return!0;default:if(this.parser=this.map[h.name],this.parser)return this.parser.parseOpen(h),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(h))}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.parser=void 0),!0;switch(h){case"cp:coreProperties":case"coreProperties":return this.model={creator:this.map["dc:creator"].model,title:this.map["dc:title"].model,subject:this.map["dc:subject"].model,description:this.map["dc:description"].model,identifier:this.map["dc:identifier"].model,language:this.map["dc:language"].model,keywords:this.map["cp:keywords"].model,category:this.map["cp:category"].model,lastModifiedBy:this.map["cp:lastModifiedBy"].model,lastPrinted:this.map["cp:lastPrinted"].model,revision:this.map["cp:revision"].model,contentStatus:this.map["cp:contentStatus"].model,contentType:this.map["cp:contentType"].model,created:this.map["dcterms:created"].model,modified:this.map["dcterms:modified"].model},!1;default:throw new Error("Unexpected xml node in parseClose: "+h)}}}c.DateFormat=function(f){return f.toISOString().replace(/[.]\d{3}/,"")},c.DateAttrs={"xsi:type":"dcterms:W3CDTF"},c.CORE_PROPERTY_ATTRIBUTES={"xmlns:cp":"http://schemas.openxmlformats.org/package/2006/metadata/core-properties","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:dcterms":"http://purl.org/dc/terms/","xmlns:dcmitype":"http://purl.org/dc/dcmitype/","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance"},n.exports=c},{"../../../utils/xml-stream":28,"../base-xform":32,"../simple/date-xform":117,"../simple/integer-xform":118,"../simple/string-xform":119}],54:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{render(s,u){s.leafNode("Relationship",u)}parseOpen(s){switch(s.name){case"Relationship":return this.model=s.attributes,!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],55:[function(e,n,l){const i=e("../../../utils/xml-stream"),s=e("../base-xform"),u=e("./relationship-xform");class a extends s{constructor(){super(),this.map={Relationship:new u}}render(c,f){f=f||this._values,c.openXml(i.StdDocAttributes),c.openNode("Relationships",a.RELATIONSHIPS_ATTRIBUTES),f.forEach(h=>{this.map.Relationship.render(c,h)}),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"Relationships":return this.model=[],!0;default:if(this.parser=this.map[c.name],this.parser)return this.parser.parseOpen(c),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(c))}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.model.push(this.parser.model),this.parser=void 0),!0;switch(c){case"Relationships":return!1;default:throw new Error("Unexpected xml node in parseClose: "+c)}}}a.RELATIONSHIPS_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"},n.exports=a},{"../../../utils/xml-stream":28,"../base-xform":32,"./relationship-xform":54}],56:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:this.reset(),this.model={range:{editAs:s.attributes.editAs||"oneCell"}};break;default:this.parser=this.map[s.name],this.parser&&this.parser.parseOpen(s)}return!0}parseText(s){this.parser&&this.parser.parseText(s)}reconcilePicture(s,u){if(s&&s.rId){const a=u.rels[s.rId].Target.match(/.*\/media\/(.+[.][a-zA-Z]{3,4})/);if(a){const o=a[1],c=u.mediaIndex[o];return u.media[c]}}}}},{"../base-xform":32}],57:[function(e,n,l){const i=e("../base-xform"),s=e("./blip-xform");n.exports=class extends i{constructor(){super(),this.map={"a:blip":new s}}get tag(){return"xdr:blipFill"}render(u,a){u.openNode(this.tag),this.map["a:blip"].render(u,a),u.openNode("a:stretch"),u.leafNode("a:fillRect"),u.closeNode(),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(){}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model=this.map["a:blip"].model,!1;default:return!0}}}},{"../base-xform":32,"./blip-xform":58}],58:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:blip"}render(s,u){s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:embed":u.rId,cstate:"print"})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:embed"]},!0;default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],59:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"xdr:cNvPicPr"}render(s){s.openNode(this.tag),s.leafNode("a:picLocks",{noChangeAspect:"1"}),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],60:[function(e,n,l){const i=e("../base-xform"),s=e("./hlink-click-xform"),u=e("./ext-lst-xform");n.exports=class extends i{constructor(){super(),this.map={"a:hlinkClick":new s,"a:extLst":new u}}get tag(){return"xdr:cNvPr"}render(a,o){a.openNode(this.tag,{id:o.index,name:"Picture "+o.index}),this.map["a:hlinkClick"].render(a,o),this.map["a:extLst"].render(a,o),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["a:hlinkClick"].model,!1;default:return!0}}}},{"../base-xform":32,"./ext-lst-xform":63,"./hlink-click-xform":65}],61:[function(e,n,l){const i=e("../base-xform"),s=e("../simple/integer-xform");n.exports=class extends i{constructor(u){super(),this.tag=u.tag,this.map={"xdr:col":new s({tag:"xdr:col",zero:!0}),"xdr:colOff":new s({tag:"xdr:colOff",zero:!0}),"xdr:row":new s({tag:"xdr:row",zero:!0}),"xdr:rowOff":new s({tag:"xdr:rowOff",zero:!0})}}render(u,a){u.openNode(this.tag),this.map["xdr:col"].render(u,a.nativeCol),this.map["xdr:colOff"].render(u,a.nativeColOff),this.map["xdr:row"].render(u,a.nativeRow),this.map["xdr:rowOff"].render(u,a.nativeRowOff),u.closeNode()}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:this.reset();break;default:this.parser=this.map[u.name],this.parser&&this.parser.parseOpen(u)}return!0}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.parser=void 0),!0;switch(u){case this.tag:return this.model={nativeCol:this.map["xdr:col"].model,nativeColOff:this.map["xdr:colOff"].model,nativeRow:this.map["xdr:row"].model,nativeRowOff:this.map["xdr:rowOff"].model},!1;default:return!0}}}},{"../base-xform":32,"../simple/integer-xform":118}],62:[function(e,n,l){const i=e("../../../utils/col-cache"),s=e("../../../utils/xml-stream"),u=e("../base-xform"),a=e("./two-cell-anchor-xform"),o=e("./one-cell-anchor-xform");class c extends u{constructor(){super(),this.map={"xdr:twoCellAnchor":new a,"xdr:oneCellAnchor":new o}}prepare(h){h.anchors.forEach((d,y)=>{d.anchorType=function(b){return(typeof b.range=="string"?i.decode(b.range):b.range).br?"xdr:twoCellAnchor":"xdr:oneCellAnchor"}(d),this.map[d.anchorType].prepare(d,{index:y})})}get tag(){return"xdr:wsDr"}render(h,d){h.openXml(s.StdDocAttributes),h.openNode(this.tag,c.DRAWING_ATTRIBUTES),d.anchors.forEach(y=>{this.map[y.anchorType].render(h,y)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:this.reset(),this.model={anchors:[]};break;default:this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h)}return!0}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){if(this.parser)return this.parser.parseClose(h)||(this.model.anchors.push(this.parser.model),this.parser=void 0),!0;switch(h){case this.tag:return!1;default:return!0}}reconcile(h,d){h.anchors.forEach(y=>{y.br?this.map["xdr:twoCellAnchor"].reconcile(y,d):this.map["xdr:oneCellAnchor"].reconcile(y,d)})}}c.DRAWING_ATTRIBUTES={"xmlns:xdr":"http://schemas.openxmlformats.org/drawingml/2006/spreadsheetDrawing","xmlns:a":"http://schemas.openxmlformats.org/drawingml/2006/main"},n.exports=c},{"../../../utils/col-cache":19,"../../../utils/xml-stream":28,"../base-xform":32,"./one-cell-anchor-xform":67,"./two-cell-anchor-xform":70}],63:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:extLst"}render(s){s.openNode(this.tag),s.openNode("a:ext",{uri:"{FF2B5EF4-FFF2-40B4-BE49-F238E27FC236}"}),s.leafNode("a16:creationId",{"xmlns:a16":"http://schemas.microsoft.com/office/drawing/2014/main",id:"{00000000-0008-0000-0000-000002000000}"}),s.closeNode(),s.closeNode()}parseOpen(s){switch(s.name){case this.tag:default:return!0}}parseText(){}parseClose(s){switch(s){case this.tag:return!1;default:return!0}}}},{"../base-xform":32}],64:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{constructor(s){super(),this.tag=s.tag,this.map={}}render(s,u){s.openNode(this.tag);const a=Math.floor(9525*u.width),o=Math.floor(9525*u.height);s.addAttribute("cx",a),s.addAttribute("cy",o),s.closeNode()}parseOpen(s){return s.name===this.tag&&(this.model={width:parseInt(s.attributes.cx||"0",10)/9525,height:parseInt(s.attributes.cy||"0",10)/9525},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],65:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"a:hlinkClick"}render(s,u){u.hyperlinks&&u.hyperlinks.rId&&s.leafNode(this.tag,{"xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","r:id":u.hyperlinks.rId,tooltip:u.hyperlinks.tooltip})}parseOpen(s){switch(s.name){case this.tag:return this.model={hyperlinks:{rId:s.attributes["r:id"],tooltip:s.attributes.tooltip}},!0;default:return!0}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],66:[function(e,n,l){const i=e("../base-xform"),s=e("./c-nv-pr-xform"),u=e("./c-nv-pic-pr-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:cNvPr":new s,"xdr:cNvPicPr":new u}}get tag(){return"xdr:nvPicPr"}render(a,o){a.openNode(this.tag),this.map["xdr:cNvPr"].render(a,o),this.map["xdr:cNvPicPr"].render(a,o),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case this.tag:this.reset();break;default:this.parser=this.map[a.name],this.parser&&this.parser.parseOpen(a)}return!0}parseText(){}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.parser=void 0),!0;switch(a){case this.tag:return this.model=this.map["xdr:cNvPr"].model,!1;default:return!0}}}},{"../base-xform":32,"./c-nv-pic-pr-xform":59,"./c-nv-pr-xform":60}],67:[function(e,n,l){const i=e("./base-cell-anchor-xform"),s=e("../static-xform"),u=e("./cell-position-xform"),a=e("./ext-xform"),o=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:ext":new a({tag:"xdr:ext"}),"xdr:pic":new o,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:oneCellAnchor"}prepare(c,f){this.map["xdr:pic"].prepare(c.picture,f)}render(c,f){c.openNode(this.tag,{editAs:f.range.editAs||"oneCell"}),this.map["xdr:from"].render(c,f.range.tl),this.map["xdr:ext"].render(c,f.range.ext),this.map["xdr:pic"].render(c,f.picture),this.map["xdr:clientData"].render(c,{}),c.closeNode()}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.parser=void 0),!0;switch(c){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.ext=this.map["xdr:ext"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(c,f){c.medium=this.reconcilePicture(c.picture,f)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./ext-xform":64,"./pic-xform":68}],68:[function(e,n,l){const i=e("../base-xform"),s=e("../static-xform"),u=e("./blip-fill-xform"),a=e("./nv-pic-pr-xform"),o=e("./sp-pr");n.exports=class extends i{constructor(){super(),this.map={"xdr:nvPicPr":new a,"xdr:blipFill":new u,"xdr:spPr":new s(o)}}get tag(){return"xdr:pic"}prepare(c,f){c.index=f.index+1}render(c,f){c.openNode(this.tag),this.map["xdr:nvPicPr"].render(c,f),this.map["xdr:blipFill"].render(c,f),this.map["xdr:spPr"].render(c,f),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.tag:this.reset();break;default:this.parser=this.map[c.name],this.parser&&this.parser.parseOpen(c)}return!0}parseText(){}parseClose(c){if(this.parser)return this.parser.parseClose(c)||(this.mergeModel(this.parser.model),this.parser=void 0),!0;switch(c){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"../static-xform":120,"./blip-fill-xform":57,"./nv-pic-pr-xform":66,"./sp-pr":69}],69:[function(e,n,l){n.exports={tag:"xdr:spPr",c:[{tag:"a:xfrm",c:[{tag:"a:off",$:{x:"0",y:"0"}},{tag:"a:ext",$:{cx:"0",cy:"0"}}]},{tag:"a:prstGeom",$:{prst:"rect"},c:[{tag:"a:avLst"}]}]}},{}],70:[function(e,n,l){const i=e("./base-cell-anchor-xform"),s=e("../static-xform"),u=e("./cell-position-xform"),a=e("./pic-xform");n.exports=class extends i{constructor(){super(),this.map={"xdr:from":new u({tag:"xdr:from"}),"xdr:to":new u({tag:"xdr:to"}),"xdr:pic":new a,"xdr:clientData":new s({tag:"xdr:clientData"})}}get tag(){return"xdr:twoCellAnchor"}prepare(o,c){this.map["xdr:pic"].prepare(o.picture,c)}render(o,c){o.openNode(this.tag,{editAs:c.range.editAs||"oneCell"}),this.map["xdr:from"].render(o,c.range.tl),this.map["xdr:to"].render(o,c.range.br),this.map["xdr:pic"].render(o,c.picture),this.map["xdr:clientData"].render(o,{}),o.closeNode()}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.range.tl=this.map["xdr:from"].model,this.model.range.br=this.map["xdr:to"].model,this.model.picture=this.map["xdr:pic"].model,!1;default:return!0}}reconcile(o,c){o.medium=this.reconcilePicture(o.picture,c)}}},{"../static-xform":120,"./base-cell-anchor-xform":56,"./cell-position-xform":61,"./pic-xform":68}],71:[function(e,n,l){const i=e("./base-xform");n.exports=class extends i{constructor(s){super(),this.tag=s.tag,this.always=!!s.always,this.count=s.count,this.empty=s.empty,this.$count=s.$count||"count",this.$=s.$,this.childXform=s.childXform,this.maxItems=s.maxItems}prepare(s,u){const{childXform:a}=this;s&&s.forEach((o,c)=>{u.index=c,a.prepare(o,u)})}render(s,u){if(this.always||u&&u.length){s.openNode(this.tag,this.$),this.count&&s.addAttribute(this.$count,u&&u.length||0);const{childXform:a}=this;(u||[]).forEach((o,c)=>{a.render(s,o,c)}),s.closeNode()}else this.empty&&s.leafNode(this.tag)}parseOpen(s){if(this.parser)return this.parser.parseOpen(s),!0;switch(s.name){case this.tag:return this.model=[],!0;default:return!!this.childXform.parseOpen(s)&&(this.parser=this.childXform,!0)}}parseText(s){this.parser&&this.parser.parseText(s)}parseClose(s){if(this.parser){if(!this.parser.parseClose(s)&&(this.model.push(this.parser.model),this.parser=void 0,this.maxItems&&this.model.length>this.maxItems))throw new Error(`Max ${this.childXform.tag} count (${this.maxItems}) exceeded`);return!0}return!1}reconcile(s,u){if(s){const{childXform:a}=this;s.forEach(o=>{a.reconcile(o,u)})}}}},{"./base-xform":32}],72:[function(e,n,l){const i=e("../../../utils/col-cache"),s=e("../base-xform");n.exports=class extends s{get tag(){return"autoFilter"}render(u,a){if(a)if(typeof a=="string")u.leafNode("autoFilter",{ref:a});else{const o=function(h){return typeof h=="string"?h:i.getAddress(h.row,h.column).address},c=o(a.from),f=o(a.to);c&&f&&u.leafNode("autoFilter",{ref:`${c}:${f}`})}}parseOpen(u){u.name==="autoFilter"&&(this.model=u.attributes.ref)}}},{"../../../utils/col-cache":19,"../base-xform":32}],73:[function(e,n,l){const i=e("../../../utils/utils"),s=e("../base-xform"),u=e("../../../doc/range"),a=e("../../../doc/enums"),o=e("../strings/rich-text-xform");function c(f){if(f==null)return a.ValueType.Null;if(f instanceof String||typeof f=="string")return a.ValueType.String;if(typeof f=="number")return a.ValueType.Number;if(typeof f=="boolean")return a.ValueType.Boolean;if(f instanceof Date)return a.ValueType.Date;if(f.text&&f.hyperlink)return a.ValueType.Hyperlink;if(f.formula)return a.ValueType.Formula;if(f.error)return a.ValueType.Error;throw new Error("I could not understand type of value")}n.exports=class extends s{constructor(){super(),this.richTextXForm=new o}get tag(){return"c"}prepare(f,h){const d=h.styles.addStyleModel(f.style||{},function(y){switch(y.type){case a.ValueType.Formula:return c(y.result);default:return y.type}}(f));switch(d&&(f.styleId=d),f.comment&&h.comments.push({...f.comment,ref:f.address}),f.type){case a.ValueType.String:case a.ValueType.RichText:h.sharedStrings&&(f.ssId=h.sharedStrings.add(f.value));break;case a.ValueType.Date:h.date1904&&(f.date1904=!0);break;case a.ValueType.Hyperlink:h.sharedStrings&&f.text!==void 0&&f.text!==null&&(f.ssId=h.sharedStrings.add(f.text)),h.hyperlinks.push({address:f.address,target:f.hyperlink,tooltip:f.tooltip});break;case a.ValueType.Merge:h.merges.add(f);break;case a.ValueType.Formula:if(h.date1904&&(f.date1904=!0),f.shareType==="shared"&&(f.si=h.siFormulae++),f.formula)h.formulae[f.address]=f;else if(f.sharedFormula){const y=h.formulae[f.sharedFormula];if(!y)throw new Error("Shared Formula master must exist above and or left of clone for cell "+f.address);y.si===void 0?(y.shareType="shared",y.si=h.siFormulae++,y.range=new u(y.address,f.address)):y.range&&y.range.expandToAddress(f.address),f.si=y.si}}}renderFormula(f,h){let d=null;switch(h.shareType){case"shared":d={t:"shared",ref:h.ref||h.range.range,si:h.si};break;case"array":d={t:"array",ref:h.ref};break;default:h.si!==void 0&&(d={t:"shared",si:h.si})}switch(c(h.result)){case a.ValueType.Null:f.leafNode("f",d,h.formula);break;case a.ValueType.String:f.addAttribute("t","str"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result);break;case a.ValueType.Number:f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result);break;case a.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result?1:0);break;case a.ValueType.Error:f.addAttribute("t","e"),f.leafNode("f",d,h.formula),f.leafNode("v",null,h.result.error);break;case a.ValueType.Date:f.leafNode("f",d,h.formula),f.leafNode("v",null,i.dateToExcel(h.result,h.date1904));break;default:throw new Error("I could not understand type of value")}}render(f,h){if(h.type!==a.ValueType.Null||h.styleId){switch(f.openNode("c"),f.addAttribute("r",h.address),h.styleId&&f.addAttribute("s",h.styleId),h.type){case a.ValueType.Null:break;case a.ValueType.Number:f.leafNode("v",null,h.value);break;case a.ValueType.Boolean:f.addAttribute("t","b"),f.leafNode("v",null,h.value?"1":"0");break;case a.ValueType.Error:f.addAttribute("t","e"),f.leafNode("v",null,h.value.error);break;case a.ValueType.String:case a.ValueType.RichText:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):h.value&&h.value.richText?(f.addAttribute("t","inlineStr"),f.openNode("is"),h.value.richText.forEach(d=>{this.richTextXForm.render(f,d)}),f.closeNode("is")):(f.addAttribute("t","str"),f.leafNode("v",null,h.value));break;case a.ValueType.Date:f.leafNode("v",null,i.dateToExcel(h.value,h.date1904));break;case a.ValueType.Hyperlink:h.ssId!==void 0?(f.addAttribute("t","s"),f.leafNode("v",null,h.ssId)):(f.addAttribute("t","str"),f.leafNode("v",null,h.text));break;case a.ValueType.Formula:this.renderFormula(f,h);break;case a.ValueType.Merge:}f.closeNode()}}parseOpen(f){if(this.parser)return this.parser.parseOpen(f),!0;switch(f.name){case"c":return this.model={address:f.attributes.r},this.t=f.attributes.t,f.attributes.s&&(this.model.styleId=parseInt(f.attributes.s,10)),!0;case"f":return this.currentNode="f",this.model.si=f.attributes.si,this.model.shareType=f.attributes.t,this.model.ref=f.attributes.ref,!0;case"v":return this.currentNode="v",!0;case"t":return this.currentNode="t",!0;case"r":return this.parser=this.richTextXForm,this.parser.parseOpen(f),!0;default:return!1}}parseText(f){if(this.parser)this.parser.parseText(f);else switch(this.currentNode){case"f":this.model.formula=this.model.formula?this.model.formula+f:f;break;case"v":case"t":this.model.value&&this.model.value.richText?this.model.value.richText.text=this.model.value.richText.text?this.model.value.richText.text+f:f:this.model.value=this.model.value?this.model.value+f:f}}parseClose(f){switch(f){case"c":{const{model:h}=this;if(h.formula||h.shareType)h.type=a.ValueType.Formula,h.value&&(this.t==="str"?h.result=i.xmlDecode(h.value):this.t==="b"?h.result=parseInt(h.value,10)!==0:this.t==="e"?h.result={error:h.value}:h.result=parseFloat(h.value),h.value=void 0);else if(h.value!==void 0)switch(this.t){case"s":h.type=a.ValueType.String,h.value=parseInt(h.value,10);break;case"str":h.type=a.ValueType.String,h.value=i.xmlDecode(h.value);break;case"inlineStr":h.type=a.ValueType.String;break;case"b":h.type=a.ValueType.Boolean,h.value=parseInt(h.value,10)!==0;break;case"e":h.type=a.ValueType.Error,h.value={error:h.value};break;default:h.type=a.ValueType.Number,h.value=parseFloat(h.value)}else h.styleId?h.type=a.ValueType.Null:h.type=a.ValueType.Merge;return!1}case"f":case"v":case"is":return this.currentNode=void 0,!0;case"t":return this.parser?(this.parser.parseClose(f),!0):(this.currentNode=void 0,!0);case"r":return this.model.value=this.model.value||{},this.model.value.richText=this.model.value.richText||[],this.model.value.richText.push(this.parser.model),this.parser=void 0,this.currentNode=void 0,!0;default:return!!this.parser&&(this.parser.parseClose(f),!0)}}reconcile(f,h){const d=f.styleId&&h.styles&&h.styles.getStyleModel(f.styleId);switch(d&&(f.style=d),f.styleId!==void 0&&(f.styleId=void 0),f.type){case a.ValueType.String:typeof f.value=="number"&&h.sharedStrings&&(f.value=h.sharedStrings.getString(f.value)),f.value.richText&&(f.type=a.ValueType.RichText);break;case a.ValueType.Number:d&&i.isDateFmt(d.numFmt)&&(f.type=a.ValueType.Date,f.value=i.excelToDate(f.value,h.date1904));break;case a.ValueType.Formula:f.result!==void 0&&d&&i.isDateFmt(d.numFmt)&&(f.result=i.excelToDate(f.result,h.date1904)),f.shareType==="shared"&&(f.ref?h.formulae[f.si]=f.address:(f.sharedFormula=h.formulae[f.si],delete f.shareType),delete f.si)}const y=h.hyperlinkMap[f.address];y&&(f.type===a.ValueType.Formula?(f.text=f.result,f.result=void 0):(f.text=f.value,f.value=void 0),f.type=a.ValueType.Hyperlink,f.hyperlink=y);const b=h.commentsMap&&h.commentsMap[f.address];b&&(f.comment=b)}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/utils":27,"../base-xform":32,"../strings/rich-text-xform":122}],74:[function(e,n,l){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"x14:cfIcon"}render(s,u){s.leafNode(this.tag,{iconSet:u.iconSet,iconId:u.iconId})}parseOpen(s){let{attributes:u}=s;this.model={iconSet:u.iconSet,iconId:i.toIntValue(u.iconId)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],75:[function(e,n,l){const{v4:i}=e("uuid"),s=e("../../base-xform"),u=e("../../composite-xform"),a=e("./databar-ext-xform"),o=e("./icon-set-ext-xform"),c={"3Triangles":!0,"3Stars":!0,"5Boxes":!0};class f extends u{constructor(){super(),this.map={"x14:dataBar":this.databarXform=new a,"x14:iconSet":this.iconSetXform=new o}}get tag(){return"x14:cfRule"}static isExt(d){return d.type==="dataBar"?a.isExt(d):!(d.type!=="iconSet"||!d.custom&&!c[d.iconSet])}prepare(d){f.isExt(d)&&(d.x14Id=`{${i()}}`.toUpperCase())}render(d,y){if(f.isExt(y))switch(y.type){case"dataBar":this.renderDataBar(d,y);break;case"iconSet":this.renderIconSet(d,y)}}renderDataBar(d,y){d.openNode(this.tag,{type:"dataBar",id:y.x14Id}),this.databarXform.render(d,y),d.closeNode()}renderIconSet(d,y){d.openNode(this.tag,{type:"iconSet",priority:y.priority,id:y.x14Id||`{${i()}}`}),this.iconSetXform.render(d,y),d.closeNode()}createNewModel(d){let{attributes:y}=d;return{type:y.type,x14Id:y.id,priority:s.toIntValue(y.priority)}}onParserClose(d,y){Object.assign(this.model,y.model)}}n.exports=f},{"../../base-xform":32,"../../composite-xform":48,"./databar-ext-xform":79,"./icon-set-ext-xform":81,uuid:528}],76:[function(e,n,l){const i=e("../../composite-xform"),s=e("./f-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:f":this.fExtXform=new s}}get tag(){return"x14:cfvo"}render(u,a){u.openNode(this.tag,{type:a.type}),a.value!==void 0&&this.fExtXform.render(u,a.value),u.closeNode()}createNewModel(u){return{type:u.attributes.type}}onParserClose(u,a){switch(u){case"xm:f":this.model.value=a.model?parseFloat(a.model):0}}}},{"../../composite-xform":48,"./f-ext-xform":80}],77:[function(e,n,l){const i=e("../../composite-xform"),s=e("./sqref-ext-xform"),u=e("./cf-rule-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"xm:sqref":this.sqRef=new s,"x14:cfRule":this.cfRule=new u}}get tag(){return"x14:conditionalFormatting"}prepare(a,o){a.rules.forEach(c=>{this.cfRule.prepare(c,o)})}render(a,o){o.rules.some(u.isExt)&&(a.openNode(this.tag,{"xmlns:xm":"http://schemas.microsoft.com/office/excel/2006/main"}),o.rules.filter(u.isExt).forEach(c=>this.cfRule.render(a,c)),this.sqRef.render(a,o.ref),a.closeNode())}createNewModel(){return{rules:[]}}onParserClose(a,o){switch(a){case"xm:sqref":this.model.ref=o.model;break;case"x14:cfRule":this.model.rules.push(o.model)}}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./sqref-ext-xform":82}],78:[function(e,n,l){const i=e("../../composite-xform"),s=e("./cf-rule-ext-xform"),u=e("./conditional-formatting-ext-xform");n.exports=class extends i{constructor(){super(),this.map={"x14:conditionalFormatting":this.cfXform=new u}}get tag(){return"x14:conditionalFormattings"}hasContent(a){return a.hasExtContent===void 0&&(a.hasExtContent=a.some(o=>o.rules.some(s.isExt))),a.hasExtContent}prepare(a,o){a.forEach(c=>{this.cfXform.prepare(c,o)})}render(a,o){this.hasContent(o)&&(a.openNode(this.tag),o.forEach(c=>this.cfXform.render(a,c)),a.closeNode())}createNewModel(){return[]}onParserClose(a,o){this.model.push(o.model)}}},{"../../composite-xform":48,"./cf-rule-ext-xform":75,"./conditional-formatting-ext-xform":77}],79:[function(e,n,l){const i=e("../../base-xform"),s=e("../../composite-xform"),u=e("../../style/color-xform"),a=e("./cfvo-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new a,"x14:borderColor":this.borderColorXform=new u("x14:borderColor"),"x14:negativeBorderColor":this.negativeBorderColorXform=new u("x14:negativeBorderColor"),"x14:negativeFillColor":this.negativeFillColorXform=new u("x14:negativeFillColor"),"x14:axisColor":this.axisColorXform=new u("x14:axisColor")}}static isExt(o){return!o.gradient}get tag(){return"x14:dataBar"}render(o,c){o.openNode(this.tag,{minLength:i.toIntAttribute(c.minLength,0,!0),maxLength:i.toIntAttribute(c.maxLength,100,!0),border:i.toBoolAttribute(c.border,!1),gradient:i.toBoolAttribute(c.gradient,!0),negativeBarColorSameAsPositive:i.toBoolAttribute(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolAttribute(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toAttribute(c.axisPosition,"auto"),direction:i.toAttribute(c.direction,"leftToRight")}),c.cfvo.forEach(f=>{this.cfvoXform.render(o,f)}),this.borderColorXform.render(o,c.borderColor),this.negativeBorderColorXform.render(o,c.negativeBorderColor),this.negativeFillColorXform.render(o,c.negativeFillColor),this.axisColorXform.render(o,c.axisColor),o.closeNode()}createNewModel(o){let{attributes:c}=o;return{cfvo:[],minLength:i.toIntValue(c.minLength,0),maxLength:i.toIntValue(c.maxLength,100),border:i.toBoolValue(c.border,!1),gradient:i.toBoolValue(c.gradient,!0),negativeBarColorSameAsPositive:i.toBoolValue(c.negativeBarColorSameAsPositive,!0),negativeBarBorderColorSameAsPositive:i.toBoolValue(c.negativeBarBorderColorSameAsPositive,!0),axisPosition:i.toStringValue(c.axisPosition,"auto"),direction:i.toStringValue(c.direction,"leftToRight")}}onParserClose(o,c){const[,f]=o.split(":");switch(f){case"cfvo":this.model.cfvo.push(c.model);break;default:this.model[f]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-ext-xform":76}],80:[function(e,n,l){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:f"}render(s,u){s.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],81:[function(e,n,l){const i=e("../../base-xform"),s=e("../../composite-xform"),u=e("./cfvo-ext-xform"),a=e("./cf-icon-ext-xform");n.exports=class extends s{constructor(){super(),this.map={"x14:cfvo":this.cfvoXform=new u,"x14:cfIcon":this.cfIconXform=new a}}get tag(){return"x14:iconSet"}render(o,c){o.openNode(this.tag,{iconSet:i.toStringAttribute(c.iconSet),reverse:i.toBoolAttribute(c.reverse,!1),showValue:i.toBoolAttribute(c.showValue,!0),custom:i.toBoolAttribute(c.icons,!1)}),c.cfvo.forEach(f=>{this.cfvoXform.render(o,f)}),c.icons&&c.icons.forEach((f,h)=>{f.iconId=h,this.cfIconXform.render(o,f)}),o.closeNode()}createNewModel(o){let{attributes:c}=o;return{cfvo:[],iconSet:i.toStringValue(c.iconSet,"3TrafficLights"),reverse:i.toBoolValue(c.reverse,!1),showValue:i.toBoolValue(c.showValue,!0)}}onParserClose(o,c){const[,f]=o.split(":");switch(f){case"cfvo":this.model.cfvo.push(c.model);break;case"cfIcon":this.model.icons||(this.model.icons=[]),this.model.icons.push(c.model);break;default:this.model[f]=c.model}}}},{"../../base-xform":32,"../../composite-xform":48,"./cf-icon-ext-xform":74,"./cfvo-ext-xform":76}],82:[function(e,n,l){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"xm:sqref"}render(s,u){s.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],83:[function(e,n,l){const i=e("../../base-xform"),s=e("../../composite-xform"),u=e("../../../../doc/range"),a=e("./databar-xform"),o=e("./ext-lst-ref-xform"),c=e("./formula-xform"),f=e("./color-scale-xform"),h=e("./icon-set-xform"),d={"3Triangles":!0,"3Stars":!0,"5Boxes":!0},y=m=>{const{type:g,operator:p}=m;switch(g){case"containsText":case"containsBlanks":case"notContainsBlanks":case"containsErrors":case"notContainsErrors":return{type:"containsText",operator:g};default:return{type:g,operator:p}}};class b extends s{constructor(){super(),this.map={dataBar:this.databarXform=new a,extLst:this.extLstRefXform=new o,formula:this.formulaXform=new c,colorScale:this.colorScaleXform=new f,iconSet:this.iconSetXform=new h}}get tag(){return"cfRule"}static isPrimitive(g){return g.type!=="iconSet"||!g.custom&&!d[g.iconSet]}render(g,p){switch(p.type){case"expression":this.renderExpression(g,p);break;case"cellIs":this.renderCellIs(g,p);break;case"top10":this.renderTop10(g,p);break;case"aboveAverage":this.renderAboveAverage(g,p);break;case"dataBar":this.renderDataBar(g,p);break;case"colorScale":this.renderColorScale(g,p);break;case"iconSet":this.renderIconSet(g,p);break;case"containsText":this.renderText(g,p);break;case"timePeriod":this.renderTimePeriod(g,p)}}renderExpression(g,p){g.openNode(this.tag,{type:"expression",dxfId:p.dxfId,priority:p.priority}),this.formulaXform.render(g,p.formulae[0]),g.closeNode()}renderCellIs(g,p){g.openNode(this.tag,{type:"cellIs",dxfId:p.dxfId,priority:p.priority,operator:p.operator}),p.formulae.forEach(v=>{this.formulaXform.render(g,v)}),g.closeNode()}renderTop10(g,p){g.leafNode(this.tag,{type:"top10",dxfId:p.dxfId,priority:p.priority,percent:i.toBoolAttribute(p.percent,!1),bottom:i.toBoolAttribute(p.bottom,!1),rank:i.toIntValue(p.rank,10,!0)})}renderAboveAverage(g,p){g.leafNode(this.tag,{type:"aboveAverage",dxfId:p.dxfId,priority:p.priority,aboveAverage:i.toBoolAttribute(p.aboveAverage,!0)})}renderDataBar(g,p){g.openNode(this.tag,{type:"dataBar",priority:p.priority}),this.databarXform.render(g,p),this.extLstRefXform.render(g,p),g.closeNode()}renderColorScale(g,p){g.openNode(this.tag,{type:"colorScale",priority:p.priority}),this.colorScaleXform.render(g,p),g.closeNode()}renderIconSet(g,p){b.isPrimitive(p)&&(g.openNode(this.tag,{type:"iconSet",priority:p.priority}),this.iconSetXform.render(g,p),g.closeNode())}renderText(g,p){g.openNode(this.tag,{type:p.operator,dxfId:p.dxfId,priority:p.priority,operator:i.toStringAttribute(p.operator,"containsText")});const v=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const j=new u(C.ref),{tl:L}=j;switch(C.operator){case"containsText":return`NOT(ISERROR(SEARCH("${C.text}",${L})))`;case"containsBlanks":return`LEN(TRIM(${L}))=0`;case"notContainsBlanks":return`LEN(TRIM(${L}))>0`;case"containsErrors":return`ISERROR(${L})`;case"notContainsErrors":return`NOT(ISERROR(${L}))`;default:return}})(p);v&&this.formulaXform.render(g,v),g.closeNode()}renderTimePeriod(g,p){g.openNode(this.tag,{type:"timePeriod",dxfId:p.dxfId,priority:p.priority,timePeriod:p.timePeriod});const v=(C=>{if(C.formulae&&C.formulae[0])return C.formulae[0];const j=new u(C.ref),{tl:L}=j;switch(C.timePeriod){case"thisWeek":return`AND(TODAY()-ROUNDDOWN(${L},0)<=WEEKDAY(TODAY())-1,ROUNDDOWN(${L},0)-TODAY()<=7-WEEKDAY(TODAY()))`;case"lastWeek":return`AND(TODAY()-ROUNDDOWN(${L},0)>=(WEEKDAY(TODAY())),TODAY()-ROUNDDOWN(${L},0)<(WEEKDAY(TODAY())+7))`;case"nextWeek":return`AND(ROUNDDOWN(${L},0)-TODAY()>(7-WEEKDAY(TODAY())),ROUNDDOWN(${L},0)-TODAY()<(15-WEEKDAY(TODAY())))`;case"yesterday":return`FLOOR(${L},1)=TODAY()-1`;case"today":return`FLOOR(${L},1)=TODAY()`;case"tomorrow":return`FLOOR(${L},1)=TODAY()+1`;case"last7Days":return`AND(TODAY()-FLOOR(${L},1)<=6,FLOOR(${L},1)<=TODAY())`;case"lastMonth":return`AND(MONTH(${L})=MONTH(EDATE(TODAY(),0-1)),YEAR(${L})=YEAR(EDATE(TODAY(),0-1)))`;case"thisMonth":return`AND(MONTH(${L})=MONTH(TODAY()),YEAR(${L})=YEAR(TODAY()))`;case"nextMonth":return`AND(MONTH(${L})=MONTH(EDATE(TODAY(),0+1)),YEAR(${L})=YEAR(EDATE(TODAY(),0+1)))`;default:return}})(p);v&&this.formulaXform.render(g,v),g.closeNode()}createNewModel(g){let{attributes:p}=g;return{...y(p),dxfId:i.toIntValue(p.dxfId),priority:i.toIntValue(p.priority),timePeriod:p.timePeriod,percent:i.toBoolValue(p.percent),bottom:i.toBoolValue(p.bottom),rank:i.toIntValue(p.rank),aboveAverage:i.toBoolValue(p.aboveAverage)}}onParserClose(g,p){switch(g){case"dataBar":case"extLst":case"colorScale":case"iconSet":Object.assign(this.model,p.model);break;case"formula":this.model.formulae=this.model.formulae||[],this.model.formulae.push(p.model)}}}n.exports=b},{"../../../../doc/range":10,"../../base-xform":32,"../../composite-xform":48,"./color-scale-xform":85,"./databar-xform":88,"./ext-lst-ref-xform":89,"./formula-xform":90,"./icon-set-xform":91}],84:[function(e,n,l){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"cfvo"}render(s,u){s.leafNode(this.tag,{type:u.type,val:u.value})}parseOpen(s){this.model={type:s.attributes.type,value:i.toFloatValue(s.attributes.val)}}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],85:[function(e,n,l){const i=e("../../composite-xform"),s=e("../../style/color-xform"),u=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new s}}get tag(){return"colorScale"}render(a,o){a.openNode(this.tag),o.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),o.color.forEach(c=>{this.colorXform.render(a,c)}),a.closeNode()}createNewModel(a){return{cfvo:[],color:[]}}onParserClose(a,o){this.model[a].push(o.model)}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],86:[function(e,n,l){const i=e("../../composite-xform"),s=e("./cf-rule-xform");n.exports=class extends i{constructor(){super(),this.map={cfRule:new s}}get tag(){return"conditionalFormatting"}render(u,a){a.rules.some(s.isPrimitive)&&(u.openNode(this.tag,{sqref:a.ref}),a.rules.forEach(o=>{s.isPrimitive(o)&&(o.ref=a.ref,this.map.cfRule.render(u,o))}),u.closeNode())}createNewModel(u){let{attributes:a}=u;return{ref:a.sqref,rules:[]}}onParserClose(u,a){this.model.rules.push(a.model)}}},{"../../composite-xform":48,"./cf-rule-xform":83}],87:[function(e,n,l){const i=e("../../base-xform"),s=e("./conditional-formatting-xform");n.exports=class extends i{constructor(){super(),this.cfXform=new s}get tag(){return"conditionalFormatting"}reset(){this.model=[]}prepare(u,a){let o=u.reduce((c,f)=>Math.max(c,...f.rules.map(h=>h.priority||0)),1);u.forEach(c=>{c.rules.forEach(f=>{f.priority||(f.priority=o++),f.style&&(f.dxfId=a.styles.addDxfStyle(f.style))})})}render(u,a){a.forEach(o=>{this.cfXform.render(u,o)})}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case"conditionalFormatting":return this.parser=this.cfXform,this.parser.parseOpen(u),!0;default:return!1}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){return!!this.parser&&(!!this.parser.parseClose(u)||(this.model.push(this.parser.model),this.parser=void 0,!1))}reconcile(u,a){u.forEach(o=>{o.rules.forEach(c=>{c.dxfId!==void 0&&(c.style=a.styles.getDxfStyle(c.dxfId),delete c.dxfId)})})}}},{"../../base-xform":32,"./conditional-formatting-xform":86}],88:[function(e,n,l){const i=e("../../composite-xform"),s=e("../../style/color-xform"),u=e("./cfvo-xform");n.exports=class extends i{constructor(){super(),this.map={cfvo:this.cfvoXform=new u,color:this.colorXform=new s}}get tag(){return"dataBar"}render(a,o){a.openNode(this.tag),o.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),this.colorXform.render(a,o.color),a.closeNode()}createNewModel(){return{cfvo:[]}}onParserClose(a,o){switch(a){case"cfvo":this.model.cfvo.push(o.model);break;case"color":this.model.color=o.model}}}},{"../../composite-xform":48,"../../style/color-xform":128,"./cfvo-xform":84}],89:[function(e,n,l){const i=e("../../base-xform"),s=e("../../composite-xform");class u extends i{get tag(){return"x14:id"}render(c,f){c.leafNode(this.tag,null,f)}parseOpen(){this.model=""}parseText(c){this.model+=c}parseClose(c){return c!==this.tag}}class a extends s{constructor(){super(),this.map={"x14:id":this.idXform=new u}}get tag(){return"ext"}render(c,f){c.openNode(this.tag,{uri:"{B025F937-C7B1-47D3-B67F-A62EFF666E3E}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.idXform.render(c,f.x14Id),c.closeNode()}createNewModel(){return{}}onParserClose(c,f){this.model.x14Id=f.model}}n.exports=class extends s{constructor(){super(),this.map={ext:new a}}get tag(){return"extLst"}render(o,c){o.openNode(this.tag),this.map.ext.render(o,c),o.closeNode()}createNewModel(){return{}}onParserClose(o,c){Object.assign(this.model,c.model)}}},{"../../base-xform":32,"../../composite-xform":48}],90:[function(e,n,l){const i=e("../../base-xform");n.exports=class extends i{get tag(){return"formula"}render(s,u){s.leafNode(this.tag,null,u)}parseOpen(){this.model=""}parseText(s){this.model+=s}parseClose(s){return s!==this.tag}}},{"../../base-xform":32}],91:[function(e,n,l){const i=e("../../base-xform"),s=e("../../composite-xform"),u=e("./cfvo-xform");n.exports=class extends s{constructor(){super(),this.map={cfvo:this.cfvoXform=new u}}get tag(){return"iconSet"}render(a,o){a.openNode(this.tag,{iconSet:i.toStringAttribute(o.iconSet,"3TrafficLights"),reverse:i.toBoolAttribute(o.reverse,!1),showValue:i.toBoolAttribute(o.showValue,!0)}),o.cfvo.forEach(c=>{this.cfvoXform.render(a,c)}),a.closeNode()}createNewModel(a){let{attributes:o}=a;return{iconSet:i.toStringValue(o.iconSet,"3TrafficLights"),reverse:i.toBoolValue(o.reverse),showValue:i.toBoolValue(o.showValue),cfvo:[]}}onParserClose(a,o){this.model[a].push(o.model)}}},{"../../base-xform":32,"../../composite-xform":48,"./cfvo-xform":84}],92:[function(e,n,l){const i=e("../../../utils/utils"),s=e("../base-xform");n.exports=class extends s{get tag(){return"col"}prepare(u,a){const o=a.styles.addStyleModel(u.style||{});o&&(u.styleId=o)}render(u,a){u.openNode("col"),u.addAttribute("min",a.min),u.addAttribute("max",a.max),a.width&&u.addAttribute("width",a.width),a.styleId&&u.addAttribute("style",a.styleId),a.hidden&&u.addAttribute("hidden","1"),a.bestFit&&u.addAttribute("bestFit","1"),a.outlineLevel&&u.addAttribute("outlineLevel",a.outlineLevel),a.collapsed&&u.addAttribute("collapsed","1"),u.addAttribute("customWidth","1"),u.closeNode()}parseOpen(u){if(u.name==="col"){const a=this.model={min:parseInt(u.attributes.min||"0",10),max:parseInt(u.attributes.max||"0",10),width:u.attributes.width===void 0?void 0:parseFloat(u.attributes.width||"0")};return u.attributes.style&&(a.styleId=parseInt(u.attributes.style,10)),i.parseBoolean(u.attributes.hidden)&&(a.hidden=!0),i.parseBoolean(u.attributes.bestFit)&&(a.bestFit=!0),u.attributes.outlineLevel&&(a.outlineLevel=parseInt(u.attributes.outlineLevel,10)),i.parseBoolean(u.attributes.collapsed)&&(a.collapsed=!0),!0}return!1}parseText(){}parseClose(){return!1}reconcile(u,a){u.styleId&&(u.style=a.styles.getStyleModel(u.styleId))}}},{"../../../utils/utils":27,"../base-xform":32}],93:[function(e,n,l){const i=e("../../../utils/under-dash"),s=e("../../../utils/utils"),u=e("../../../utils/col-cache"),a=e("../base-xform"),o=e("../../../doc/range");function c(h,d,y,b){const m=d[y];m!==void 0?h[y]=m:b!==void 0&&(h[y]=b)}function f(h,d,y,b){const m=d[y];m!==void 0&&(h[y]=s.parseBoolean(m))}n.exports=class extends a{get tag(){return"dataValidations"}render(h,d){const y=function(b){const m=i.map(b,(v,C)=>({address:C,dataValidation:v,marked:!1})).sort((v,C)=>i.strcmp(v.address,C.address)),g=i.keyBy(m,"address"),p=(v,C,j)=>{for(let L=0;L<C;L++){const $=u.encodeAddress(v.row+L,j);if(!b[$]||!i.isEqual(b[v.address],b[$]))return!1}return!0};return m.map(v=>{if(!v.marked){const C=u.decodeEx(v.address);if(C.dimensions)return g[C.dimensions].marked=!0,{...v.dataValidation,sqref:v.address};let j=1,L=u.encodeAddress(C.row+j,C.col);for(;b[L]&&i.isEqual(v.dataValidation,b[L]);)j++,L=u.encodeAddress(C.row+j,C.col);let $=1;for(;p(C,j,C.col+$);)$++;for(let M=0;M<j;M++)for(let z=0;z<$;z++)L=u.encodeAddress(C.row+M,C.col+z),g[L].marked=!0;if(j>1||$>1){const M=C.row+(j-1),z=C.col+($-1);return{...v.dataValidation,sqref:`${v.address}:${u.encodeAddress(M,z)}`}}return{...v.dataValidation,sqref:v.address}}return null}).filter(Boolean)}(d);y.length&&(h.openNode("dataValidations",{count:y.length}),y.forEach(b=>{h.openNode("dataValidation"),b.type!=="any"&&(h.addAttribute("type",b.type),b.operator&&b.type!=="list"&&b.operator!=="between"&&h.addAttribute("operator",b.operator),b.allowBlank&&h.addAttribute("allowBlank","1")),b.showInputMessage&&h.addAttribute("showInputMessage","1"),b.promptTitle&&h.addAttribute("promptTitle",b.promptTitle),b.prompt&&h.addAttribute("prompt",b.prompt),b.showErrorMessage&&h.addAttribute("showErrorMessage","1"),b.errorStyle&&h.addAttribute("errorStyle",b.errorStyle),b.errorTitle&&h.addAttribute("errorTitle",b.errorTitle),b.error&&h.addAttribute("error",b.error),h.addAttribute("sqref",b.sqref),(b.formulae||[]).forEach((m,g)=>{h.openNode("formula"+(g+1)),b.type==="date"?h.writeText(s.dateToExcel(new Date(m))):h.writeText(m),h.closeNode()}),h.closeNode()}),h.closeNode())}parseOpen(h){switch(h.name){case"dataValidations":return this.model={},!0;case"dataValidation":{this._address=h.attributes.sqref;const d={type:h.attributes.type||"any",formulae:[]};switch(h.attributes.type&&f(d,h.attributes,"allowBlank"),f(d,h.attributes,"showInputMessage"),f(d,h.attributes,"showErrorMessage"),d.type){case"any":case"list":case"custom":break;default:c(d,h.attributes,"operator","between")}return c(d,h.attributes,"promptTitle"),c(d,h.attributes,"prompt"),c(d,h.attributes,"errorStyle"),c(d,h.attributes,"errorTitle"),c(d,h.attributes,"error"),this._dataValidation=d,!0}case"formula1":case"formula2":return this._formula=[],!0;default:return!1}}parseText(h){this._formula&&this._formula.push(h)}parseClose(h){switch(h){case"dataValidations":return!1;case"dataValidation":return this._dataValidation.formulae&&this._dataValidation.formulae.length||(delete this._dataValidation.formulae,delete this._dataValidation.operator),(this._address.split(/\s+/g)||[]).forEach(d=>{d.includes(":")?new o(d).forEachAddress(y=>{this.model[y]=this._dataValidation}):this.model[d]=this._dataValidation}),!0;case"formula1":case"formula2":{let d=this._formula.join("");switch(this._dataValidation.type){case"whole":case"textLength":d=parseInt(d,10);break;case"decimal":d=parseFloat(d);break;case"date":d=s.excelToDate(parseFloat(d))}return this._dataValidation.formulae.push(d),this._formula=void 0,!0}default:return!0}}}},{"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/utils":27,"../base-xform":32}],94:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"dimension"}render(s,u){u&&s.leafNode("dimension",{ref:u})}parseOpen(s){return s.name==="dimension"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],95:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"drawing"}render(s,u){u&&s.leafNode(this.tag,{"r:id":u.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],96:[function(e,n,l){const i=e("../composite-xform"),s=e("./cf-ext/conditional-formattings-ext-xform");class u extends i{constructor(){super(),this.map={"x14:conditionalFormattings":this.conditionalFormattings=new s}}get tag(){return"ext"}hasContent(o){return this.conditionalFormattings.hasContent(o.conditionalFormattings)}prepare(o,c){this.conditionalFormattings.prepare(o.conditionalFormattings,c)}render(o,c){o.openNode("ext",{uri:"{78C0D931-6437-407d-A8EE-F0AAD7539E65}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"}),this.conditionalFormattings.render(o,c.conditionalFormattings),o.closeNode()}createNewModel(){return{}}onParserClose(o,c){this.model[o]=c.model}}n.exports=class extends i{constructor(){super(),this.map={ext:this.ext=new u}}get tag(){return"extLst"}prepare(a,o){this.ext.prepare(a,o)}hasContent(a){return this.ext.hasContent(a)}render(a,o){this.hasContent(o)&&(a.openNode("extLst"),this.ext.render(a,o),a.closeNode())}createNewModel(){return{}}onParserClose(a,o){Object.assign(this.model,o.model)}}},{"../composite-xform":48,"./cf-ext/conditional-formattings-ext-xform":78}],97:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"headerFooter"}render(s,u){if(u){s.addRollback();let a=!1;s.openNode("headerFooter"),u.differentFirst&&(s.addAttribute("differentFirst","1"),a=!0),u.differentOddEven&&(s.addAttribute("differentOddEven","1"),a=!0),u.oddHeader&&typeof u.oddHeader=="string"&&(s.leafNode("oddHeader",null,u.oddHeader),a=!0),u.oddFooter&&typeof u.oddFooter=="string"&&(s.leafNode("oddFooter",null,u.oddFooter),a=!0),u.evenHeader&&typeof u.evenHeader=="string"&&(s.leafNode("evenHeader",null,u.evenHeader),a=!0),u.evenFooter&&typeof u.evenFooter=="string"&&(s.leafNode("evenFooter",null,u.evenFooter),a=!0),u.firstHeader&&typeof u.firstHeader=="string"&&(s.leafNode("firstHeader",null,u.firstHeader),a=!0),u.firstFooter&&typeof u.firstFooter=="string"&&(s.leafNode("firstFooter",null,u.firstFooter),a=!0),a?(s.closeNode(),s.commit()):s.rollback()}}parseOpen(s){switch(s.name){case"headerFooter":return this.model={},s.attributes.differentFirst&&(this.model.differentFirst=parseInt(s.attributes.differentFirst,0)===1),s.attributes.differentOddEven&&(this.model.differentOddEven=parseInt(s.attributes.differentOddEven,0)===1),!0;case"oddHeader":return this.currentNode="oddHeader",!0;case"oddFooter":return this.currentNode="oddFooter",!0;case"evenHeader":return this.currentNode="evenHeader",!0;case"evenFooter":return this.currentNode="evenFooter",!0;case"firstHeader":return this.currentNode="firstHeader",!0;case"firstFooter":return this.currentNode="firstFooter",!0;default:return!1}}parseText(s){switch(this.currentNode){case"oddHeader":this.model.oddHeader=s;break;case"oddFooter":this.model.oddFooter=s;break;case"evenHeader":this.model.evenHeader=s;break;case"evenFooter":this.model.evenFooter=s;break;case"firstHeader":this.model.firstHeader=s;break;case"firstFooter":this.model.firstFooter=s}}parseClose(){switch(this.currentNode){case"oddHeader":case"oddFooter":case"evenHeader":case"evenFooter":case"firstHeader":case"firstFooter":return this.currentNode=void 0,!0;default:return!1}}}},{"../base-xform":32}],98:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"hyperlink"}render(s,u){this.isInternalLink(u)?s.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip,location:u.target}):s.leafNode("hyperlink",{ref:u.address,"r:id":u.rId,tooltip:u.tooltip})}parseOpen(s){return s.name==="hyperlink"&&(this.model={address:s.attributes.ref,rId:s.attributes["r:id"],tooltip:s.attributes.tooltip},s.attributes.location&&(this.model.target=s.attributes.location),!0)}parseText(){}parseClose(){return!1}isInternalLink(s){return s.target&&/^[^!]+![a-zA-Z]+[\d]+$/.test(s.target)}}},{"../base-xform":32}],99:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"mergeCell"}render(s,u){s.leafNode("mergeCell",{ref:u})}parseOpen(s){return s.name==="mergeCell"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],100:[function(e,n,l){const i=e("../../../utils/under-dash"),s=e("../../../doc/range"),u=e("../../../utils/col-cache"),a=e("../../../doc/enums");n.exports=class{constructor(){this.merges={}}add(o){if(this.merges[o.master])this.merges[o.master].expandToAddress(o.address);else{const c=`${o.master}:${o.address}`;this.merges[o.master]=new s(c)}}get mergeCells(){return i.map(this.merges,o=>o.range)}reconcile(o,c){i.each(o,f=>{const h=u.decode(f);for(let d=h.top;d<=h.bottom;d++){const y=c[d-1];for(let b=h.left;b<=h.right;b++){const m=y.cells[b-1];m?m.type===a.ValueType.Merge&&(m.master=h.tl):y.cells[b]={type:a.ValueType.Null,address:u.encodeAddress(d,b)}}}})}getMasterAddress(o){const c=this.hash[o];return c&&c.tl}}},{"../../../doc/enums":7,"../../../doc/range":10,"../../../utils/col-cache":19,"../../../utils/under-dash":26}],101:[function(e,n,l){const i=e("../base-xform"),s=u=>u!==void 0;n.exports=class extends i{get tag(){return"outlinePr"}render(u,a){return!(!a||!s(a.summaryBelow)&&!s(a.summaryRight))&&(u.leafNode(this.tag,{summaryBelow:s(a.summaryBelow)?Number(a.summaryBelow):void 0,summaryRight:s(a.summaryRight)?Number(a.summaryRight):void 0}),!0)}parseOpen(u){return u.name===this.tag&&(this.model={summaryBelow:s(u.attributes.summaryBelow)?!!Number(u.attributes.summaryBelow):void 0,summaryRight:s(u.attributes.summaryRight)?!!Number(u.attributes.summaryRight):void 0},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],102:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"brk"}render(s,u){s.leafNode("brk",u)}parseOpen(s){return s.name==="brk"&&(this.model=s.attributes.ref,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],103:[function(e,n,l){const i=e("../../../utils/under-dash"),s=e("../base-xform");n.exports=class extends s{get tag(){return"pageMargins"}render(u,a){if(a){const o={left:a.left,right:a.right,top:a.top,bottom:a.bottom,header:a.header,footer:a.footer};i.some(o,c=>c!==void 0)&&u.leafNode(this.tag,o)}}parseOpen(u){switch(u.name){case this.tag:return this.model={left:parseFloat(u.attributes.left||.7),right:parseFloat(u.attributes.right||.7),top:parseFloat(u.attributes.top||.75),bottom:parseFloat(u.attributes.bottom||.75),header:parseFloat(u.attributes.header||.3),footer:parseFloat(u.attributes.footer||.3)},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],104:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"pageSetUpPr"}render(s,u){return!(!u||!u.fitToPage)&&(s.leafNode(this.tag,{fitToPage:u.fitToPage?"1":void 0}),!0)}parseOpen(s){return s.name===this.tag&&(this.model={fitToPage:s.attributes.fitToPage==="1"},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],105:[function(e,n,l){const i=e("../../../utils/under-dash"),s=e("../base-xform");function u(f){return f?"1":void 0}function a(f){switch(f){case"overThenDown":return f;default:return}}function o(f){switch(f){case"atEnd":case"asDisplyed":return f;default:return}}function c(f){switch(f){case"dash":case"blank":case"NA":return f;default:return}}n.exports=class extends s{get tag(){return"pageSetup"}render(f,h){if(h){const d={paperSize:h.paperSize,orientation:h.orientation,horizontalDpi:h.horizontalDpi,verticalDpi:h.verticalDpi,pageOrder:a(h.pageOrder),blackAndWhite:u(h.blackAndWhite),draft:u(h.draft),cellComments:o(h.cellComments),errors:c(h.errors),scale:h.scale,fitToWidth:h.fitToWidth,fitToHeight:h.fitToHeight,firstPageNumber:h.firstPageNumber,useFirstPageNumber:u(h.firstPageNumber),usePrinterDefaults:u(h.usePrinterDefaults),copies:h.copies};i.some(d,y=>y!==void 0)&&f.leafNode(this.tag,d)}}parseOpen(f){switch(f.name){case this.tag:return this.model={paperSize:(h=f.attributes.paperSize,h!==void 0?parseInt(h,10):void 0),orientation:f.attributes.orientation||"portrait",horizontalDpi:parseInt(f.attributes.horizontalDpi||"4294967295",10),verticalDpi:parseInt(f.attributes.verticalDpi||"4294967295",10),pageOrder:f.attributes.pageOrder||"downThenOver",blackAndWhite:f.attributes.blackAndWhite==="1",draft:f.attributes.draft==="1",cellComments:f.attributes.cellComments||"None",errors:f.attributes.errors||"displayed",scale:parseInt(f.attributes.scale||"100",10),fitToWidth:parseInt(f.attributes.fitToWidth||"1",10),fitToHeight:parseInt(f.attributes.fitToHeight||"1",10),firstPageNumber:parseInt(f.attributes.firstPageNumber||"1",10),useFirstPageNumber:f.attributes.useFirstPageNumber==="1",usePrinterDefaults:f.attributes.usePrinterDefaults==="1",copies:parseInt(f.attributes.copies||"1",10)},!0;default:return!1}var h}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],106:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"picture"}render(s,u){u&&s.leafNode(this.tag,{"r:id":u.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],107:[function(e,n,l){const i=e("../../../utils/under-dash"),s=e("../base-xform");function u(a){return a?"1":void 0}n.exports=class extends s{get tag(){return"printOptions"}render(a,o){if(o){const c={headings:u(o.showRowColHeaders),gridLines:u(o.showGridLines),horizontalCentered:u(o.horizontalCentered),verticalCentered:u(o.verticalCentered)};i.some(c,f=>f!==void 0)&&a.leafNode(this.tag,c)}}parseOpen(a){switch(a.name){case this.tag:return this.model={showRowColHeaders:a.attributes.headings==="1",showGridLines:a.attributes.gridLines==="1",horizontalCentered:a.attributes.horizontalCentered==="1",verticalCentered:a.attributes.verticalCentered==="1"},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],108:[function(e,n,l){const i=e("./page-breaks-xform"),s=e("../list-xform");n.exports=class extends s{constructor(){super({tag:"rowBreaks",count:!0,childXform:new i})}render(u,a){if(a&&a.length){u.openNode(this.tag,this.$),this.count&&(u.addAttribute(this.$count,a.length),u.addAttribute("manualBreakCount",a.length));const{childXform:o}=this;a.forEach(c=>{o.render(u,c)}),u.closeNode()}else this.empty&&u.leafNode(this.tag)}}},{"../list-xform":71,"./page-breaks-xform":102}],109:[function(e,n,l){const i=e("../base-xform"),s=e("../../../utils/utils"),u=e("./cell-xform");n.exports=class extends i{constructor(a){super(),this.maxItems=a&&a.maxItems,this.map={c:new u}}get tag(){return"row"}prepare(a,o){const c=o.styles.addStyleModel(a.style);c&&(a.styleId=c);const f=this.map.c;a.cells.forEach(h=>{f.prepare(h,o)})}render(a,o,c){a.openNode("row"),a.addAttribute("r",o.number),o.height&&(a.addAttribute("ht",o.height),a.addAttribute("customHeight","1")),o.hidden&&a.addAttribute("hidden","1"),o.min>0&&o.max>0&&o.min<=o.max&&a.addAttribute("spans",`${o.min}:${o.max}`),o.styleId&&(a.addAttribute("s",o.styleId),a.addAttribute("customFormat","1")),a.addAttribute("x14ac:dyDescent","0.25"),o.outlineLevel&&a.addAttribute("outlineLevel",o.outlineLevel),o.collapsed&&a.addAttribute("collapsed","1");const f=this.map.c;o.cells.forEach(h=>{f.render(a,h,c)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;if(a.name==="row"){this.numRowsSeen+=1;const o=a.attributes.spans?a.attributes.spans.split(":").map(f=>parseInt(f,10)):[void 0,void 0],c=this.model={number:parseInt(a.attributes.r,10),min:o[0],max:o[1],cells:[]};return a.attributes.s&&(c.styleId=parseInt(a.attributes.s,10)),s.parseBoolean(a.attributes.hidden)&&(c.hidden=!0),s.parseBoolean(a.attributes.bestFit)&&(c.bestFit=!0),a.attributes.ht&&(c.height=parseFloat(a.attributes.ht)),a.attributes.outlineLevel&&(c.outlineLevel=parseInt(a.attributes.outlineLevel,10)),s.parseBoolean(a.attributes.collapsed)&&(c.collapsed=!0),!0}return this.parser=this.map[a.name],!!this.parser&&(this.parser.parseOpen(a),!0)}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){if(this.model.cells.push(this.parser.model),this.maxItems&&this.model.cells.length>this.maxItems)throw new Error(`Max column count (${this.maxItems}) exceeded`);this.parser=void 0}return!0}return!1}reconcile(a,o){a.style=a.styleId?o.styles.getStyleModel(a.styleId):{},a.styleId!==void 0&&(a.styleId=void 0);const c=this.map.c;a.cells.forEach(f=>{c.reconcile(f,o)})}}},{"../../../utils/utils":27,"../base-xform":32,"./cell-xform":73}],110:[function(e,n,l){const i=e("../../../utils/under-dash"),s=e("../base-xform");n.exports=class extends s{get tag(){return"sheetFormatPr"}render(u,a){if(a){const o={defaultRowHeight:a.defaultRowHeight,outlineLevelRow:a.outlineLevelRow,outlineLevelCol:a.outlineLevelCol,"x14ac:dyDescent":a.dyDescent};a.defaultColWidth&&(o.defaultColWidth=a.defaultColWidth),a.defaultRowHeight&&a.defaultRowHeight===15||(o.customHeight="1"),i.some(o,c=>c!==void 0)&&u.leafNode("sheetFormatPr",o)}}parseOpen(u){return u.name==="sheetFormatPr"&&(this.model={defaultRowHeight:parseFloat(u.attributes.defaultRowHeight||"0"),dyDescent:parseFloat(u.attributes["x14ac:dyDescent"]||"0"),outlineLevelRow:parseInt(u.attributes.outlineLevelRow||"0",10),outlineLevelCol:parseInt(u.attributes.outlineLevelCol||"0",10)},u.attributes.defaultColWidth&&(this.model.defaultColWidth=parseFloat(u.attributes.defaultColWidth)),!0)}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],111:[function(e,n,l){const i=e("../base-xform"),s=e("../style/color-xform"),u=e("./page-setup-properties-xform"),a=e("./outline-properties-xform");n.exports=class extends i{constructor(){super(),this.map={tabColor:new s("tabColor"),pageSetUpPr:new u,outlinePr:new a}}get tag(){return"sheetPr"}render(o,c){if(c){o.addRollback(),o.openNode("sheetPr");let f=!1;f=this.map.tabColor.render(o,c.tabColor)||f,f=this.map.pageSetUpPr.render(o,c.pageSetup)||f,f=this.map.outlinePr.render(o,c.outlineProperties)||f,f?(o.closeNode(),o.commit()):o.rollback()}}parseOpen(o){return this.parser?(this.parser.parseOpen(o),!0):o.name===this.tag?(this.reset(),!0):!!this.map[o.name]&&(this.parser=this.map[o.name],this.parser.parseOpen(o),!0)}parseText(o){return!!this.parser&&(this.parser.parseText(o),!0)}parseClose(o){return this.parser?(this.parser.parseClose(o)||(this.parser=void 0),!0):(this.map.tabColor.model||this.map.pageSetUpPr.model||this.map.outlinePr.model?(this.model={},this.map.tabColor.model&&(this.model.tabColor=this.map.tabColor.model),this.map.pageSetUpPr.model&&(this.model.pageSetup=this.map.pageSetUpPr.model),this.map.outlinePr.model&&(this.model.outlineProperties=this.map.outlinePr.model)):this.model=null,!1)}}},{"../base-xform":32,"../style/color-xform":128,"./outline-properties-xform":101,"./page-setup-properties-xform":104}],112:[function(e,n,l){const i=e("../../../utils/under-dash"),s=e("../base-xform");function u(o,c){return o?c:void 0}function a(o,c){return o===c||void 0}n.exports=class extends s{get tag(){return"sheetProtection"}render(o,c){if(c){const f={sheet:u(c.sheet,"1"),selectLockedCells:c.selectLockedCells===!1?"1":void 0,selectUnlockedCells:c.selectUnlockedCells===!1?"1":void 0,formatCells:u(c.formatCells,"0"),formatColumns:u(c.formatColumns,"0"),formatRows:u(c.formatRows,"0"),insertColumns:u(c.insertColumns,"0"),insertRows:u(c.insertRows,"0"),insertHyperlinks:u(c.insertHyperlinks,"0"),deleteColumns:u(c.deleteColumns,"0"),deleteRows:u(c.deleteRows,"0"),sort:u(c.sort,"0"),autoFilter:u(c.autoFilter,"0"),pivotTables:u(c.pivotTables,"0")};c.sheet&&(f.algorithmName=c.algorithmName,f.hashValue=c.hashValue,f.saltValue=c.saltValue,f.spinCount=c.spinCount,f.objects=u(c.objects===!1,"1"),f.scenarios=u(c.scenarios===!1,"1")),i.some(f,h=>h!==void 0)&&o.leafNode(this.tag,f)}}parseOpen(o){switch(o.name){case this.tag:return this.model={sheet:a(o.attributes.sheet,"1"),objects:o.attributes.objects!=="1"&&void 0,scenarios:o.attributes.scenarios!=="1"&&void 0,selectLockedCells:o.attributes.selectLockedCells!=="1"&&void 0,selectUnlockedCells:o.attributes.selectUnlockedCells!=="1"&&void 0,formatCells:a(o.attributes.formatCells,"0"),formatColumns:a(o.attributes.formatColumns,"0"),formatRows:a(o.attributes.formatRows,"0"),insertColumns:a(o.attributes.insertColumns,"0"),insertRows:a(o.attributes.insertRows,"0"),insertHyperlinks:a(o.attributes.insertHyperlinks,"0"),deleteColumns:a(o.attributes.deleteColumns,"0"),deleteRows:a(o.attributes.deleteRows,"0"),sort:a(o.attributes.sort,"0"),autoFilter:a(o.attributes.autoFilter,"0"),pivotTables:a(o.attributes.pivotTables,"0")},o.attributes.algorithmName&&(this.model.algorithmName=o.attributes.algorithmName,this.model.hashValue=o.attributes.hashValue,this.model.saltValue=o.attributes.saltValue,this.model.spinCount=parseInt(o.attributes.spinCount,10)),!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../../../utils/under-dash":26,"../base-xform":32}],113:[function(e,n,l){const i=e("../../../utils/col-cache"),s=e("../base-xform"),u={frozen:"frozen",frozenSplit:"frozen",split:"split"};n.exports=class extends s{get tag(){return"sheetView"}prepare(a){switch(a.state){case"frozen":case"split":break;default:a.state="normal"}}render(a,o){a.openNode("sheetView",{workbookViewId:o.workbookViewId||0});const c=function(b,m,g){g&&a.addAttribute(b,m)};let f,h,d,y;switch(c("rightToLeft","1",o.rightToLeft===!0),c("tabSelected","1",o.tabSelected),c("showRuler","0",o.showRuler===!1),c("showRowColHeaders","0",o.showRowColHeaders===!1),c("showGridLines","0",o.showGridLines===!1),c("zoomScale",o.zoomScale,o.zoomScale),c("zoomScaleNormal",o.zoomScaleNormal,o.zoomScaleNormal),c("view",o.style,o.style),o.state){case"frozen":h=o.xSplit||0,d=o.ySplit||0,f=o.topLeftCell||i.getAddress(d+1,h+1).address,y=(o.xSplit&&o.ySplit?"bottomRight":o.xSplit&&"topRight")||"bottomLeft",a.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:f,activePane:y,state:"frozen"}),a.leafNode("selection",{pane:y,activeCell:o.activeCell,sqref:o.activeCell});break;case"split":o.activePane==="topLeft"&&(o.activePane=void 0),a.leafNode("pane",{xSplit:o.xSplit||void 0,ySplit:o.ySplit||void 0,topLeftCell:o.topLeftCell,activePane:o.activePane}),a.leafNode("selection",{pane:o.activePane,activeCell:o.activeCell,sqref:o.activeCell});break;case"normal":o.activeCell&&a.leafNode("selection",{activeCell:o.activeCell,sqref:o.activeCell})}a.closeNode()}parseOpen(a){switch(a.name){case"sheetView":return this.sheetView={workbookViewId:parseInt(a.attributes.workbookViewId,10),rightToLeft:a.attributes.rightToLeft==="1",tabSelected:a.attributes.tabSelected==="1",showRuler:a.attributes.showRuler!=="0",showRowColHeaders:a.attributes.showRowColHeaders!=="0",showGridLines:a.attributes.showGridLines!=="0",zoomScale:parseInt(a.attributes.zoomScale||"100",10),zoomScaleNormal:parseInt(a.attributes.zoomScaleNormal||"100",10),style:a.attributes.view},this.pane=void 0,this.selections={},!0;case"pane":return this.pane={xSplit:parseInt(a.attributes.xSplit||"0",10),ySplit:parseInt(a.attributes.ySplit||"0",10),topLeftCell:a.attributes.topLeftCell,activePane:a.attributes.activePane||"topLeft",state:a.attributes.state},!0;case"selection":{const o=a.attributes.pane||"topLeft";return this.selections[o]={pane:o,activeCell:a.attributes.activeCell},!0}default:return!1}}parseText(){}parseClose(a){let o,c;switch(a){case"sheetView":return this.sheetView&&this.pane?(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:u[this.pane.state]||"split",xSplit:this.pane.xSplit,ySplit:this.pane.ySplit,topLeftCell:this.pane.topLeftCell,showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},this.model.state==="split"&&(o.activePane=this.pane.activePane),c=this.selections[this.pane.activePane],c&&c.activeCell&&(o.activeCell=c.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)):(o=this.model={workbookViewId:this.sheetView.workbookViewId,rightToLeft:this.sheetView.rightToLeft,state:"normal",showRuler:this.sheetView.showRuler,showRowColHeaders:this.sheetView.showRowColHeaders,showGridLines:this.sheetView.showGridLines,zoomScale:this.sheetView.zoomScale,zoomScaleNormal:this.sheetView.zoomScaleNormal},c=this.selections.topLeft,c&&c.activeCell&&(o.activeCell=c.activeCell),this.sheetView.style&&(o.style=this.sheetView.style)),!1;default:return!0}}reconcile(){}}},{"../../../utils/col-cache":19,"../base-xform":32}],114:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tablePart"}render(s,u){u&&s.leafNode(this.tag,{"r:id":u.rId})}parseOpen(s){switch(s.name){case this.tag:return this.model={rId:s.attributes["r:id"]},!0;default:return!1}}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],115:[function(e,n,l){const i=e("../../../utils/under-dash"),s=e("../../../utils/col-cache"),u=e("../../../utils/xml-stream"),a=e("../../rel-type"),o=e("./merges"),c=e("../base-xform"),f=e("../list-xform"),h=e("./row-xform"),d=e("./col-xform"),y=e("./dimension-xform"),b=e("./hyperlink-xform"),m=e("./merge-cell-xform"),g=e("./data-validations-xform"),p=e("./sheet-properties-xform"),v=e("./sheet-format-properties-xform"),C=e("./sheet-view-xform"),j=e("./sheet-protection-xform"),L=e("./page-margins-xform"),$=e("./page-setup-xform"),M=e("./print-options-xform"),z=e("./auto-filter-xform"),H=e("./picture-xform"),q=e("./drawing-xform"),B=e("./table-part-xform"),A=e("./row-breaks-xform"),P=e("./header-footer-xform"),k=e("./cf/conditional-formattings-xform"),w=e("./ext-lst-xform"),S=(_,E)=>{if(!E||!E.length)return _;if(!_||!_.length)return E;const D={},N={};return _.forEach(U=>{D[U.ref]=U,U.rules.forEach(V=>{const{x14Id:J}=V;J&&(N[J]=V)})}),E.forEach(U=>{U.rules.forEach(V=>{const J=N[V.x14Id];J?((F,Y)=>{Object.keys(Y).forEach(O=>{const T=F[O],G=Y[O];T===void 0&&G!==void 0&&(F[O]=G)})})(J,V):D[U.ref]?D[U.ref].rules.push(V):_.push({ref:U.ref,rules:[V]})})}),_};class x extends c{constructor(E){super();const{maxRows:D,maxCols:N,ignoreNodes:U}=E||{};this.ignoreNodes=U||[],this.map={sheetPr:new p,dimension:new y,sheetViews:new f({tag:"sheetViews",count:!1,childXform:new C}),sheetFormatPr:new v,cols:new f({tag:"cols",count:!1,childXform:new d}),sheetData:new f({tag:"sheetData",count:!1,empty:!0,childXform:new h({maxItems:N}),maxItems:D}),autoFilter:new z,mergeCells:new f({tag:"mergeCells",count:!0,childXform:new m}),rowBreaks:new A,hyperlinks:new f({tag:"hyperlinks",count:!1,childXform:new b}),pageMargins:new L,dataValidations:new g,pageSetup:new $,headerFooter:new P,printOptions:new M,picture:new H,drawing:new q,sheetProtection:new j,tableParts:new f({tag:"tableParts",count:!0,childXform:new B}),conditionalFormatting:new k,extLst:new w}}prepare(E,D){D.merges=new o,E.hyperlinks=D.hyperlinks=[],E.comments=D.comments=[],D.formulae={},D.siFormulae=0,this.map.cols.prepare(E.cols,D),this.map.sheetData.prepare(E.rows,D),this.map.conditionalFormatting.prepare(E.conditionalFormattings,D),E.mergeCells=D.merges.mergeCells;const N=E.rels=[];function U(F){return"rId"+(F.length+1)}if(E.hyperlinks.forEach(F=>{const Y=U(N);F.rId=Y,N.push({Id:Y,Type:a.Hyperlink,Target:F.target,TargetMode:"External"})}),E.comments.length>0){const F={Id:U(N),Type:a.Comments,Target:`../comments${E.id}.xml`};N.push(F);const Y={Id:U(N),Type:a.VmlDrawing,Target:`../drawings/vmlDrawing${E.id}.vml`};N.push(Y),E.comments.forEach(O=>{O.refAddress=s.decodeAddress(O.ref)}),D.commentRefs.push({commentName:"comments"+E.id,vmlDrawing:"vmlDrawing"+E.id})}const V=[];let J;E.media.forEach(F=>{if(F.type==="background"){const Y=U(N);J=D.media[F.imageId],N.push({Id:Y,Type:a.Image,Target:`../media/${J.name}.${J.extension}`}),E.background={rId:Y},E.image=D.media[F.imageId]}else if(F.type==="image"){let{drawing:Y}=E;J=D.media[F.imageId],Y||(Y=E.drawing={rId:U(N),name:"drawing"+ ++D.drawingsCount,anchors:[],rels:[]},D.drawings.push(Y),N.push({Id:Y.rId,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",Target:`../drawings/${Y.name}.xml`}));let O=this.preImageId===F.imageId?V[F.imageId]:V[Y.rels.length];O||(O=U(Y.rels),V[Y.rels.length]=O,Y.rels.push({Id:O,Type:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",Target:`../media/${J.name}.${J.extension}`}));const T={picture:{rId:O},range:F.range};if(F.hyperlinks&&F.hyperlinks.hyperlink){const G=U(Y.rels);V[Y.rels.length]=G,T.picture.hyperlinks={tooltip:F.hyperlinks.tooltip,rId:G},Y.rels.push({Id:G,Type:a.Hyperlink,Target:F.hyperlinks.hyperlink,TargetMode:"External"})}this.preImageId=F.imageId,Y.anchors.push(T)}}),E.tables.forEach(F=>{const Y=U(N);F.rId=Y,N.push({Id:Y,Type:a.Table,Target:"../tables/"+F.target}),F.columns.forEach(O=>{const{style:T}=O;T&&(O.dxfId=D.styles.addDxfStyle(T))})}),this.map.extLst.prepare(E,D)}render(E,D){E.openXml(u.StdDocAttributes),E.openNode("worksheet",x.WORKSHEET_ATTRIBUTES);const N=D.properties?{defaultRowHeight:D.properties.defaultRowHeight,dyDescent:D.properties.dyDescent,outlineLevelCol:D.properties.outlineLevelCol,outlineLevelRow:D.properties.outlineLevelRow}:void 0;D.properties&&D.properties.defaultColWidth&&(N.defaultColWidth=D.properties.defaultColWidth);const U={outlineProperties:D.properties&&D.properties.outlineProperties,tabColor:D.properties&&D.properties.tabColor,pageSetup:D.pageSetup&&D.pageSetup.fitToPage?{fitToPage:D.pageSetup.fitToPage}:void 0},V=D.pageSetup&&D.pageSetup.margins,J={showRowColHeaders:D.pageSetup&&D.pageSetup.showRowColHeaders,showGridLines:D.pageSetup&&D.pageSetup.showGridLines,horizontalCentered:D.pageSetup&&D.pageSetup.horizontalCentered,verticalCentered:D.pageSetup&&D.pageSetup.verticalCentered},F=D.sheetProtection;this.map.sheetPr.render(E,U),this.map.dimension.render(E,D.dimensions),this.map.sheetViews.render(E,D.views),this.map.sheetFormatPr.render(E,N),this.map.cols.render(E,D.cols),this.map.sheetData.render(E,D.rows),this.map.sheetProtection.render(E,F),this.map.autoFilter.render(E,D.autoFilter),this.map.mergeCells.render(E,D.mergeCells),this.map.conditionalFormatting.render(E,D.conditionalFormattings),this.map.dataValidations.render(E,D.dataValidations),this.map.hyperlinks.render(E,D.hyperlinks),this.map.printOptions.render(E,J),this.map.pageMargins.render(E,V),this.map.pageSetup.render(E,D.pageSetup),this.map.headerFooter.render(E,D.headerFooter),this.map.rowBreaks.render(E,D.rowBreaks),this.map.drawing.render(E,D.drawing),this.map.picture.render(E,D.background),this.map.tableParts.render(E,D.tables),this.map.extLst.render(E,D),D.rels&&D.rels.forEach(Y=>{Y.Type===a.VmlDrawing&&E.leafNode("legacyDrawing",{"r:id":Y.Id})}),E.closeNode()}parseOpen(E){return this.parser?(this.parser.parseOpen(E),!0):E.name==="worksheet"?(i.each(this.map,D=>{D.reset()}),!0):(this.map[E.name]&&!this.ignoreNodes.includes(E.name)&&(this.parser=this.map[E.name],this.parser.parseOpen(E)),!0)}parseText(E){this.parser&&this.parser.parseText(E)}parseClose(E){if(this.parser)return this.parser.parseClose(E)||(this.parser=void 0),!0;switch(E){case"worksheet":{const D=this.map.sheetFormatPr.model||{};this.map.sheetPr.model&&this.map.sheetPr.model.tabColor&&(D.tabColor=this.map.sheetPr.model.tabColor),this.map.sheetPr.model&&this.map.sheetPr.model.outlineProperties&&(D.outlineProperties=this.map.sheetPr.model.outlineProperties);const N={fitToPage:this.map.sheetPr.model&&this.map.sheetPr.model.pageSetup&&this.map.sheetPr.model.pageSetup.fitToPage||!1,margins:this.map.pageMargins.model},U=Object.assign(N,this.map.pageSetup.model,this.map.printOptions.model),V=S(this.map.conditionalFormatting.model,this.map.extLst.model&&this.map.extLst.model["x14:conditionalFormattings"]);return this.model={dimensions:this.map.dimension.model,cols:this.map.cols.model,rows:this.map.sheetData.model,mergeCells:this.map.mergeCells.model,hyperlinks:this.map.hyperlinks.model,dataValidations:this.map.dataValidations.model,properties:D,views:this.map.sheetViews.model,pageSetup:U,headerFooter:this.map.headerFooter.model,background:this.map.picture.model,drawing:this.map.drawing.model,tables:this.map.tableParts.model,conditionalFormattings:V},this.map.autoFilter.model&&(this.model.autoFilter=this.map.autoFilter.model),this.map.sheetProtection.model&&(this.model.sheetProtection=this.map.sheetProtection.model),!1}default:return!0}}reconcile(E,D){const N=(E.relationships||[]).reduce((V,J)=>{if(V[J.Id]=J,J.Type===a.Comments&&(E.comments=D.comments[J.Target].comments),J.Type===a.VmlDrawing&&E.comments&&E.comments.length){const F=D.vmlDrawings[J.Target].comments;E.comments.forEach((Y,O)=>{Y.note=Object.assign({},Y.note,F[O])})}return V},{});if(D.commentsMap=(E.comments||[]).reduce((V,J)=>(J.ref&&(V[J.ref]=J),V),{}),D.hyperlinkMap=(E.hyperlinks||[]).reduce((V,J)=>(J.rId&&(V[J.address]=N[J.rId].Target),V),{}),D.formulae={},E.rows=E.rows&&E.rows.filter(Boolean)||[],E.rows.forEach(V=>{V.cells=V.cells&&V.cells.filter(Boolean)||[]}),this.map.cols.reconcile(E.cols,D),this.map.sheetData.reconcile(E.rows,D),this.map.conditionalFormatting.reconcile(E.conditionalFormattings,D),E.media=[],E.drawing){const V=N[E.drawing.rId].Target.match(/\/drawings\/([a-zA-Z0-9]+)[.][a-zA-Z]{3,4}$/);if(V){const J=V[1];D.drawings[J].anchors.forEach(F=>{if(F.medium){const Y={type:"image",imageId:F.medium.index,range:F.range,hyperlinks:F.picture.hyperlinks};E.media.push(Y)}})}}const U=E.background&&N[E.background.rId];if(U){const V=U.Target.split("/media/")[1],J=D.mediaIndex&&D.mediaIndex[V];J!==void 0&&E.media.push({type:"background",imageId:J})}E.tables=(E.tables||[]).map(V=>{const J=N[V.rId];return D.tables[J.Target]}),delete E.relationships,delete E.hyperlinks,delete E.comments}}x.WORKSHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac"},n.exports=x},{"../../../utils/col-cache":19,"../../../utils/under-dash":26,"../../../utils/xml-stream":28,"../../rel-type":31,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":72,"./cf/conditional-formattings-xform":87,"./col-xform":92,"./data-validations-xform":93,"./dimension-xform":94,"./drawing-xform":95,"./ext-lst-xform":96,"./header-footer-xform":97,"./hyperlink-xform":98,"./merge-cell-xform":99,"./merges":100,"./page-margins-xform":103,"./page-setup-xform":105,"./picture-xform":106,"./print-options-xform":107,"./row-breaks-xform":108,"./row-xform":109,"./sheet-format-properties-xform":110,"./sheet-properties-xform":111,"./sheet-protection-xform":112,"./sheet-view-xform":113,"./table-part-xform":114}],116:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{constructor(s){super(),this.tag=s.tag,this.attr=s.attr}render(s,u){u&&(s.openNode(this.tag),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.model=!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],117:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this._format=s.format||function(u){try{return Number.isNaN(u.getTime())?"":u.toISOString()}catch{return""}},this._parse=s.parse||function(u){return new Date(u)}}render(s,u){u&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,this._format(u)):s.writeText(this._format(u)),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=this._parse(s.attributes[this.attr]):this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this._parse(this.text.join(""))),!1}}},{"../base-xform":32}],118:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs,this.zero=s.zero}render(s,u){(u||this.zero)&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,u):s.writeText(u),s.closeNode())}parseOpen(s){return s.name===this.tag&&(this.attr?this.model=parseInt(s.attributes[this.attr],10):this.text=[],!0)}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=parseInt(this.text.join("")||0,10)),!1}}},{"../base-xform":32}],119:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{constructor(s){super(),this.tag=s.tag,this.attr=s.attr,this.attrs=s.attrs}render(s,u){u!==void 0&&(s.openNode(this.tag),this.attrs&&s.addAttributes(this.attrs),this.attr?s.addAttribute(this.attr,u):s.writeText(u),s.closeNode())}parseOpen(s){s.name===this.tag&&(this.attr?this.model=s.attributes[this.attr]:this.text=[])}parseText(s){this.attr||this.text.push(s)}parseClose(){return this.attr||(this.model=this.text.join("")),!1}}},{"../base-xform":32}],120:[function(e,n,l){const i=e("./base-xform"),s=e("../../utils/xml-stream");n.exports=class extends i{constructor(u){super(),this._model=u}render(u){if(!this._xml){const a=new s;(function o(c,f){c.openNode(f.tag,f.$),f.c&&f.c.forEach(h=>{o(c,h)}),f.t&&c.writeText(f.t),c.closeNode()})(a,this._model),this._xml=a.xml}u.writeXml(this._xml)}parseOpen(){return!0}parseText(){}parseClose(u){switch(u){case this._model.tag:return!1;default:return!0}}}},{"../../utils/xml-stream":28,"./base-xform":32}],121:[function(e,n,l){const i=e("./text-xform"),s=e("./rich-text-xform"),u=e("../base-xform");n.exports=class extends u{constructor(){super(),this.map={r:new s,t:new i}}get tag(){return"rPh"}render(a,o){if(a.openNode(this.tag,{sb:o.sb||0,eb:o.eb||0}),o&&o.hasOwnProperty("richText")&&o.richText){const{r:c}=this.map;o.richText.forEach(f=>{c.render(a,f)})}else o&&this.map.t.render(a,o.text);a.closeNode()}parseOpen(a){const{name:o}=a;return this.parser?(this.parser.parseOpen(a),!0):o===this.tag?(this.model={sb:parseInt(a.attributes.sb,10),eb:parseInt(a.attributes.eb,10)},!0):(this.parser=this.map[o],!!this.parser&&(this.parser.parseOpen(a),!0))}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser){if(!this.parser.parseClose(a)){switch(a){case"r":{let o=this.model.richText;o||(o=this.model.richText=[]),o.push(this.parser.model);break}case"t":this.model.text=this.parser.model}this.parser=void 0}return!0}switch(a){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./rich-text-xform":122,"./text-xform":125}],122:[function(e,n,l){const i=e("./text-xform"),s=e("../style/font-xform"),u=e("../base-xform");class a extends u{constructor(c){super(),this.model=c}get tag(){return"r"}get textXform(){return this._textXform||(this._textXform=new i)}get fontXform(){return this._fontXform||(this._fontXform=new s(a.FONT_OPTIONS))}render(c,f){f=f||this.model,c.openNode("r"),f.font&&this.fontXform.render(c,f.font),this.textXform.render(c,f.text),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case"r":return this.model={},!0;case"t":return this.parser=this.textXform,this.parser.parseOpen(c),!0;case"rPr":return this.parser=this.fontXform,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){switch(c){case"r":return!1;case"t":return this.model.text=this.parser.model,this.parser=void 0,!0;case"rPr":return this.model.font=this.parser.model,this.parser=void 0,!0;default:return this.parser&&this.parser.parseClose(c),!0}}}a.FONT_OPTIONS={tagName:"rPr",fontNameTag:"rFont"},n.exports=a},{"../base-xform":32,"../style/font-xform":131,"./text-xform":125}],123:[function(e,n,l){const i=e("./text-xform"),s=e("./rich-text-xform"),u=e("./phonetic-text-xform"),a=e("../base-xform");n.exports=class extends a{constructor(o){super(),this.model=o,this.map={r:new s,t:new i,rPh:new u}}get tag(){return"si"}render(o,c){o.openNode(this.tag),c&&c.hasOwnProperty("richText")&&c.richText?c.richText.length?c.richText.forEach(f=>{this.map.r.render(o,f)}):this.map.t.render(o,""):c!=null&&this.map.t.render(o,c),o.closeNode()}parseOpen(o){const{name:c}=o;return this.parser?(this.parser.parseOpen(o),!0):c===this.tag?(this.model={},!0):(this.parser=this.map[c],!!this.parser&&(this.parser.parseOpen(o),!0))}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser){if(!this.parser.parseClose(o)){switch(o){case"r":{let c=this.model.richText;c||(c=this.model.richText=[]),c.push(this.parser.model);break}case"t":this.model=this.parser.model}this.parser=void 0}return!0}switch(o){case this.tag:return!1;default:return!0}}}},{"../base-xform":32,"./phonetic-text-xform":121,"./rich-text-xform":122,"./text-xform":125}],124:[function(e,n,l){const i=e("../../../utils/xml-stream"),s=e("../base-xform"),u=e("./shared-string-xform");n.exports=class extends s{constructor(a){super(),this.model=a||{values:[],count:0},this.hash=Object.create(null),this.rich=Object.create(null)}get sharedStringXform(){return this._sharedStringXform||(this._sharedStringXform=new u)}get values(){return this.model.values}get uniqueCount(){return this.model.values.length}get count(){return this.model.count}getString(a){return this.model.values[a]}add(a){return a.richText?this.addRichText(a):this.addText(a)}addText(a){let o=this.hash[a];return o===void 0&&(o=this.hash[a]=this.model.values.length,this.model.values.push(a)),this.model.count++,o}addRichText(a){const o=this.sharedStringXform.toXml(a);let c=this.rich[o];return c===void 0&&(c=this.rich[o]=this.model.values.length,this.model.values.push(a)),this.model.count++,c}render(a,o){o=o||this._values,a.openXml(i.StdDocAttributes),a.openNode("sst",{xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main",count:o.count,uniqueCount:o.values.length});const c=this.sharedStringXform;o.values.forEach(f=>{c.render(a,f)}),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"sst":return!0;case"si":return this.parser=this.sharedStringXform,this.parser.parseOpen(a),!0;default:throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(a))}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){if(this.parser)return this.parser.parseClose(a)||(this.model.values.push(this.parser.model),this.model.count++,this.parser=void 0),!0;switch(a){case"sst":return!1;default:throw new Error("Unexpected xml node in parseClose: "+a)}}}},{"../../../utils/xml-stream":28,"../base-xform":32,"./shared-string-xform":123}],125:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"t"}render(s,u){s.openNode("t"),/^\s|\n|\s$/.test(u)&&s.addAttribute("xml:space","preserve"),s.writeText(u),s.closeNode()}get model(){return this._text.join("").replace(/_x([0-9A-F]{4})_/g,(s,u)=>String.fromCharCode(parseInt(u,16)))}parseOpen(s){switch(s.name){case"t":return this._text=[],!0;default:return!1}}parseText(s){this._text.push(s)}parseClose(){return!1}}},{"../base-xform":32}],126:[function(e,n,l){const i=e("../../../doc/enums"),s=e("../../../utils/utils"),u=e("../base-xform"),a={horizontalValues:["left","center","right","fill","centerContinuous","distributed","justify"].reduce((c,f)=>(c[f]=!0,c),{}),horizontal(c){return this.horizontalValues[c]?c:void 0},verticalValues:["top","middle","bottom","distributed","justify"].reduce((c,f)=>(c[f]=!0,c),{}),vertical(c){return c==="middle"?"center":this.verticalValues[c]?c:void 0},wrapText:c=>!!c||void 0,shrinkToFit:c=>!!c||void 0,textRotation(c){switch(c){case"vertical":return c;default:return(c=s.validInt(c))>=-90&&c<=90?c:void 0}},indent:c=>(c=s.validInt(c),Math.max(0,c)),readingOrder(c){switch(c){case"ltr":return i.ReadingOrder.LeftToRight;case"rtl":return i.ReadingOrder.RightToLeft;default:return}}},o={toXml(c){if(c=a.textRotation(c)){if(c==="vertical")return 255;const f=Math.round(c);if(f>=0&&f<=90)return f;if(f<0&&f>=-90)return 90-f}},toModel(c){const f=s.validInt(c);if(f!==void 0){if(f===255)return"vertical";if(f>=0&&f<=90)return f;if(f>90&&f<=180)return 90-f}}};n.exports=class extends u{get tag(){return"alignment"}render(c,f){c.addRollback(),c.openNode("alignment");let h=!1;function d(y,b){b&&(c.addAttribute(y,b),h=!0)}d("horizontal",a.horizontal(f.horizontal)),d("vertical",a.vertical(f.vertical)),d("wrapText",!!a.wrapText(f.wrapText)&&"1"),d("shrinkToFit",!!a.shrinkToFit(f.shrinkToFit)&&"1"),d("indent",a.indent(f.indent)),d("textRotation",o.toXml(f.textRotation)),d("readingOrder",a.readingOrder(f.readingOrder)),c.closeNode(),h?c.commit():c.rollback()}parseOpen(c){const f={};let h=!1;function d(y,b,m){y&&(f[b]=m,h=!0)}d(c.attributes.horizontal,"horizontal",c.attributes.horizontal),d(c.attributes.vertical,"vertical",c.attributes.vertical==="center"?"middle":c.attributes.vertical),d(c.attributes.wrapText,"wrapText",s.parseBoolean(c.attributes.wrapText)),d(c.attributes.shrinkToFit,"shrinkToFit",s.parseBoolean(c.attributes.shrinkToFit)),d(c.attributes.indent,"indent",parseInt(c.attributes.indent,10)),d(c.attributes.textRotation,"textRotation",o.toModel(c.attributes.textRotation)),d(c.attributes.readingOrder,"readingOrder",c.attributes.readingOrder==="2"?"rtl":"ltr"),this.model=h?f:null}parseText(){}parseClose(){return!1}}},{"../../../doc/enums":7,"../../../utils/utils":27,"../base-xform":32}],127:[function(e,n,l){const i=e("../base-xform"),s=e("../../../utils/utils"),u=e("./color-xform");class a extends i{constructor(c){super(),this.name=c,this.map={color:new u}}get tag(){return this.name}render(c,f,h){const d=f&&f.color||h||this.defaultColor;c.openNode(this.name),f&&f.style&&(c.addAttribute("style",f.style),d&&this.map.color.render(c,d)),c.closeNode()}parseOpen(c){if(this.parser)return this.parser.parseOpen(c),!0;switch(c.name){case this.name:{const{style:f}=c.attributes;return this.model=f?{style:f}:void 0,!0}case"color":return this.parser=this.map.color,this.parser.parseOpen(c),!0;default:return!1}}parseText(c){this.parser&&this.parser.parseText(c)}parseClose(c){return this.parser?(this.parser.parseClose(c)||(this.parser=void 0),!0):(c===this.name&&this.map.color.model&&(this.model||(this.model={}),this.model.color=this.map.color.model),!1)}validStyle(c){return a.validStyleValues[c]}}a.validStyleValues=["thin","dashed","dotted","dashDot","hair","dashDotDot","slantDashDot","mediumDashed","mediumDashDotDot","mediumDashDot","medium","double","thick"].reduce((o,c)=>(o[c]=!0,o),{}),n.exports=class extends i{constructor(){super(),this.map={top:new a("top"),left:new a("left"),bottom:new a("bottom"),right:new a("right"),diagonal:new a("diagonal")}}render(o,c){const{color:f}=c;function h(d,y){d&&!d.color&&c.color&&(d={...d,color:c.color}),y.render(o,d,f)}o.openNode("border"),c.diagonal&&c.diagonal.style&&(c.diagonal.up&&o.addAttribute("diagonalUp","1"),c.diagonal.down&&o.addAttribute("diagonalDown","1")),h(c.left,this.map.left),h(c.right,this.map.right),h(c.top,this.map.top),h(c.bottom,this.map.bottom),h(c.diagonal,this.map.diagonal),o.closeNode()}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;switch(o.name){case"border":return this.reset(),this.diagonalUp=s.parseBoolean(o.attributes.diagonalUp),this.diagonalDown=s.parseBoolean(o.attributes.diagonalDown),!0;default:return this.parser=this.map[o.name],!!this.parser&&(this.parser.parseOpen(o),!0)}}parseText(o){this.parser&&this.parser.parseText(o)}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;if(o==="border"){const c=this.model={},f=function(h,d,y){d&&(y&&Object.assign(d,y),c[h]=d)};f("left",this.map.left.model),f("right",this.map.right.model),f("top",this.map.top.model),f("bottom",this.map.bottom.model),f("diagonal",this.map.diagonal.model,{up:this.diagonalUp,down:this.diagonalDown})}return!1}}},{"../../../utils/utils":27,"../base-xform":32,"./color-xform":128}],128:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{constructor(s){super(),this.name=s||"color"}get tag(){return this.name}render(s,u){return!!u&&(s.openNode(this.name),u.argb?s.addAttribute("rgb",u.argb):u.theme!==void 0?(s.addAttribute("theme",u.theme),u.tint!==void 0&&s.addAttribute("tint",u.tint)):u.indexed!==void 0?s.addAttribute("indexed",u.indexed):s.addAttribute("auto","1"),s.closeNode(),!0)}parseOpen(s){return s.name===this.name&&(s.attributes.rgb?this.model={argb:s.attributes.rgb}:s.attributes.theme?(this.model={theme:parseInt(s.attributes.theme,10)},s.attributes.tint&&(this.model.tint=parseFloat(s.attributes.tint))):s.attributes.indexed?this.model={indexed:parseInt(s.attributes.indexed,10)}:this.model=void 0,!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],129:[function(e,n,l){const i=e("../base-xform"),s=e("./alignment-xform"),u=e("./border-xform"),a=e("./fill-xform"),o=e("./font-xform"),c=e("./numfmt-xform"),f=e("./protection-xform");n.exports=class extends i{constructor(){super(),this.map={alignment:new s,border:new u,fill:new a,font:new o,numFmt:new c,protection:new f}}get tag(){return"dxf"}render(h,d){if(h.openNode(this.tag),d.font&&this.map.font.render(h,d.font),d.numFmt&&d.numFmtId){const y={id:d.numFmtId,formatCode:d.numFmt};this.map.numFmt.render(h,y)}d.fill&&this.map.fill.render(h,d.fill),d.alignment&&this.map.alignment.render(h,d.alignment),d.border&&this.map.border.render(h,d.border),d.protection&&this.map.protection.render(h,d.protection),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case this.tag:return this.reset(),!0;default:return this.parser=this.map[h.name],this.parser&&this.parser.parseOpen(h),!0}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return this.parser?(this.parser.parseClose(h)||(this.parser=void 0),!0):h!==this.tag||(this.model={alignment:this.map.alignment.model,border:this.map.border.model,fill:this.map.fill.model,font:this.map.font.model,numFmt:this.map.numFmt.model,protection:this.map.protection.model},!1)}}},{"../base-xform":32,"./alignment-xform":126,"./border-xform":127,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./protection-xform":133}],130:[function(e,n,l){const i=e("../base-xform"),s=e("./color-xform");class u extends i{constructor(){super(),this.map={color:new s}}get tag(){return"stop"}render(h,d){h.openNode("stop"),h.addAttribute("position",d.position),this.map.color.render(h,d.color),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"stop":return this.model={position:parseFloat(h.attributes.position)},!0;case"color":return this.parser=this.map.color,this.parser.parseOpen(h),!0;default:return!1}}parseText(){}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.color=this.parser.model,this.parser=void 0),!0)}}class a extends i{constructor(){super(),this.map={fgColor:new s("fgColor"),bgColor:new s("bgColor")}}get name(){return"pattern"}get tag(){return"patternFill"}render(h,d){h.openNode("patternFill"),h.addAttribute("patternType",d.pattern),d.fgColor&&this.map.fgColor.render(h,d.fgColor),d.bgColor&&this.map.bgColor.render(h,d.bgColor),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"patternFill":return this.model={type:"pattern",pattern:h.attributes.patternType},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.parser.model&&(this.model[h]=this.parser.model),this.parser=void 0),!0)}}class o extends i{constructor(){super(),this.map={stop:new u}}get name(){return"gradient"}get tag(){return"gradientFill"}render(h,d){switch(h.openNode("gradientFill"),d.gradient){case"angle":h.addAttribute("degree",d.degree);break;case"path":h.addAttribute("type","path"),d.center.left&&(h.addAttribute("left",d.center.left),d.center.right===void 0&&h.addAttribute("right",d.center.left)),d.center.right&&h.addAttribute("right",d.center.right),d.center.top&&(h.addAttribute("top",d.center.top),d.center.bottom===void 0&&h.addAttribute("bottom",d.center.top)),d.center.bottom&&h.addAttribute("bottom",d.center.bottom)}const y=this.map.stop;d.stops.forEach(b=>{y.render(h,b)}),h.closeNode()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"gradientFill":{const d=this.model={stops:[]};return h.attributes.degree?(d.gradient="angle",d.degree=parseInt(h.attributes.degree,10)):h.attributes.type==="path"&&(d.gradient="path",d.center={left:h.attributes.left?parseFloat(h.attributes.left):0,top:h.attributes.top?parseFloat(h.attributes.top):0},h.attributes.right!==h.attributes.left&&(d.center.right=h.attributes.right?parseFloat(h.attributes.right):0),h.attributes.bottom!==h.attributes.top&&(d.center.bottom=h.attributes.bottom?parseFloat(h.attributes.bottom):0)),!0}case"stop":return this.parser=this.map.stop,this.parser.parseOpen(h),!0;default:return!1}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model.stops.push(this.parser.model),this.parser=void 0),!0)}}class c extends i{constructor(){super(),this.map={patternFill:new a,gradientFill:new o}}get tag(){return"fill"}render(h,d){switch(h.addRollback(),h.openNode("fill"),d.type){case"pattern":this.map.patternFill.render(h,d);break;case"gradient":this.map.gradientFill.render(h,d);break;default:return void h.rollback()}h.closeNode(),h.commit()}parseOpen(h){if(this.parser)return this.parser.parseOpen(h),!0;switch(h.name){case"fill":return this.model={},!0;default:return this.parser=this.map[h.name],!!this.parser&&(this.parser.parseOpen(h),!0)}}parseText(h){this.parser&&this.parser.parseText(h)}parseClose(h){return!!this.parser&&(this.parser.parseClose(h)||(this.model=this.parser.model,this.model.type=this.parser.name,this.parser=void 0),!0)}validStyle(h){return c.validPatternValues[h]}}c.validPatternValues=["none","solid","darkVertical","darkGray","mediumGray","lightGray","gray125","gray0625","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","lightGrid"].reduce((f,h)=>(f[h]=!0,f),{}),c.StopXform=u,c.PatternFillXform=a,c.GradientFillXform=o,n.exports=c},{"../base-xform":32,"./color-xform":128}],131:[function(e,n,l){const i=e("./color-xform"),s=e("../simple/boolean-xform"),u=e("../simple/integer-xform"),a=e("../simple/string-xform"),o=e("./underline-xform"),c=e("../../../utils/under-dash"),f=e("../base-xform");class h extends f{constructor(y){super(),this.options=y||h.OPTIONS,this.map={b:{prop:"bold",xform:new s({tag:"b",attr:"val"})},i:{prop:"italic",xform:new s({tag:"i",attr:"val"})},u:{prop:"underline",xform:new o},charset:{prop:"charset",xform:new u({tag:"charset",attr:"val"})},color:{prop:"color",xform:new i},condense:{prop:"condense",xform:new s({tag:"condense",attr:"val"})},extend:{prop:"extend",xform:new s({tag:"extend",attr:"val"})},family:{prop:"family",xform:new u({tag:"family",attr:"val"})},outline:{prop:"outline",xform:new s({tag:"outline",attr:"val"})},vertAlign:{prop:"vertAlign",xform:new a({tag:"vertAlign",attr:"val"})},scheme:{prop:"scheme",xform:new a({tag:"scheme",attr:"val"})},shadow:{prop:"shadow",xform:new s({tag:"shadow",attr:"val"})},strike:{prop:"strike",xform:new s({tag:"strike",attr:"val"})},sz:{prop:"size",xform:new u({tag:"sz",attr:"val"})}},this.map[this.options.fontNameTag]={prop:"name",xform:new a({tag:this.options.fontNameTag,attr:"val"})}}get tag(){return this.options.tagName}render(y,b){const{map:m}=this;y.openNode(this.options.tagName),c.each(this.map,(g,p)=>{m[p].xform.render(y,b[g.prop])}),y.closeNode()}parseOpen(y){if(this.parser)return this.parser.parseOpen(y),!0;if(this.map[y.name])return this.parser=this.map[y.name].xform,this.parser.parseOpen(y);switch(y.name){case this.options.tagName:return this.model={},!0;default:return!1}}parseText(y){this.parser&&this.parser.parseText(y)}parseClose(y){if(this.parser&&!this.parser.parseClose(y)){const b=this.map[y];return this.parser.model&&(this.model[b.prop]=this.parser.model),this.parser=void 0,!0}switch(y){case this.options.tagName:return!1;default:return!0}}}h.OPTIONS={tagName:"font",fontNameTag:"name"},n.exports=h},{"../../../utils/under-dash":26,"../base-xform":32,"../simple/boolean-xform":116,"../simple/integer-xform":118,"../simple/string-xform":119,"./color-xform":128,"./underline-xform":136}],132:[function(e,n,l){const i=e("../../../utils/under-dash"),s=e("../../defaultnumformats"),u=e("../base-xform"),a=function(){const c={};return i.each(s,(f,h)=>{f.f&&(c[f.f]=parseInt(h,10))}),c}();class o extends u{constructor(f,h){super(),this.id=f,this.formatCode=h}get tag(){return"numFmt"}render(f,h){f.leafNode("numFmt",{numFmtId:h.id,formatCode:h.formatCode})}parseOpen(f){switch(f.name){case"numFmt":return this.model={id:parseInt(f.attributes.numFmtId,10),formatCode:f.attributes.formatCode.replace(/[\\](.)/g,"$1")},!0;default:return!1}}parseText(){}parseClose(){return!1}}o.getDefaultFmtId=function(c){return a[c]},o.getDefaultFmtCode=function(c){return s[c]&&s[c].f},n.exports=o},{"../../../utils/under-dash":26,"../../defaultnumformats":30,"../base-xform":32}],133:[function(e,n,l){const i=e("../base-xform"),s={boolean:(u,a)=>u===void 0?a:u};n.exports=class extends i{get tag(){return"protection"}render(u,a){u.addRollback(),u.openNode("protection");let o=!1;function c(f,h){h!==void 0&&(u.addAttribute(f,h),o=!0)}c("locked",s.boolean(a.locked,!0)?void 0:"0"),c("hidden",s.boolean(a.hidden,!1)?"1":void 0),u.closeNode(),o?u.commit():u.rollback()}parseOpen(u){const a={locked:u.attributes.locked!=="0",hidden:u.attributes.hidden==="1"},o=!a.locked||a.hidden;this.model=o?a:null}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],134:[function(e,n,l){const i=e("../base-xform"),s=e("./alignment-xform"),u=e("./protection-xform");n.exports=class extends i{constructor(a){super(),this.xfId=!(!a||!a.xfId),this.map={alignment:new s,protection:new u}}get tag(){return"xf"}render(a,o){a.openNode("xf",{numFmtId:o.numFmtId||0,fontId:o.fontId||0,fillId:o.fillId||0,borderId:o.borderId||0}),this.xfId&&a.addAttribute("xfId",o.xfId||0),o.numFmtId&&a.addAttribute("applyNumberFormat","1"),o.fontId&&a.addAttribute("applyFont","1"),o.fillId&&a.addAttribute("applyFill","1"),o.borderId&&a.addAttribute("applyBorder","1"),o.alignment&&a.addAttribute("applyAlignment","1"),o.protection&&a.addAttribute("applyProtection","1"),o.alignment&&this.map.alignment.render(a,o.alignment),o.protection&&this.map.protection.render(a,o.protection),a.closeNode()}parseOpen(a){if(this.parser)return this.parser.parseOpen(a),!0;switch(a.name){case"xf":return this.model={numFmtId:parseInt(a.attributes.numFmtId,10),fontId:parseInt(a.attributes.fontId,10),fillId:parseInt(a.attributes.fillId,10),borderId:parseInt(a.attributes.borderId,10)},this.xfId&&(this.model.xfId=parseInt(a.attributes.xfId,10)),!0;case"alignment":return this.parser=this.map.alignment,this.parser.parseOpen(a),!0;case"protection":return this.parser=this.map.protection,this.parser.parseOpen(a),!0;default:return!1}}parseText(a){this.parser&&this.parser.parseText(a)}parseClose(a){return this.parser?(this.parser.parseClose(a)||(this.map.protection===this.parser?this.model.protection=this.parser.model:this.model.alignment=this.parser.model,this.parser=void 0),!0):a!=="xf"}}},{"../base-xform":32,"./alignment-xform":126,"./protection-xform":133}],135:[function(e,n,l){const i=e("../../../doc/enums"),s=e("../../../utils/xml-stream"),u=e("../base-xform"),a=e("../static-xform"),o=e("../list-xform"),c=e("./font-xform"),f=e("./fill-xform"),h=e("./border-xform"),d=e("./numfmt-xform"),y=e("./style-xform"),b=e("./dxf-xform");class m extends u{constructor(p){super(),this.map={numFmts:new o({tag:"numFmts",count:!0,childXform:new d}),fonts:new o({tag:"fonts",count:!0,childXform:new c,$:{"x14ac:knownFonts":1}}),fills:new o({tag:"fills",count:!0,childXform:new f}),borders:new o({tag:"borders",count:!0,childXform:new h}),cellStyleXfs:new o({tag:"cellStyleXfs",count:!0,childXform:new y}),cellXfs:new o({tag:"cellXfs",count:!0,childXform:new y({xfId:!0})}),dxfs:new o({tag:"dxfs",always:!0,count:!0,childXform:new b}),numFmt:new d,font:new c,fill:new f,border:new h,style:new y({xfId:!0}),cellStyles:m.STATIC_XFORMS.cellStyles,tableStyles:m.STATIC_XFORMS.tableStyles,extLst:m.STATIC_XFORMS.extLst},p&&this.init()}initIndex(){this.index={style:{},numFmt:{},numFmtNextId:164,font:{},border:{},fill:{}}}init(){this.model={styles:[],numFmts:[],fonts:[],borders:[],fills:[],dxfs:[]},this.initIndex(),this._addBorder({}),this._addStyle({numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}),this._addFill({type:"pattern",pattern:"none"}),this._addFill({type:"pattern",pattern:"gray125"}),this.weakMap=new WeakMap}render(p,v){v=v||this.model,p.openXml(s.StdDocAttributes),p.openNode("styleSheet",m.STYLESHEET_ATTRIBUTES),this.index?(v.numFmts&&v.numFmts.length&&(p.openNode("numFmts",{count:v.numFmts.length}),v.numFmts.forEach(C=>{p.writeXml(C)}),p.closeNode()),v.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),p.openNode("fonts",{count:v.fonts.length,"x14ac:knownFonts":1}),v.fonts.forEach(C=>{p.writeXml(C)}),p.closeNode(),p.openNode("fills",{count:v.fills.length}),v.fills.forEach(C=>{p.writeXml(C)}),p.closeNode(),p.openNode("borders",{count:v.borders.length}),v.borders.forEach(C=>{p.writeXml(C)}),p.closeNode(),this.map.cellStyleXfs.render(p,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),p.openNode("cellXfs",{count:v.styles.length}),v.styles.forEach(C=>{p.writeXml(C)}),p.closeNode()):(this.map.numFmts.render(p,v.numFmts),this.map.fonts.render(p,v.fonts),this.map.fills.render(p,v.fills),this.map.borders.render(p,v.borders),this.map.cellStyleXfs.render(p,[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}]),this.map.cellXfs.render(p,v.styles)),m.STATIC_XFORMS.cellStyles.render(p),this.map.dxfs.render(p,v.dxfs),m.STATIC_XFORMS.tableStyles.render(p),m.STATIC_XFORMS.extLst.render(p),p.closeNode()}parseOpen(p){if(this.parser)return this.parser.parseOpen(p),!0;switch(p.name){case"styleSheet":return this.initIndex(),!0;default:return this.parser=this.map[p.name],this.parser&&this.parser.parseOpen(p),!0}}parseText(p){this.parser&&this.parser.parseText(p)}parseClose(p){if(this.parser)return this.parser.parseClose(p)||(this.parser=void 0),!0;switch(p){case"styleSheet":{this.model={};const v=(C,j)=>{j.model&&j.model.length&&(this.model[C]=j.model)};if(v("numFmts",this.map.numFmts),v("fonts",this.map.fonts),v("fills",this.map.fills),v("borders",this.map.borders),v("styles",this.map.cellXfs),v("dxfs",this.map.dxfs),this.index={model:[],numFmt:[]},this.model.numFmts){const C=this.index.numFmt;this.model.numFmts.forEach(j=>{C[j.id]=j.formatCode})}return!1}default:return!0}}addStyleModel(p,v){if(!p)return 0;if(this.model.fonts.length||this._addFont({size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}),this.weakMap&&this.weakMap.has(p))return this.weakMap.get(p);const C={};if(v=v||i.ValueType.Number,p.numFmt)C.numFmtId=this._addNumFmtStr(p.numFmt);else switch(v){case i.ValueType.Number:C.numFmtId=this._addNumFmtStr("General");break;case i.ValueType.Date:C.numFmtId=this._addNumFmtStr("mm-dd-yy")}p.font&&(C.fontId=this._addFont(p.font)),p.border&&(C.borderId=this._addBorder(p.border)),p.fill&&(C.fillId=this._addFill(p.fill)),p.alignment&&(C.alignment=p.alignment),p.protection&&(C.protection=p.protection);const j=this._addStyle(C);return this.weakMap&&this.weakMap.set(p,j),j}getStyleModel(p){const v=this.model.styles[p];if(!v)return null;let C=this.index.model[p];if(C)return C;if(C=this.index.model[p]={},v.numFmtId){const L=this.index.numFmt[v.numFmtId]||d.getDefaultFmtCode(v.numFmtId);L&&(C.numFmt=L)}function j(L,$,M){if(M||M===0){const z=$[M];z&&(C[L]=z)}}return j("font",this.model.fonts,v.fontId),j("border",this.model.borders,v.borderId),j("fill",this.model.fills,v.fillId),v.alignment&&(C.alignment=v.alignment),v.protection&&(C.protection=v.protection),C}addDxfStyle(p){return p.numFmt&&(p.numFmtId=this._addNumFmtStr(p.numFmt)),this.model.dxfs.push(p),this.model.dxfs.length-1}getDxfStyle(p){return this.model.dxfs[p]}_addStyle(p){const v=this.map.style.toXml(p);let C=this.index.style[v];return C===void 0&&(C=this.index.style[v]=this.model.styles.length,this.model.styles.push(v)),C}_addNumFmtStr(p){let v=d.getDefaultFmtId(p);if(v!==void 0||(v=this.index.numFmt[p],v!==void 0))return v;v=this.index.numFmt[p]=164+this.model.numFmts.length;const C=this.map.numFmt.toXml({id:v,formatCode:p});return this.model.numFmts.push(C),v}_addFont(p){const v=this.map.font.toXml(p);let C=this.index.font[v];return C===void 0&&(C=this.index.font[v]=this.model.fonts.length,this.model.fonts.push(v)),C}_addBorder(p){const v=this.map.border.toXml(p);let C=this.index.border[v];return C===void 0&&(C=this.index.border[v]=this.model.borders.length,this.model.borders.push(v)),C}_addFill(p){const v=this.map.fill.toXml(p);let C=this.index.fill[v];return C===void 0&&(C=this.index.fill[v]=this.model.fills.length,this.model.fills.push(v)),C}}m.STYLESHEET_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"x14ac x16r2","xmlns:x14ac":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac","xmlns:x16r2":"http://schemas.microsoft.com/office/spreadsheetml/2015/02/main"},m.STATIC_XFORMS={cellStyles:new a({tag:"cellStyles",$:{count:1},c:[{tag:"cellStyle",$:{name:"Normal",xfId:0,builtinId:0}}]}),dxfs:new a({tag:"dxfs",$:{count:0}}),tableStyles:new a({tag:"tableStyles",$:{count:0,defaultTableStyle:"TableStyleMedium2",defaultPivotStyle:"PivotStyleLight16"}}),extLst:new a({tag:"extLst",c:[{tag:"ext",$:{uri:"{EB79DEF2-80B8-43e5-95BD-54CBDDF9020C}","xmlns:x14":"http://schemas.microsoft.com/office/spreadsheetml/2009/9/main"},c:[{tag:"x14:slicerStyles",$:{defaultSlicerStyle:"SlicerStyleLight1"}}]},{tag:"ext",$:{uri:"{9260A510-F301-46a8-8635-F512D64BE5F5}","xmlns:x15":"http://schemas.microsoft.com/office/spreadsheetml/2010/11/main"},c:[{tag:"x15:timelineStyles",$:{defaultTimelineStyle:"TimeSlicerStyleLight1"}}]}]})},m.Mock=class extends m{constructor(){super(),this.model={styles:[{numFmtId:0,fontId:0,fillId:0,borderId:0,xfId:0}],numFmts:[],fonts:[{size:11,color:{theme:1},name:"Calibri",family:2,scheme:"minor"}],borders:[{}],fills:[{type:"pattern",pattern:"none"},{type:"pattern",pattern:"gray125"}]}}parseStream(g){return g.autodrain(),Promise.resolve()}addStyleModel(g,p){switch(p){case i.ValueType.Date:return this.dateStyleId;default:return 0}}get dateStyleId(){if(!this._dateStyleId){const g={numFmtId:d.getDefaultFmtId("mm-dd-yy")};this._dateStyleId=this.model.styles.length,this.model.styles.push(g)}return this._dateStyleId}getStyleModel(){return{}}},n.exports=m},{"../../../doc/enums":7,"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"../static-xform":120,"./border-xform":127,"./dxf-xform":129,"./fill-xform":130,"./font-xform":131,"./numfmt-xform":132,"./style-xform":134}],136:[function(e,n,l){const i=e("../base-xform");class s extends i{constructor(a){super(),this.model=a}get tag(){return"u"}render(a,o){if((o=o||this.model)===!0)a.leafNode("u");else{const c=s.Attributes[o];c&&a.leafNode("u",c)}}parseOpen(a){a.name==="u"&&(this.model=a.attributes.val||!0)}parseText(){}parseClose(){return!1}}s.Attributes={single:{},double:{val:"double"},singleAccounting:{val:"singleAccounting"},doubleAccounting:{val:"doubleAccounting"}},n.exports=s},{"../base-xform":32}],137:[function(e,n,l){const i=e("../base-xform"),s=e("./filter-column-xform");n.exports=class extends i{constructor(){super(),this.map={filterColumn:new s}}get tag(){return"autoFilter"}prepare(u){u.columns.forEach((a,o)=>{this.map.filterColumn.prepare(a,{index:o})})}render(u,a){return u.openNode(this.tag,{ref:a.autoFilterRef}),a.columns.forEach(o=>{this.map.filterColumn.render(u,o)}),u.closeNode(),!0}parseOpen(u){if(this.parser)return this.parser.parseOpen(u),!0;switch(u.name){case this.tag:return this.model={autoFilterRef:u.attributes.ref,columns:[]},!0;default:if(this.parser=this.map[u.name],this.parser)return this.parseOpen(u),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(u))}}parseText(u){this.parser&&this.parser.parseText(u)}parseClose(u){if(this.parser)return this.parser.parseClose(u)||(this.model.columns.push(this.parser.model),this.parser=void 0),!0;switch(u){case this.tag:return!1;default:throw new Error("Unexpected xml node in parseClose: "+u)}}}},{"../base-xform":32,"./filter-column-xform":139}],138:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"customFilter"}render(s,u){s.leafNode(this.tag,{val:u.val,operator:u.operator})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val,operator:s.attributes.operator},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],139:[function(e,n,l){const i=e("../base-xform"),s=e("../list-xform"),u=e("./custom-filter-xform"),a=e("./filter-xform");n.exports=class extends i{constructor(){super(),this.map={customFilters:new s({tag:"customFilters",count:!1,empty:!0,childXform:new u}),filters:new s({tag:"filters",count:!1,empty:!0,childXform:new a})}}get tag(){return"filterColumn"}prepare(o,c){o.colId=c.index.toString()}render(o,c){return c.customFilters?(o.openNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),this.map.customFilters.render(o,c.customFilters),o.closeNode(),!0):(o.leafNode(this.tag,{colId:c.colId,hiddenButton:c.filterButton?"0":"1"}),!0)}parseOpen(o){if(this.parser)return this.parser.parseOpen(o),!0;const{attributes:c}=o;switch(o.name){case this.tag:return this.model={filterButton:c.hiddenButton==="0"},!0;default:if(this.parser=this.map[o.name],this.parser)return this.parseOpen(o),!0;throw new Error("Unexpected xml node in parseOpen: "+JSON.stringify(o))}}parseText(){}parseClose(o){if(this.parser)return this.parser.parseClose(o)||(this.parser=void 0),!0;switch(o){case this.tag:return this.model.customFilters=this.map.customFilters.model,!1;default:return!0}}}},{"../base-xform":32,"../list-xform":71,"./custom-filter-xform":138,"./filter-xform":140}],140:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"filter"}render(s,u){s.leafNode(this.tag,{val:u.val})}parseOpen(s){return s.name===this.tag&&(this.model={val:s.attributes.val},!0)}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],141:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableColumn"}prepare(s,u){s.id=u.index+1}render(s,u){return s.leafNode(this.tag,{id:u.id.toString(),name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:u}=s;return this.model={name:u.name,totalsRowLabel:u.totalsRowLabel,totalsRowFunction:u.totalsRowFunction,dxfId:u.dxfId},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],142:[function(e,n,l){const i=e("../base-xform");n.exports=class extends i{get tag(){return"tableStyleInfo"}render(s,u){return s.leafNode(this.tag,{name:u.theme?u.theme:void 0,showFirstColumn:u.showFirstColumn?"1":"0",showLastColumn:u.showLastColumn?"1":"0",showRowStripes:u.showRowStripes?"1":"0",showColumnStripes:u.showColumnStripes?"1":"0"}),!0}parseOpen(s){if(s.name===this.tag){const{attributes:u}=s;return this.model={theme:u.name?u.name:null,showFirstColumn:u.showFirstColumn==="1",showLastColumn:u.showLastColumn==="1",showRowStripes:u.showRowStripes==="1",showColumnStripes:u.showColumnStripes==="1"},!0}return!1}parseText(){}parseClose(){return!1}}},{"../base-xform":32}],143:[function(e,n,l){const i=e("../../../utils/xml-stream"),s=e("../base-xform"),u=e("../list-xform"),a=e("./auto-filter-xform"),o=e("./table-column-xform"),c=e("./table-style-info-xform");class f extends s{constructor(){super(),this.map={autoFilter:new a,tableColumns:new u({tag:"tableColumns",count:!0,empty:!0,childXform:new o}),tableStyleInfo:new c}}prepare(d,y){this.map.autoFilter.prepare(d),this.map.tableColumns.prepare(d.columns,y)}get tag(){return"table"}render(d,y){d.openXml(i.StdDocAttributes),d.openNode(this.tag,{...f.TABLE_ATTRIBUTES,id:y.id,name:y.name,displayName:y.displayName||y.name,ref:y.tableRef,totalsRowCount:y.totalsRow?"1":void 0,totalsRowShown:y.totalsRow?void 0:"1",headerRowCount:y.headerRow?"1":"0"}),this.map.autoFilter.render(d,y),this.map.tableColumns.render(d,y.columns),this.map.tableStyleInfo.render(d,y.style),d.closeNode()}parseOpen(d){if(this.parser)return this.parser.parseOpen(d),!0;const{name:y,attributes:b}=d;switch(y){case this.tag:this.reset(),this.model={name:b.name,displayName:b.displayName||b.name,tableRef:b.ref,totalsRow:b.totalsRowCount==="1",headerRow:b.headerRowCount==="1"};break;default:this.parser=this.map[d.name],this.parser&&this.parser.parseOpen(d)}return!0}parseText(d){this.parser&&this.parser.parseText(d)}parseClose(d){if(this.parser)return this.parser.parseClose(d)||(this.parser=void 0),!0;switch(d){case this.tag:return this.model.columns=this.map.tableColumns.model,this.map.autoFilter.model&&(this.model.autoFilterRef=this.map.autoFilter.model.autoFilterRef,this.map.autoFilter.model.columns.forEach((y,b)=>{this.model.columns[b].filterButton=y.filterButton})),this.model.style=this.map.tableStyleInfo.model,!1;default:return!0}}reconcile(d,y){d.columns.forEach(b=>{b.dxfId!==void 0&&(b.style=y.styles.getDxfStyle(b.dxfId))})}}f.TABLE_ATTRIBUTES={xmlns:"http://schemas.openxmlformats.org/spreadsheetml/2006/main","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","mc:Ignorable":"xr xr3","xmlns:xr":"http://schemas.microsoft.com/office/spreadsheetml/2014/revision","xmlns:xr3":"http://schemas.microsoft.com/office/spreadsheetml/2016/revision3"},n.exports=f},{"../../../utils/xml-stream":28,"../base-xform":32,"../list-xform":71,"./auto-filter-xform":137,"./table-column-xform":141,"./table-style-info-xform":142}],144:[function(e,n,l){(function(i,s){(function(){const u=e("fs"),a=e("jszip"),{PassThrough:o}=e("readable-stream"),c=e("../utils/zip-stream"),f=e("../utils/stream-buf"),h=e("../utils/utils"),d=e("../utils/xml-stream"),{bufferToString:y}=e("../utils/browser-buffer-decode"),b=e("./xform/style/styles-xform"),m=e("./xform/core/core-xform"),g=e("./xform/strings/shared-strings-xform"),p=e("./xform/core/relationships-xform"),v=e("./xform/core/content-types-xform"),C=e("./xform/core/app-xform"),j=e("./xform/book/workbook-xform"),L=e("./xform/sheet/worksheet-xform"),$=e("./xform/drawing/drawing-xform"),M=e("./xform/table/table-xform"),z=e("./xform/comment/comments-xform"),H=e("./xform/comment/vml-notes-xform"),q=e("./xml/theme1");class B{constructor(P){this.workbook=P}async readFile(P,k){if(!await h.fs.exists(P))throw new Error("File not found: "+P);const w=u.createReadStream(P);try{const S=await this.read(w,k);return w.close(),S}catch(S){throw w.close(),S}}parseRels(P){return new p().parseStream(P)}parseWorkbook(P){return new j().parseStream(P)}parseSharedStrings(P){return new g().parseStream(P)}reconcile(P,k){const w=new j,S=new L(k),x=new $,_=new M;w.reconcile(P);const E={media:P.media,mediaIndex:P.mediaIndex};Object.keys(P.drawings).forEach(U=>{const V=P.drawings[U],J=P.drawingRels[U];J&&(E.rels=J.reduce((F,Y)=>(F[Y.Id]=Y,F),{}),(V.anchors||[]).forEach(F=>{const Y=F.picture&&F.picture.hyperlinks;Y&&E.rels[Y.rId]&&(Y.hyperlink=E.rels[Y.rId].Target,delete Y.rId)}),x.reconcile(V,E))});const D={styles:P.styles};Object.values(P.tables).forEach(U=>{_.reconcile(U,D)});const N={styles:P.styles,sharedStrings:P.sharedStrings,media:P.media,mediaIndex:P.mediaIndex,date1904:P.properties&&P.properties.date1904,drawings:P.drawings,comments:P.comments,tables:P.tables,vmlDrawings:P.vmlDrawings};P.worksheets.forEach(U=>{U.relationships=P.worksheetRels[U.sheetNo],S.reconcile(U,N)}),delete P.worksheetHash,delete P.worksheetRels,delete P.globalRels,delete P.sharedStrings,delete P.workbookRels,delete P.sheetDefs,delete P.styles,delete P.mediaIndex,delete P.drawings,delete P.drawingRels,delete P.vmlDrawings}async _processWorksheetEntry(P,k,w,S,x){const _=new L(S),E=await _.parseStream(P);E.sheetNo=w,k.worksheetHash[x]=E,k.worksheets.push(E)}async _processCommentEntry(P,k,w){const S=new z,x=await S.parseStream(P);k.comments[`../${w}.xml`]=x}async _processTableEntry(P,k,w){const S=new M,x=await S.parseStream(P);k.tables[`../tables/${w}.xml`]=x}async _processWorksheetRelsEntry(P,k,w){const S=new p,x=await S.parseStream(P);k.worksheetRels[w]=x}async _processMediaEntry(P,k,w){const S=w.lastIndexOf(".");if(S>=1){const x=w.substr(S+1),_=w.substr(0,S);await new Promise((E,D)=>{const N=new f;N.on("finish",()=>{k.mediaIndex[w]=k.media.length,k.mediaIndex[_]=k.media.length;const U={type:"image",name:_,extension:x,buffer:N.toBuffer()};k.media.push(U),E()}),P.on("error",U=>{D(U)}),P.pipe(N)})}}async _processDrawingEntry(P,k,w){const S=new $,x=await S.parseStream(P);k.drawings[w]=x}async _processDrawingRelsEntry(P,k,w){const S=new p,x=await S.parseStream(P);k.drawingRels[w]=x}async _processVmlDrawingEntry(P,k,w){const S=new H,x=await S.parseStream(P);k.vmlDrawings[`../drawings/${w}.vml`]=x}async _processThemeEntry(P,k,w){await new Promise((S,x)=>{const _=new f;P.on("error",x),_.on("error",x),_.on("finish",()=>{k.themes[w]=_.read().toString(),S()}),P.pipe(_)})}createInputStream(){throw new Error("`XLSX#createInputStream` is deprecated. You should use `XLSX#read` instead. This method will be removed in version 5.0. Please follow upgrade instruction: https://github.com/exceljs/exceljs/blob/master/UPGRADE-4.0.md")}async read(P,k){!P[Symbol.asyncIterator]&&P.pipe&&(P=P.pipe(new o));const w=[];for await(const S of P)w.push(S);return this.load(s.concat(w),k)}async load(P,k){let w;w=k&&k.base64?s.from(P.toString(),"base64"):P;const S={worksheets:[],worksheetHash:{},worksheetRels:[],themes:{},media:[],mediaIndex:{},drawings:{},drawingRels:{},comments:{},tables:{},vmlDrawings:{}},x=await a.loadAsync(w);for(const _ of Object.values(x.files))if(!_.dir){let E,D=_.name;if(D[0]==="/"&&(D=D.substr(1)),D.match(/xl\/media\//)||D.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/))E=new o,E.write(await _.async("nodebuffer"));else{let N;E=new o({writableObjectMode:!0,readableObjectMode:!0}),N=i.browser?y(await _.async("nodebuffer")):await _.async("string");const U=16384;for(let V=0;V<N.length;V+=U)E.write(N.substring(V,V+U))}switch(E.end(),D){case"_rels/.rels":S.globalRels=await this.parseRels(E);break;case"xl/workbook.xml":{const N=await this.parseWorkbook(E);S.sheets=N.sheets,S.definedNames=N.definedNames,S.views=N.views,S.properties=N.properties,S.calcProperties=N.calcProperties;break}case"xl/_rels/workbook.xml.rels":S.workbookRels=await this.parseRels(E);break;case"xl/sharedStrings.xml":S.sharedStrings=new g,await S.sharedStrings.parseStream(E);break;case"xl/styles.xml":S.styles=new b,await S.styles.parseStream(E);break;case"docProps/app.xml":{const N=new C,U=await N.parseStream(E);S.company=U.company,S.manager=U.manager;break}case"docProps/core.xml":{const N=new m,U=await N.parseStream(E);Object.assign(S,U);break}default:{let N=D.match(/xl\/worksheets\/sheet(\d+)[.]xml/);if(N){await this._processWorksheetEntry(E,S,N[1],k,D);break}if(N=D.match(/xl\/worksheets\/_rels\/sheet(\d+)[.]xml.rels/),N){await this._processWorksheetRelsEntry(E,S,N[1]);break}if(N=D.match(/xl\/theme\/([a-zA-Z0-9]+)[.]xml/),N){await this._processThemeEntry(E,S,N[1]);break}if(N=D.match(/xl\/media\/([a-zA-Z0-9]+[.][a-zA-Z0-9]{3,4})$/),N){await this._processMediaEntry(E,S,N[1]);break}if(N=D.match(/xl\/drawings\/([a-zA-Z0-9]+)[.]xml/),N){await this._processDrawingEntry(E,S,N[1]);break}if(N=D.match(/xl\/(comments\d+)[.]xml/),N){await this._processCommentEntry(E,S,N[1]);break}if(N=D.match(/xl\/tables\/(table\d+)[.]xml/),N){await this._processTableEntry(E,S,N[1]);break}if(N=D.match(/xl\/drawings\/_rels\/([a-zA-Z0-9]+)[.]xml[.]rels/),N){await this._processDrawingRelsEntry(E,S,N[1]);break}if(N=D.match(/xl\/drawings\/(vmlDrawing\d+)[.]vml/),N){await this._processVmlDrawingEntry(E,S,N[1]);break}}}}return this.reconcile(S,k),this.workbook.model=S,this.workbook}async addMedia(P,k){await Promise.all(k.media.map(async w=>{if(w.type==="image"){const S=`xl/media/${w.name}.${w.extension}`;if(w.filename){const x=await function(_,E){return new Promise((D,N)=>{u.readFile(_,E,(U,V)=>{U?N(U):D(V)})})}(w.filename);return P.append(x,{name:S})}if(w.buffer)return P.append(w.buffer,{name:S});if(w.base64){const x=w.base64,_=x.substring(x.indexOf(",")+1);return P.append(_,{name:S,base64:!0})}}throw new Error("Unsupported media")}))}addDrawings(P,k){const w=new $,S=new p;k.worksheets.forEach(x=>{const{drawing:_}=x;if(_){w.prepare(_,{});let E=w.toXml(_);P.append(E,{name:`xl/drawings/${_.name}.xml`}),E=S.toXml(_.rels),P.append(E,{name:`xl/drawings/_rels/${_.name}.xml.rels`})}})}addTables(P,k){const w=new M;k.worksheets.forEach(S=>{const{tables:x}=S;x.forEach(_=>{w.prepare(_,{});const E=w.toXml(_);P.append(E,{name:"xl/tables/"+_.target})})})}async addContentTypes(P,k){const w=new v().toXml(k);P.append(w,{name:"[Content_Types].xml"})}async addApp(P,k){const w=new C().toXml(k);P.append(w,{name:"docProps/app.xml"})}async addCore(P,k){const w=new m;P.append(w.toXml(k),{name:"docProps/core.xml"})}async addThemes(P,k){const w=k.themes||{theme1:q};Object.keys(w).forEach(S=>{const x=w[S],_=`xl/theme/${S}.xml`;P.append(x,{name:_})})}async addOfficeRels(P){const k=new p().toXml([{Id:"rId1",Type:B.RelType.OfficeDocument,Target:"xl/workbook.xml"},{Id:"rId2",Type:B.RelType.CoreProperties,Target:"docProps/core.xml"},{Id:"rId3",Type:B.RelType.ExtenderProperties,Target:"docProps/app.xml"}]);P.append(k,{name:"_rels/.rels"})}async addWorkbookRels(P,k){let w=1;const S=[{Id:"rId"+w++,Type:B.RelType.Styles,Target:"styles.xml"},{Id:"rId"+w++,Type:B.RelType.Theme,Target:"theme/theme1.xml"}];k.sharedStrings.count&&S.push({Id:"rId"+w++,Type:B.RelType.SharedStrings,Target:"sharedStrings.xml"}),k.worksheets.forEach(_=>{_.rId="rId"+w++,S.push({Id:_.rId,Type:B.RelType.Worksheet,Target:`worksheets/sheet${_.id}.xml`})});const x=new p().toXml(S);P.append(x,{name:"xl/_rels/workbook.xml.rels"})}async addSharedStrings(P,k){k.sharedStrings&&k.sharedStrings.count&&P.append(k.sharedStrings.xml,{name:"xl/sharedStrings.xml"})}async addStyles(P,k){const{xml:w}=k.styles;w&&P.append(w,{name:"xl/styles.xml"})}async addWorkbook(P,k){const w=new j;P.append(w.toXml(k),{name:"xl/workbook.xml"})}async addWorksheets(P,k){const w=new L,S=new p,x=new z,_=new H;k.worksheets.forEach(E=>{let D=new d;w.render(D,E),P.append(D.xml,{name:`xl/worksheets/sheet${E.id}.xml`}),E.rels&&E.rels.length&&(D=new d,S.render(D,E.rels),P.append(D.xml,{name:`xl/worksheets/_rels/sheet${E.id}.xml.rels`})),E.comments.length>0&&(D=new d,x.render(D,E),P.append(D.xml,{name:`xl/comments${E.id}.xml`}),D=new d,_.render(D,E),P.append(D.xml,{name:`xl/drawings/vmlDrawing${E.id}.vml`}))})}_finalize(P){return new Promise((k,w)=>{P.on("finish",()=>{k(this)}),P.on("error",w),P.finalize()})}prepareModel(P,k){P.creator=P.creator||"ExcelJS",P.lastModifiedBy=P.lastModifiedBy||"ExcelJS",P.created=P.created||new Date,P.modified=P.modified||new Date,P.useSharedStrings=k.useSharedStrings===void 0||k.useSharedStrings,P.useStyles=k.useStyles===void 0||k.useStyles,P.sharedStrings=new g,P.styles=P.useStyles?new b(!0):new b.Mock;const w=new j,S=new L;w.prepare(P);const x={sharedStrings:P.sharedStrings,styles:P.styles,date1904:P.properties.date1904,drawingsCount:0,media:P.media};x.drawings=P.drawings=[],x.commentRefs=P.commentRefs=[];let _=0;P.tables=[],P.worksheets.forEach(E=>{E.tables.forEach(D=>{_++,D.target=`table${_}.xml`,D.id=_,P.tables.push(D)}),S.prepare(E,x)})}async write(P,k){k=k||{};const{model:w}=this.workbook,S=new c.ZipWriter(k.zip);return S.pipe(P),this.prepareModel(w,k),await this.addContentTypes(S,w),await this.addOfficeRels(S,w),await this.addWorkbookRels(S,w),await this.addWorksheets(S,w),await this.addSharedStrings(S,w),await this.addDrawings(S,w),await this.addTables(S,w),await Promise.all([this.addThemes(S,w),this.addStyles(S,w)]),await this.addMedia(S,w),await Promise.all([this.addApp(S,w),this.addCore(S,w)]),await this.addWorkbook(S,w),this._finalize(S)}writeFile(P,k){const w=u.createWriteStream(P);return new Promise((S,x)=>{w.on("finish",()=>{S()}),w.on("error",_=>{x(_)}),this.write(w,k).then(()=>{w.end()}).catch(_=>{x(_)})})}async writeBuffer(P){const k=new f;return await this.write(k,P),k.read()}}B.RelType=e("./rel-type"),n.exports=B}).call(this)}).call(this,e("_process"),e("buffer").Buffer)},{"../utils/browser-buffer-decode":16,"../utils/stream-buf":24,"../utils/utils":27,"../utils/xml-stream":28,"../utils/zip-stream":29,"./rel-type":31,"./xform/book/workbook-xform":38,"./xform/comment/comments-xform":40,"./xform/comment/vml-notes-xform":45,"./xform/core/app-xform":51,"./xform/core/content-types-xform":52,"./xform/core/core-xform":53,"./xform/core/relationships-xform":55,"./xform/drawing/drawing-xform":62,"./xform/sheet/worksheet-xform":115,"./xform/strings/shared-strings-xform":124,"./xform/style/styles-xform":135,"./xform/table/table-xform":143,"./xml/theme1":145,_process:467,buffer:220,fs:216,jszip:441,"readable-stream":491}],145:[function(e,n,l){n.exports=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme"> <a:themeElements> <a:clrScheme name="Office"> <a:dk1> <a:sysClr val="windowText" lastClr="000000"/> </a:dk1> <a:lt1> <a:sysClr val="window" lastClr="FFFFFF"/> </a:lt1> <a:dk2> <a:srgbClr val="1F497D"/> </a:dk2> <a:lt2> <a:srgbClr val="EEECE1"/> </a:lt2> <a:accent1> <a:srgbClr val="4F81BD"/> </a:accent1> <a:accent2> <a:srgbClr val="C0504D"/> </a:accent2> <a:accent3> <a:srgbClr val="9BBB59"/> </a:accent3> <a:accent4> <a:srgbClr val="8064A2"/> </a:accent4> <a:accent5> <a:srgbClr val="4BACC6"/> </a:accent5> <a:accent6> <a:srgbClr val="F79646"/> </a:accent6> <a:hlink> <a:srgbClr val="0000FF"/> </a:hlink> <a:folHlink> <a:srgbClr val="800080"/> </a:folHlink> </a:clrScheme> <a:fontScheme name="Office"> <a:majorFont> <a:latin typeface="Cambria"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Times New Roman"/> <a:font script="Hebr" typeface="Times New Roman"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="MoolBoran"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Times New Roman"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:majorFont> <a:minorFont> <a:latin typeface="Calibri"/> <a:ea typeface=""/> <a:cs typeface=""/> <a:font script="Jpan" typeface=" "/> <a:font script="Hang" typeface=" "/> <a:font script="Hans" typeface=""/> <a:font script="Hant" typeface=""/> <a:font script="Arab" typeface="Arial"/> <a:font script="Hebr" typeface="Arial"/> <a:font script="Thai" typeface="Tahoma"/> <a:font script="Ethi" typeface="Nyala"/> <a:font script="Beng" typeface="Vrinda"/> <a:font script="Gujr" typeface="Shruti"/> <a:font script="Khmr" typeface="DaunPenh"/> <a:font script="Knda" typeface="Tunga"/> <a:font script="Guru" typeface="Raavi"/> <a:font script="Cans" typeface="Euphemia"/> <a:font script="Cher" typeface="Plantagenet Cherokee"/> <a:font script="Yiii" typeface="Microsoft Yi Baiti"/> <a:font script="Tibt" typeface="Microsoft Himalaya"/> <a:font script="Thaa" typeface="MV Boli"/> <a:font script="Deva" typeface="Mangal"/> <a:font script="Telu" typeface="Gautami"/> <a:font script="Taml" typeface="Latha"/> <a:font script="Syrc" typeface="Estrangelo Edessa"/> <a:font script="Orya" typeface="Kalinga"/> <a:font script="Mlym" typeface="Kartika"/> <a:font script="Laoo" typeface="DokChampa"/> <a:font script="Sinh" typeface="Iskoola Pota"/> <a:font script="Mong" typeface="Mongolian Baiti"/> <a:font script="Viet" typeface="Arial"/> <a:font script="Uigh" typeface="Microsoft Uighur"/> <a:font script="Geor" typeface="Sylfaen"/> </a:minorFont> </a:fontScheme> <a:fmtScheme name="Office"> <a:fillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="35000"> <a:schemeClr val="phClr"> <a:tint val="37000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="15000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="1"/> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="100000"/> <a:shade val="100000"/> <a:satMod val="130000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:tint val="50000"/> <a:shade val="100000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:lin ang="16200000" scaled="0"/> </a:gradFill> </a:fillStyleLst> <a:lnStyleLst> <a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"> <a:shade val="95000"/> <a:satMod val="105000"/> </a:schemeClr> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> <a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:prstDash val="solid"/> </a:ln> </a:lnStyleLst> <a:effectStyleLst> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="38000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> </a:effectStyle> <a:effectStyle> <a:effectLst> <a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"> <a:srgbClr val="000000"> <a:alpha val="35000"/> </a:srgbClr> </a:outerShdw> </a:effectLst> <a:scene3d> <a:camera prst="orthographicFront"> <a:rot lat="0" lon="0" rev="0"/> </a:camera> <a:lightRig rig="threePt" dir="t"> <a:rot lat="0" lon="0" rev="1200000"/> </a:lightRig> </a:scene3d> <a:sp3d> <a:bevelT w="63500" h="25400"/> </a:sp3d> </a:effectStyle> </a:effectStyleLst> <a:bgFillStyleLst> <a:solidFill> <a:schemeClr val="phClr"/> </a:solidFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="40000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="40000"> <a:schemeClr val="phClr"> <a:tint val="45000"/> <a:shade val="99000"/> <a:satMod val="350000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="20000"/> <a:satMod val="255000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="-80000" r="50000" b="180000"/> </a:path> </a:gradFill> <a:gradFill rotWithShape="1"> <a:gsLst> <a:gs pos="0"> <a:schemeClr val="phClr"> <a:tint val="80000"/> <a:satMod val="300000"/> </a:schemeClr> </a:gs> <a:gs pos="100000"> <a:schemeClr val="phClr"> <a:shade val="30000"/> <a:satMod val="200000"/> </a:schemeClr> </a:gs> </a:gsLst> <a:path path="circle"> <a:fillToRect l="50000" t="50000" r="50000" b="50000"/> </a:path> </a:gradFill> </a:bgFillStyleLst> </a:fmtScheme> </a:themeElements> <a:objectDefaults> <a:spDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="1"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="3"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="2"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="lt1"/> </a:fontRef> </a:style> </a:spDef> <a:lnDef> <a:spPr/> <a:bodyPr/> <a:lstStyle/> <a:style> <a:lnRef idx="2"> <a:schemeClr val="accent1"/> </a:lnRef> <a:fillRef idx="0"> <a:schemeClr val="accent1"/> </a:fillRef> <a:effectRef idx="1"> <a:schemeClr val="accent1"/> </a:effectRef> <a:fontRef idx="minor"> <a:schemeClr val="tx1"/> </a:fontRef> </a:style> </a:lnDef> </a:objectDefaults> <a:extraClrSchemeLst/> </a:theme>`},{}],146:[function(e,n,l){(function(i){(function(){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvFormatterStream=void 0;const s=e("stream"),u=e("./formatter");class a extends s.Transform{constructor(c){super({writableObjectMode:c.objectMode}),this.hasWrittenBOM=!1,this.formatterOptions=c,this.rowFormatter=new u.RowFormatter(c),this.hasWrittenBOM=!c.writeBOM}transform(c){return this.rowFormatter.rowTransform=c,this}_transform(c,f,h){let d=!1;try{this.hasWrittenBOM||(this.push(this.formatterOptions.BOM),this.hasWrittenBOM=!0),this.rowFormatter.format(c,(y,b)=>y?(d=!0,h(y)):(b&&b.forEach(m=>{this.push(i.from(m,"utf8"))}),d=!0,h()))}catch(y){if(d)throw y;h(y)}}_flush(c){this.rowFormatter.finish((f,h)=>f?c(f):(h&&h.forEach(d=>{this.push(i.from(d,"utf8"))}),c()))}}l.CsvFormatterStream=a}).call(this)}).call(this,e("buffer").Buffer)},{"./formatter":150,buffer:220,stream:505}],147:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.FormatterOptions=void 0,l.FormatterOptions=class{constructor(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};var s;this.objectMode=!0,this.delimiter=",",this.rowDelimiter=`
`,this.quote='"',this.escape=this.quote,this.quoteColumns=!1,this.quoteHeaders=this.quoteColumns,this.headers=null,this.includeEndRowDelimiter=!1,this.writeBOM=!1,this.BOM="\uFEFF",this.alwaysWriteHeaders=!1,Object.assign(this,i||{}),(i==null?void 0:i.quoteHeaders)===void 0&&(this.quoteHeaders=this.quoteColumns),(i==null?void 0:i.quote)===!0?this.quote='"':(i==null?void 0:i.quote)===!1&&(this.quote=""),typeof(i==null?void 0:i.escape)!="string"&&(this.escape=this.quote),this.shouldWriteHeaders=!!this.headers&&((s=i.writeHeaders)===null||s===void 0||s),this.headers=Array.isArray(this.headers)?this.headers:null,this.escapedQuote=`${this.escape}${this.quote}`}}},{}],148:[function(e,n,l){var i=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(l,"__esModule",{value:!0}),l.FieldFormatter=void 0;const s=i(e("lodash.isboolean")),u=i(e("lodash.isnil")),a=i(e("lodash.escaperegexp"));l.FieldFormatter=class{constructor(o){this._headers=null,this.formatterOptions=o,o.headers!==null&&(this.headers=o.headers),this.REPLACE_REGEXP=new RegExp(o.quote,"g");const c=`[${o.delimiter}${a.default(o.rowDelimiter)}|\r|
]`;this.ESCAPE_REGEXP=new RegExp(c)}set headers(o){this._headers=o}shouldQuote(o,c){const f=c?this.formatterOptions.quoteHeaders:this.formatterOptions.quoteColumns;return s.default(f)?f:Array.isArray(f)?f[o]:this._headers!==null&&f[this._headers[o]]}format(o,c,f){const h=(""+(u.default(o)?"":o)).replace(/\0/g,""),{formatterOptions:d}=this;return d.quote!==""&&h.indexOf(d.quote)!==-1?this.quoteField(h.replace(this.REPLACE_REGEXP,d.escapedQuote)):h.search(this.ESCAPE_REGEXP)!==-1||this.shouldQuote(c,f)?this.quoteField(h):h}quoteField(o){const{quote:c}=this.formatterOptions;return`${c}${o}${c}`}}},{"lodash.escaperegexp":442,"lodash.isboolean":444,"lodash.isnil":447}],149:[function(e,n,l){var i=function(f){return f&&f.__esModule?f:{default:f}};Object.defineProperty(l,"__esModule",{value:!0}),l.RowFormatter=void 0;const s=i(e("lodash.isfunction")),u=i(e("lodash.isequal")),a=e("./FieldFormatter"),o=e("../types");class c{constructor(h){this.rowCount=0,this.formatterOptions=h,this.fieldFormatter=new a.FieldFormatter(h),this.headers=h.headers,this.shouldWriteHeaders=h.shouldWriteHeaders,this.hasWrittenHeaders=!1,this.headers!==null&&(this.fieldFormatter.headers=this.headers),h.transform&&(this.rowTransform=h.transform)}static isRowHashArray(h){return!!Array.isArray(h)&&Array.isArray(h[0])&&h[0].length===2}static isRowArray(h){return Array.isArray(h)&&!this.isRowHashArray(h)}static gatherHeaders(h){return c.isRowHashArray(h)?h.map(d=>d[0]):Array.isArray(h)?h:Object.keys(h)}static createTransform(h){return o.isSyncTransform(h)?(d,y)=>{let b=null;try{b=h(d)}catch(m){return y(m)}return y(null,b)}:(d,y)=>{h(d,y)}}set rowTransform(h){if(!s.default(h))throw new TypeError("The transform should be a function");this._rowTransform=c.createTransform(h)}format(h,d){this.callTransformer(h,(y,b)=>{if(y)return d(y);if(!h)return d(null);const m=[];if(b){const{shouldFormatColumns:g,headers:p}=this.checkHeaders(b);if(this.shouldWriteHeaders&&p&&!this.hasWrittenHeaders&&(m.push(this.formatColumns(p,!0)),this.hasWrittenHeaders=!0),g){const v=this.gatherColumns(b);m.push(this.formatColumns(v,!1))}}return d(null,m)})}finish(h){const d=[];if(this.formatterOptions.alwaysWriteHeaders&&this.rowCount===0){if(!this.headers)return h(new Error("`alwaysWriteHeaders` option is set to true but `headers` option not provided."));d.push(this.formatColumns(this.headers,!0))}return this.formatterOptions.includeEndRowDelimiter&&d.push(this.formatterOptions.rowDelimiter),h(null,d)}checkHeaders(h){if(this.headers)return{shouldFormatColumns:!0,headers:this.headers};const d=c.gatherHeaders(h);return this.headers=d,this.fieldFormatter.headers=d,this.shouldWriteHeaders?{shouldFormatColumns:!u.default(d,h),headers:d}:{shouldFormatColumns:!0,headers:null}}gatherColumns(h){if(this.headers===null)throw new Error("Headers is currently null");return Array.isArray(h)?c.isRowHashArray(h)?this.headers.map((d,y)=>{const b=h[y];return b?b[1]:""}):c.isRowArray(h)&&!this.shouldWriteHeaders?h:this.headers.map((d,y)=>h[y]):this.headers.map(d=>h[d])}callTransformer(h,d){return this._rowTransform?this._rowTransform(h,d):d(null,h)}formatColumns(h,d){const y=h.map((m,g)=>this.fieldFormatter.format(m,g,d)).join(this.formatterOptions.delimiter),{rowCount:b}=this;return this.rowCount+=1,b?[this.formatterOptions.rowDelimiter,y].join(""):y}}l.RowFormatter=c},{"../types":152,"./FieldFormatter":148,"lodash.isequal":445,"lodash.isfunction":446}],150:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.FieldFormatter=l.RowFormatter=void 0;var i=e("./RowFormatter");Object.defineProperty(l,"RowFormatter",{enumerable:!0,get:function(){return i.RowFormatter}});var s=e("./FieldFormatter");Object.defineProperty(l,"FieldFormatter",{enumerable:!0,get:function(){return s.FieldFormatter}})},{"./FieldFormatter":148,"./RowFormatter":149}],151:[function(e,n,l){(function(i){(function(){var s=Object.create?function(g,p,v,C){C===void 0&&(C=v),Object.defineProperty(g,C,{enumerable:!0,get:function(){return p[v]}})}:function(g,p,v,C){C===void 0&&(C=v),g[C]=p[v]},u=Object.create?function(g,p){Object.defineProperty(g,"default",{enumerable:!0,value:p})}:function(g,p){g.default=p},a=function(g){if(g&&g.__esModule)return g;var p={};if(g!=null)for(var v in g)v!=="default"&&Object.prototype.hasOwnProperty.call(g,v)&&s(p,g,v);return u(p,g),p},o=function(g,p){for(var v in g)v==="default"||Object.prototype.hasOwnProperty.call(p,v)||s(p,g,v)};Object.defineProperty(l,"__esModule",{value:!0}),l.writeToPath=l.writeToString=l.writeToBuffer=l.writeToStream=l.write=l.format=l.FormatterOptions=l.CsvFormatterStream=void 0;const c=e("util"),f=e("stream"),h=a(e("fs")),d=e("./FormatterOptions"),y=e("./CsvFormatterStream");o(e("./types"),l);var b=e("./CsvFormatterStream");Object.defineProperty(l,"CsvFormatterStream",{enumerable:!0,get:function(){return b.CsvFormatterStream}});var m=e("./FormatterOptions");Object.defineProperty(l,"FormatterOptions",{enumerable:!0,get:function(){return m.FormatterOptions}}),l.format=g=>new y.CsvFormatterStream(new d.FormatterOptions(g)),l.write=(g,p)=>{const v=l.format(p),C=c.promisify((j,L)=>{v.write(j,void 0,L)});return g.reduce((j,L)=>j.then(()=>C(L)),Promise.resolve()).then(()=>v.end()).catch(j=>{v.emit("error",j)}),v},l.writeToStream=(g,p,v)=>l.write(p,v).pipe(g),l.writeToBuffer=function(g){let p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const v=[],C=new f.Writable({write(j,L,$){v.push(j),$()}});return new Promise((j,L)=>{C.on("error",L).on("finish",()=>j(i.concat(v))),l.write(g,p).pipe(C)})},l.writeToString=(g,p)=>l.writeToBuffer(g,p).then(v=>v.toString()),l.writeToPath=(g,p,v)=>{const C=h.createWriteStream(g,{encoding:"utf8"});return l.write(p,v).pipe(C)}}).call(this)}).call(this,e("buffer").Buffer)},{"./CsvFormatterStream":146,"./FormatterOptions":147,"./types":152,buffer:220,fs:216,stream:505,util:527}],152:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.isSyncTransform=void 0,l.isSyncTransform=i=>i.length===1},{}],153:[function(e,n,l){(function(i){(function(){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvParserStream=void 0;const s=e("string_decoder"),u=e("stream"),a=e("./transforms"),o=e("./parser");class c extends u.Transform{constructor(h){super({objectMode:h.objectMode}),this.lines="",this.rowCount=0,this.parsedRowCount=0,this.parsedLineCount=0,this.endEmitted=!1,this.headersEmitted=!1,this.parserOptions=h,this.parser=new o.Parser(h),this.headerTransformer=new a.HeaderTransformer(h),this.decoder=new s.StringDecoder(h.encoding),this.rowTransformerValidator=new a.RowTransformerValidator}get hasHitRowLimit(){return this.parserOptions.limitRows&&this.rowCount>=this.parserOptions.maxRows}get shouldEmitRows(){return this.parsedRowCount>this.parserOptions.skipRows}get shouldSkipLine(){return this.parsedLineCount<=this.parserOptions.skipLines}transform(h){return this.rowTransformerValidator.rowTransform=h,this}validate(h){return this.rowTransformerValidator.rowValidator=h,this}emit(h){if(h==="end")return this.endEmitted||(this.endEmitted=!0,super.emit("end",this.rowCount)),!1;for(var d=arguments.length,y=new Array(d>1?d-1:0),b=1;b<d;b++)y[b-1]=arguments[b];return super.emit(h,...y)}_transform(h,d,y){if(this.hasHitRowLimit)return y();const b=c.wrapDoneCallback(y);try{const{lines:m}=this,g=m+this.decoder.write(h),p=this.parse(g,!0);return this.processRows(p,b)}catch(m){return b(m)}}_flush(h){const d=c.wrapDoneCallback(h);if(this.hasHitRowLimit)return d();try{const y=this.lines+this.decoder.end(),b=this.parse(y,!1);return this.processRows(b,d)}catch(y){return d(y)}}parse(h,d){if(!h)return[];const{line:y,rows:b}=this.parser.parse(h,d);return this.lines=y,b}processRows(h,d){const y=h.length,b=m=>{const g=C=>C?d(C):m%100!=0?b(m+1):void i(()=>b(m+1));if(this.checkAndEmitHeaders(),m>=y||this.hasHitRowLimit)return d();if(this.parsedLineCount+=1,this.shouldSkipLine)return g();const p=h[m];this.rowCount+=1,this.parsedRowCount+=1;const v=this.rowCount;return this.transformRow(p,(C,j)=>{if(C)return this.rowCount-=1,g(C);if(!j)return g(new Error("expected transform result"));if(j.isValid){if(j.row)return this.pushRow(j.row,g)}else this.emit("data-invalid",j.row,v,j.reason);return g()})};b(0)}transformRow(h,d){try{this.headerTransformer.transform(h,(y,b)=>y?d(y):b?b.isValid?b.row?this.shouldEmitRows?this.rowTransformerValidator.transformAndValidate(b.row,d):this.skipRow(d):(this.rowCount-=1,this.parsedRowCount-=1,d(null,{row:null,isValid:!0})):this.shouldEmitRows?d(null,{isValid:!1,row:h}):this.skipRow(d):d(new Error("Expected result from header transform")))}catch(y){d(y)}}checkAndEmitHeaders(){!this.headersEmitted&&this.headerTransformer.headers&&(this.headersEmitted=!0,this.emit("headers",this.headerTransformer.headers))}skipRow(h){return this.rowCount-=1,h(null,{row:null,isValid:!0})}pushRow(h,d){try{this.parserOptions.objectMode?this.push(h):this.push(JSON.stringify(h)),d()}catch(y){d(y)}}static wrapDoneCallback(h){let d=!1;return function(y){if(y){if(d)throw y;return d=!0,void h(y)}for(var b=arguments.length,m=new Array(b>1?b-1:0),g=1;g<b;g++)m[g-1]=arguments[g];h(...m)}}}l.CsvParserStream=c}).call(this)}).call(this,e("timers").setImmediate)},{"./parser":165,"./transforms":168,stream:505,string_decoder:218,timers:523}],154:[function(e,n,l){var i=function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(l,"__esModule",{value:!0}),l.ParserOptions=void 0;const s=i(e("lodash.escaperegexp")),u=i(e("lodash.isnil"));l.ParserOptions=class{constructor(a){var o;if(this.objectMode=!0,this.delimiter=",",this.ignoreEmpty=!1,this.quote='"',this.escape=null,this.escapeChar=this.quote,this.comment=null,this.supportsComments=!1,this.ltrim=!1,this.rtrim=!1,this.trim=!1,this.headers=null,this.renameHeaders=!1,this.strictColumnHandling=!1,this.discardUnmappedColumns=!1,this.carriageReturn="\r",this.encoding="utf8",this.limitRows=!1,this.maxRows=0,this.skipLines=0,this.skipRows=0,Object.assign(this,a||{}),this.delimiter.length>1)throw new Error("delimiter option must be one character long");this.escapedDelimiter=s.default(this.delimiter),this.escapeChar=(o=this.escape)!==null&&o!==void 0?o:this.quote,this.supportsComments=!u.default(this.comment),this.NEXT_TOKEN_REGEXP=new RegExp(`([^\\s]|\\r\\n|\\n|\\r|${this.escapedDelimiter})`),this.maxRows>0&&(this.limitRows=!0)}}},{"lodash.escaperegexp":442,"lodash.isnil":447}],155:[function(e,n,l){var i=Object.create?function(b,m,g,p){p===void 0&&(p=g),Object.defineProperty(b,p,{enumerable:!0,get:function(){return m[g]}})}:function(b,m,g,p){p===void 0&&(p=g),b[p]=m[g]},s=Object.create?function(b,m){Object.defineProperty(b,"default",{enumerable:!0,value:m})}:function(b,m){b.default=m},u=function(b){if(b&&b.__esModule)return b;var m={};if(b!=null)for(var g in b)g!=="default"&&Object.prototype.hasOwnProperty.call(b,g)&&i(m,b,g);return s(m,b),m},a=function(b,m){for(var g in b)g==="default"||Object.prototype.hasOwnProperty.call(m,g)||i(m,b,g)};Object.defineProperty(l,"__esModule",{value:!0}),l.parseString=l.parseFile=l.parseStream=l.parse=l.ParserOptions=l.CsvParserStream=void 0;const o=u(e("fs")),c=e("stream"),f=e("./ParserOptions"),h=e("./CsvParserStream");a(e("./types"),l);var d=e("./CsvParserStream");Object.defineProperty(l,"CsvParserStream",{enumerable:!0,get:function(){return d.CsvParserStream}});var y=e("./ParserOptions");Object.defineProperty(l,"ParserOptions",{enumerable:!0,get:function(){return y.ParserOptions}}),l.parse=b=>new h.CsvParserStream(new f.ParserOptions(b)),l.parseStream=(b,m)=>b.pipe(new h.CsvParserStream(new f.ParserOptions(m))),l.parseFile=function(b){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return o.createReadStream(b).pipe(new h.CsvParserStream(new f.ParserOptions(m)))},l.parseString=(b,m)=>{const g=new c.Readable;return g.push(b),g.push(null),g.pipe(new h.CsvParserStream(new f.ParserOptions(m)))}},{"./CsvParserStream":153,"./ParserOptions":154,"./types":169,fs:216,stream:505}],156:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Parser=void 0;const i=e("./Scanner"),s=e("./RowParser"),u=e("./Token");class a{constructor(c){this.parserOptions=c,this.rowParser=new s.RowParser(this.parserOptions)}static removeBOM(c){return c&&c.charCodeAt(0)===65279?c.slice(1):c}parse(c,f){const h=new i.Scanner({line:a.removeBOM(c),parserOptions:this.parserOptions,hasMoreData:f});return this.parserOptions.supportsComments?this.parseWithComments(h):this.parseWithoutComments(h)}parseWithoutComments(c){const f=[];let h=!0;for(;h;)h=this.parseRow(c,f);return{line:c.line,rows:f}}parseWithComments(c){const{parserOptions:f}=this,h=[];for(let d=c.nextCharacterToken;d!==null;d=c.nextCharacterToken)if(u.Token.isTokenComment(d,f)){if(c.advancePastLine()===null)return{line:c.lineFromCursor,rows:h};if(!c.hasMoreCharacters)return{line:c.lineFromCursor,rows:h};c.truncateToCursor()}else if(!this.parseRow(c,h))break;return{line:c.line,rows:h}}parseRow(c,f){if(!c.nextNonSpaceToken)return!1;const h=this.rowParser.parse(c);return h!==null&&(this.parserOptions.ignoreEmpty&&s.RowParser.isEmptyRow(h)||f.push(h),!0)}}l.Parser=a},{"./RowParser":157,"./Scanner":158,"./Token":159}],157:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.RowParser=void 0;const i=e("./column"),s=e("./Token");l.RowParser=class{constructor(u){this.parserOptions=u,this.columnParser=new i.ColumnParser(u)}static isEmptyRow(u){return u.join("").replace(/\s+/g,"")===""}parse(u){const{parserOptions:a}=this,{hasMoreData:o}=u,c=u,f=[];let h=this.getStartToken(c,f);for(;h;){if(s.Token.isTokenRowDelimiter(h))return c.advancePastToken(h),!c.hasMoreCharacters&&s.Token.isTokenCarriageReturn(h,a)&&o?null:(c.truncateToCursor(),f);if(!this.shouldSkipColumnParse(c,h,f)){const d=this.columnParser.parse(c);if(d===null)return null;f.push(d)}h=c.nextNonSpaceToken}return o?null:(c.truncateToCursor(),f)}getStartToken(u,a){const o=u.nextNonSpaceToken;return o!==null&&s.Token.isTokenDelimiter(o,this.parserOptions)?(a.push(""),u.nextNonSpaceToken):o}shouldSkipColumnParse(u,a,o){const{parserOptions:c}=this;if(s.Token.isTokenDelimiter(a,c)){u.advancePastToken(a);const f=u.nextCharacterToken;if(!u.hasMoreCharacters||f!==null&&s.Token.isTokenRowDelimiter(f)||f!==null&&s.Token.isTokenDelimiter(f,c))return o.push(""),!0}return!1}}},{"./Token":159,"./column":164}],158:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Scanner=void 0;const i=e("./Token"),s=/((?:\r\n)|\n|\r)/;l.Scanner=class{constructor(u){this.cursor=0,this.line=u.line,this.lineLength=this.line.length,this.parserOptions=u.parserOptions,this.hasMoreData=u.hasMoreData,this.cursor=u.cursor||0}get hasMoreCharacters(){return this.lineLength>this.cursor}get nextNonSpaceToken(){const{lineFromCursor:u}=this,a=this.parserOptions.NEXT_TOKEN_REGEXP;if(u.search(a)===-1)return null;const o=a.exec(u);if(o==null)return null;const c=o[1],f=this.cursor+(o.index||0);return new i.Token({token:c,startCursor:f,endCursor:f+c.length-1})}get nextCharacterToken(){const{cursor:u,lineLength:a}=this;return a<=u?null:new i.Token({token:this.line[u],startCursor:u,endCursor:u})}get lineFromCursor(){return this.line.substr(this.cursor)}advancePastLine(){const u=s.exec(this.lineFromCursor);return u?(this.cursor+=(u.index||0)+u[0].length,this):this.hasMoreData?null:(this.cursor=this.lineLength,this)}advanceTo(u){return this.cursor=u,this}advanceToToken(u){return this.cursor=u.startCursor,this}advancePastToken(u){return this.cursor=u.endCursor+1,this}truncateToCursor(){return this.line=this.lineFromCursor,this.lineLength=this.line.length,this.cursor=0,this}}},{"./Token":159}],159:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.Token=void 0,l.Token=class{constructor(i){this.token=i.token,this.startCursor=i.startCursor,this.endCursor=i.endCursor}static isTokenRowDelimiter(i){const s=i.token;return s==="\r"||s===`
`||s===`\r
`}static isTokenCarriageReturn(i,s){return i.token===s.carriageReturn}static isTokenComment(i,s){return s.supportsComments&&!!i&&i.token===s.comment}static isTokenEscapeCharacter(i,s){return i.token===s.escapeChar}static isTokenQuote(i,s){return i.token===s.quote}static isTokenDelimiter(i,s){return i.token===s.delimiter}}},{}],160:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnFormatter=void 0,l.ColumnFormatter=class{constructor(i){i.trim?this.format=s=>s.trim():i.ltrim?this.format=s=>s.trimLeft():i.rtrim?this.format=s=>s.trimRight():this.format=s=>s}}},{}],161:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnParser=void 0;const i=e("./NonQuotedColumnParser"),s=e("./QuotedColumnParser"),u=e("../Token");l.ColumnParser=class{constructor(a){this.parserOptions=a,this.quotedColumnParser=new s.QuotedColumnParser(a),this.nonQuotedColumnParser=new i.NonQuotedColumnParser(a)}parse(a){const{nextNonSpaceToken:o}=a;return o!==null&&u.Token.isTokenQuote(o,this.parserOptions)?(a.advanceToToken(o),this.quotedColumnParser.parse(a)):this.nonQuotedColumnParser.parse(a)}}},{"../Token":159,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],162:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.NonQuotedColumnParser=void 0;const i=e("./ColumnFormatter"),s=e("../Token");l.NonQuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new i.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const{parserOptions:a}=this,o=[];let c=u.nextCharacterToken;for(;c&&!s.Token.isTokenDelimiter(c,a)&&!s.Token.isTokenRowDelimiter(c);c=u.nextCharacterToken)o.push(c.token),u.advancePastToken(c);return this.columnFormatter.format(o.join(""))}}},{"../Token":159,"./ColumnFormatter":160}],163:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QuotedColumnParser=void 0;const i=e("./ColumnFormatter"),s=e("../Token");l.QuotedColumnParser=class{constructor(u){this.parserOptions=u,this.columnFormatter=new i.ColumnFormatter(u)}parse(u){if(!u.hasMoreCharacters)return null;const a=u.cursor,{foundClosingQuote:o,col:c}=this.gatherDataBetweenQuotes(u);if(!o){if(u.advanceTo(a),!u.hasMoreData)throw new Error(`Parse Error: missing closing: '${this.parserOptions.quote||""}' in line: at '${u.lineFromCursor.replace(/[\r\n]/g,"\\n'")}'`);return null}return this.checkForMalformedColumn(u),c}gatherDataBetweenQuotes(u){const{parserOptions:a}=this;let o=!1,c=!1;const f=[];let h=u.nextCharacterToken;for(;!c&&h!==null;h=u.nextCharacterToken){const d=s.Token.isTokenQuote(h,a);if(!o&&d)o=!0;else if(o)if(s.Token.isTokenEscapeCharacter(h,a)){u.advancePastToken(h);const y=u.nextCharacterToken;y!==null&&(s.Token.isTokenQuote(y,a)||s.Token.isTokenEscapeCharacter(y,a))?(f.push(y.token),h=y):d?c=!0:f.push(h.token)}else d?c=!0:f.push(h.token);u.advancePastToken(h)}return{col:this.columnFormatter.format(f.join("")),foundClosingQuote:c}}checkForMalformedColumn(u){const{parserOptions:a}=this,{nextNonSpaceToken:o}=u;if(o){const c=s.Token.isTokenDelimiter(o,a),f=s.Token.isTokenRowDelimiter(o);if(!c&&!f){const h=u.lineFromCursor.substr(0,10).replace(/[\r\n]/g,"\\n'");throw new Error(`Parse Error: expected: '${a.escapedDelimiter}' OR new line got: '${o.token}'. at '${h}`)}u.advanceToToken(o)}else u.hasMoreData||u.advancePastLine()}}},{"../Token":159,"./ColumnFormatter":160}],164:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.ColumnFormatter=l.QuotedColumnParser=l.NonQuotedColumnParser=l.ColumnParser=void 0;var i=e("./ColumnParser");Object.defineProperty(l,"ColumnParser",{enumerable:!0,get:function(){return i.ColumnParser}});var s=e("./NonQuotedColumnParser");Object.defineProperty(l,"NonQuotedColumnParser",{enumerable:!0,get:function(){return s.NonQuotedColumnParser}});var u=e("./QuotedColumnParser");Object.defineProperty(l,"QuotedColumnParser",{enumerable:!0,get:function(){return u.QuotedColumnParser}});var a=e("./ColumnFormatter");Object.defineProperty(l,"ColumnFormatter",{enumerable:!0,get:function(){return a.ColumnFormatter}})},{"./ColumnFormatter":160,"./ColumnParser":161,"./NonQuotedColumnParser":162,"./QuotedColumnParser":163}],165:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.QuotedColumnParser=l.NonQuotedColumnParser=l.ColumnParser=l.Token=l.Scanner=l.RowParser=l.Parser=void 0;var i=e("./Parser");Object.defineProperty(l,"Parser",{enumerable:!0,get:function(){return i.Parser}});var s=e("./RowParser");Object.defineProperty(l,"RowParser",{enumerable:!0,get:function(){return s.RowParser}});var u=e("./Scanner");Object.defineProperty(l,"Scanner",{enumerable:!0,get:function(){return u.Scanner}});var a=e("./Token");Object.defineProperty(l,"Token",{enumerable:!0,get:function(){return a.Token}});var o=e("./column");Object.defineProperty(l,"ColumnParser",{enumerable:!0,get:function(){return o.ColumnParser}}),Object.defineProperty(l,"NonQuotedColumnParser",{enumerable:!0,get:function(){return o.NonQuotedColumnParser}}),Object.defineProperty(l,"QuotedColumnParser",{enumerable:!0,get:function(){return o.QuotedColumnParser}})},{"./Parser":156,"./RowParser":157,"./Scanner":158,"./Token":159,"./column":164}],166:[function(e,n,l){var i=function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(l,"__esModule",{value:!0}),l.HeaderTransformer=void 0;const s=i(e("lodash.isundefined")),u=i(e("lodash.isfunction")),a=i(e("lodash.uniq")),o=i(e("lodash.groupby"));l.HeaderTransformer=class{constructor(c){this.headers=null,this.receivedHeaders=!1,this.shouldUseFirstRow=!1,this.processedFirstRow=!1,this.headersLength=0,this.parserOptions=c,c.headers===!0?this.shouldUseFirstRow=!0:Array.isArray(c.headers)?this.setHeaders(c.headers):u.default(c.headers)&&(this.headersTransform=c.headers)}transform(c,f){return this.shouldMapRow(c)?f(null,this.processRow(c)):f(null,{row:null,isValid:!0})}shouldMapRow(c){const{parserOptions:f}=this;if(!this.headersTransform&&f.renameHeaders&&!this.processedFirstRow){if(!this.receivedHeaders)throw new Error("Error renaming headers: new headers must be provided in an array");return this.processedFirstRow=!0,!1}if(!this.receivedHeaders&&Array.isArray(c)){if(this.headersTransform)this.setHeaders(this.headersTransform(c));else{if(!this.shouldUseFirstRow)return!0;this.setHeaders(c)}return!1}return!0}processRow(c){if(!this.headers)return{row:c,isValid:!0};const{parserOptions:f}=this;if(!f.discardUnmappedColumns&&c.length>this.headersLength){if(!f.strictColumnHandling)throw new Error(`Unexpected Error: column header mismatch expected: ${this.headersLength} columns got: ${c.length}`);return{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}}return f.strictColumnHandling&&c.length<this.headersLength?{row:c,isValid:!1,reason:`Column header mismatch expected: ${this.headersLength} columns got: ${c.length}`}:{row:this.mapHeaders(c),isValid:!0}}mapHeaders(c){const f={},{headers:h,headersLength:d}=this;for(let y=0;y<d;y+=1){const b=h[y];if(!s.default(b)){const m=c[y];s.default(m)?f[b]="":f[b]=m}}return f}setHeaders(c){var f;const h=c.filter(d=>!!d);if(a.default(h).length!==h.length){const d=o.default(h),y=Object.keys(d).filter(b=>d[b].length>1);throw new Error("Duplicate headers found "+JSON.stringify(y))}this.headers=c,this.receivedHeaders=!0,this.headersLength=((f=this.headers)===null||f===void 0?void 0:f.length)||0}}},{"lodash.groupby":443,"lodash.isfunction":446,"lodash.isundefined":448,"lodash.uniq":449}],167:[function(e,n,l){var i=function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(l,"__esModule",{value:!0}),l.RowTransformerValidator=void 0;const s=i(e("lodash.isfunction")),u=e("../types");class a{constructor(){this._rowTransform=null,this._rowValidator=null}static createTransform(c){return u.isSyncTransform(c)?(f,h)=>{let d=null;try{d=c(f)}catch(y){return h(y)}return h(null,d)}:c}static createValidator(c){return u.isSyncValidate(c)?(f,h)=>{h(null,{row:f,isValid:c(f)})}:(f,h)=>{c(f,(d,y,b)=>d?h(d):h(null,y?{row:f,isValid:y,reason:b}:{row:f,isValid:!1,reason:b}))}}set rowTransform(c){if(!s.default(c))throw new TypeError("The transform should be a function");this._rowTransform=a.createTransform(c)}set rowValidator(c){if(!s.default(c))throw new TypeError("The validate should be a function");this._rowValidator=a.createValidator(c)}transformAndValidate(c,f){return this.callTransformer(c,(h,d)=>h?f(h):d?this.callValidator(d,(y,b)=>y?f(y):b&&!b.isValid?f(null,{row:d,isValid:!1,reason:b.reason}):f(null,{row:d,isValid:!0})):f(null,{row:null,isValid:!0}))}callTransformer(c,f){return this._rowTransform?this._rowTransform(c,f):f(null,c)}callValidator(c,f){return this._rowValidator?this._rowValidator(c,f):f(null,{row:c,isValid:!0})}}l.RowTransformerValidator=a},{"../types":169,"lodash.isfunction":446}],168:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.HeaderTransformer=l.RowTransformerValidator=void 0;var i=e("./RowTransformerValidator");Object.defineProperty(l,"RowTransformerValidator",{enumerable:!0,get:function(){return i.RowTransformerValidator}});var s=e("./HeaderTransformer");Object.defineProperty(l,"HeaderTransformer",{enumerable:!0,get:function(){return s.HeaderTransformer}})},{"./HeaderTransformer":166,"./RowTransformerValidator":167}],169:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.isSyncValidate=l.isSyncTransform=void 0,l.isSyncTransform=i=>i.length===1,l.isSyncValidate=i=>i.length===1},{}],170:[function(e,n,l){const i=l;i.bignum=e("bn.js"),i.define=e("./asn1/api").define,i.base=e("./asn1/base"),i.constants=e("./asn1/constants"),i.decoders=e("./asn1/decoders"),i.encoders=e("./asn1/encoders")},{"./asn1/api":171,"./asn1/base":173,"./asn1/constants":177,"./asn1/decoders":179,"./asn1/encoders":182,"bn.js":184}],171:[function(e,n,l){const i=e("./encoders"),s=e("./decoders"),u=e("inherits");function a(o,c){this.name=o,this.body=c,this.decoders={},this.encoders={}}l.define=function(o,c){return new a(o,c)},a.prototype._createNamed=function(o){const c=this.name;function f(h){this._initNamed(h,c)}return u(f,o),f.prototype._initNamed=function(h,d){o.call(this,h,d)},new f(this)},a.prototype._getDecoder=function(o){return o=o||"der",this.decoders.hasOwnProperty(o)||(this.decoders[o]=this._createNamed(s[o])),this.decoders[o]},a.prototype.decode=function(o,c,f){return this._getDecoder(c).decode(o,f)},a.prototype._getEncoder=function(o){return o=o||"der",this.encoders.hasOwnProperty(o)||(this.encoders[o]=this._createNamed(i[o])),this.encoders[o]},a.prototype.encode=function(o,c,f){return this._getEncoder(c).encode(o,f)}},{"./decoders":179,"./encoders":182,inherits:440}],172:[function(e,n,l){const i=e("inherits"),s=e("../base/reporter").Reporter,u=e("safer-buffer").Buffer;function a(c,f){s.call(this,f),u.isBuffer(c)?(this.base=c,this.offset=0,this.length=c.length):this.error("Input not Buffer")}function o(c,f){if(Array.isArray(c))this.length=0,this.value=c.map(function(h){return o.isEncoderBuffer(h)||(h=new o(h,f)),this.length+=h.length,h},this);else if(typeof c=="number"){if(!(0<=c&&c<=255))return f.error("non-byte EncoderBuffer value");this.value=c,this.length=1}else if(typeof c=="string")this.value=c,this.length=u.byteLength(c);else{if(!u.isBuffer(c))return f.error("Unsupported type: "+typeof c);this.value=c,this.length=c.length}}i(a,s),l.DecoderBuffer=a,a.isDecoderBuffer=function(c){return c instanceof a?!0:typeof c=="object"&&u.isBuffer(c.base)&&c.constructor.name==="DecoderBuffer"&&typeof c.offset=="number"&&typeof c.length=="number"&&typeof c.save=="function"&&typeof c.restore=="function"&&typeof c.isEmpty=="function"&&typeof c.readUInt8=="function"&&typeof c.skip=="function"&&typeof c.raw=="function"},a.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},a.prototype.restore=function(c){const f=new a(this.base);return f.offset=c.offset,f.length=this.offset,this.offset=c.offset,s.prototype.restore.call(this,c.reporter),f},a.prototype.isEmpty=function(){return this.offset===this.length},a.prototype.readUInt8=function(c){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(c||"DecoderBuffer overrun")},a.prototype.skip=function(c,f){if(!(this.offset+c<=this.length))return this.error(f||"DecoderBuffer overrun");const h=new a(this.base);return h._reporterState=this._reporterState,h.offset=this.offset,h.length=this.offset+c,this.offset+=c,h},a.prototype.raw=function(c){return this.base.slice(c?c.offset:this.offset,this.length)},l.EncoderBuffer=o,o.isEncoderBuffer=function(c){return c instanceof o?!0:typeof c=="object"&&c.constructor.name==="EncoderBuffer"&&typeof c.length=="number"&&typeof c.join=="function"},o.prototype.join=function(c,f){return c||(c=u.alloc(this.length)),f||(f=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(h){h.join(c,f),f+=h.length}):(typeof this.value=="number"?c[f]=this.value:typeof this.value=="string"?c.write(this.value,f):u.isBuffer(this.value)&&this.value.copy(c,f),f+=this.length)),c}},{"../base/reporter":175,inherits:440,"safer-buffer":495}],173:[function(e,n,l){const i=l;i.Reporter=e("./reporter").Reporter,i.DecoderBuffer=e("./buffer").DecoderBuffer,i.EncoderBuffer=e("./buffer").EncoderBuffer,i.Node=e("./node")},{"./buffer":172,"./node":174,"./reporter":175}],174:[function(e,n,l){const i=e("../base/reporter").Reporter,s=e("../base/buffer").EncoderBuffer,u=e("../base/buffer").DecoderBuffer,a=e("minimalistic-assert"),o=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(o);function f(d,y,b){const m={};this._baseState=m,m.name=b,m.enc=d,m.parent=y||null,m.children=null,m.tag=null,m.args=null,m.reverseArgs=null,m.choice=null,m.optional=!1,m.any=!1,m.obj=!1,m.use=null,m.useDecoder=null,m.key=null,m.default=null,m.explicit=null,m.implicit=null,m.contains=null,m.parent||(m.children=[],this._wrap())}n.exports=f;const h=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];f.prototype.clone=function(){const d=this._baseState,y={};h.forEach(function(m){y[m]=d[m]});const b=new this.constructor(y.parent);return b._baseState=y,b},f.prototype._wrap=function(){const d=this._baseState;c.forEach(function(y){this[y]=function(){const b=new this.constructor(this);return d.children.push(b),b[y].apply(b,arguments)}},this)},f.prototype._init=function(d){const y=this._baseState;a(y.parent===null),d.call(this),y.children=y.children.filter(function(b){return b._baseState.parent===this},this),a.equal(y.children.length,1,"Root node can have only one child")},f.prototype._useArgs=function(d){const y=this._baseState,b=d.filter(function(m){return m instanceof this.constructor},this);d=d.filter(function(m){return!(m instanceof this.constructor)},this),b.length!==0&&(a(y.children===null),y.children=b,b.forEach(function(m){m._baseState.parent=this},this)),d.length!==0&&(a(y.args===null),y.args=d,y.reverseArgs=d.map(function(m){if(typeof m!="object"||m.constructor!==Object)return m;const g={};return Object.keys(m).forEach(function(p){p==(0|p)&&(p|=0);const v=m[p];g[v]=p}),g}))},["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"].forEach(function(d){f.prototype[d]=function(){const y=this._baseState;throw new Error(d+" not implemented for encoding: "+y.enc)}}),o.forEach(function(d){f.prototype[d]=function(){const y=this._baseState,b=Array.prototype.slice.call(arguments);return a(y.tag===null),y.tag=d,this._useArgs(b),this}}),f.prototype.use=function(d){a(d);const y=this._baseState;return a(y.use===null),y.use=d,this},f.prototype.optional=function(){return this._baseState.optional=!0,this},f.prototype.def=function(d){const y=this._baseState;return a(y.default===null),y.default=d,y.optional=!0,this},f.prototype.explicit=function(d){const y=this._baseState;return a(y.explicit===null&&y.implicit===null),y.explicit=d,this},f.prototype.implicit=function(d){const y=this._baseState;return a(y.explicit===null&&y.implicit===null),y.implicit=d,this},f.prototype.obj=function(){const d=this._baseState,y=Array.prototype.slice.call(arguments);return d.obj=!0,y.length!==0&&this._useArgs(y),this},f.prototype.key=function(d){const y=this._baseState;return a(y.key===null),y.key=d,this},f.prototype.any=function(){return this._baseState.any=!0,this},f.prototype.choice=function(d){const y=this._baseState;return a(y.choice===null),y.choice=d,this._useArgs(Object.keys(d).map(function(b){return d[b]})),this},f.prototype.contains=function(d){const y=this._baseState;return a(y.use===null),y.contains=d,this},f.prototype._decode=function(d,y){const b=this._baseState;if(b.parent===null)return d.wrapResult(b.children[0]._decode(d,y));let m,g=b.default,p=!0,v=null;if(b.key!==null&&(v=d.enterKey(b.key)),b.optional){let C=null;if(b.explicit!==null?C=b.explicit:b.implicit!==null?C=b.implicit:b.tag!==null&&(C=b.tag),C!==null||b.any){if(p=this._peekTag(d,C,b.any),d.isError(p))return p}else{const j=d.save();try{b.choice===null?this._decodeGeneric(b.tag,d,y):this._decodeChoice(d,y),p=!0}catch{p=!1}d.restore(j)}}if(b.obj&&p&&(m=d.enterObject()),p){if(b.explicit!==null){const j=this._decodeTag(d,b.explicit);if(d.isError(j))return j;d=j}const C=d.offset;if(b.use===null&&b.choice===null){let j;b.any&&(j=d.save());const L=this._decodeTag(d,b.implicit!==null?b.implicit:b.tag,b.any);if(d.isError(L))return L;b.any?g=d.raw(j):d=L}if(y&&y.track&&b.tag!==null&&y.track(d.path(),C,d.length,"tagged"),y&&y.track&&b.tag!==null&&y.track(d.path(),d.offset,d.length,"content"),b.any||(g=b.choice===null?this._decodeGeneric(b.tag,d,y):this._decodeChoice(d,y)),d.isError(g))return g;if(b.any||b.choice!==null||b.children===null||b.children.forEach(function(j){j._decode(d,y)}),b.contains&&(b.tag==="octstr"||b.tag==="bitstr")){const j=new u(g);g=this._getUse(b.contains,d._reporterState.obj)._decode(j,y)}}return b.obj&&p&&(g=d.leaveObject(m)),b.key===null||g===null&&p!==!0?v!==null&&d.exitKey(v):d.leaveKey(v,b.key,g),g},f.prototype._decodeGeneric=function(d,y,b){const m=this._baseState;return d==="seq"||d==="set"?null:d==="seqof"||d==="setof"?this._decodeList(y,d,m.args[0],b):/str$/.test(d)?this._decodeStr(y,d,b):d==="objid"&&m.args?this._decodeObjid(y,m.args[0],m.args[1],b):d==="objid"?this._decodeObjid(y,null,null,b):d==="gentime"||d==="utctime"?this._decodeTime(y,d,b):d==="null_"?this._decodeNull(y,b):d==="bool"?this._decodeBool(y,b):d==="objDesc"?this._decodeStr(y,d,b):d==="int"||d==="enum"?this._decodeInt(y,m.args&&m.args[0],b):m.use!==null?this._getUse(m.use,y._reporterState.obj)._decode(y,b):y.error("unknown tag: "+d)},f.prototype._getUse=function(d,y){const b=this._baseState;return b.useDecoder=this._use(d,y),a(b.useDecoder._baseState.parent===null),b.useDecoder=b.useDecoder._baseState.children[0],b.implicit!==b.useDecoder._baseState.implicit&&(b.useDecoder=b.useDecoder.clone(),b.useDecoder._baseState.implicit=b.implicit),b.useDecoder},f.prototype._decodeChoice=function(d,y){const b=this._baseState;let m=null,g=!1;return Object.keys(b.choice).some(function(p){const v=d.save(),C=b.choice[p];try{const j=C._decode(d,y);if(d.isError(j))return!1;m={type:p,value:j},g=!0}catch{return d.restore(v),!1}return!0},this),g?m:d.error("Choice not matched")},f.prototype._createEncoderBuffer=function(d){return new s(d,this.reporter)},f.prototype._encode=function(d,y,b){const m=this._baseState;if(m.default!==null&&m.default===d)return;const g=this._encodeValue(d,y,b);return g===void 0||this._skipDefault(g,y,b)?void 0:g},f.prototype._encodeValue=function(d,y,b){const m=this._baseState;if(m.parent===null)return m.children[0]._encode(d,y||new i);let g=null;if(this.reporter=y,m.optional&&d===void 0){if(m.default===null)return;d=m.default}let p=null,v=!1;if(m.any)g=this._createEncoderBuffer(d);else if(m.choice)g=this._encodeChoice(d,y);else if(m.contains)p=this._getUse(m.contains,b)._encode(d,y),v=!0;else if(m.children)p=m.children.map(function(C){if(C._baseState.tag==="null_")return C._encode(null,y,d);if(C._baseState.key===null)return y.error("Child should have a key");const j=y.enterKey(C._baseState.key);if(typeof d!="object")return y.error("Child expected, but input is not object");const L=C._encode(d[C._baseState.key],y,d);return y.leaveKey(j),L},this).filter(function(C){return C}),p=this._createEncoderBuffer(p);else if(m.tag==="seqof"||m.tag==="setof"){if(!m.args||m.args.length!==1)return y.error("Too many args for : "+m.tag);if(!Array.isArray(d))return y.error("seqof/setof, but data is not Array");const C=this.clone();C._baseState.implicit=null,p=this._createEncoderBuffer(d.map(function(j){const L=this._baseState;return this._getUse(L.args[0],d)._encode(j,y)},C))}else m.use!==null?g=this._getUse(m.use,b)._encode(d,y):(p=this._encodePrimitive(m.tag,d),v=!0);if(!m.any&&m.choice===null){const C=m.implicit!==null?m.implicit:m.tag,j=m.implicit===null?"universal":"context";C===null?m.use===null&&y.error("Tag could be omitted only for .use()"):m.use===null&&(g=this._encodeComposite(C,v,j,p))}return m.explicit!==null&&(g=this._encodeComposite(m.explicit,!1,"context",g)),g},f.prototype._encodeChoice=function(d,y){const b=this._baseState,m=b.choice[d.type];return m||a(!1,d.type+" not found in "+JSON.stringify(Object.keys(b.choice))),m._encode(d.value,y)},f.prototype._encodePrimitive=function(d,y){const b=this._baseState;if(/str$/.test(d))return this._encodeStr(y,d);if(d==="objid"&&b.args)return this._encodeObjid(y,b.reverseArgs[0],b.args[1]);if(d==="objid")return this._encodeObjid(y,null,null);if(d==="gentime"||d==="utctime")return this._encodeTime(y,d);if(d==="null_")return this._encodeNull();if(d==="int"||d==="enum")return this._encodeInt(y,b.args&&b.reverseArgs[0]);if(d==="bool")return this._encodeBool(y);if(d==="objDesc")return this._encodeStr(y,d);throw new Error("Unsupported tag: "+d)},f.prototype._isNumstr=function(d){return/^[0-9 ]*$/.test(d)},f.prototype._isPrintstr=function(d){return/^[A-Za-z0-9 '()+,-./:=?]*$/.test(d)}},{"../base/buffer":172,"../base/reporter":175,"minimalistic-assert":453}],175:[function(e,n,l){const i=e("inherits");function s(a){this._reporterState={obj:null,path:[],options:a||{},errors:[]}}function u(a,o){this.path=a,this.rethrow(o)}l.Reporter=s,s.prototype.isError=function(a){return a instanceof u},s.prototype.save=function(){const a=this._reporterState;return{obj:a.obj,pathLen:a.path.length}},s.prototype.restore=function(a){const o=this._reporterState;o.obj=a.obj,o.path=o.path.slice(0,a.pathLen)},s.prototype.enterKey=function(a){return this._reporterState.path.push(a)},s.prototype.exitKey=function(a){const o=this._reporterState;o.path=o.path.slice(0,a-1)},s.prototype.leaveKey=function(a,o,c){const f=this._reporterState;this.exitKey(a),f.obj!==null&&(f.obj[o]=c)},s.prototype.path=function(){return this._reporterState.path.join("/")},s.prototype.enterObject=function(){const a=this._reporterState,o=a.obj;return a.obj={},o},s.prototype.leaveObject=function(a){const o=this._reporterState,c=o.obj;return o.obj=a,c},s.prototype.error=function(a){let o;const c=this._reporterState,f=a instanceof u;if(o=f?a:new u(c.path.map(function(h){return"["+JSON.stringify(h)+"]"}).join(""),a.message||a,a.stack),!c.options.partial)throw o;return f||c.errors.push(o),o},s.prototype.wrapResult=function(a){const o=this._reporterState;return o.options.partial?{result:this.isError(a)?null:a,errors:o.errors}:a},i(u,Error),u.prototype.rethrow=function(a){if(this.message=a+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,u),!this.stack)try{throw new Error(this.message)}catch(o){this.stack=o.stack}return this}},{inherits:440}],176:[function(e,n,l){function i(s){const u={};return Object.keys(s).forEach(function(a){(0|a)==a&&(a|=0);const o=s[a];u[o]=a}),u}l.tagClass={0:"universal",1:"application",2:"context",3:"private"},l.tagClassByName=i(l.tagClass),l.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},l.tagByName=i(l.tag)},{}],177:[function(e,n,l){const i=l;i._reverse=function(s){const u={};return Object.keys(s).forEach(function(a){(0|a)==a&&(a|=0);const o=s[a];u[o]=a}),u},i.der=e("./der")},{"./der":176}],178:[function(e,n,l){const i=e("inherits"),s=e("bn.js"),u=e("../base/buffer").DecoderBuffer,a=e("../base/node"),o=e("../constants/der");function c(y){this.enc="der",this.name=y.name,this.entity=y,this.tree=new f,this.tree._init(y.body)}function f(y){a.call(this,"der",y)}function h(y,b){let m=y.readUInt8(b);if(y.isError(m))return m;const g=o.tagClass[m>>6],p=(32&m)==0;if((31&m)==31){let v=m;for(m=0;(128&v)==128;){if(v=y.readUInt8(b),y.isError(v))return v;m<<=7,m|=127&v}}else m&=31;return{cls:g,primitive:p,tag:m,tagStr:o.tag[m]}}function d(y,b,m){let g=y.readUInt8(m);if(y.isError(g))return g;if(!b&&g===128)return null;if(!(128&g))return g;const p=127&g;if(p>4)return y.error("length octect is too long");g=0;for(let v=0;v<p;v++){g<<=8;const C=y.readUInt8(m);if(y.isError(C))return C;g|=C}return g}n.exports=c,c.prototype.decode=function(y,b){return u.isDecoderBuffer(y)||(y=new u(y,b)),this.tree._decode(y,b)},i(f,a),f.prototype._peekTag=function(y,b,m){if(y.isEmpty())return!1;const g=y.save(),p=h(y,'Failed to peek tag: "'+b+'"');return y.isError(p)?p:(y.restore(g),p.tag===b||p.tagStr===b||p.tagStr+"of"===b||m)},f.prototype._decodeTag=function(y,b,m){const g=h(y,'Failed to decode tag of "'+b+'"');if(y.isError(g))return g;let p=d(y,g.primitive,'Failed to get length of "'+b+'"');if(y.isError(p))return p;if(!m&&g.tag!==b&&g.tagStr!==b&&g.tagStr+"of"!==b)return y.error('Failed to match tag: "'+b+'"');if(g.primitive||p!==null)return y.skip(p,'Failed to match body of: "'+b+'"');const v=y.save(),C=this._skipUntilEnd(y,'Failed to skip indefinite length body: "'+this.tag+'"');return y.isError(C)?C:(p=y.offset-v.offset,y.restore(v),y.skip(p,'Failed to match body of: "'+b+'"'))},f.prototype._skipUntilEnd=function(y,b){for(;;){const m=h(y,b);if(y.isError(m))return m;const g=d(y,m.primitive,b);if(y.isError(g))return g;let p;if(p=m.primitive||g!==null?y.skip(g):this._skipUntilEnd(y,b),y.isError(p))return p;if(m.tagStr==="end")break}},f.prototype._decodeList=function(y,b,m,g){const p=[];for(;!y.isEmpty();){const v=this._peekTag(y,"end");if(y.isError(v))return v;const C=m.decode(y,"der",g);if(y.isError(C)&&v)break;p.push(C)}return p},f.prototype._decodeStr=function(y,b){if(b==="bitstr"){const m=y.readUInt8();return y.isError(m)?m:{unused:m,data:y.raw()}}if(b==="bmpstr"){const m=y.raw();if(m.length%2==1)return y.error("Decoding of string type: bmpstr length mismatch");let g="";for(let p=0;p<m.length/2;p++)g+=String.fromCharCode(m.readUInt16BE(2*p));return g}if(b==="numstr"){const m=y.raw().toString("ascii");return this._isNumstr(m)?m:y.error("Decoding of string type: numstr unsupported characters")}if(b==="octstr"||b==="objDesc")return y.raw();if(b==="printstr"){const m=y.raw().toString("ascii");return this._isPrintstr(m)?m:y.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(b)?y.raw().toString():y.error("Decoding of string type: "+b+" unsupported")},f.prototype._decodeObjid=function(y,b,m){let g;const p=[];let v=0,C=0;for(;!y.isEmpty();)C=y.readUInt8(),v<<=7,v|=127&C,!(128&C)&&(p.push(v),v=0);128&C&&p.push(v);const j=p[0]/40|0,L=p[0]%40;if(g=m?p:[j,L].concat(p.slice(1)),b){let $=b[g.join(" ")];$===void 0&&($=b[g.join(".")]),$!==void 0&&(g=$)}return g},f.prototype._decodeTime=function(y,b){const m=y.raw().toString();let g,p,v,C,j,L;if(b==="gentime")g=0|m.slice(0,4),p=0|m.slice(4,6),v=0|m.slice(6,8),C=0|m.slice(8,10),j=0|m.slice(10,12),L=0|m.slice(12,14);else{if(b!=="utctime")return y.error("Decoding "+b+" time is not supported yet");g=0|m.slice(0,2),p=0|m.slice(2,4),v=0|m.slice(4,6),C=0|m.slice(6,8),j=0|m.slice(8,10),L=0|m.slice(10,12),g=g<70?2e3+g:1900+g}return Date.UTC(g,p-1,v,C,j,L,0)},f.prototype._decodeNull=function(){return null},f.prototype._decodeBool=function(y){const b=y.readUInt8();return y.isError(b)?b:b!==0},f.prototype._decodeInt=function(y,b){const m=y.raw();let g=new s(m);return b&&(g=b[g.toString(10)]||g),g},f.prototype._use=function(y,b){return typeof y=="function"&&(y=y(b)),y._getDecoder("der").tree}},{"../base/buffer":172,"../base/node":174,"../constants/der":176,"bn.js":184,inherits:440}],179:[function(e,n,l){const i=l;i.der=e("./der"),i.pem=e("./pem")},{"./der":178,"./pem":180}],180:[function(e,n,l){const i=e("inherits"),s=e("safer-buffer").Buffer,u=e("./der");function a(o){u.call(this,o),this.enc="pem"}i(a,u),n.exports=a,a.prototype.decode=function(o,c){const f=o.toString().split(/[\r\n]+/g),h=c.label.toUpperCase(),d=/^-----(BEGIN|END) ([^-]+)-----$/;let y=-1,b=-1;for(let p=0;p<f.length;p++){const v=f[p].match(d);if(v!==null&&v[2]===h){if(y!==-1){if(v[1]!=="END")break;b=p;break}if(v[1]!=="BEGIN")break;y=p}}if(y===-1||b===-1)throw new Error("PEM section not found for: "+h);const m=f.slice(y+1,b).join("");m.replace(/[^a-z0-9+/=]+/gi,"");const g=s.from(m,"base64");return u.prototype.decode.call(this,g,c)}},{"./der":178,inherits:440,"safer-buffer":495}],181:[function(e,n,l){const i=e("inherits"),s=e("safer-buffer").Buffer,u=e("../base/node"),a=e("../constants/der");function o(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new c,this.tree._init(h.body)}function c(h){u.call(this,"der",h)}function f(h){return h<10?"0"+h:h}n.exports=o,o.prototype.encode=function(h,d){return this.tree._encode(h,d).join()},i(c,u),c.prototype._encodeComposite=function(h,d,y,b){const m=function(v,C,j,L){let $;if(v==="seqof"?v="seq":v==="setof"&&(v="set"),a.tagByName.hasOwnProperty(v))$=a.tagByName[v];else{if(typeof v!="number"||(0|v)!==v)return L.error("Unknown tag: "+v);$=v}return $>=31?L.error("Multi-octet tag encoding unsupported"):(C||($|=32),$|=a.tagClassByName[j||"universal"]<<6,$)}(h,d,y,this.reporter);if(b.length<128){const v=s.alloc(2);return v[0]=m,v[1]=b.length,this._createEncoderBuffer([v,b])}let g=1;for(let v=b.length;v>=256;v>>=8)g++;const p=s.alloc(2+g);p[0]=m,p[1]=128|g;for(let v=1+g,C=b.length;C>0;v--,C>>=8)p[v]=255&C;return this._createEncoderBuffer([p,b])},c.prototype._encodeStr=function(h,d){if(d==="bitstr")return this._createEncoderBuffer([0|h.unused,h.data]);if(d==="bmpstr"){const y=s.alloc(2*h.length);for(let b=0;b<h.length;b++)y.writeUInt16BE(h.charCodeAt(b),2*b);return this._createEncoderBuffer(y)}return d==="numstr"?this._isNumstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: numstr supports only digits and space"):d==="printstr"?this._isPrintstr(h)?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(d)||d==="objDesc"?this._createEncoderBuffer(h):this.reporter.error("Encoding of string type: "+d+" unsupported")},c.prototype._encodeObjid=function(h,d,y){if(typeof h=="string"){if(!d)return this.reporter.error("string objid given, but no values map found");if(!d.hasOwnProperty(h))return this.reporter.error("objid not found in values map");h=d[h].split(/[\s.]+/g);for(let p=0;p<h.length;p++)h[p]|=0}else if(Array.isArray(h)){h=h.slice();for(let p=0;p<h.length;p++)h[p]|=0}if(!Array.isArray(h))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(h));if(!y){if(h[1]>=40)return this.reporter.error("Second objid identifier OOB");h.splice(0,2,40*h[0]+h[1])}let b=0;for(let p=0;p<h.length;p++){let v=h[p];for(b++;v>=128;v>>=7)b++}const m=s.alloc(b);let g=m.length-1;for(let p=h.length-1;p>=0;p--){let v=h[p];for(m[g--]=127&v;(v>>=7)>0;)m[g--]=128|127&v}return this._createEncoderBuffer(m)},c.prototype._encodeTime=function(h,d){let y;const b=new Date(h);return d==="gentime"?y=[f(b.getUTCFullYear()),f(b.getUTCMonth()+1),f(b.getUTCDate()),f(b.getUTCHours()),f(b.getUTCMinutes()),f(b.getUTCSeconds()),"Z"].join(""):d==="utctime"?y=[f(b.getUTCFullYear()%100),f(b.getUTCMonth()+1),f(b.getUTCDate()),f(b.getUTCHours()),f(b.getUTCMinutes()),f(b.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+d+" time is not supported yet"),this._encodeStr(y,"octstr")},c.prototype._encodeNull=function(){return this._createEncoderBuffer("")},c.prototype._encodeInt=function(h,d){if(typeof h=="string"){if(!d)return this.reporter.error("String int or enum given, but no values map");if(!d.hasOwnProperty(h))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(h));h=d[h]}if(typeof h!="number"&&!s.isBuffer(h)){const m=h.toArray();!h.sign&&128&m[0]&&m.unshift(0),h=s.from(m)}if(s.isBuffer(h)){let m=h.length;h.length===0&&m++;const g=s.alloc(m);return h.copy(g),h.length===0&&(g[0]=0),this._createEncoderBuffer(g)}if(h<128)return this._createEncoderBuffer(h);if(h<256)return this._createEncoderBuffer([0,h]);let y=1;for(let m=h;m>=256;m>>=8)y++;const b=new Array(y);for(let m=b.length-1;m>=0;m--)b[m]=255&h,h>>=8;return 128&b[0]&&b.unshift(0),this._createEncoderBuffer(s.from(b))},c.prototype._encodeBool=function(h){return this._createEncoderBuffer(h?255:0)},c.prototype._use=function(h,d){return typeof h=="function"&&(h=h(d)),h._getEncoder("der").tree},c.prototype._skipDefault=function(h,d,y){const b=this._baseState;let m;if(b.default===null)return!1;const g=h.join();if(b.defaultBuffer===void 0&&(b.defaultBuffer=this._encodeValue(b.default,d,y).join()),g.length!==b.defaultBuffer.length)return!1;for(m=0;m<g.length;m++)if(g[m]!==b.defaultBuffer[m])return!1;return!0}},{"../base/node":174,"../constants/der":176,inherits:440,"safer-buffer":495}],182:[function(e,n,l){const i=l;i.der=e("./der"),i.pem=e("./pem")},{"./der":181,"./pem":183}],183:[function(e,n,l){const i=e("inherits"),s=e("./der");function u(a){s.call(this,a),this.enc="pem"}i(u,s),n.exports=u,u.prototype.encode=function(a,o){const c=s.prototype.encode.call(this,a).toString("base64"),f=["-----BEGIN "+o.label+"-----"];for(let h=0;h<c.length;h+=64)f.push(c.slice(h,h+64));return f.push("-----END "+o.label+"-----"),f.join(`
`)}},{"./der":181,inherits:440}],184:[function(e,n,l){(function(i,s){function u(A,P){if(!A)throw new Error(P||"Assertion failed")}function a(A,P){A.super_=P;var k=function(){};k.prototype=P.prototype,A.prototype=new k,A.prototype.constructor=A}function o(A,P,k){if(o.isBN(A))return A;this.negative=0,this.words=null,this.length=0,this.red=null,A!==null&&(P!=="le"&&P!=="be"||(k=P,P=10),this._init(A||0,P||10,k||"be"))}var c;typeof i=="object"?i.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(A,P){var k=A.charCodeAt(P);return k>=65&&k<=70?k-55:k>=97&&k<=102?k-87:k-48&15}function h(A,P,k){var w=f(A,k);return k-1>=P&&(w|=f(A,k-1)<<4),w}function d(A,P,k,w){for(var S=0,x=Math.min(A.length,k),_=P;_<x;_++){var E=A.charCodeAt(_)-48;S*=w,S+=E>=49?E-49+10:E>=17?E-17+10:E}return S}o.isBN=function(A){return A instanceof o||A!==null&&typeof A=="object"&&A.constructor.wordSize===o.wordSize&&Array.isArray(A.words)},o.max=function(A,P){return A.cmp(P)>0?A:P},o.min=function(A,P){return A.cmp(P)<0?A:P},o.prototype._init=function(A,P,k){if(typeof A=="number")return this._initNumber(A,P,k);if(typeof A=="object")return this._initArray(A,P,k);P==="hex"&&(P=16),u(P===(0|P)&&P>=2&&P<=36);var w=0;(A=A.toString().replace(/\s+/g,""))[0]==="-"&&(w++,this.negative=1),w<A.length&&(P===16?this._parseHex(A,w,k):(this._parseBase(A,P,w),k==="le"&&this._initArray(this.toArray(),P,k)))},o.prototype._initNumber=function(A,P,k){A<0&&(this.negative=1,A=-A),A<67108864?(this.words=[67108863&A],this.length=1):A<4503599627370496?(this.words=[67108863&A,A/67108864&67108863],this.length=2):(u(A<9007199254740992),this.words=[67108863&A,A/67108864&67108863,1],this.length=3),k==="le"&&this._initArray(this.toArray(),P,k)},o.prototype._initArray=function(A,P,k){if(u(typeof A.length=="number"),A.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(A.length/3),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,x,_=0;if(k==="be")for(w=A.length-1,S=0;w>=0;w-=3)x=A[w]|A[w-1]<<8|A[w-2]<<16,this.words[S]|=x<<_&67108863,this.words[S+1]=x>>>26-_&67108863,(_+=24)>=26&&(_-=26,S++);else if(k==="le")for(w=0,S=0;w<A.length;w+=3)x=A[w]|A[w+1]<<8|A[w+2]<<16,this.words[S]|=x<<_&67108863,this.words[S+1]=x>>>26-_&67108863,(_+=24)>=26&&(_-=26,S++);return this.strip()},o.prototype._parseHex=function(A,P,k){this.length=Math.ceil((A.length-P)/6),this.words=new Array(this.length);for(var w=0;w<this.length;w++)this.words[w]=0;var S,x=0,_=0;if(k==="be")for(w=A.length-1;w>=P;w-=2)S=h(A,P,w)<<x,this.words[_]|=67108863&S,x>=18?(x-=18,_+=1,this.words[_]|=S>>>26):x+=8;else for(w=(A.length-P)%2==0?P+1:P;w<A.length;w+=2)S=h(A,P,w)<<x,this.words[_]|=67108863&S,x>=18?(x-=18,_+=1,this.words[_]|=S>>>26):x+=8;this.strip()},o.prototype._parseBase=function(A,P,k){this.words=[0],this.length=1;for(var w=0,S=1;S<=67108863;S*=P)w++;w--,S=S/P|0;for(var x=A.length-k,_=x%w,E=Math.min(x,x-_)+k,D=0,N=k;N<E;N+=w)D=d(A,N,N+w,P),this.imuln(S),this.words[0]+D<67108864?this.words[0]+=D:this._iaddn(D);if(_!==0){var U=1;for(D=d(A,N,A.length,P),N=0;N<_;N++)U*=P;this.imuln(U),this.words[0]+D<67108864?this.words[0]+=D:this._iaddn(D)}this.strip()},o.prototype.copy=function(A){A.words=new Array(this.length);for(var P=0;P<this.length;P++)A.words[P]=this.words[P];A.length=this.length,A.negative=this.negative,A.red=this.red},o.prototype.clone=function(){var A=new o(null);return this.copy(A),A},o.prototype._expand=function(A){for(;this.length<A;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var y=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],b=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function g(A,P,k){k.negative=P.negative^A.negative;var w=A.length+P.length|0;k.length=w,w=w-1|0;var S=0|A.words[0],x=0|P.words[0],_=S*x,E=67108863&_,D=_/67108864|0;k.words[0]=E;for(var N=1;N<w;N++){for(var U=D>>>26,V=67108863&D,J=Math.min(N,P.length-1),F=Math.max(0,N-A.length+1);F<=J;F++){var Y=N-F|0;U+=(_=(S=0|A.words[Y])*(x=0|P.words[F])+V)/67108864|0,V=67108863&_}k.words[N]=0|V,D=0|U}return D!==0?k.words[N]=0|D:k.length--,k.strip()}o.prototype.toString=function(A,P){var k;if(P=0|P||1,(A=A||10)===16||A==="hex"){k="";for(var w=0,S=0,x=0;x<this.length;x++){var _=this.words[x],E=(16777215&(_<<w|S)).toString(16);k=(S=_>>>24-w&16777215)!==0||x!==this.length-1?y[6-E.length]+E+k:E+k,(w+=2)>=26&&(w-=26,x--)}for(S!==0&&(k=S.toString(16)+k);k.length%P!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}if(A===(0|A)&&A>=2&&A<=36){var D=b[A],N=m[A];k="";var U=this.clone();for(U.negative=0;!U.isZero();){var V=U.modn(N).toString(A);k=(U=U.idivn(N)).isZero()?V+k:y[D-V.length]+V+k}for(this.isZero()&&(k="0"+k);k.length%P!=0;)k="0"+k;return this.negative!==0&&(k="-"+k),k}u(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var A=this.words[0];return this.length===2?A+=67108864*this.words[1]:this.length===3&&this.words[2]===1?A+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-A:A},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(A,P){return u(c!==void 0),this.toArrayLike(c,A,P)},o.prototype.toArray=function(A,P){return this.toArrayLike(Array,A,P)},o.prototype.toArrayLike=function(A,P,k){var w=this.byteLength(),S=k||Math.max(1,w);u(w<=S,"byte array longer than desired length"),u(S>0,"Requested array length <= 0"),this.strip();var x,_,E=P==="le",D=new A(S),N=this.clone();if(E){for(_=0;!N.isZero();_++)x=N.andln(255),N.iushrn(8),D[_]=x;for(;_<S;_++)D[_]=0}else{for(_=0;_<S-w;_++)D[_]=0;for(_=0;!N.isZero();_++)x=N.andln(255),N.iushrn(8),D[S-_-1]=x}return D},Math.clz32?o.prototype._countBits=function(A){return 32-Math.clz32(A)}:o.prototype._countBits=function(A){var P=A,k=0;return P>=4096&&(k+=13,P>>>=13),P>=64&&(k+=7,P>>>=7),P>=8&&(k+=4,P>>>=4),P>=2&&(k+=2,P>>>=2),k+P},o.prototype._zeroBits=function(A){if(A===0)return 26;var P=A,k=0;return!(8191&P)&&(k+=13,P>>>=13),!(127&P)&&(k+=7,P>>>=7),!(15&P)&&(k+=4,P>>>=4),!(3&P)&&(k+=2,P>>>=2),!(1&P)&&k++,k},o.prototype.bitLength=function(){var A=this.words[this.length-1],P=this._countBits(A);return 26*(this.length-1)+P},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var A=0,P=0;P<this.length;P++){var k=this._zeroBits(this.words[P]);if(A+=k,k!==26)break}return A},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(A){return this.negative!==0?this.abs().inotn(A).iaddn(1):this.clone()},o.prototype.fromTwos=function(A){return this.testn(A-1)?this.notn(A).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(A){for(;this.length<A.length;)this.words[this.length++]=0;for(var P=0;P<A.length;P++)this.words[P]=this.words[P]|A.words[P];return this.strip()},o.prototype.ior=function(A){return u((this.negative|A.negative)==0),this.iuor(A)},o.prototype.or=function(A){return this.length>A.length?this.clone().ior(A):A.clone().ior(this)},o.prototype.uor=function(A){return this.length>A.length?this.clone().iuor(A):A.clone().iuor(this)},o.prototype.iuand=function(A){var P;P=this.length>A.length?A:this;for(var k=0;k<P.length;k++)this.words[k]=this.words[k]&A.words[k];return this.length=P.length,this.strip()},o.prototype.iand=function(A){return u((this.negative|A.negative)==0),this.iuand(A)},o.prototype.and=function(A){return this.length>A.length?this.clone().iand(A):A.clone().iand(this)},o.prototype.uand=function(A){return this.length>A.length?this.clone().iuand(A):A.clone().iuand(this)},o.prototype.iuxor=function(A){var P,k;this.length>A.length?(P=this,k=A):(P=A,k=this);for(var w=0;w<k.length;w++)this.words[w]=P.words[w]^k.words[w];if(this!==P)for(;w<P.length;w++)this.words[w]=P.words[w];return this.length=P.length,this.strip()},o.prototype.ixor=function(A){return u((this.negative|A.negative)==0),this.iuxor(A)},o.prototype.xor=function(A){return this.length>A.length?this.clone().ixor(A):A.clone().ixor(this)},o.prototype.uxor=function(A){return this.length>A.length?this.clone().iuxor(A):A.clone().iuxor(this)},o.prototype.inotn=function(A){u(typeof A=="number"&&A>=0);var P=0|Math.ceil(A/26),k=A%26;this._expand(P),k>0&&P--;for(var w=0;w<P;w++)this.words[w]=67108863&~this.words[w];return k>0&&(this.words[w]=~this.words[w]&67108863>>26-k),this.strip()},o.prototype.notn=function(A){return this.clone().inotn(A)},o.prototype.setn=function(A,P){u(typeof A=="number"&&A>=0);var k=A/26|0,w=A%26;return this._expand(k+1),this.words[k]=P?this.words[k]|1<<w:this.words[k]&~(1<<w),this.strip()},o.prototype.iadd=function(A){var P,k,w;if(this.negative!==0&&A.negative===0)return this.negative=0,P=this.isub(A),this.negative^=1,this._normSign();if(this.negative===0&&A.negative!==0)return A.negative=0,P=this.isub(A),A.negative=1,P._normSign();this.length>A.length?(k=this,w=A):(k=A,w=this);for(var S=0,x=0;x<w.length;x++)P=(0|k.words[x])+(0|w.words[x])+S,this.words[x]=67108863&P,S=P>>>26;for(;S!==0&&x<k.length;x++)P=(0|k.words[x])+S,this.words[x]=67108863&P,S=P>>>26;if(this.length=k.length,S!==0)this.words[this.length]=S,this.length++;else if(k!==this)for(;x<k.length;x++)this.words[x]=k.words[x];return this},o.prototype.add=function(A){var P;return A.negative!==0&&this.negative===0?(A.negative=0,P=this.sub(A),A.negative^=1,P):A.negative===0&&this.negative!==0?(this.negative=0,P=A.sub(this),this.negative=1,P):this.length>A.length?this.clone().iadd(A):A.clone().iadd(this)},o.prototype.isub=function(A){if(A.negative!==0){A.negative=0;var P=this.iadd(A);return A.negative=1,P._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(A),this.negative=1,this._normSign();var k,w,S=this.cmp(A);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;S>0?(k=this,w=A):(k=A,w=this);for(var x=0,_=0;_<w.length;_++)x=(P=(0|k.words[_])-(0|w.words[_])+x)>>26,this.words[_]=67108863&P;for(;x!==0&&_<k.length;_++)x=(P=(0|k.words[_])+x)>>26,this.words[_]=67108863&P;if(x===0&&_<k.length&&k!==this)for(;_<k.length;_++)this.words[_]=k.words[_];return this.length=Math.max(this.length,_),k!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(A){return this.clone().isub(A)};var p=function(A,P,k){var w,S,x,_=A.words,E=P.words,D=k.words,N=0,U=0|_[0],V=8191&U,J=U>>>13,F=0|_[1],Y=8191&F,O=F>>>13,T=0|_[2],G=8191&T,Q=T>>>13,ne=0|_[3],Z=8191&ne,oe=ne>>>13,ue=0|_[4],te=8191&ue,se=ue>>>13,pe=0|_[5],ie=8191&pe,fe=pe>>>13,be=0|_[6],re=8191&be,ve=be>>>13,_e=0|_[7],Re=8191&_e,Ge=_e>>>13,Ze=0|_[8],Ye=8191&Ze,et=Ze>>>13,ke=0|_[9],je=8191&ke,Ue=ke>>>13,Le=0|E[0],Ve=8191&Le,He=Le>>>13,ot=0|E[1],ct=8191&ot,bt=ot>>>13,Lt=0|E[2],pt=8191&Lt,Ft=Lt>>>13,Bt=0|E[3],xt=8191&Bt,vt=Bt>>>13,Me=0|E[4],Je=8191&Me,Ce=Me>>>13,We=0|E[5],De=8191&We,Fe=We>>>13,Ke=0|E[6],st=8191&Ke,we=Ke>>>13,Ae=0|E[7],ze=8191&Ae,lt=Ae>>>13,Et=0|E[8],ht=8191&Et,jt=Et>>>13,Ct=0|E[9],_t=8191&Ct,It=Ct>>>13;k.negative=A.negative^P.negative,k.length=19;var Nt=(N+(w=Math.imul(V,Ve))|0)+((8191&(S=(S=Math.imul(V,He))+Math.imul(J,Ve)|0))<<13)|0;N=((x=Math.imul(J,He))+(S>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,w=Math.imul(Y,Ve),S=(S=Math.imul(Y,He))+Math.imul(O,Ve)|0,x=Math.imul(O,He);var $t=(N+(w=w+Math.imul(V,ct)|0)|0)+((8191&(S=(S=S+Math.imul(V,bt)|0)+Math.imul(J,ct)|0))<<13)|0;N=((x=x+Math.imul(J,bt)|0)+(S>>>13)|0)+($t>>>26)|0,$t&=67108863,w=Math.imul(G,Ve),S=(S=Math.imul(G,He))+Math.imul(Q,Ve)|0,x=Math.imul(Q,He),w=w+Math.imul(Y,ct)|0,S=(S=S+Math.imul(Y,bt)|0)+Math.imul(O,ct)|0,x=x+Math.imul(O,bt)|0;var pr=(N+(w=w+Math.imul(V,pt)|0)|0)+((8191&(S=(S=S+Math.imul(V,Ft)|0)+Math.imul(J,pt)|0))<<13)|0;N=((x=x+Math.imul(J,Ft)|0)+(S>>>13)|0)+(pr>>>26)|0,pr&=67108863,w=Math.imul(Z,Ve),S=(S=Math.imul(Z,He))+Math.imul(oe,Ve)|0,x=Math.imul(oe,He),w=w+Math.imul(G,ct)|0,S=(S=S+Math.imul(G,bt)|0)+Math.imul(Q,ct)|0,x=x+Math.imul(Q,bt)|0,w=w+Math.imul(Y,pt)|0,S=(S=S+Math.imul(Y,Ft)|0)+Math.imul(O,pt)|0,x=x+Math.imul(O,Ft)|0;var ar=(N+(w=w+Math.imul(V,xt)|0)|0)+((8191&(S=(S=S+Math.imul(V,vt)|0)+Math.imul(J,xt)|0))<<13)|0;N=((x=x+Math.imul(J,vt)|0)+(S>>>13)|0)+(ar>>>26)|0,ar&=67108863,w=Math.imul(te,Ve),S=(S=Math.imul(te,He))+Math.imul(se,Ve)|0,x=Math.imul(se,He),w=w+Math.imul(Z,ct)|0,S=(S=S+Math.imul(Z,bt)|0)+Math.imul(oe,ct)|0,x=x+Math.imul(oe,bt)|0,w=w+Math.imul(G,pt)|0,S=(S=S+Math.imul(G,Ft)|0)+Math.imul(Q,pt)|0,x=x+Math.imul(Q,Ft)|0,w=w+Math.imul(Y,xt)|0,S=(S=S+Math.imul(Y,vt)|0)+Math.imul(O,xt)|0,x=x+Math.imul(O,vt)|0;var kr=(N+(w=w+Math.imul(V,Je)|0)|0)+((8191&(S=(S=S+Math.imul(V,Ce)|0)+Math.imul(J,Je)|0))<<13)|0;N=((x=x+Math.imul(J,Ce)|0)+(S>>>13)|0)+(kr>>>26)|0,kr&=67108863,w=Math.imul(ie,Ve),S=(S=Math.imul(ie,He))+Math.imul(fe,Ve)|0,x=Math.imul(fe,He),w=w+Math.imul(te,ct)|0,S=(S=S+Math.imul(te,bt)|0)+Math.imul(se,ct)|0,x=x+Math.imul(se,bt)|0,w=w+Math.imul(Z,pt)|0,S=(S=S+Math.imul(Z,Ft)|0)+Math.imul(oe,pt)|0,x=x+Math.imul(oe,Ft)|0,w=w+Math.imul(G,xt)|0,S=(S=S+Math.imul(G,vt)|0)+Math.imul(Q,xt)|0,x=x+Math.imul(Q,vt)|0,w=w+Math.imul(Y,Je)|0,S=(S=S+Math.imul(Y,Ce)|0)+Math.imul(O,Je)|0,x=x+Math.imul(O,Ce)|0;var Cr=(N+(w=w+Math.imul(V,De)|0)|0)+((8191&(S=(S=S+Math.imul(V,Fe)|0)+Math.imul(J,De)|0))<<13)|0;N=((x=x+Math.imul(J,Fe)|0)+(S>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,w=Math.imul(re,Ve),S=(S=Math.imul(re,He))+Math.imul(ve,Ve)|0,x=Math.imul(ve,He),w=w+Math.imul(ie,ct)|0,S=(S=S+Math.imul(ie,bt)|0)+Math.imul(fe,ct)|0,x=x+Math.imul(fe,bt)|0,w=w+Math.imul(te,pt)|0,S=(S=S+Math.imul(te,Ft)|0)+Math.imul(se,pt)|0,x=x+Math.imul(se,Ft)|0,w=w+Math.imul(Z,xt)|0,S=(S=S+Math.imul(Z,vt)|0)+Math.imul(oe,xt)|0,x=x+Math.imul(oe,vt)|0,w=w+Math.imul(G,Je)|0,S=(S=S+Math.imul(G,Ce)|0)+Math.imul(Q,Je)|0,x=x+Math.imul(Q,Ce)|0,w=w+Math.imul(Y,De)|0,S=(S=S+Math.imul(Y,Fe)|0)+Math.imul(O,De)|0,x=x+Math.imul(O,Fe)|0;var Wr=(N+(w=w+Math.imul(V,st)|0)|0)+((8191&(S=(S=S+Math.imul(V,we)|0)+Math.imul(J,st)|0))<<13)|0;N=((x=x+Math.imul(J,we)|0)+(S>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,w=Math.imul(Re,Ve),S=(S=Math.imul(Re,He))+Math.imul(Ge,Ve)|0,x=Math.imul(Ge,He),w=w+Math.imul(re,ct)|0,S=(S=S+Math.imul(re,bt)|0)+Math.imul(ve,ct)|0,x=x+Math.imul(ve,bt)|0,w=w+Math.imul(ie,pt)|0,S=(S=S+Math.imul(ie,Ft)|0)+Math.imul(fe,pt)|0,x=x+Math.imul(fe,Ft)|0,w=w+Math.imul(te,xt)|0,S=(S=S+Math.imul(te,vt)|0)+Math.imul(se,xt)|0,x=x+Math.imul(se,vt)|0,w=w+Math.imul(Z,Je)|0,S=(S=S+Math.imul(Z,Ce)|0)+Math.imul(oe,Je)|0,x=x+Math.imul(oe,Ce)|0,w=w+Math.imul(G,De)|0,S=(S=S+Math.imul(G,Fe)|0)+Math.imul(Q,De)|0,x=x+Math.imul(Q,Fe)|0,w=w+Math.imul(Y,st)|0,S=(S=S+Math.imul(Y,we)|0)+Math.imul(O,st)|0,x=x+Math.imul(O,we)|0;var xe=(N+(w=w+Math.imul(V,ze)|0)|0)+((8191&(S=(S=S+Math.imul(V,lt)|0)+Math.imul(J,ze)|0))<<13)|0;N=((x=x+Math.imul(J,lt)|0)+(S>>>13)|0)+(xe>>>26)|0,xe&=67108863,w=Math.imul(Ye,Ve),S=(S=Math.imul(Ye,He))+Math.imul(et,Ve)|0,x=Math.imul(et,He),w=w+Math.imul(Re,ct)|0,S=(S=S+Math.imul(Re,bt)|0)+Math.imul(Ge,ct)|0,x=x+Math.imul(Ge,bt)|0,w=w+Math.imul(re,pt)|0,S=(S=S+Math.imul(re,Ft)|0)+Math.imul(ve,pt)|0,x=x+Math.imul(ve,Ft)|0,w=w+Math.imul(ie,xt)|0,S=(S=S+Math.imul(ie,vt)|0)+Math.imul(fe,xt)|0,x=x+Math.imul(fe,vt)|0,w=w+Math.imul(te,Je)|0,S=(S=S+Math.imul(te,Ce)|0)+Math.imul(se,Je)|0,x=x+Math.imul(se,Ce)|0,w=w+Math.imul(Z,De)|0,S=(S=S+Math.imul(Z,Fe)|0)+Math.imul(oe,De)|0,x=x+Math.imul(oe,Fe)|0,w=w+Math.imul(G,st)|0,S=(S=S+Math.imul(G,we)|0)+Math.imul(Q,st)|0,x=x+Math.imul(Q,we)|0,w=w+Math.imul(Y,ze)|0,S=(S=S+Math.imul(Y,lt)|0)+Math.imul(O,ze)|0,x=x+Math.imul(O,lt)|0;var Be=(N+(w=w+Math.imul(V,ht)|0)|0)+((8191&(S=(S=S+Math.imul(V,jt)|0)+Math.imul(J,ht)|0))<<13)|0;N=((x=x+Math.imul(J,jt)|0)+(S>>>13)|0)+(Be>>>26)|0,Be&=67108863,w=Math.imul(je,Ve),S=(S=Math.imul(je,He))+Math.imul(Ue,Ve)|0,x=Math.imul(Ue,He),w=w+Math.imul(Ye,ct)|0,S=(S=S+Math.imul(Ye,bt)|0)+Math.imul(et,ct)|0,x=x+Math.imul(et,bt)|0,w=w+Math.imul(Re,pt)|0,S=(S=S+Math.imul(Re,Ft)|0)+Math.imul(Ge,pt)|0,x=x+Math.imul(Ge,Ft)|0,w=w+Math.imul(re,xt)|0,S=(S=S+Math.imul(re,vt)|0)+Math.imul(ve,xt)|0,x=x+Math.imul(ve,vt)|0,w=w+Math.imul(ie,Je)|0,S=(S=S+Math.imul(ie,Ce)|0)+Math.imul(fe,Je)|0,x=x+Math.imul(fe,Ce)|0,w=w+Math.imul(te,De)|0,S=(S=S+Math.imul(te,Fe)|0)+Math.imul(se,De)|0,x=x+Math.imul(se,Fe)|0,w=w+Math.imul(Z,st)|0,S=(S=S+Math.imul(Z,we)|0)+Math.imul(oe,st)|0,x=x+Math.imul(oe,we)|0,w=w+Math.imul(G,ze)|0,S=(S=S+Math.imul(G,lt)|0)+Math.imul(Q,ze)|0,x=x+Math.imul(Q,lt)|0,w=w+Math.imul(Y,ht)|0,S=(S=S+Math.imul(Y,jt)|0)+Math.imul(O,ht)|0,x=x+Math.imul(O,jt)|0;var tt=(N+(w=w+Math.imul(V,_t)|0)|0)+((8191&(S=(S=S+Math.imul(V,It)|0)+Math.imul(J,_t)|0))<<13)|0;N=((x=x+Math.imul(J,It)|0)+(S>>>13)|0)+(tt>>>26)|0,tt&=67108863,w=Math.imul(je,ct),S=(S=Math.imul(je,bt))+Math.imul(Ue,ct)|0,x=Math.imul(Ue,bt),w=w+Math.imul(Ye,pt)|0,S=(S=S+Math.imul(Ye,Ft)|0)+Math.imul(et,pt)|0,x=x+Math.imul(et,Ft)|0,w=w+Math.imul(Re,xt)|0,S=(S=S+Math.imul(Re,vt)|0)+Math.imul(Ge,xt)|0,x=x+Math.imul(Ge,vt)|0,w=w+Math.imul(re,Je)|0,S=(S=S+Math.imul(re,Ce)|0)+Math.imul(ve,Je)|0,x=x+Math.imul(ve,Ce)|0,w=w+Math.imul(ie,De)|0,S=(S=S+Math.imul(ie,Fe)|0)+Math.imul(fe,De)|0,x=x+Math.imul(fe,Fe)|0,w=w+Math.imul(te,st)|0,S=(S=S+Math.imul(te,we)|0)+Math.imul(se,st)|0,x=x+Math.imul(se,we)|0,w=w+Math.imul(Z,ze)|0,S=(S=S+Math.imul(Z,lt)|0)+Math.imul(oe,ze)|0,x=x+Math.imul(oe,lt)|0,w=w+Math.imul(G,ht)|0,S=(S=S+Math.imul(G,jt)|0)+Math.imul(Q,ht)|0,x=x+Math.imul(Q,jt)|0;var at=(N+(w=w+Math.imul(Y,_t)|0)|0)+((8191&(S=(S=S+Math.imul(Y,It)|0)+Math.imul(O,_t)|0))<<13)|0;N=((x=x+Math.imul(O,It)|0)+(S>>>13)|0)+(at>>>26)|0,at&=67108863,w=Math.imul(je,pt),S=(S=Math.imul(je,Ft))+Math.imul(Ue,pt)|0,x=Math.imul(Ue,Ft),w=w+Math.imul(Ye,xt)|0,S=(S=S+Math.imul(Ye,vt)|0)+Math.imul(et,xt)|0,x=x+Math.imul(et,vt)|0,w=w+Math.imul(Re,Je)|0,S=(S=S+Math.imul(Re,Ce)|0)+Math.imul(Ge,Je)|0,x=x+Math.imul(Ge,Ce)|0,w=w+Math.imul(re,De)|0,S=(S=S+Math.imul(re,Fe)|0)+Math.imul(ve,De)|0,x=x+Math.imul(ve,Fe)|0,w=w+Math.imul(ie,st)|0,S=(S=S+Math.imul(ie,we)|0)+Math.imul(fe,st)|0,x=x+Math.imul(fe,we)|0,w=w+Math.imul(te,ze)|0,S=(S=S+Math.imul(te,lt)|0)+Math.imul(se,ze)|0,x=x+Math.imul(se,lt)|0,w=w+Math.imul(Z,ht)|0,S=(S=S+Math.imul(Z,jt)|0)+Math.imul(oe,ht)|0,x=x+Math.imul(oe,jt)|0;var Tt=(N+(w=w+Math.imul(G,_t)|0)|0)+((8191&(S=(S=S+Math.imul(G,It)|0)+Math.imul(Q,_t)|0))<<13)|0;N=((x=x+Math.imul(Q,It)|0)+(S>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,w=Math.imul(je,xt),S=(S=Math.imul(je,vt))+Math.imul(Ue,xt)|0,x=Math.imul(Ue,vt),w=w+Math.imul(Ye,Je)|0,S=(S=S+Math.imul(Ye,Ce)|0)+Math.imul(et,Je)|0,x=x+Math.imul(et,Ce)|0,w=w+Math.imul(Re,De)|0,S=(S=S+Math.imul(Re,Fe)|0)+Math.imul(Ge,De)|0,x=x+Math.imul(Ge,Fe)|0,w=w+Math.imul(re,st)|0,S=(S=S+Math.imul(re,we)|0)+Math.imul(ve,st)|0,x=x+Math.imul(ve,we)|0,w=w+Math.imul(ie,ze)|0,S=(S=S+Math.imul(ie,lt)|0)+Math.imul(fe,ze)|0,x=x+Math.imul(fe,lt)|0,w=w+Math.imul(te,ht)|0,S=(S=S+Math.imul(te,jt)|0)+Math.imul(se,ht)|0,x=x+Math.imul(se,jt)|0;var mt=(N+(w=w+Math.imul(Z,_t)|0)|0)+((8191&(S=(S=S+Math.imul(Z,It)|0)+Math.imul(oe,_t)|0))<<13)|0;N=((x=x+Math.imul(oe,It)|0)+(S>>>13)|0)+(mt>>>26)|0,mt&=67108863,w=Math.imul(je,Je),S=(S=Math.imul(je,Ce))+Math.imul(Ue,Je)|0,x=Math.imul(Ue,Ce),w=w+Math.imul(Ye,De)|0,S=(S=S+Math.imul(Ye,Fe)|0)+Math.imul(et,De)|0,x=x+Math.imul(et,Fe)|0,w=w+Math.imul(Re,st)|0,S=(S=S+Math.imul(Re,we)|0)+Math.imul(Ge,st)|0,x=x+Math.imul(Ge,we)|0,w=w+Math.imul(re,ze)|0,S=(S=S+Math.imul(re,lt)|0)+Math.imul(ve,ze)|0,x=x+Math.imul(ve,lt)|0,w=w+Math.imul(ie,ht)|0,S=(S=S+Math.imul(ie,jt)|0)+Math.imul(fe,ht)|0,x=x+Math.imul(fe,jt)|0;var gt=(N+(w=w+Math.imul(te,_t)|0)|0)+((8191&(S=(S=S+Math.imul(te,It)|0)+Math.imul(se,_t)|0))<<13)|0;N=((x=x+Math.imul(se,It)|0)+(S>>>13)|0)+(gt>>>26)|0,gt&=67108863,w=Math.imul(je,De),S=(S=Math.imul(je,Fe))+Math.imul(Ue,De)|0,x=Math.imul(Ue,Fe),w=w+Math.imul(Ye,st)|0,S=(S=S+Math.imul(Ye,we)|0)+Math.imul(et,st)|0,x=x+Math.imul(et,we)|0,w=w+Math.imul(Re,ze)|0,S=(S=S+Math.imul(Re,lt)|0)+Math.imul(Ge,ze)|0,x=x+Math.imul(Ge,lt)|0,w=w+Math.imul(re,ht)|0,S=(S=S+Math.imul(re,jt)|0)+Math.imul(ve,ht)|0,x=x+Math.imul(ve,jt)|0;var er=(N+(w=w+Math.imul(ie,_t)|0)|0)+((8191&(S=(S=S+Math.imul(ie,It)|0)+Math.imul(fe,_t)|0))<<13)|0;N=((x=x+Math.imul(fe,It)|0)+(S>>>13)|0)+(er>>>26)|0,er&=67108863,w=Math.imul(je,st),S=(S=Math.imul(je,we))+Math.imul(Ue,st)|0,x=Math.imul(Ue,we),w=w+Math.imul(Ye,ze)|0,S=(S=S+Math.imul(Ye,lt)|0)+Math.imul(et,ze)|0,x=x+Math.imul(et,lt)|0,w=w+Math.imul(Re,ht)|0,S=(S=S+Math.imul(Re,jt)|0)+Math.imul(Ge,ht)|0,x=x+Math.imul(Ge,jt)|0;var Gt=(N+(w=w+Math.imul(re,_t)|0)|0)+((8191&(S=(S=S+Math.imul(re,It)|0)+Math.imul(ve,_t)|0))<<13)|0;N=((x=x+Math.imul(ve,It)|0)+(S>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,w=Math.imul(je,ze),S=(S=Math.imul(je,lt))+Math.imul(Ue,ze)|0,x=Math.imul(Ue,lt),w=w+Math.imul(Ye,ht)|0,S=(S=S+Math.imul(Ye,jt)|0)+Math.imul(et,ht)|0,x=x+Math.imul(et,jt)|0;var Kt=(N+(w=w+Math.imul(Re,_t)|0)|0)+((8191&(S=(S=S+Math.imul(Re,It)|0)+Math.imul(Ge,_t)|0))<<13)|0;N=((x=x+Math.imul(Ge,It)|0)+(S>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,w=Math.imul(je,ht),S=(S=Math.imul(je,jt))+Math.imul(Ue,ht)|0,x=Math.imul(Ue,jt);var Mt=(N+(w=w+Math.imul(Ye,_t)|0)|0)+((8191&(S=(S=S+Math.imul(Ye,It)|0)+Math.imul(et,_t)|0))<<13)|0;N=((x=x+Math.imul(et,It)|0)+(S>>>13)|0)+(Mt>>>26)|0,Mt&=67108863;var lr=(N+(w=Math.imul(je,_t))|0)+((8191&(S=(S=Math.imul(je,It))+Math.imul(Ue,_t)|0))<<13)|0;return N=((x=Math.imul(Ue,It))+(S>>>13)|0)+(lr>>>26)|0,lr&=67108863,D[0]=Nt,D[1]=$t,D[2]=pr,D[3]=ar,D[4]=kr,D[5]=Cr,D[6]=Wr,D[7]=xe,D[8]=Be,D[9]=tt,D[10]=at,D[11]=Tt,D[12]=mt,D[13]=gt,D[14]=er,D[15]=Gt,D[16]=Kt,D[17]=Mt,D[18]=lr,N!==0&&(D[19]=N,k.length++),k};function v(A,P,k){return new C().mulp(A,P,k)}function C(A,P){this.x=A,this.y=P}Math.imul||(p=g),o.prototype.mulTo=function(A,P){var k=this.length+A.length;return this.length===10&&A.length===10?p(this,A,P):k<63?g(this,A,P):k<1024?function(w,S,x){x.negative=S.negative^w.negative,x.length=w.length+S.length;for(var _=0,E=0,D=0;D<x.length-1;D++){var N=E;E=0;for(var U=67108863&_,V=Math.min(D,S.length-1),J=Math.max(0,D-w.length+1);J<=V;J++){var F=D-J,Y=(0|w.words[F])*(0|S.words[J]),O=67108863&Y;U=67108863&(O=O+U|0),E+=(N=(N=N+(Y/67108864|0)|0)+(O>>>26)|0)>>>26,N&=67108863}x.words[D]=U,_=N,N=E}return _!==0?x.words[D]=_:x.length--,x.strip()}(this,A,P):v(this,A,P)},C.prototype.makeRBT=function(A){for(var P=new Array(A),k=o.prototype._countBits(A)-1,w=0;w<A;w++)P[w]=this.revBin(w,k,A);return P},C.prototype.revBin=function(A,P,k){if(A===0||A===k-1)return A;for(var w=0,S=0;S<P;S++)w|=(1&A)<<P-S-1,A>>=1;return w},C.prototype.permute=function(A,P,k,w,S,x){for(var _=0;_<x;_++)w[_]=P[A[_]],S[_]=k[A[_]]},C.prototype.transform=function(A,P,k,w,S,x){this.permute(x,A,P,k,w,S);for(var _=1;_<S;_<<=1)for(var E=_<<1,D=Math.cos(2*Math.PI/E),N=Math.sin(2*Math.PI/E),U=0;U<S;U+=E)for(var V=D,J=N,F=0;F<_;F++){var Y=k[U+F],O=w[U+F],T=k[U+F+_],G=w[U+F+_],Q=V*T-J*G;G=V*G+J*T,T=Q,k[U+F]=Y+T,w[U+F]=O+G,k[U+F+_]=Y-T,w[U+F+_]=O-G,F!==E&&(Q=D*V-N*J,J=D*J+N*V,V=Q)}},C.prototype.guessLen13b=function(A,P){var k=1|Math.max(P,A),w=1&k,S=0;for(k=k/2|0;k;k>>>=1)S++;return 1<<S+1+w},C.prototype.conjugate=function(A,P,k){if(!(k<=1))for(var w=0;w<k/2;w++){var S=A[w];A[w]=A[k-w-1],A[k-w-1]=S,S=P[w],P[w]=-P[k-w-1],P[k-w-1]=-S}},C.prototype.normalize13b=function(A,P){for(var k=0,w=0;w<P/2;w++){var S=8192*Math.round(A[2*w+1]/P)+Math.round(A[2*w]/P)+k;A[w]=67108863&S,k=S<67108864?0:S/67108864|0}return A},C.prototype.convert13b=function(A,P,k,w){for(var S=0,x=0;x<P;x++)S+=0|A[x],k[2*x]=8191&S,S>>>=13,k[2*x+1]=8191&S,S>>>=13;for(x=2*P;x<w;++x)k[x]=0;u(S===0),u((-8192&S)==0)},C.prototype.stub=function(A){for(var P=new Array(A),k=0;k<A;k++)P[k]=0;return P},C.prototype.mulp=function(A,P,k){var w=2*this.guessLen13b(A.length,P.length),S=this.makeRBT(w),x=this.stub(w),_=new Array(w),E=new Array(w),D=new Array(w),N=new Array(w),U=new Array(w),V=new Array(w),J=k.words;J.length=w,this.convert13b(A.words,A.length,_,w),this.convert13b(P.words,P.length,N,w),this.transform(_,x,E,D,w,S),this.transform(N,x,U,V,w,S);for(var F=0;F<w;F++){var Y=E[F]*U[F]-D[F]*V[F];D[F]=E[F]*V[F]+D[F]*U[F],E[F]=Y}return this.conjugate(E,D,w),this.transform(E,D,J,x,w,S),this.conjugate(J,x,w),this.normalize13b(J,w),k.negative=A.negative^P.negative,k.length=A.length+P.length,k.strip()},o.prototype.mul=function(A){var P=new o(null);return P.words=new Array(this.length+A.length),this.mulTo(A,P)},o.prototype.mulf=function(A){var P=new o(null);return P.words=new Array(this.length+A.length),v(this,A,P)},o.prototype.imul=function(A){return this.clone().mulTo(A,this)},o.prototype.imuln=function(A){u(typeof A=="number"),u(A<67108864);for(var P=0,k=0;k<this.length;k++){var w=(0|this.words[k])*A,S=(67108863&w)+(67108863&P);P>>=26,P+=w/67108864|0,P+=S>>>26,this.words[k]=67108863&S}return P!==0&&(this.words[k]=P,this.length++),this},o.prototype.muln=function(A){return this.clone().imuln(A)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(A){var P=function(x){for(var _=new Array(x.bitLength()),E=0;E<_.length;E++){var D=E/26|0,N=E%26;_[E]=(x.words[D]&1<<N)>>>N}return _}(A);if(P.length===0)return new o(1);for(var k=this,w=0;w<P.length&&P[w]===0;w++,k=k.sqr());if(++w<P.length)for(var S=k.sqr();w<P.length;w++,S=S.sqr())P[w]!==0&&(k=k.mul(S));return k},o.prototype.iushln=function(A){u(typeof A=="number"&&A>=0);var P,k=A%26,w=(A-k)/26,S=67108863>>>26-k<<26-k;if(k!==0){var x=0;for(P=0;P<this.length;P++){var _=this.words[P]&S,E=(0|this.words[P])-_<<k;this.words[P]=E|x,x=_>>>26-k}x&&(this.words[P]=x,this.length++)}if(w!==0){for(P=this.length-1;P>=0;P--)this.words[P+w]=this.words[P];for(P=0;P<w;P++)this.words[P]=0;this.length+=w}return this.strip()},o.prototype.ishln=function(A){return u(this.negative===0),this.iushln(A)},o.prototype.iushrn=function(A,P,k){var w;u(typeof A=="number"&&A>=0),w=P?(P-P%26)/26:0;var S=A%26,x=Math.min((A-S)/26,this.length),_=67108863^67108863>>>S<<S,E=k;if(w-=x,w=Math.max(0,w),E){for(var D=0;D<x;D++)E.words[D]=this.words[D];E.length=x}if(x!==0)if(this.length>x)for(this.length-=x,D=0;D<this.length;D++)this.words[D]=this.words[D+x];else this.words[0]=0,this.length=1;var N=0;for(D=this.length-1;D>=0&&(N!==0||D>=w);D--){var U=0|this.words[D];this.words[D]=N<<26-S|U>>>S,N=U&_}return E&&N!==0&&(E.words[E.length++]=N),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(A,P,k){return u(this.negative===0),this.iushrn(A,P,k)},o.prototype.shln=function(A){return this.clone().ishln(A)},o.prototype.ushln=function(A){return this.clone().iushln(A)},o.prototype.shrn=function(A){return this.clone().ishrn(A)},o.prototype.ushrn=function(A){return this.clone().iushrn(A)},o.prototype.testn=function(A){u(typeof A=="number"&&A>=0);var P=A%26,k=(A-P)/26,w=1<<P;return!(this.length<=k)&&!!(this.words[k]&w)},o.prototype.imaskn=function(A){u(typeof A=="number"&&A>=0);var P=A%26,k=(A-P)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=k)return this;if(P!==0&&k++,this.length=Math.min(k,this.length),P!==0){var w=67108863^67108863>>>P<<P;this.words[this.length-1]&=w}return this.strip()},o.prototype.maskn=function(A){return this.clone().imaskn(A)},o.prototype.iaddn=function(A){return u(typeof A=="number"),u(A<67108864),A<0?this.isubn(-A):this.negative!==0?this.length===1&&(0|this.words[0])<A?(this.words[0]=A-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(A),this.negative=1,this):this._iaddn(A)},o.prototype._iaddn=function(A){this.words[0]+=A;for(var P=0;P<this.length&&this.words[P]>=67108864;P++)this.words[P]-=67108864,P===this.length-1?this.words[P+1]=1:this.words[P+1]++;return this.length=Math.max(this.length,P+1),this},o.prototype.isubn=function(A){if(u(typeof A=="number"),u(A<67108864),A<0)return this.iaddn(-A);if(this.negative!==0)return this.negative=0,this.iaddn(A),this.negative=1,this;if(this.words[0]-=A,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var P=0;P<this.length&&this.words[P]<0;P++)this.words[P]+=67108864,this.words[P+1]-=1;return this.strip()},o.prototype.addn=function(A){return this.clone().iaddn(A)},o.prototype.subn=function(A){return this.clone().isubn(A)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(A,P,k){var w,S,x=A.length+k;this._expand(x);var _=0;for(w=0;w<A.length;w++){S=(0|this.words[w+k])+_;var E=(0|A.words[w])*P;_=((S-=67108863&E)>>26)-(E/67108864|0),this.words[w+k]=67108863&S}for(;w<this.length-k;w++)_=(S=(0|this.words[w+k])+_)>>26,this.words[w+k]=67108863&S;if(_===0)return this.strip();for(u(_===-1),_=0,w=0;w<this.length;w++)_=(S=-(0|this.words[w])+_)>>26,this.words[w]=67108863&S;return this.negative=1,this.strip()},o.prototype._wordDiv=function(A,P){var k=(this.length,A.length),w=this.clone(),S=A,x=0|S.words[S.length-1];(k=26-this._countBits(x))!==0&&(S=S.ushln(k),w.iushln(k),x=0|S.words[S.length-1]);var _,E=w.length-S.length;if(P!=="mod"){(_=new o(null)).length=E+1,_.words=new Array(_.length);for(var D=0;D<_.length;D++)_.words[D]=0}var N=w.clone()._ishlnsubmul(S,1,E);N.negative===0&&(w=N,_&&(_.words[E]=1));for(var U=E-1;U>=0;U--){var V=67108864*(0|w.words[S.length+U])+(0|w.words[S.length+U-1]);for(V=Math.min(V/x|0,67108863),w._ishlnsubmul(S,V,U);w.negative!==0;)V--,w.negative=0,w._ishlnsubmul(S,1,U),w.isZero()||(w.negative^=1);_&&(_.words[U]=V)}return _&&_.strip(),w.strip(),P!=="div"&&k!==0&&w.iushrn(k),{div:_||null,mod:w}},o.prototype.divmod=function(A,P,k){return u(!A.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&A.negative===0?(x=this.neg().divmod(A,P),P!=="mod"&&(w=x.div.neg()),P!=="div"&&(S=x.mod.neg(),k&&S.negative!==0&&S.iadd(A)),{div:w,mod:S}):this.negative===0&&A.negative!==0?(x=this.divmod(A.neg(),P),P!=="mod"&&(w=x.div.neg()),{div:w,mod:x.mod}):this.negative&A.negative?(x=this.neg().divmod(A.neg(),P),P!=="div"&&(S=x.mod.neg(),k&&S.negative!==0&&S.isub(A)),{div:x.div,mod:S}):A.length>this.length||this.cmp(A)<0?{div:new o(0),mod:this}:A.length===1?P==="div"?{div:this.divn(A.words[0]),mod:null}:P==="mod"?{div:null,mod:new o(this.modn(A.words[0]))}:{div:this.divn(A.words[0]),mod:new o(this.modn(A.words[0]))}:this._wordDiv(A,P);var w,S,x},o.prototype.div=function(A){return this.divmod(A,"div",!1).div},o.prototype.mod=function(A){return this.divmod(A,"mod",!1).mod},o.prototype.umod=function(A){return this.divmod(A,"mod",!0).mod},o.prototype.divRound=function(A){var P=this.divmod(A);if(P.mod.isZero())return P.div;var k=P.div.negative!==0?P.mod.isub(A):P.mod,w=A.ushrn(1),S=A.andln(1),x=k.cmp(w);return x<0||S===1&&x===0?P.div:P.div.negative!==0?P.div.isubn(1):P.div.iaddn(1)},o.prototype.modn=function(A){u(A<=67108863);for(var P=(1<<26)%A,k=0,w=this.length-1;w>=0;w--)k=(P*k+(0|this.words[w]))%A;return k},o.prototype.idivn=function(A){u(A<=67108863);for(var P=0,k=this.length-1;k>=0;k--){var w=(0|this.words[k])+67108864*P;this.words[k]=w/A|0,P=w%A}return this.strip()},o.prototype.divn=function(A){return this.clone().idivn(A)},o.prototype.egcd=function(A){u(A.negative===0),u(!A.isZero());var P=this,k=A.clone();P=P.negative!==0?P.umod(A):P.clone();for(var w=new o(1),S=new o(0),x=new o(0),_=new o(1),E=0;P.isEven()&&k.isEven();)P.iushrn(1),k.iushrn(1),++E;for(var D=k.clone(),N=P.clone();!P.isZero();){for(var U=0,V=1;!(P.words[0]&V)&&U<26;++U,V<<=1);if(U>0)for(P.iushrn(U);U-- >0;)(w.isOdd()||S.isOdd())&&(w.iadd(D),S.isub(N)),w.iushrn(1),S.iushrn(1);for(var J=0,F=1;!(k.words[0]&F)&&J<26;++J,F<<=1);if(J>0)for(k.iushrn(J);J-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(D),_.isub(N)),x.iushrn(1),_.iushrn(1);P.cmp(k)>=0?(P.isub(k),w.isub(x),S.isub(_)):(k.isub(P),x.isub(w),_.isub(S))}return{a:x,b:_,gcd:k.iushln(E)}},o.prototype._invmp=function(A){u(A.negative===0),u(!A.isZero());var P=this,k=A.clone();P=P.negative!==0?P.umod(A):P.clone();for(var w,S=new o(1),x=new o(0),_=k.clone();P.cmpn(1)>0&&k.cmpn(1)>0;){for(var E=0,D=1;!(P.words[0]&D)&&E<26;++E,D<<=1);if(E>0)for(P.iushrn(E);E-- >0;)S.isOdd()&&S.iadd(_),S.iushrn(1);for(var N=0,U=1;!(k.words[0]&U)&&N<26;++N,U<<=1);if(N>0)for(k.iushrn(N);N-- >0;)x.isOdd()&&x.iadd(_),x.iushrn(1);P.cmp(k)>=0?(P.isub(k),S.isub(x)):(k.isub(P),x.isub(S))}return(w=P.cmpn(1)===0?S:x).cmpn(0)<0&&w.iadd(A),w},o.prototype.gcd=function(A){if(this.isZero())return A.abs();if(A.isZero())return this.abs();var P=this.clone(),k=A.clone();P.negative=0,k.negative=0;for(var w=0;P.isEven()&&k.isEven();w++)P.iushrn(1),k.iushrn(1);for(;;){for(;P.isEven();)P.iushrn(1);for(;k.isEven();)k.iushrn(1);var S=P.cmp(k);if(S<0){var x=P;P=k,k=x}else if(S===0||k.cmpn(1)===0)break;P.isub(k)}return k.iushln(w)},o.prototype.invm=function(A){return this.egcd(A).a.umod(A)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(A){return this.words[0]&A},o.prototype.bincn=function(A){u(typeof A=="number");var P=A%26,k=(A-P)/26,w=1<<P;if(this.length<=k)return this._expand(k+1),this.words[k]|=w,this;for(var S=w,x=k;S!==0&&x<this.length;x++){var _=0|this.words[x];S=(_+=S)>>>26,_&=67108863,this.words[x]=_}return S!==0&&(this.words[x]=S,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(A){var P,k=A<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;if(this.strip(),this.length>1)P=1;else{k&&(A=-A),u(A<=67108863,"Number is too big");var w=0|this.words[0];P=w===A?0:w<A?-1:1}return this.negative!==0?0|-P:P},o.prototype.cmp=function(A){if(this.negative!==0&&A.negative===0)return-1;if(this.negative===0&&A.negative!==0)return 1;var P=this.ucmp(A);return this.negative!==0?0|-P:P},o.prototype.ucmp=function(A){if(this.length>A.length)return 1;if(this.length<A.length)return-1;for(var P=0,k=this.length-1;k>=0;k--){var w=0|this.words[k],S=0|A.words[k];if(w!==S){w<S?P=-1:w>S&&(P=1);break}}return P},o.prototype.gtn=function(A){return this.cmpn(A)===1},o.prototype.gt=function(A){return this.cmp(A)===1},o.prototype.gten=function(A){return this.cmpn(A)>=0},o.prototype.gte=function(A){return this.cmp(A)>=0},o.prototype.ltn=function(A){return this.cmpn(A)===-1},o.prototype.lt=function(A){return this.cmp(A)===-1},o.prototype.lten=function(A){return this.cmpn(A)<=0},o.prototype.lte=function(A){return this.cmp(A)<=0},o.prototype.eqn=function(A){return this.cmpn(A)===0},o.prototype.eq=function(A){return this.cmp(A)===0},o.red=function(A){return new q(A)},o.prototype.toRed=function(A){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),A.convertTo(this)._forceRed(A)},o.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(A){return this.red=A,this},o.prototype.forceRed=function(A){return u(!this.red,"Already a number in reduction context"),this._forceRed(A)},o.prototype.redAdd=function(A){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,A)},o.prototype.redIAdd=function(A){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,A)},o.prototype.redSub=function(A){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,A)},o.prototype.redISub=function(A){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,A)},o.prototype.redShl=function(A){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,A)},o.prototype.redMul=function(A){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.mul(this,A)},o.prototype.redIMul=function(A){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,A),this.red.imul(this,A)},o.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(A){return u(this.red&&!A.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,A)};var j={k256:null,p224:null,p192:null,p25519:null};function L(A,P){this.name=A,this.p=new o(P,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function $(){L.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function M(){L.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function z(){L.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function H(){L.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function q(A){if(typeof A=="string"){var P=o._prime(A);this.m=P.p,this.prime=P}else u(A.gtn(1),"modulus must be greater than 1"),this.m=A,this.prime=null}function B(A){q.call(this,A),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}L.prototype._tmp=function(){var A=new o(null);return A.words=new Array(Math.ceil(this.n/13)),A},L.prototype.ireduce=function(A){var P,k=A;do this.split(k,this.tmp),P=(k=(k=this.imulK(k)).iadd(this.tmp)).bitLength();while(P>this.n);var w=P<this.n?-1:k.ucmp(this.p);return w===0?(k.words[0]=0,k.length=1):w>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},L.prototype.split=function(A,P){A.iushrn(this.n,0,P)},L.prototype.imulK=function(A){return A.imul(this.k)},a($,L),$.prototype.split=function(A,P){for(var k=Math.min(A.length,9),w=0;w<k;w++)P.words[w]=A.words[w];if(P.length=k,A.length<=9)return A.words[0]=0,void(A.length=1);var S=A.words[9];for(P.words[P.length++]=4194303&S,w=10;w<A.length;w++){var x=0|A.words[w];A.words[w-10]=(4194303&x)<<4|S>>>22,S=x}S>>>=22,A.words[w-10]=S,S===0&&A.length>10?A.length-=10:A.length-=9},$.prototype.imulK=function(A){A.words[A.length]=0,A.words[A.length+1]=0,A.length+=2;for(var P=0,k=0;k<A.length;k++){var w=0|A.words[k];P+=977*w,A.words[k]=67108863&P,P=64*w+(P/67108864|0)}return A.words[A.length-1]===0&&(A.length--,A.words[A.length-1]===0&&A.length--),A},a(M,L),a(z,L),a(H,L),H.prototype.imulK=function(A){for(var P=0,k=0;k<A.length;k++){var w=19*(0|A.words[k])+P,S=67108863&w;w>>>=26,A.words[k]=S,P=w}return P!==0&&(A.words[A.length++]=P),A},o._prime=function(A){if(j[A])return j[A];var P;if(A==="k256")P=new $;else if(A==="p224")P=new M;else if(A==="p192")P=new z;else{if(A!=="p25519")throw new Error("Unknown prime "+A);P=new H}return j[A]=P,P},q.prototype._verify1=function(A){u(A.negative===0,"red works only with positives"),u(A.red,"red works only with red numbers")},q.prototype._verify2=function(A,P){u((A.negative|P.negative)==0,"red works only with positives"),u(A.red&&A.red===P.red,"red works only with red numbers")},q.prototype.imod=function(A){return this.prime?this.prime.ireduce(A)._forceRed(this):A.umod(this.m)._forceRed(this)},q.prototype.neg=function(A){return A.isZero()?A.clone():this.m.sub(A)._forceRed(this)},q.prototype.add=function(A,P){this._verify2(A,P);var k=A.add(P);return k.cmp(this.m)>=0&&k.isub(this.m),k._forceRed(this)},q.prototype.iadd=function(A,P){this._verify2(A,P);var k=A.iadd(P);return k.cmp(this.m)>=0&&k.isub(this.m),k},q.prototype.sub=function(A,P){this._verify2(A,P);var k=A.sub(P);return k.cmpn(0)<0&&k.iadd(this.m),k._forceRed(this)},q.prototype.isub=function(A,P){this._verify2(A,P);var k=A.isub(P);return k.cmpn(0)<0&&k.iadd(this.m),k},q.prototype.shl=function(A,P){return this._verify1(A),this.imod(A.ushln(P))},q.prototype.imul=function(A,P){return this._verify2(A,P),this.imod(A.imul(P))},q.prototype.mul=function(A,P){return this._verify2(A,P),this.imod(A.mul(P))},q.prototype.isqr=function(A){return this.imul(A,A.clone())},q.prototype.sqr=function(A){return this.mul(A,A)},q.prototype.sqrt=function(A){if(A.isZero())return A.clone();var P=this.m.andln(3);if(u(P%2==1),P===3){var k=this.m.add(new o(1)).iushrn(2);return this.pow(A,k)}for(var w=this.m.subn(1),S=0;!w.isZero()&&w.andln(1)===0;)S++,w.iushrn(1);u(!w.isZero());var x=new o(1).toRed(this),_=x.redNeg(),E=this.m.subn(1).iushrn(1),D=this.m.bitLength();for(D=new o(2*D*D).toRed(this);this.pow(D,E).cmp(_)!==0;)D.redIAdd(_);for(var N=this.pow(D,w),U=this.pow(A,w.addn(1).iushrn(1)),V=this.pow(A,w),J=S;V.cmp(x)!==0;){for(var F=V,Y=0;F.cmp(x)!==0;Y++)F=F.redSqr();u(Y<J);var O=this.pow(N,new o(1).iushln(J-Y-1));U=U.redMul(O),N=O.redSqr(),V=V.redMul(N),J=Y}return U},q.prototype.invm=function(A){var P=A._invmp(this.m);return P.negative!==0?(P.negative=0,this.imod(P).redNeg()):this.imod(P)},q.prototype.pow=function(A,P){if(P.isZero())return new o(1).toRed(this);if(P.cmpn(1)===0)return A.clone();var k=new Array(16);k[0]=new o(1).toRed(this),k[1]=A;for(var w=2;w<k.length;w++)k[w]=this.mul(k[w-1],A);var S=k[0],x=0,_=0,E=P.bitLength()%26;for(E===0&&(E=26),w=P.length-1;w>=0;w--){for(var D=P.words[w],N=E-1;N>=0;N--){var U=D>>N&1;S!==k[0]&&(S=this.sqr(S)),U!==0||x!==0?(x<<=1,x|=U,(++_===4||w===0&&N===0)&&(S=this.mul(S,k[x]),_=0,x=0)):_=0}E=26}return S},q.prototype.convertTo=function(A){var P=A.umod(this.m);return P===A?P.clone():P},q.prototype.convertFrom=function(A){var P=A.clone();return P.red=null,P},o.mont=function(A){return new B(A)},a(B,q),B.prototype.convertTo=function(A){return this.imod(A.ushln(this.shift))},B.prototype.convertFrom=function(A){var P=this.imod(A.mul(this.rinv));return P.red=null,P},B.prototype.imul=function(A,P){if(A.isZero()||P.isZero())return A.words[0]=0,A.length=1,A;var k=A.imul(P),w=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=k.isub(w).iushrn(this.shift),x=S;return S.cmp(this.m)>=0?x=S.isub(this.m):S.cmpn(0)<0&&(x=S.iadd(this.m)),x._forceRed(this)},B.prototype.mul=function(A,P){if(A.isZero()||P.isZero())return new o(0)._forceRed(this);var k=A.mul(P),w=k.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=k.isub(w).iushrn(this.shift),x=S;return S.cmp(this.m)>=0?x=S.isub(this.m):S.cmpn(0)<0&&(x=S.iadd(this.m)),x._forceRed(this)},B.prototype.invm=function(A){return this.imod(A._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],185:[function(e,n,l){l.byteLength=function(d){var y=f(d),b=y[0],m=y[1];return 3*(b+m)/4-m},l.toByteArray=function(d){var y,b,m=f(d),g=m[0],p=m[1],v=new u(function(L,$,M){return 3*($+M)/4-M}(0,g,p)),C=0,j=p>0?g-4:g;for(b=0;b<j;b+=4)y=s[d.charCodeAt(b)]<<18|s[d.charCodeAt(b+1)]<<12|s[d.charCodeAt(b+2)]<<6|s[d.charCodeAt(b+3)],v[C++]=y>>16&255,v[C++]=y>>8&255,v[C++]=255&y;return p===2&&(y=s[d.charCodeAt(b)]<<2|s[d.charCodeAt(b+1)]>>4,v[C++]=255&y),p===1&&(y=s[d.charCodeAt(b)]<<10|s[d.charCodeAt(b+1)]<<4|s[d.charCodeAt(b+2)]>>2,v[C++]=y>>8&255,v[C++]=255&y),v},l.fromByteArray=function(d){for(var y,b=d.length,m=b%3,g=[],p=0,v=b-m;p<v;p+=16383)g.push(h(d,p,p+16383>v?v:p+16383));return m===1?(y=d[b-1],g.push(i[y>>2]+i[y<<4&63]+"==")):m===2&&(y=(d[b-2]<<8)+d[b-1],g.push(i[y>>10]+i[y>>4&63]+i[y<<2&63]+"=")),g.join("")};for(var i=[],s=[],u=typeof Uint8Array<"u"?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,c=a.length;o<c;++o)i[o]=a[o],s[a.charCodeAt(o)]=o;function f(d){var y=d.length;if(y%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=d.indexOf("=");return b===-1&&(b=y),[b,b===y?0:4-b%4]}function h(d,y,b){for(var m,g,p=[],v=y;v<b;v+=3)m=(d[v]<<16&16711680)+(d[v+1]<<8&65280)+(255&d[v+2]),p.push(i[(g=m)>>18&63]+i[g>>12&63]+i[g>>6&63]+i[63&g]);return p.join("")}s[45]=62,s[95]=63},{}],186:[function(e,n,l){(function(i,s){function u(k,w){if(!k)throw new Error(w||"Assertion failed")}function a(k,w){k.super_=w;var S=function(){};S.prototype=w.prototype,k.prototype=new S,k.prototype.constructor=k}function o(k,w,S){if(o.isBN(k))return k;this.negative=0,this.words=null,this.length=0,this.red=null,k!==null&&(w!=="le"&&w!=="be"||(S=w,w=10),this._init(k||0,w||10,S||"be"))}var c;typeof i=="object"?i.exports=o:(void 0).BN=o,o.BN=o,o.wordSize=26;try{c=typeof window<"u"&&window.Buffer!==void 0?window.Buffer:e("buffer").Buffer}catch{}function f(k,w){var S=k.charCodeAt(w);return S>=48&&S<=57?S-48:S>=65&&S<=70?S-55:S>=97&&S<=102?S-87:void u(!1,"Invalid character in "+k)}function h(k,w,S){var x=f(k,S);return S-1>=w&&(x|=f(k,S-1)<<4),x}function d(k,w,S,x){for(var _=0,E=0,D=Math.min(k.length,S),N=w;N<D;N++){var U=k.charCodeAt(N)-48;_*=x,E=U>=49?U-49+10:U>=17?U-17+10:U,u(U>=0&&E<x,"Invalid character"),_+=E}return _}function y(k,w){k.words=w.words,k.length=w.length,k.negative=w.negative,k.red=w.red}if(o.isBN=function(k){return k instanceof o||k!==null&&typeof k=="object"&&k.constructor.wordSize===o.wordSize&&Array.isArray(k.words)},o.max=function(k,w){return k.cmp(w)>0?k:w},o.min=function(k,w){return k.cmp(w)<0?k:w},o.prototype._init=function(k,w,S){if(typeof k=="number")return this._initNumber(k,w,S);if(typeof k=="object")return this._initArray(k,w,S);w==="hex"&&(w=16),u(w===(0|w)&&w>=2&&w<=36);var x=0;(k=k.toString().replace(/\s+/g,""))[0]==="-"&&(x++,this.negative=1),x<k.length&&(w===16?this._parseHex(k,x,S):(this._parseBase(k,w,x),S==="le"&&this._initArray(this.toArray(),w,S)))},o.prototype._initNumber=function(k,w,S){k<0&&(this.negative=1,k=-k),k<67108864?(this.words=[67108863&k],this.length=1):k<4503599627370496?(this.words=[67108863&k,k/67108864&67108863],this.length=2):(u(k<9007199254740992),this.words=[67108863&k,k/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),w,S)},o.prototype._initArray=function(k,w,S){if(u(typeof k.length=="number"),k.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(k.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,E,D=0;if(S==="be")for(x=k.length-1,_=0;x>=0;x-=3)E=k[x]|k[x-1]<<8|k[x-2]<<16,this.words[_]|=E<<D&67108863,this.words[_+1]=E>>>26-D&67108863,(D+=24)>=26&&(D-=26,_++);else if(S==="le")for(x=0,_=0;x<k.length;x+=3)E=k[x]|k[x+1]<<8|k[x+2]<<16,this.words[_]|=E<<D&67108863,this.words[_+1]=E>>>26-D&67108863,(D+=24)>=26&&(D-=26,_++);return this._strip()},o.prototype._parseHex=function(k,w,S){this.length=Math.ceil((k.length-w)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var _,E=0,D=0;if(S==="be")for(x=k.length-1;x>=w;x-=2)_=h(k,w,x)<<E,this.words[D]|=67108863&_,E>=18?(E-=18,D+=1,this.words[D]|=_>>>26):E+=8;else for(x=(k.length-w)%2==0?w+1:w;x<k.length;x+=2)_=h(k,w,x)<<E,this.words[D]|=67108863&_,E>=18?(E-=18,D+=1,this.words[D]|=_>>>26):E+=8;this._strip()},o.prototype._parseBase=function(k,w,S){this.words=[0],this.length=1;for(var x=0,_=1;_<=67108863;_*=w)x++;x--,_=_/w|0;for(var E=k.length-S,D=E%x,N=Math.min(E,E-D)+S,U=0,V=S;V<N;V+=x)U=d(k,V,V+x,w),this.imuln(_),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U);if(D!==0){var J=1;for(U=d(k,V,k.length,w),V=0;V<D;V++)J*=w;this.imuln(J),this.words[0]+U<67108864?this.words[0]+=U:this._iaddn(U)}this._strip()},o.prototype.copy=function(k){k.words=new Array(this.length);for(var w=0;w<this.length;w++)k.words[w]=this.words[w];k.length=this.length,k.negative=this.negative,k.red=this.red},o.prototype._move=function(k){y(k,this)},o.prototype.clone=function(){var k=new o(null);return this.copy(k),k},o.prototype._expand=function(k){for(;this.length<k;)this.words[this.length++]=0;return this},o.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},o.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{o.prototype[Symbol.for("nodejs.util.inspect.custom")]=b}catch{o.prototype.inspect=b}else o.prototype.inspect=b;function b(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var m=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],p=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(k,w){var S;if(w=0|w||1,(k=k||10)===16||k==="hex"){S="";for(var x=0,_=0,E=0;E<this.length;E++){var D=this.words[E],N=(16777215&(D<<x|_)).toString(16);_=D>>>24-x&16777215,(x+=2)>=26&&(x-=26,E--),S=_!==0||E!==this.length-1?m[6-N.length]+N+S:N+S}for(_!==0&&(S=_.toString(16)+S);S.length%w!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(k===(0|k)&&k>=2&&k<=36){var U=g[k],V=p[k];S="";var J=this.clone();for(J.negative=0;!J.isZero();){var F=J.modrn(V).toString(k);S=(J=J.idivn(V)).isZero()?F+S:m[U-F.length]+F+S}for(this.isZero()&&(S="0"+S);S.length%w!=0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}u(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var k=this.words[0];return this.length===2?k+=67108864*this.words[1]:this.length===3&&this.words[2]===1?k+=4503599627370496+67108864*this.words[1]:this.length>2&&u(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-k:k},o.prototype.toJSON=function(){return this.toString(16,2)},c&&(o.prototype.toBuffer=function(k,w){return this.toArrayLike(c,k,w)}),o.prototype.toArray=function(k,w){return this.toArrayLike(Array,k,w)};function v(k,w,S){S.negative=w.negative^k.negative;var x=k.length+w.length|0;S.length=x,x=x-1|0;var _=0|k.words[0],E=0|w.words[0],D=_*E,N=67108863&D,U=D/67108864|0;S.words[0]=N;for(var V=1;V<x;V++){for(var J=U>>>26,F=67108863&U,Y=Math.min(V,w.length-1),O=Math.max(0,V-k.length+1);O<=Y;O++){var T=V-O|0;J+=(D=(_=0|k.words[T])*(E=0|w.words[O])+F)/67108864|0,F=67108863&D}S.words[V]=0|F,U=0|J}return U!==0?S.words[V]=0|U:S.length--,S._strip()}o.prototype.toArrayLike=function(k,w,S){this._strip();var x=this.byteLength(),_=S||Math.max(1,x);u(x<=_,"byte array longer than desired length"),u(_>0,"Requested array length <= 0");var E=function(D,N){return D.allocUnsafe?D.allocUnsafe(N):new D(N)}(k,_);return this["_toArrayLike"+(w==="le"?"LE":"BE")](E,x),E},o.prototype._toArrayLikeLE=function(k,w){for(var S=0,x=0,_=0,E=0;_<this.length;_++){var D=this.words[_]<<E|x;k[S++]=255&D,S<k.length&&(k[S++]=D>>8&255),S<k.length&&(k[S++]=D>>16&255),E===6?(S<k.length&&(k[S++]=D>>24&255),x=0,E=0):(x=D>>>24,E+=2)}if(S<k.length)for(k[S++]=x;S<k.length;)k[S++]=0},o.prototype._toArrayLikeBE=function(k,w){for(var S=k.length-1,x=0,_=0,E=0;_<this.length;_++){var D=this.words[_]<<E|x;k[S--]=255&D,S>=0&&(k[S--]=D>>8&255),S>=0&&(k[S--]=D>>16&255),E===6?(S>=0&&(k[S--]=D>>24&255),x=0,E=0):(x=D>>>24,E+=2)}if(S>=0)for(k[S--]=x;S>=0;)k[S--]=0},Math.clz32?o.prototype._countBits=function(k){return 32-Math.clz32(k)}:o.prototype._countBits=function(k){var w=k,S=0;return w>=4096&&(S+=13,w>>>=13),w>=64&&(S+=7,w>>>=7),w>=8&&(S+=4,w>>>=4),w>=2&&(S+=2,w>>>=2),S+w},o.prototype._zeroBits=function(k){if(k===0)return 26;var w=k,S=0;return!(8191&w)&&(S+=13,w>>>=13),!(127&w)&&(S+=7,w>>>=7),!(15&w)&&(S+=4,w>>>=4),!(3&w)&&(S+=2,w>>>=2),!(1&w)&&S++,S},o.prototype.bitLength=function(){var k=this.words[this.length-1],w=this._countBits(k);return 26*(this.length-1)+w},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var k=0,w=0;w<this.length;w++){var S=this._zeroBits(this.words[w]);if(k+=S,S!==26)break}return k},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(k){return this.negative!==0?this.abs().inotn(k).iaddn(1):this.clone()},o.prototype.fromTwos=function(k){return this.testn(k-1)?this.notn(k).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return this.negative!==0},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(k){for(;this.length<k.length;)this.words[this.length++]=0;for(var w=0;w<k.length;w++)this.words[w]=this.words[w]|k.words[w];return this._strip()},o.prototype.ior=function(k){return u((this.negative|k.negative)==0),this.iuor(k)},o.prototype.or=function(k){return this.length>k.length?this.clone().ior(k):k.clone().ior(this)},o.prototype.uor=function(k){return this.length>k.length?this.clone().iuor(k):k.clone().iuor(this)},o.prototype.iuand=function(k){var w;w=this.length>k.length?k:this;for(var S=0;S<w.length;S++)this.words[S]=this.words[S]&k.words[S];return this.length=w.length,this._strip()},o.prototype.iand=function(k){return u((this.negative|k.negative)==0),this.iuand(k)},o.prototype.and=function(k){return this.length>k.length?this.clone().iand(k):k.clone().iand(this)},o.prototype.uand=function(k){return this.length>k.length?this.clone().iuand(k):k.clone().iuand(this)},o.prototype.iuxor=function(k){var w,S;this.length>k.length?(w=this,S=k):(w=k,S=this);for(var x=0;x<S.length;x++)this.words[x]=w.words[x]^S.words[x];if(this!==w)for(;x<w.length;x++)this.words[x]=w.words[x];return this.length=w.length,this._strip()},o.prototype.ixor=function(k){return u((this.negative|k.negative)==0),this.iuxor(k)},o.prototype.xor=function(k){return this.length>k.length?this.clone().ixor(k):k.clone().ixor(this)},o.prototype.uxor=function(k){return this.length>k.length?this.clone().iuxor(k):k.clone().iuxor(this)},o.prototype.inotn=function(k){u(typeof k=="number"&&k>=0);var w=0|Math.ceil(k/26),S=k%26;this._expand(w),S>0&&w--;for(var x=0;x<w;x++)this.words[x]=67108863&~this.words[x];return S>0&&(this.words[x]=~this.words[x]&67108863>>26-S),this._strip()},o.prototype.notn=function(k){return this.clone().inotn(k)},o.prototype.setn=function(k,w){u(typeof k=="number"&&k>=0);var S=k/26|0,x=k%26;return this._expand(S+1),this.words[S]=w?this.words[S]|1<<x:this.words[S]&~(1<<x),this._strip()},o.prototype.iadd=function(k){var w,S,x;if(this.negative!==0&&k.negative===0)return this.negative=0,w=this.isub(k),this.negative^=1,this._normSign();if(this.negative===0&&k.negative!==0)return k.negative=0,w=this.isub(k),k.negative=1,w._normSign();this.length>k.length?(S=this,x=k):(S=k,x=this);for(var _=0,E=0;E<x.length;E++)w=(0|S.words[E])+(0|x.words[E])+_,this.words[E]=67108863&w,_=w>>>26;for(;_!==0&&E<S.length;E++)w=(0|S.words[E])+_,this.words[E]=67108863&w,_=w>>>26;if(this.length=S.length,_!==0)this.words[this.length]=_,this.length++;else if(S!==this)for(;E<S.length;E++)this.words[E]=S.words[E];return this},o.prototype.add=function(k){var w;return k.negative!==0&&this.negative===0?(k.negative=0,w=this.sub(k),k.negative^=1,w):k.negative===0&&this.negative!==0?(this.negative=0,w=k.sub(this),this.negative=1,w):this.length>k.length?this.clone().iadd(k):k.clone().iadd(this)},o.prototype.isub=function(k){if(k.negative!==0){k.negative=0;var w=this.iadd(k);return k.negative=1,w._normSign()}if(this.negative!==0)return this.negative=0,this.iadd(k),this.negative=1,this._normSign();var S,x,_=this.cmp(k);if(_===0)return this.negative=0,this.length=1,this.words[0]=0,this;_>0?(S=this,x=k):(S=k,x=this);for(var E=0,D=0;D<x.length;D++)E=(w=(0|S.words[D])-(0|x.words[D])+E)>>26,this.words[D]=67108863&w;for(;E!==0&&D<S.length;D++)E=(w=(0|S.words[D])+E)>>26,this.words[D]=67108863&w;if(E===0&&D<S.length&&S!==this)for(;D<S.length;D++)this.words[D]=S.words[D];return this.length=Math.max(this.length,D),S!==this&&(this.negative=1),this._strip()},o.prototype.sub=function(k){return this.clone().isub(k)};var C=function(k,w,S){var x,_,E,D=k.words,N=w.words,U=S.words,V=0,J=0|D[0],F=8191&J,Y=J>>>13,O=0|D[1],T=8191&O,G=O>>>13,Q=0|D[2],ne=8191&Q,Z=Q>>>13,oe=0|D[3],ue=8191&oe,te=oe>>>13,se=0|D[4],pe=8191&se,ie=se>>>13,fe=0|D[5],be=8191&fe,re=fe>>>13,ve=0|D[6],_e=8191&ve,Re=ve>>>13,Ge=0|D[7],Ze=8191&Ge,Ye=Ge>>>13,et=0|D[8],ke=8191&et,je=et>>>13,Ue=0|D[9],Le=8191&Ue,Ve=Ue>>>13,He=0|N[0],ot=8191&He,ct=He>>>13,bt=0|N[1],Lt=8191&bt,pt=bt>>>13,Ft=0|N[2],Bt=8191&Ft,xt=Ft>>>13,vt=0|N[3],Me=8191&vt,Je=vt>>>13,Ce=0|N[4],We=8191&Ce,De=Ce>>>13,Fe=0|N[5],Ke=8191&Fe,st=Fe>>>13,we=0|N[6],Ae=8191&we,ze=we>>>13,lt=0|N[7],Et=8191&lt,ht=lt>>>13,jt=0|N[8],Ct=8191&jt,_t=jt>>>13,It=0|N[9],Nt=8191&It,$t=It>>>13;S.negative=k.negative^w.negative,S.length=19;var pr=(V+(x=Math.imul(F,ot))|0)+((8191&(_=(_=Math.imul(F,ct))+Math.imul(Y,ot)|0))<<13)|0;V=((E=Math.imul(Y,ct))+(_>>>13)|0)+(pr>>>26)|0,pr&=67108863,x=Math.imul(T,ot),_=(_=Math.imul(T,ct))+Math.imul(G,ot)|0,E=Math.imul(G,ct);var ar=(V+(x=x+Math.imul(F,Lt)|0)|0)+((8191&(_=(_=_+Math.imul(F,pt)|0)+Math.imul(Y,Lt)|0))<<13)|0;V=((E=E+Math.imul(Y,pt)|0)+(_>>>13)|0)+(ar>>>26)|0,ar&=67108863,x=Math.imul(ne,ot),_=(_=Math.imul(ne,ct))+Math.imul(Z,ot)|0,E=Math.imul(Z,ct),x=x+Math.imul(T,Lt)|0,_=(_=_+Math.imul(T,pt)|0)+Math.imul(G,Lt)|0,E=E+Math.imul(G,pt)|0;var kr=(V+(x=x+Math.imul(F,Bt)|0)|0)+((8191&(_=(_=_+Math.imul(F,xt)|0)+Math.imul(Y,Bt)|0))<<13)|0;V=((E=E+Math.imul(Y,xt)|0)+(_>>>13)|0)+(kr>>>26)|0,kr&=67108863,x=Math.imul(ue,ot),_=(_=Math.imul(ue,ct))+Math.imul(te,ot)|0,E=Math.imul(te,ct),x=x+Math.imul(ne,Lt)|0,_=(_=_+Math.imul(ne,pt)|0)+Math.imul(Z,Lt)|0,E=E+Math.imul(Z,pt)|0,x=x+Math.imul(T,Bt)|0,_=(_=_+Math.imul(T,xt)|0)+Math.imul(G,Bt)|0,E=E+Math.imul(G,xt)|0;var Cr=(V+(x=x+Math.imul(F,Me)|0)|0)+((8191&(_=(_=_+Math.imul(F,Je)|0)+Math.imul(Y,Me)|0))<<13)|0;V=((E=E+Math.imul(Y,Je)|0)+(_>>>13)|0)+(Cr>>>26)|0,Cr&=67108863,x=Math.imul(pe,ot),_=(_=Math.imul(pe,ct))+Math.imul(ie,ot)|0,E=Math.imul(ie,ct),x=x+Math.imul(ue,Lt)|0,_=(_=_+Math.imul(ue,pt)|0)+Math.imul(te,Lt)|0,E=E+Math.imul(te,pt)|0,x=x+Math.imul(ne,Bt)|0,_=(_=_+Math.imul(ne,xt)|0)+Math.imul(Z,Bt)|0,E=E+Math.imul(Z,xt)|0,x=x+Math.imul(T,Me)|0,_=(_=_+Math.imul(T,Je)|0)+Math.imul(G,Me)|0,E=E+Math.imul(G,Je)|0;var Wr=(V+(x=x+Math.imul(F,We)|0)|0)+((8191&(_=(_=_+Math.imul(F,De)|0)+Math.imul(Y,We)|0))<<13)|0;V=((E=E+Math.imul(Y,De)|0)+(_>>>13)|0)+(Wr>>>26)|0,Wr&=67108863,x=Math.imul(be,ot),_=(_=Math.imul(be,ct))+Math.imul(re,ot)|0,E=Math.imul(re,ct),x=x+Math.imul(pe,Lt)|0,_=(_=_+Math.imul(pe,pt)|0)+Math.imul(ie,Lt)|0,E=E+Math.imul(ie,pt)|0,x=x+Math.imul(ue,Bt)|0,_=(_=_+Math.imul(ue,xt)|0)+Math.imul(te,Bt)|0,E=E+Math.imul(te,xt)|0,x=x+Math.imul(ne,Me)|0,_=(_=_+Math.imul(ne,Je)|0)+Math.imul(Z,Me)|0,E=E+Math.imul(Z,Je)|0,x=x+Math.imul(T,We)|0,_=(_=_+Math.imul(T,De)|0)+Math.imul(G,We)|0,E=E+Math.imul(G,De)|0;var xe=(V+(x=x+Math.imul(F,Ke)|0)|0)+((8191&(_=(_=_+Math.imul(F,st)|0)+Math.imul(Y,Ke)|0))<<13)|0;V=((E=E+Math.imul(Y,st)|0)+(_>>>13)|0)+(xe>>>26)|0,xe&=67108863,x=Math.imul(_e,ot),_=(_=Math.imul(_e,ct))+Math.imul(Re,ot)|0,E=Math.imul(Re,ct),x=x+Math.imul(be,Lt)|0,_=(_=_+Math.imul(be,pt)|0)+Math.imul(re,Lt)|0,E=E+Math.imul(re,pt)|0,x=x+Math.imul(pe,Bt)|0,_=(_=_+Math.imul(pe,xt)|0)+Math.imul(ie,Bt)|0,E=E+Math.imul(ie,xt)|0,x=x+Math.imul(ue,Me)|0,_=(_=_+Math.imul(ue,Je)|0)+Math.imul(te,Me)|0,E=E+Math.imul(te,Je)|0,x=x+Math.imul(ne,We)|0,_=(_=_+Math.imul(ne,De)|0)+Math.imul(Z,We)|0,E=E+Math.imul(Z,De)|0,x=x+Math.imul(T,Ke)|0,_=(_=_+Math.imul(T,st)|0)+Math.imul(G,Ke)|0,E=E+Math.imul(G,st)|0;var Be=(V+(x=x+Math.imul(F,Ae)|0)|0)+((8191&(_=(_=_+Math.imul(F,ze)|0)+Math.imul(Y,Ae)|0))<<13)|0;V=((E=E+Math.imul(Y,ze)|0)+(_>>>13)|0)+(Be>>>26)|0,Be&=67108863,x=Math.imul(Ze,ot),_=(_=Math.imul(Ze,ct))+Math.imul(Ye,ot)|0,E=Math.imul(Ye,ct),x=x+Math.imul(_e,Lt)|0,_=(_=_+Math.imul(_e,pt)|0)+Math.imul(Re,Lt)|0,E=E+Math.imul(Re,pt)|0,x=x+Math.imul(be,Bt)|0,_=(_=_+Math.imul(be,xt)|0)+Math.imul(re,Bt)|0,E=E+Math.imul(re,xt)|0,x=x+Math.imul(pe,Me)|0,_=(_=_+Math.imul(pe,Je)|0)+Math.imul(ie,Me)|0,E=E+Math.imul(ie,Je)|0,x=x+Math.imul(ue,We)|0,_=(_=_+Math.imul(ue,De)|0)+Math.imul(te,We)|0,E=E+Math.imul(te,De)|0,x=x+Math.imul(ne,Ke)|0,_=(_=_+Math.imul(ne,st)|0)+Math.imul(Z,Ke)|0,E=E+Math.imul(Z,st)|0,x=x+Math.imul(T,Ae)|0,_=(_=_+Math.imul(T,ze)|0)+Math.imul(G,Ae)|0,E=E+Math.imul(G,ze)|0;var tt=(V+(x=x+Math.imul(F,Et)|0)|0)+((8191&(_=(_=_+Math.imul(F,ht)|0)+Math.imul(Y,Et)|0))<<13)|0;V=((E=E+Math.imul(Y,ht)|0)+(_>>>13)|0)+(tt>>>26)|0,tt&=67108863,x=Math.imul(ke,ot),_=(_=Math.imul(ke,ct))+Math.imul(je,ot)|0,E=Math.imul(je,ct),x=x+Math.imul(Ze,Lt)|0,_=(_=_+Math.imul(Ze,pt)|0)+Math.imul(Ye,Lt)|0,E=E+Math.imul(Ye,pt)|0,x=x+Math.imul(_e,Bt)|0,_=(_=_+Math.imul(_e,xt)|0)+Math.imul(Re,Bt)|0,E=E+Math.imul(Re,xt)|0,x=x+Math.imul(be,Me)|0,_=(_=_+Math.imul(be,Je)|0)+Math.imul(re,Me)|0,E=E+Math.imul(re,Je)|0,x=x+Math.imul(pe,We)|0,_=(_=_+Math.imul(pe,De)|0)+Math.imul(ie,We)|0,E=E+Math.imul(ie,De)|0,x=x+Math.imul(ue,Ke)|0,_=(_=_+Math.imul(ue,st)|0)+Math.imul(te,Ke)|0,E=E+Math.imul(te,st)|0,x=x+Math.imul(ne,Ae)|0,_=(_=_+Math.imul(ne,ze)|0)+Math.imul(Z,Ae)|0,E=E+Math.imul(Z,ze)|0,x=x+Math.imul(T,Et)|0,_=(_=_+Math.imul(T,ht)|0)+Math.imul(G,Et)|0,E=E+Math.imul(G,ht)|0;var at=(V+(x=x+Math.imul(F,Ct)|0)|0)+((8191&(_=(_=_+Math.imul(F,_t)|0)+Math.imul(Y,Ct)|0))<<13)|0;V=((E=E+Math.imul(Y,_t)|0)+(_>>>13)|0)+(at>>>26)|0,at&=67108863,x=Math.imul(Le,ot),_=(_=Math.imul(Le,ct))+Math.imul(Ve,ot)|0,E=Math.imul(Ve,ct),x=x+Math.imul(ke,Lt)|0,_=(_=_+Math.imul(ke,pt)|0)+Math.imul(je,Lt)|0,E=E+Math.imul(je,pt)|0,x=x+Math.imul(Ze,Bt)|0,_=(_=_+Math.imul(Ze,xt)|0)+Math.imul(Ye,Bt)|0,E=E+Math.imul(Ye,xt)|0,x=x+Math.imul(_e,Me)|0,_=(_=_+Math.imul(_e,Je)|0)+Math.imul(Re,Me)|0,E=E+Math.imul(Re,Je)|0,x=x+Math.imul(be,We)|0,_=(_=_+Math.imul(be,De)|0)+Math.imul(re,We)|0,E=E+Math.imul(re,De)|0,x=x+Math.imul(pe,Ke)|0,_=(_=_+Math.imul(pe,st)|0)+Math.imul(ie,Ke)|0,E=E+Math.imul(ie,st)|0,x=x+Math.imul(ue,Ae)|0,_=(_=_+Math.imul(ue,ze)|0)+Math.imul(te,Ae)|0,E=E+Math.imul(te,ze)|0,x=x+Math.imul(ne,Et)|0,_=(_=_+Math.imul(ne,ht)|0)+Math.imul(Z,Et)|0,E=E+Math.imul(Z,ht)|0,x=x+Math.imul(T,Ct)|0,_=(_=_+Math.imul(T,_t)|0)+Math.imul(G,Ct)|0,E=E+Math.imul(G,_t)|0;var Tt=(V+(x=x+Math.imul(F,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(F,$t)|0)+Math.imul(Y,Nt)|0))<<13)|0;V=((E=E+Math.imul(Y,$t)|0)+(_>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,x=Math.imul(Le,Lt),_=(_=Math.imul(Le,pt))+Math.imul(Ve,Lt)|0,E=Math.imul(Ve,pt),x=x+Math.imul(ke,Bt)|0,_=(_=_+Math.imul(ke,xt)|0)+Math.imul(je,Bt)|0,E=E+Math.imul(je,xt)|0,x=x+Math.imul(Ze,Me)|0,_=(_=_+Math.imul(Ze,Je)|0)+Math.imul(Ye,Me)|0,E=E+Math.imul(Ye,Je)|0,x=x+Math.imul(_e,We)|0,_=(_=_+Math.imul(_e,De)|0)+Math.imul(Re,We)|0,E=E+Math.imul(Re,De)|0,x=x+Math.imul(be,Ke)|0,_=(_=_+Math.imul(be,st)|0)+Math.imul(re,Ke)|0,E=E+Math.imul(re,st)|0,x=x+Math.imul(pe,Ae)|0,_=(_=_+Math.imul(pe,ze)|0)+Math.imul(ie,Ae)|0,E=E+Math.imul(ie,ze)|0,x=x+Math.imul(ue,Et)|0,_=(_=_+Math.imul(ue,ht)|0)+Math.imul(te,Et)|0,E=E+Math.imul(te,ht)|0,x=x+Math.imul(ne,Ct)|0,_=(_=_+Math.imul(ne,_t)|0)+Math.imul(Z,Ct)|0,E=E+Math.imul(Z,_t)|0;var mt=(V+(x=x+Math.imul(T,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(T,$t)|0)+Math.imul(G,Nt)|0))<<13)|0;V=((E=E+Math.imul(G,$t)|0)+(_>>>13)|0)+(mt>>>26)|0,mt&=67108863,x=Math.imul(Le,Bt),_=(_=Math.imul(Le,xt))+Math.imul(Ve,Bt)|0,E=Math.imul(Ve,xt),x=x+Math.imul(ke,Me)|0,_=(_=_+Math.imul(ke,Je)|0)+Math.imul(je,Me)|0,E=E+Math.imul(je,Je)|0,x=x+Math.imul(Ze,We)|0,_=(_=_+Math.imul(Ze,De)|0)+Math.imul(Ye,We)|0,E=E+Math.imul(Ye,De)|0,x=x+Math.imul(_e,Ke)|0,_=(_=_+Math.imul(_e,st)|0)+Math.imul(Re,Ke)|0,E=E+Math.imul(Re,st)|0,x=x+Math.imul(be,Ae)|0,_=(_=_+Math.imul(be,ze)|0)+Math.imul(re,Ae)|0,E=E+Math.imul(re,ze)|0,x=x+Math.imul(pe,Et)|0,_=(_=_+Math.imul(pe,ht)|0)+Math.imul(ie,Et)|0,E=E+Math.imul(ie,ht)|0,x=x+Math.imul(ue,Ct)|0,_=(_=_+Math.imul(ue,_t)|0)+Math.imul(te,Ct)|0,E=E+Math.imul(te,_t)|0;var gt=(V+(x=x+Math.imul(ne,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(ne,$t)|0)+Math.imul(Z,Nt)|0))<<13)|0;V=((E=E+Math.imul(Z,$t)|0)+(_>>>13)|0)+(gt>>>26)|0,gt&=67108863,x=Math.imul(Le,Me),_=(_=Math.imul(Le,Je))+Math.imul(Ve,Me)|0,E=Math.imul(Ve,Je),x=x+Math.imul(ke,We)|0,_=(_=_+Math.imul(ke,De)|0)+Math.imul(je,We)|0,E=E+Math.imul(je,De)|0,x=x+Math.imul(Ze,Ke)|0,_=(_=_+Math.imul(Ze,st)|0)+Math.imul(Ye,Ke)|0,E=E+Math.imul(Ye,st)|0,x=x+Math.imul(_e,Ae)|0,_=(_=_+Math.imul(_e,ze)|0)+Math.imul(Re,Ae)|0,E=E+Math.imul(Re,ze)|0,x=x+Math.imul(be,Et)|0,_=(_=_+Math.imul(be,ht)|0)+Math.imul(re,Et)|0,E=E+Math.imul(re,ht)|0,x=x+Math.imul(pe,Ct)|0,_=(_=_+Math.imul(pe,_t)|0)+Math.imul(ie,Ct)|0,E=E+Math.imul(ie,_t)|0;var er=(V+(x=x+Math.imul(ue,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(ue,$t)|0)+Math.imul(te,Nt)|0))<<13)|0;V=((E=E+Math.imul(te,$t)|0)+(_>>>13)|0)+(er>>>26)|0,er&=67108863,x=Math.imul(Le,We),_=(_=Math.imul(Le,De))+Math.imul(Ve,We)|0,E=Math.imul(Ve,De),x=x+Math.imul(ke,Ke)|0,_=(_=_+Math.imul(ke,st)|0)+Math.imul(je,Ke)|0,E=E+Math.imul(je,st)|0,x=x+Math.imul(Ze,Ae)|0,_=(_=_+Math.imul(Ze,ze)|0)+Math.imul(Ye,Ae)|0,E=E+Math.imul(Ye,ze)|0,x=x+Math.imul(_e,Et)|0,_=(_=_+Math.imul(_e,ht)|0)+Math.imul(Re,Et)|0,E=E+Math.imul(Re,ht)|0,x=x+Math.imul(be,Ct)|0,_=(_=_+Math.imul(be,_t)|0)+Math.imul(re,Ct)|0,E=E+Math.imul(re,_t)|0;var Gt=(V+(x=x+Math.imul(pe,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(pe,$t)|0)+Math.imul(ie,Nt)|0))<<13)|0;V=((E=E+Math.imul(ie,$t)|0)+(_>>>13)|0)+(Gt>>>26)|0,Gt&=67108863,x=Math.imul(Le,Ke),_=(_=Math.imul(Le,st))+Math.imul(Ve,Ke)|0,E=Math.imul(Ve,st),x=x+Math.imul(ke,Ae)|0,_=(_=_+Math.imul(ke,ze)|0)+Math.imul(je,Ae)|0,E=E+Math.imul(je,ze)|0,x=x+Math.imul(Ze,Et)|0,_=(_=_+Math.imul(Ze,ht)|0)+Math.imul(Ye,Et)|0,E=E+Math.imul(Ye,ht)|0,x=x+Math.imul(_e,Ct)|0,_=(_=_+Math.imul(_e,_t)|0)+Math.imul(Re,Ct)|0,E=E+Math.imul(Re,_t)|0;var Kt=(V+(x=x+Math.imul(be,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(be,$t)|0)+Math.imul(re,Nt)|0))<<13)|0;V=((E=E+Math.imul(re,$t)|0)+(_>>>13)|0)+(Kt>>>26)|0,Kt&=67108863,x=Math.imul(Le,Ae),_=(_=Math.imul(Le,ze))+Math.imul(Ve,Ae)|0,E=Math.imul(Ve,ze),x=x+Math.imul(ke,Et)|0,_=(_=_+Math.imul(ke,ht)|0)+Math.imul(je,Et)|0,E=E+Math.imul(je,ht)|0,x=x+Math.imul(Ze,Ct)|0,_=(_=_+Math.imul(Ze,_t)|0)+Math.imul(Ye,Ct)|0,E=E+Math.imul(Ye,_t)|0;var Mt=(V+(x=x+Math.imul(_e,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(_e,$t)|0)+Math.imul(Re,Nt)|0))<<13)|0;V=((E=E+Math.imul(Re,$t)|0)+(_>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,x=Math.imul(Le,Et),_=(_=Math.imul(Le,ht))+Math.imul(Ve,Et)|0,E=Math.imul(Ve,ht),x=x+Math.imul(ke,Ct)|0,_=(_=_+Math.imul(ke,_t)|0)+Math.imul(je,Ct)|0,E=E+Math.imul(je,_t)|0;var lr=(V+(x=x+Math.imul(Ze,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(Ze,$t)|0)+Math.imul(Ye,Nt)|0))<<13)|0;V=((E=E+Math.imul(Ye,$t)|0)+(_>>>13)|0)+(lr>>>26)|0,lr&=67108863,x=Math.imul(Le,Ct),_=(_=Math.imul(Le,_t))+Math.imul(Ve,Ct)|0,E=Math.imul(Ve,_t);var zt=(V+(x=x+Math.imul(ke,Nt)|0)|0)+((8191&(_=(_=_+Math.imul(ke,$t)|0)+Math.imul(je,Nt)|0))<<13)|0;V=((E=E+Math.imul(je,$t)|0)+(_>>>13)|0)+(zt>>>26)|0,zt&=67108863;var ur=(V+(x=Math.imul(Le,Nt))|0)+((8191&(_=(_=Math.imul(Le,$t))+Math.imul(Ve,Nt)|0))<<13)|0;return V=((E=Math.imul(Ve,$t))+(_>>>13)|0)+(ur>>>26)|0,ur&=67108863,U[0]=pr,U[1]=ar,U[2]=kr,U[3]=Cr,U[4]=Wr,U[5]=xe,U[6]=Be,U[7]=tt,U[8]=at,U[9]=Tt,U[10]=mt,U[11]=gt,U[12]=er,U[13]=Gt,U[14]=Kt,U[15]=Mt,U[16]=lr,U[17]=zt,U[18]=ur,V!==0&&(U[19]=V,S.length++),S};function j(k,w,S){S.negative=w.negative^k.negative,S.length=k.length+w.length;for(var x=0,_=0,E=0;E<S.length-1;E++){var D=_;_=0;for(var N=67108863&x,U=Math.min(E,w.length-1),V=Math.max(0,E-k.length+1);V<=U;V++){var J=E-V,F=(0|k.words[J])*(0|w.words[V]),Y=67108863&F;N=67108863&(Y=Y+N|0),_+=(D=(D=D+(F/67108864|0)|0)+(Y>>>26)|0)>>>26,D&=67108863}S.words[E]=N,x=D,D=_}return x!==0?S.words[E]=x:S.length--,S._strip()}function L(k,w,S){return j(k,w,S)}Math.imul||(C=v),o.prototype.mulTo=function(k,w){var S=this.length+k.length;return this.length===10&&k.length===10?C(this,k,w):S<63?v(this,k,w):S<1024?j(this,k,w):L(this,k,w)},o.prototype.mul=function(k){var w=new o(null);return w.words=new Array(this.length+k.length),this.mulTo(k,w)},o.prototype.mulf=function(k){var w=new o(null);return w.words=new Array(this.length+k.length),L(this,k,w)},o.prototype.imul=function(k){return this.clone().mulTo(k,this)},o.prototype.imuln=function(k){var w=k<0;w&&(k=-k),u(typeof k=="number"),u(k<67108864);for(var S=0,x=0;x<this.length;x++){var _=(0|this.words[x])*k,E=(67108863&_)+(67108863&S);S>>=26,S+=_/67108864|0,S+=E>>>26,this.words[x]=67108863&E}return S!==0&&(this.words[x]=S,this.length++),w?this.ineg():this},o.prototype.muln=function(k){return this.clone().imuln(k)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(k){var w=function(E){for(var D=new Array(E.bitLength()),N=0;N<D.length;N++){var U=N/26|0,V=N%26;D[N]=E.words[U]>>>V&1}return D}(k);if(w.length===0)return new o(1);for(var S=this,x=0;x<w.length&&w[x]===0;x++,S=S.sqr());if(++x<w.length)for(var _=S.sqr();x<w.length;x++,_=_.sqr())w[x]!==0&&(S=S.mul(_));return S},o.prototype.iushln=function(k){u(typeof k=="number"&&k>=0);var w,S=k%26,x=(k-S)/26,_=67108863>>>26-S<<26-S;if(S!==0){var E=0;for(w=0;w<this.length;w++){var D=this.words[w]&_,N=(0|this.words[w])-D<<S;this.words[w]=N|E,E=D>>>26-S}E&&(this.words[w]=E,this.length++)}if(x!==0){for(w=this.length-1;w>=0;w--)this.words[w+x]=this.words[w];for(w=0;w<x;w++)this.words[w]=0;this.length+=x}return this._strip()},o.prototype.ishln=function(k){return u(this.negative===0),this.iushln(k)},o.prototype.iushrn=function(k,w,S){var x;u(typeof k=="number"&&k>=0),x=w?(w-w%26)/26:0;var _=k%26,E=Math.min((k-_)/26,this.length),D=67108863^67108863>>>_<<_,N=S;if(x-=E,x=Math.max(0,x),N){for(var U=0;U<E;U++)N.words[U]=this.words[U];N.length=E}if(E!==0)if(this.length>E)for(this.length-=E,U=0;U<this.length;U++)this.words[U]=this.words[U+E];else this.words[0]=0,this.length=1;var V=0;for(U=this.length-1;U>=0&&(V!==0||U>=x);U--){var J=0|this.words[U];this.words[U]=V<<26-_|J>>>_,V=J&D}return N&&V!==0&&(N.words[N.length++]=V),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},o.prototype.ishrn=function(k,w,S){return u(this.negative===0),this.iushrn(k,w,S)},o.prototype.shln=function(k){return this.clone().ishln(k)},o.prototype.ushln=function(k){return this.clone().iushln(k)},o.prototype.shrn=function(k){return this.clone().ishrn(k)},o.prototype.ushrn=function(k){return this.clone().iushrn(k)},o.prototype.testn=function(k){u(typeof k=="number"&&k>=0);var w=k%26,S=(k-w)/26,x=1<<w;return!(this.length<=S)&&!!(this.words[S]&x)},o.prototype.imaskn=function(k){u(typeof k=="number"&&k>=0);var w=k%26,S=(k-w)/26;if(u(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(w!==0&&S++,this.length=Math.min(S,this.length),w!==0){var x=67108863^67108863>>>w<<w;this.words[this.length-1]&=x}return this._strip()},o.prototype.maskn=function(k){return this.clone().imaskn(k)},o.prototype.iaddn=function(k){return u(typeof k=="number"),u(k<67108864),k<0?this.isubn(-k):this.negative!==0?this.length===1&&(0|this.words[0])<=k?(this.words[0]=k-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(k),this.negative=1,this):this._iaddn(k)},o.prototype._iaddn=function(k){this.words[0]+=k;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},o.prototype.isubn=function(k){if(u(typeof k=="number"),u(k<67108864),k<0)return this.iaddn(-k);if(this.negative!==0)return this.negative=0,this.iaddn(k),this.negative=1,this;if(this.words[0]-=k,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},o.prototype.addn=function(k){return this.clone().iaddn(k)},o.prototype.subn=function(k){return this.clone().isubn(k)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(k,w,S){var x,_,E=k.length+S;this._expand(E);var D=0;for(x=0;x<k.length;x++){_=(0|this.words[x+S])+D;var N=(0|k.words[x])*w;D=((_-=67108863&N)>>26)-(N/67108864|0),this.words[x+S]=67108863&_}for(;x<this.length-S;x++)D=(_=(0|this.words[x+S])+D)>>26,this.words[x+S]=67108863&_;if(D===0)return this._strip();for(u(D===-1),D=0,x=0;x<this.length;x++)D=(_=-(0|this.words[x])+D)>>26,this.words[x]=67108863&_;return this.negative=1,this._strip()},o.prototype._wordDiv=function(k,w){var S=(this.length,k.length),x=this.clone(),_=k,E=0|_.words[_.length-1];(S=26-this._countBits(E))!==0&&(_=_.ushln(S),x.iushln(S),E=0|_.words[_.length-1]);var D,N=x.length-_.length;if(w!=="mod"){(D=new o(null)).length=N+1,D.words=new Array(D.length);for(var U=0;U<D.length;U++)D.words[U]=0}var V=x.clone()._ishlnsubmul(_,1,N);V.negative===0&&(x=V,D&&(D.words[N]=1));for(var J=N-1;J>=0;J--){var F=67108864*(0|x.words[_.length+J])+(0|x.words[_.length+J-1]);for(F=Math.min(F/E|0,67108863),x._ishlnsubmul(_,F,J);x.negative!==0;)F--,x.negative=0,x._ishlnsubmul(_,1,J),x.isZero()||(x.negative^=1);D&&(D.words[J]=F)}return D&&D._strip(),x._strip(),w!=="div"&&S!==0&&x.iushrn(S),{div:D||null,mod:x}},o.prototype.divmod=function(k,w,S){return u(!k.isZero()),this.isZero()?{div:new o(0),mod:new o(0)}:this.negative!==0&&k.negative===0?(E=this.neg().divmod(k,w),w!=="mod"&&(x=E.div.neg()),w!=="div"&&(_=E.mod.neg(),S&&_.negative!==0&&_.iadd(k)),{div:x,mod:_}):this.negative===0&&k.negative!==0?(E=this.divmod(k.neg(),w),w!=="mod"&&(x=E.div.neg()),{div:x,mod:E.mod}):this.negative&k.negative?(E=this.neg().divmod(k.neg(),w),w!=="div"&&(_=E.mod.neg(),S&&_.negative!==0&&_.isub(k)),{div:E.div,mod:_}):k.length>this.length||this.cmp(k)<0?{div:new o(0),mod:this}:k.length===1?w==="div"?{div:this.divn(k.words[0]),mod:null}:w==="mod"?{div:null,mod:new o(this.modrn(k.words[0]))}:{div:this.divn(k.words[0]),mod:new o(this.modrn(k.words[0]))}:this._wordDiv(k,w);var x,_,E},o.prototype.div=function(k){return this.divmod(k,"div",!1).div},o.prototype.mod=function(k){return this.divmod(k,"mod",!1).mod},o.prototype.umod=function(k){return this.divmod(k,"mod",!0).mod},o.prototype.divRound=function(k){var w=this.divmod(k);if(w.mod.isZero())return w.div;var S=w.div.negative!==0?w.mod.isub(k):w.mod,x=k.ushrn(1),_=k.andln(1),E=S.cmp(x);return E<0||_===1&&E===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},o.prototype.modrn=function(k){var w=k<0;w&&(k=-k),u(k<=67108863);for(var S=(1<<26)%k,x=0,_=this.length-1;_>=0;_--)x=(S*x+(0|this.words[_]))%k;return w?-x:x},o.prototype.modn=function(k){return this.modrn(k)},o.prototype.idivn=function(k){var w=k<0;w&&(k=-k),u(k<=67108863);for(var S=0,x=this.length-1;x>=0;x--){var _=(0|this.words[x])+67108864*S;this.words[x]=_/k|0,S=_%k}return this._strip(),w?this.ineg():this},o.prototype.divn=function(k){return this.clone().idivn(k)},o.prototype.egcd=function(k){u(k.negative===0),u(!k.isZero());var w=this,S=k.clone();w=w.negative!==0?w.umod(k):w.clone();for(var x=new o(1),_=new o(0),E=new o(0),D=new o(1),N=0;w.isEven()&&S.isEven();)w.iushrn(1),S.iushrn(1),++N;for(var U=S.clone(),V=w.clone();!w.isZero();){for(var J=0,F=1;!(w.words[0]&F)&&J<26;++J,F<<=1);if(J>0)for(w.iushrn(J);J-- >0;)(x.isOdd()||_.isOdd())&&(x.iadd(U),_.isub(V)),x.iushrn(1),_.iushrn(1);for(var Y=0,O=1;!(S.words[0]&O)&&Y<26;++Y,O<<=1);if(Y>0)for(S.iushrn(Y);Y-- >0;)(E.isOdd()||D.isOdd())&&(E.iadd(U),D.isub(V)),E.iushrn(1),D.iushrn(1);w.cmp(S)>=0?(w.isub(S),x.isub(E),_.isub(D)):(S.isub(w),E.isub(x),D.isub(_))}return{a:E,b:D,gcd:S.iushln(N)}},o.prototype._invmp=function(k){u(k.negative===0),u(!k.isZero());var w=this,S=k.clone();w=w.negative!==0?w.umod(k):w.clone();for(var x,_=new o(1),E=new o(0),D=S.clone();w.cmpn(1)>0&&S.cmpn(1)>0;){for(var N=0,U=1;!(w.words[0]&U)&&N<26;++N,U<<=1);if(N>0)for(w.iushrn(N);N-- >0;)_.isOdd()&&_.iadd(D),_.iushrn(1);for(var V=0,J=1;!(S.words[0]&J)&&V<26;++V,J<<=1);if(V>0)for(S.iushrn(V);V-- >0;)E.isOdd()&&E.iadd(D),E.iushrn(1);w.cmp(S)>=0?(w.isub(S),_.isub(E)):(S.isub(w),E.isub(_))}return(x=w.cmpn(1)===0?_:E).cmpn(0)<0&&x.iadd(k),x},o.prototype.gcd=function(k){if(this.isZero())return k.abs();if(k.isZero())return this.abs();var w=this.clone(),S=k.clone();w.negative=0,S.negative=0;for(var x=0;w.isEven()&&S.isEven();x++)w.iushrn(1),S.iushrn(1);for(;;){for(;w.isEven();)w.iushrn(1);for(;S.isEven();)S.iushrn(1);var _=w.cmp(S);if(_<0){var E=w;w=S,S=E}else if(_===0||S.cmpn(1)===0)break;w.isub(S)}return S.iushln(x)},o.prototype.invm=function(k){return this.egcd(k).a.umod(k)},o.prototype.isEven=function(){return(1&this.words[0])==0},o.prototype.isOdd=function(){return(1&this.words[0])==1},o.prototype.andln=function(k){return this.words[0]&k},o.prototype.bincn=function(k){u(typeof k=="number");var w=k%26,S=(k-w)/26,x=1<<w;if(this.length<=S)return this._expand(S+1),this.words[S]|=x,this;for(var _=x,E=S;_!==0&&E<this.length;E++){var D=0|this.words[E];_=(D+=_)>>>26,D&=67108863,this.words[E]=D}return _!==0&&(this.words[E]=_,this.length++),this},o.prototype.isZero=function(){return this.length===1&&this.words[0]===0},o.prototype.cmpn=function(k){var w,S=k<0;if(this.negative!==0&&!S)return-1;if(this.negative===0&&S)return 1;if(this._strip(),this.length>1)w=1;else{S&&(k=-k),u(k<=67108863,"Number is too big");var x=0|this.words[0];w=x===k?0:x<k?-1:1}return this.negative!==0?0|-w:w},o.prototype.cmp=function(k){if(this.negative!==0&&k.negative===0)return-1;if(this.negative===0&&k.negative!==0)return 1;var w=this.ucmp(k);return this.negative!==0?0|-w:w},o.prototype.ucmp=function(k){if(this.length>k.length)return 1;if(this.length<k.length)return-1;for(var w=0,S=this.length-1;S>=0;S--){var x=0|this.words[S],_=0|k.words[S];if(x!==_){x<_?w=-1:x>_&&(w=1);break}}return w},o.prototype.gtn=function(k){return this.cmpn(k)===1},o.prototype.gt=function(k){return this.cmp(k)===1},o.prototype.gten=function(k){return this.cmpn(k)>=0},o.prototype.gte=function(k){return this.cmp(k)>=0},o.prototype.ltn=function(k){return this.cmpn(k)===-1},o.prototype.lt=function(k){return this.cmp(k)===-1},o.prototype.lten=function(k){return this.cmpn(k)<=0},o.prototype.lte=function(k){return this.cmp(k)<=0},o.prototype.eqn=function(k){return this.cmpn(k)===0},o.prototype.eq=function(k){return this.cmp(k)===0},o.red=function(k){return new A(k)},o.prototype.toRed=function(k){return u(!this.red,"Already a number in reduction context"),u(this.negative===0,"red works only with positives"),k.convertTo(this)._forceRed(k)},o.prototype.fromRed=function(){return u(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(k){return this.red=k,this},o.prototype.forceRed=function(k){return u(!this.red,"Already a number in reduction context"),this._forceRed(k)},o.prototype.redAdd=function(k){return u(this.red,"redAdd works only with red numbers"),this.red.add(this,k)},o.prototype.redIAdd=function(k){return u(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,k)},o.prototype.redSub=function(k){return u(this.red,"redSub works only with red numbers"),this.red.sub(this,k)},o.prototype.redISub=function(k){return u(this.red,"redISub works only with red numbers"),this.red.isub(this,k)},o.prototype.redShl=function(k){return u(this.red,"redShl works only with red numbers"),this.red.shl(this,k)},o.prototype.redMul=function(k){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.mul(this,k)},o.prototype.redIMul=function(k){return u(this.red,"redMul works only with red numbers"),this.red._verify2(this,k),this.red.imul(this,k)},o.prototype.redSqr=function(){return u(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return u(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return u(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return u(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return u(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(k){return u(this.red&&!k.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,k)};var $={k256:null,p224:null,p192:null,p25519:null};function M(k,w){this.name=k,this.p=new o(w,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function z(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function H(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function q(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function B(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function A(k){if(typeof k=="string"){var w=o._prime(k);this.m=w.p,this.prime=w}else u(k.gtn(1),"modulus must be greater than 1"),this.m=k,this.prime=null}function P(k){A.call(this,k),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}M.prototype._tmp=function(){var k=new o(null);return k.words=new Array(Math.ceil(this.n/13)),k},M.prototype.ireduce=function(k){var w,S=k;do this.split(S,this.tmp),w=(S=(S=this.imulK(S)).iadd(this.tmp)).bitLength();while(w>this.n);var x=w<this.n?-1:S.ucmp(this.p);return x===0?(S.words[0]=0,S.length=1):x>0?S.isub(this.p):S.strip!==void 0?S.strip():S._strip(),S},M.prototype.split=function(k,w){k.iushrn(this.n,0,w)},M.prototype.imulK=function(k){return k.imul(this.k)},a(z,M),z.prototype.split=function(k,w){for(var S=Math.min(k.length,9),x=0;x<S;x++)w.words[x]=k.words[x];if(w.length=S,k.length<=9)return k.words[0]=0,void(k.length=1);var _=k.words[9];for(w.words[w.length++]=4194303&_,x=10;x<k.length;x++){var E=0|k.words[x];k.words[x-10]=(4194303&E)<<4|_>>>22,_=E}_>>>=22,k.words[x-10]=_,_===0&&k.length>10?k.length-=10:k.length-=9},z.prototype.imulK=function(k){k.words[k.length]=0,k.words[k.length+1]=0,k.length+=2;for(var w=0,S=0;S<k.length;S++){var x=0|k.words[S];w+=977*x,k.words[S]=67108863&w,w=64*x+(w/67108864|0)}return k.words[k.length-1]===0&&(k.length--,k.words[k.length-1]===0&&k.length--),k},a(H,M),a(q,M),a(B,M),B.prototype.imulK=function(k){for(var w=0,S=0;S<k.length;S++){var x=19*(0|k.words[S])+w,_=67108863&x;x>>>=26,k.words[S]=_,w=x}return w!==0&&(k.words[k.length++]=w),k},o._prime=function(k){if($[k])return $[k];var w;if(k==="k256")w=new z;else if(k==="p224")w=new H;else if(k==="p192")w=new q;else{if(k!=="p25519")throw new Error("Unknown prime "+k);w=new B}return $[k]=w,w},A.prototype._verify1=function(k){u(k.negative===0,"red works only with positives"),u(k.red,"red works only with red numbers")},A.prototype._verify2=function(k,w){u((k.negative|w.negative)==0,"red works only with positives"),u(k.red&&k.red===w.red,"red works only with red numbers")},A.prototype.imod=function(k){return this.prime?this.prime.ireduce(k)._forceRed(this):(y(k,k.umod(this.m)._forceRed(this)),k)},A.prototype.neg=function(k){return k.isZero()?k.clone():this.m.sub(k)._forceRed(this)},A.prototype.add=function(k,w){this._verify2(k,w);var S=k.add(w);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},A.prototype.iadd=function(k,w){this._verify2(k,w);var S=k.iadd(w);return S.cmp(this.m)>=0&&S.isub(this.m),S},A.prototype.sub=function(k,w){this._verify2(k,w);var S=k.sub(w);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},A.prototype.isub=function(k,w){this._verify2(k,w);var S=k.isub(w);return S.cmpn(0)<0&&S.iadd(this.m),S},A.prototype.shl=function(k,w){return this._verify1(k),this.imod(k.ushln(w))},A.prototype.imul=function(k,w){return this._verify2(k,w),this.imod(k.imul(w))},A.prototype.mul=function(k,w){return this._verify2(k,w),this.imod(k.mul(w))},A.prototype.isqr=function(k){return this.imul(k,k.clone())},A.prototype.sqr=function(k){return this.mul(k,k)},A.prototype.sqrt=function(k){if(k.isZero())return k.clone();var w=this.m.andln(3);if(u(w%2==1),w===3){var S=this.m.add(new o(1)).iushrn(2);return this.pow(k,S)}for(var x=this.m.subn(1),_=0;!x.isZero()&&x.andln(1)===0;)_++,x.iushrn(1);u(!x.isZero());var E=new o(1).toRed(this),D=E.redNeg(),N=this.m.subn(1).iushrn(1),U=this.m.bitLength();for(U=new o(2*U*U).toRed(this);this.pow(U,N).cmp(D)!==0;)U.redIAdd(D);for(var V=this.pow(U,x),J=this.pow(k,x.addn(1).iushrn(1)),F=this.pow(k,x),Y=_;F.cmp(E)!==0;){for(var O=F,T=0;O.cmp(E)!==0;T++)O=O.redSqr();u(T<Y);var G=this.pow(V,new o(1).iushln(Y-T-1));J=J.redMul(G),V=G.redSqr(),F=F.redMul(V),Y=T}return J},A.prototype.invm=function(k){var w=k._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},A.prototype.pow=function(k,w){if(w.isZero())return new o(1).toRed(this);if(w.cmpn(1)===0)return k.clone();var S=new Array(16);S[0]=new o(1).toRed(this),S[1]=k;for(var x=2;x<S.length;x++)S[x]=this.mul(S[x-1],k);var _=S[0],E=0,D=0,N=w.bitLength()%26;for(N===0&&(N=26),x=w.length-1;x>=0;x--){for(var U=w.words[x],V=N-1;V>=0;V--){var J=U>>V&1;_!==S[0]&&(_=this.sqr(_)),J!==0||E!==0?(E<<=1,E|=J,(++D===4||x===0&&V===0)&&(_=this.mul(_,S[E]),D=0,E=0)):D=0}N=26}return _},A.prototype.convertTo=function(k){var w=k.umod(this.m);return w===k?w.clone():w},A.prototype.convertFrom=function(k){var w=k.clone();return w.red=null,w},o.mont=function(k){return new P(k)},a(P,A),P.prototype.convertTo=function(k){return this.imod(k.ushln(this.shift))},P.prototype.convertFrom=function(k){var w=this.imod(k.mul(this.rinv));return w.red=null,w},P.prototype.imul=function(k,w){if(k.isZero()||w.isZero())return k.words[0]=0,k.length=1,k;var S=k.imul(w),x=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=S.isub(x).iushrn(this.shift),E=_;return _.cmp(this.m)>=0?E=_.isub(this.m):_.cmpn(0)<0&&(E=_.iadd(this.m)),E._forceRed(this)},P.prototype.mul=function(k,w){if(k.isZero()||w.isZero())return new o(0)._forceRed(this);var S=k.mul(w),x=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),_=S.isub(x).iushrn(this.shift),E=_;return _.cmp(this.m)>=0?E=_.isub(this.m):_.cmpn(0)<0&&(E=_.iadd(this.m)),E._forceRed(this)},P.prototype.invm=function(k){return this.imod(k._invmp(this.m).mul(this.r2))._forceRed(this)}})(n===void 0||n)},{buffer:188}],187:[function(e,n,l){var i;function s(a){this.rand=a}if(n.exports=function(a){return i||(i=new s(null)),i.generate(a)},n.exports.Rand=s,s.prototype.generate=function(a){return this._rand(a)},s.prototype._rand=function(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var o=new Uint8Array(a),c=0;c<o.length;c++)o[c]=this.rand.getByte();return o},typeof self=="object")self.crypto&&self.crypto.getRandomValues?s.prototype._rand=function(a){var o=new Uint8Array(a);return self.crypto.getRandomValues(o),o}:self.msCrypto&&self.msCrypto.getRandomValues?s.prototype._rand=function(a){var o=new Uint8Array(a);return self.msCrypto.getRandomValues(o),o}:typeof window=="object"&&(s.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var u=e("crypto");if(typeof u.randomBytes!="function")throw new Error("Not supported");s.prototype._rand=function(a){return u.randomBytes(a)}}catch{}},{crypto:188}],188:[function(e,n,l){},{}],189:[function(e,n,l){var i=e("safe-buffer").Buffer;function s(h){i.isBuffer(h)||(h=i.from(h));for(var d=h.length/4|0,y=new Array(d),b=0;b<d;b++)y[b]=h.readUInt32BE(4*b);return y}function u(h){for(;0<h.length;h++)h[0]=0}function a(h,d,y,b,m){for(var g,p,v,C,j=y[0],L=y[1],$=y[2],M=y[3],z=h[0]^d[0],H=h[1]^d[1],q=h[2]^d[2],B=h[3]^d[3],A=4,P=1;P<m;P++)g=j[z>>>24]^L[H>>>16&255]^$[q>>>8&255]^M[255&B]^d[A++],p=j[H>>>24]^L[q>>>16&255]^$[B>>>8&255]^M[255&z]^d[A++],v=j[q>>>24]^L[B>>>16&255]^$[z>>>8&255]^M[255&H]^d[A++],C=j[B>>>24]^L[z>>>16&255]^$[H>>>8&255]^M[255&q]^d[A++],z=g,H=p,q=v,B=C;return g=(b[z>>>24]<<24|b[H>>>16&255]<<16|b[q>>>8&255]<<8|b[255&B])^d[A++],p=(b[H>>>24]<<24|b[q>>>16&255]<<16|b[B>>>8&255]<<8|b[255&z])^d[A++],v=(b[q>>>24]<<24|b[B>>>16&255]<<16|b[z>>>8&255]<<8|b[255&H])^d[A++],C=(b[B>>>24]<<24|b[z>>>16&255]<<16|b[H>>>8&255]<<8|b[255&q])^d[A++],[g>>>=0,p>>>=0,v>>>=0,C>>>=0]}var o=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var h=new Array(256),d=0;d<256;d++)h[d]=d<128?d<<1:d<<1^283;for(var y=[],b=[],m=[[],[],[],[]],g=[[],[],[],[]],p=0,v=0,C=0;C<256;++C){var j=v^v<<1^v<<2^v<<3^v<<4;j=j>>>8^255&j^99,y[p]=j,b[j]=p;var L=h[p],$=h[L],M=h[$],z=257*h[j]^16843008*j;m[0][p]=z<<24|z>>>8,m[1][p]=z<<16|z>>>16,m[2][p]=z<<8|z>>>24,m[3][p]=z,z=16843009*M^65537*$^257*L^16843008*p,g[0][j]=z<<24|z>>>8,g[1][j]=z<<16|z>>>16,g[2][j]=z<<8|z>>>24,g[3][j]=z,p===0?p=v=1:(p=L^h[h[h[M^L]]],v^=h[h[v]])}return{SBOX:y,INV_SBOX:b,SUB_MIX:m,INV_SUB_MIX:g}}();function f(h){this._key=s(h),this._reset()}f.blockSize=16,f.keySize=32,f.prototype.blockSize=f.blockSize,f.prototype.keySize=f.keySize,f.prototype._reset=function(){for(var h=this._key,d=h.length,y=d+6,b=4*(y+1),m=[],g=0;g<d;g++)m[g]=h[g];for(g=d;g<b;g++){var p=m[g-1];g%d==0?(p=p<<8|p>>>24,p=c.SBOX[p>>>24]<<24|c.SBOX[p>>>16&255]<<16|c.SBOX[p>>>8&255]<<8|c.SBOX[255&p],p^=o[g/d|0]<<24):d>6&&g%d==4&&(p=c.SBOX[p>>>24]<<24|c.SBOX[p>>>16&255]<<16|c.SBOX[p>>>8&255]<<8|c.SBOX[255&p]),m[g]=m[g-d]^p}for(var v=[],C=0;C<b;C++){var j=b-C,L=m[j-(C%4?0:4)];v[C]=C<4||j<=4?L:c.INV_SUB_MIX[0][c.SBOX[L>>>24]]^c.INV_SUB_MIX[1][c.SBOX[L>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[L>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&L]]}this._nRounds=y,this._keySchedule=m,this._invKeySchedule=v},f.prototype.encryptBlockRaw=function(h){return a(h=s(h),this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},f.prototype.encryptBlock=function(h){var d=this.encryptBlockRaw(h),y=i.allocUnsafe(16);return y.writeUInt32BE(d[0],0),y.writeUInt32BE(d[1],4),y.writeUInt32BE(d[2],8),y.writeUInt32BE(d[3],12),y},f.prototype.decryptBlock=function(h){var d=(h=s(h))[1];h[1]=h[3],h[3]=d;var y=a(h,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),b=i.allocUnsafe(16);return b.writeUInt32BE(y[0],0),b.writeUInt32BE(y[3],4),b.writeUInt32BE(y[2],8),b.writeUInt32BE(y[1],12),b},f.prototype.scrub=function(){u(this._keySchedule),u(this._invKeySchedule),u(this._key)},n.exports.AES=f},{"safe-buffer":494}],190:[function(e,n,l){var i=e("./aes"),s=e("safe-buffer").Buffer,u=e("cipher-base"),a=e("inherits"),o=e("./ghash"),c=e("buffer-xor"),f=e("./incr32");function h(d,y,b,m){u.call(this);var g=s.alloc(4,0);this._cipher=new i.AES(y);var p=this._cipher.encryptBlock(g);this._ghash=new o(p),b=function(v,C,j){if(C.length===12)return v._finID=s.concat([C,s.from([0,0,0,1])]),s.concat([C,s.from([0,0,0,2])]);var L=new o(j),$=C.length,M=$%16;L.update(C),M&&(M=16-M,L.update(s.alloc(M,0))),L.update(s.alloc(8,0));var z=8*$,H=s.alloc(8);H.writeUIntBE(z,0,8),L.update(H),v._finID=L.state;var q=s.from(v._finID);return f(q),q}(this,b,p),this._prev=s.from(b),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=m,this._alen=0,this._len=0,this._mode=d,this._authTag=null,this._called=!1}a(h,u),h.prototype._update=function(d){if(!this._called&&this._alen){var y=16-this._alen%16;y<16&&(y=s.alloc(y,0),this._ghash.update(y))}this._called=!0;var b=this._mode.encrypt(this,d);return this._decrypt?this._ghash.update(d):this._ghash.update(b),this._len+=d.length,b},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var d=c(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&function(y,b){var m=0;y.length!==b.length&&m++;for(var g=Math.min(y.length,b.length),p=0;p<g;++p)m+=y[p]^b[p];return m}(d,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=d,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(d){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=d},h.prototype.setAAD=function(d){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(d),this._alen+=d.length},n.exports=h},{"./aes":189,"./ghash":194,"./incr32":195,"buffer-xor":219,"cipher-base":221,inherits:440,"safe-buffer":494}],191:[function(e,n,l){var i=e("./encrypter"),s=e("./decrypter"),u=e("./modes/list.json");l.createCipher=l.Cipher=i.createCipher,l.createCipheriv=l.Cipheriv=i.createCipheriv,l.createDecipher=l.Decipher=s.createDecipher,l.createDecipheriv=l.Decipheriv=s.createDecipheriv,l.listCiphers=l.getCiphers=function(){return Object.keys(u)}},{"./decrypter":192,"./encrypter":193,"./modes/list.json":203}],192:[function(e,n,l){var i=e("./authCipher"),s=e("safe-buffer").Buffer,u=e("./modes"),a=e("./streamCipher"),o=e("cipher-base"),c=e("./aes"),f=e("evp_bytestokey");function h(b,m,g){o.call(this),this._cache=new d,this._last=void 0,this._cipher=new c.AES(m),this._prev=s.from(g),this._mode=b,this._autopadding=!0}function d(){this.cache=s.allocUnsafe(0)}function y(b,m,g){var p=u[b.toLowerCase()];if(!p)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=s.from(g)),p.mode!=="GCM"&&g.length!==p.iv)throw new TypeError("invalid iv length "+g.length);if(typeof m=="string"&&(m=s.from(m)),m.length!==p.key/8)throw new TypeError("invalid key length "+m.length);return p.type==="stream"?new a(p.module,m,g,!0):p.type==="auth"?new i(p.module,m,g,!0):new h(p.module,m,g)}e("inherits")(h,o),h.prototype._update=function(b){var m,g;this._cache.add(b);for(var p=[];m=this._cache.get(this._autopadding);)g=this._mode.decrypt(this,m),p.push(g);return s.concat(p)},h.prototype._final=function(){var b=this._cache.flush();if(this._autopadding)return function(m){var g=m[15];if(g<1||g>16)throw new Error("unable to decrypt data");for(var p=-1;++p<g;)if(m[p+(16-g)]!==g)throw new Error("unable to decrypt data");if(g!==16)return m.slice(0,16-g)}(this._mode.decrypt(this,b));if(b)throw new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(b){return this._autopadding=!!b,this},d.prototype.add=function(b){this.cache=s.concat([this.cache,b])},d.prototype.get=function(b){var m;if(b){if(this.cache.length>16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m}else if(this.cache.length>=16)return m=this.cache.slice(0,16),this.cache=this.cache.slice(16),m;return null},d.prototype.flush=function(){if(this.cache.length)return this.cache},l.createDecipher=function(b,m){var g=u[b.toLowerCase()];if(!g)throw new TypeError("invalid suite type");var p=f(m,!1,g.key,g.iv);return y(b,p.key,p.iv)},l.createDecipheriv=y},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],193:[function(e,n,l){var i=e("./modes"),s=e("./authCipher"),u=e("safe-buffer").Buffer,a=e("./streamCipher"),o=e("cipher-base"),c=e("./aes"),f=e("evp_bytestokey");function h(m,g,p){o.call(this),this._cache=new y,this._cipher=new c.AES(g),this._prev=u.from(p),this._mode=m,this._autopadding=!0}e("inherits")(h,o),h.prototype._update=function(m){var g,p;this._cache.add(m);for(var v=[];g=this._cache.get();)p=this._mode.encrypt(this,g),v.push(p);return u.concat(v)};var d=u.alloc(16,16);function y(){this.cache=u.allocUnsafe(0)}function b(m,g,p){var v=i[m.toLowerCase()];if(!v)throw new TypeError("invalid suite type");if(typeof g=="string"&&(g=u.from(g)),g.length!==v.key/8)throw new TypeError("invalid key length "+g.length);if(typeof p=="string"&&(p=u.from(p)),v.mode!=="GCM"&&p.length!==v.iv)throw new TypeError("invalid iv length "+p.length);return v.type==="stream"?new a(v.module,g,p):v.type==="auth"?new s(v.module,g,p):new h(v.module,g,p)}h.prototype._final=function(){var m=this._cache.flush();if(this._autopadding)return m=this._mode.encrypt(this,m),this._cipher.scrub(),m;if(!m.equals(d))throw this._cipher.scrub(),new Error("data not multiple of block length")},h.prototype.setAutoPadding=function(m){return this._autopadding=!!m,this},y.prototype.add=function(m){this.cache=u.concat([this.cache,m])},y.prototype.get=function(){if(this.cache.length>15){var m=this.cache.slice(0,16);return this.cache=this.cache.slice(16),m}return null},y.prototype.flush=function(){for(var m=16-this.cache.length,g=u.allocUnsafe(m),p=-1;++p<m;)g.writeUInt8(m,p);return u.concat([this.cache,g])},l.createCipheriv=b,l.createCipher=function(m,g){var p=i[m.toLowerCase()];if(!p)throw new TypeError("invalid suite type");var v=f(g,!1,p.key,p.iv);return b(m,v.key,v.iv)}},{"./aes":189,"./authCipher":190,"./modes":202,"./streamCipher":205,"cipher-base":221,evp_bytestokey:423,inherits:440,"safe-buffer":494}],194:[function(e,n,l){var i=e("safe-buffer").Buffer,s=i.alloc(16,0);function u(o){var c=i.allocUnsafe(16);return c.writeUInt32BE(o[0]>>>0,0),c.writeUInt32BE(o[1]>>>0,4),c.writeUInt32BE(o[2]>>>0,8),c.writeUInt32BE(o[3]>>>0,12),c}function a(o){this.h=o,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}a.prototype.ghash=function(o){for(var c=-1;++c<o.length;)this.state[c]^=o[c];this._multiply()},a.prototype._multiply=function(){for(var o,c,f,h=[(o=this.h).readUInt32BE(0),o.readUInt32BE(4),o.readUInt32BE(8),o.readUInt32BE(12)],d=[0,0,0,0],y=-1;++y<128;){for(this.state[~~(y/8)]&1<<7-y%8&&(d[0]^=h[0],d[1]^=h[1],d[2]^=h[2],d[3]^=h[3]),f=(1&h[3])!=0,c=3;c>0;c--)h[c]=h[c]>>>1|(1&h[c-1])<<31;h[0]=h[0]>>>1,f&&(h[0]=h[0]^225<<24)}this.state=u(d)},a.prototype.update=function(o){var c;for(this.cache=i.concat([this.cache,o]);this.cache.length>=16;)c=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(c)},a.prototype.final=function(o,c){return this.cache.length&&this.ghash(i.concat([this.cache,s],16)),this.ghash(u([0,o,0,c])),this.state},n.exports=a},{"safe-buffer":494}],195:[function(e,n,l){n.exports=function(i){for(var s,u=i.length;u--;){if((s=i.readUInt8(u))!==255){s++,i.writeUInt8(s,u);break}i.writeUInt8(0,u)}}},{}],196:[function(e,n,l){var i=e("buffer-xor");l.encrypt=function(s,u){var a=i(u,s._prev);return s._prev=s._cipher.encryptBlock(a),s._prev},l.decrypt=function(s,u){var a=s._prev;s._prev=u;var o=s._cipher.decryptBlock(u);return i(o,a)}},{"buffer-xor":219}],197:[function(e,n,l){var i=e("safe-buffer").Buffer,s=e("buffer-xor");function u(a,o,c){var f=o.length,h=s(o,a._cache);return a._cache=a._cache.slice(f),a._prev=i.concat([a._prev,c?o:h]),h}l.encrypt=function(a,o,c){for(var f,h=i.allocUnsafe(0);o.length;){if(a._cache.length===0&&(a._cache=a._cipher.encryptBlock(a._prev),a._prev=i.allocUnsafe(0)),!(a._cache.length<=o.length)){h=i.concat([h,u(a,o,c)]);break}f=a._cache.length,h=i.concat([h,u(a,o.slice(0,f),c)]),o=o.slice(f)}return h}},{"buffer-xor":219,"safe-buffer":494}],198:[function(e,n,l){var i=e("safe-buffer").Buffer;function s(a,o,c){for(var f,h,d=-1,y=0;++d<8;)f=o&1<<7-d?128:0,y+=(128&(h=a._cipher.encryptBlock(a._prev)[0]^f))>>d%8,a._prev=u(a._prev,c?f:h);return y}function u(a,o){var c=a.length,f=-1,h=i.allocUnsafe(a.length);for(a=i.concat([a,i.from([o])]);++f<c;)h[f]=a[f]<<1|a[f+1]>>7;return h}l.encrypt=function(a,o,c){for(var f=o.length,h=i.allocUnsafe(f),d=-1;++d<f;)h[d]=s(a,o[d],c);return h}},{"safe-buffer":494}],199:[function(e,n,l){var i=e("safe-buffer").Buffer;function s(u,a,o){var c=u._cipher.encryptBlock(u._prev)[0]^a;return u._prev=i.concat([u._prev.slice(1),i.from([o?a:c])]),c}l.encrypt=function(u,a,o){for(var c=a.length,f=i.allocUnsafe(c),h=-1;++h<c;)f[h]=s(u,a[h],o);return f}},{"safe-buffer":494}],200:[function(e,n,l){var i=e("buffer-xor"),s=e("safe-buffer").Buffer,u=e("../incr32");function a(o){var c=o._cipher.encryptBlockRaw(o._prev);return u(o._prev),c}l.encrypt=function(o,c){var f=Math.ceil(c.length/16),h=o._cache.length;o._cache=s.concat([o._cache,s.allocUnsafe(16*f)]);for(var d=0;d<f;d++){var y=a(o),b=h+16*d;o._cache.writeUInt32BE(y[0],b+0),o._cache.writeUInt32BE(y[1],b+4),o._cache.writeUInt32BE(y[2],b+8),o._cache.writeUInt32BE(y[3],b+12)}var m=o._cache.slice(0,c.length);return o._cache=o._cache.slice(c.length),i(c,m)}},{"../incr32":195,"buffer-xor":219,"safe-buffer":494}],201:[function(e,n,l){l.encrypt=function(i,s){return i._cipher.encryptBlock(s)},l.decrypt=function(i,s){return i._cipher.decryptBlock(s)}},{}],202:[function(e,n,l){var i={ECB:e("./ecb"),CBC:e("./cbc"),CFB:e("./cfb"),CFB8:e("./cfb8"),CFB1:e("./cfb1"),OFB:e("./ofb"),CTR:e("./ctr"),GCM:e("./ctr")},s=e("./list.json");for(var u in s)s[u].module=i[s[u].mode];n.exports=s},{"./cbc":196,"./cfb":197,"./cfb1":198,"./cfb8":199,"./ctr":200,"./ecb":201,"./list.json":203,"./ofb":204}],203:[function(e,n,l){n.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},{}],204:[function(e,n,l){(function(i){(function(){var s=e("buffer-xor");function u(a){return a._prev=a._cipher.encryptBlock(a._prev),a._prev}l.encrypt=function(a,o){for(;a._cache.length<o.length;)a._cache=i.concat([a._cache,u(a)]);var c=a._cache.slice(0,o.length);return a._cache=a._cache.slice(o.length),s(o,c)}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220,"buffer-xor":219}],205:[function(e,n,l){var i=e("./aes"),s=e("safe-buffer").Buffer,u=e("cipher-base");function a(o,c,f,h){u.call(this),this._cipher=new i.AES(c),this._prev=s.from(f),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=h,this._mode=o}e("inherits")(a,u),a.prototype._update=function(o){return this._mode.encrypt(this,o,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},n.exports=a},{"./aes":189,"cipher-base":221,inherits:440,"safe-buffer":494}],206:[function(e,n,l){var i=e("browserify-des"),s=e("browserify-aes/browser"),u=e("browserify-aes/modes"),a=e("browserify-des/modes"),o=e("evp_bytestokey");function c(h,d,y){if(h=h.toLowerCase(),u[h])return s.createCipheriv(h,d,y);if(a[h])return new i({key:d,iv:y,mode:h});throw new TypeError("invalid suite type")}function f(h,d,y){if(h=h.toLowerCase(),u[h])return s.createDecipheriv(h,d,y);if(a[h])return new i({key:d,iv:y,mode:h,decrypt:!0});throw new TypeError("invalid suite type")}l.createCipher=l.Cipher=function(h,d){var y,b;if(h=h.toLowerCase(),u[h])y=u[h].key,b=u[h].iv;else{if(!a[h])throw new TypeError("invalid suite type");y=8*a[h].key,b=a[h].iv}var m=o(d,!1,y,b);return c(h,m.key,m.iv)},l.createCipheriv=l.Cipheriv=c,l.createDecipher=l.Decipher=function(h,d){var y,b;if(h=h.toLowerCase(),u[h])y=u[h].key,b=u[h].iv;else{if(!a[h])throw new TypeError("invalid suite type");y=8*a[h].key,b=a[h].iv}var m=o(d,!1,y,b);return f(h,m.key,m.iv)},l.createDecipheriv=l.Decipheriv=f,l.listCiphers=l.getCiphers=function(){return Object.keys(a).concat(s.getCiphers())}},{"browserify-aes/browser":191,"browserify-aes/modes":202,"browserify-des":207,"browserify-des/modes":208,evp_bytestokey:423}],207:[function(e,n,l){var i=e("cipher-base"),s=e("des.js"),u=e("inherits"),a=e("safe-buffer").Buffer,o={"des-ede3-cbc":s.CBC.instantiate(s.EDE),"des-ede3":s.EDE,"des-ede-cbc":s.CBC.instantiate(s.EDE),"des-ede":s.EDE,"des-cbc":s.CBC.instantiate(s.DES),"des-ecb":s.DES};function c(f){i.call(this);var h,d=f.mode.toLowerCase(),y=o[d];h=f.decrypt?"decrypt":"encrypt";var b=f.key;a.isBuffer(b)||(b=a.from(b)),d!=="des-ede"&&d!=="des-ede-cbc"||(b=a.concat([b,b.slice(0,8)]));var m=f.iv;a.isBuffer(m)||(m=a.from(m)),this._des=y.create({key:b,iv:m,type:h})}o.des=o["des-cbc"],o.des3=o["des-ede3-cbc"],n.exports=c,u(c,i),c.prototype._update=function(f){return a.from(this._des.update(f))},c.prototype._final=function(){return a.from(this._des.final())}},{"cipher-base":221,"des.js":394,inherits:440,"safe-buffer":494}],208:[function(e,n,l){l["des-ecb"]={key:8,iv:0},l["des-cbc"]=l.des={key:8,iv:8},l["des-ede3-cbc"]=l.des3={key:24,iv:8},l["des-ede3"]={key:24,iv:0},l["des-ede-cbc"]={key:16,iv:8},l["des-ede"]={key:16,iv:0}},{}],209:[function(e,n,l){(function(i){(function(){var s=e("bn.js"),u=e("randombytes");function a(c){var f,h=c.modulus.byteLength();do f=new s(u(h));while(f.cmp(c.modulus)>=0||!f.umod(c.prime1)||!f.umod(c.prime2));return f}function o(c,f){var h=function($){var M=a($);return{blinder:M.toRed(s.mont($.modulus)).redPow(new s($.publicExponent)).fromRed(),unblinder:M.invm($.modulus)}}(f),d=f.modulus.byteLength(),y=new s(c).mul(h.blinder).umod(f.modulus),b=y.toRed(s.mont(f.prime1)),m=y.toRed(s.mont(f.prime2)),g=f.coefficient,p=f.prime1,v=f.prime2,C=b.redPow(f.exponent1).fromRed(),j=m.redPow(f.exponent2).fromRed(),L=C.isub(j).imul(g).umod(p).imul(v);return j.iadd(L).imul(h.unblinder).umod(f.modulus).toArrayLike(i,"be",d)}o.getr=a,n.exports=o}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":186,buffer:220,randombytes:475}],210:[function(e,n,l){n.exports=e("./browser/algorithms.json")},{"./browser/algorithms.json":211}],211:[function(e,n,l){n.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},{}],212:[function(e,n,l){n.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},{}],213:[function(e,n,l){var i=e("safe-buffer").Buffer,s=e("create-hash"),u=e("readable-stream"),a=e("inherits"),o=e("./sign"),c=e("./verify"),f=e("./algorithms.json");function h(m){u.Writable.call(this);var g=f[m];if(!g)throw new Error("Unknown message digest");this._hashType=g.hash,this._hash=s(g.hash),this._tag=g.id,this._signType=g.sign}function d(m){u.Writable.call(this);var g=f[m];if(!g)throw new Error("Unknown message digest");this._hash=s(g.hash),this._tag=g.id,this._signType=g.sign}function y(m){return new h(m)}function b(m){return new d(m)}Object.keys(f).forEach(function(m){f[m].id=i.from(f[m].id,"hex"),f[m.toLowerCase()]=f[m]}),a(h,u.Writable),h.prototype._write=function(m,g,p){this._hash.update(m),p()},h.prototype.update=function(m,g){return typeof m=="string"&&(m=i.from(m,g)),this._hash.update(m),this},h.prototype.sign=function(m,g){this.end();var p=this._hash.digest(),v=o(p,m,this._hashType,this._signType,this._tag);return g?v.toString(g):v},a(d,u.Writable),d.prototype._write=function(m,g,p){this._hash.update(m),p()},d.prototype.update=function(m,g){return typeof m=="string"&&(m=i.from(m,g)),this._hash.update(m),this},d.prototype.verify=function(m,g,p){typeof g=="string"&&(g=i.from(g,p)),this.end();var v=this._hash.digest();return c(g,v,m,this._signType,this._tag)},n.exports={Sign:y,Verify:b,createSign:y,createVerify:b}},{"./algorithms.json":211,"./sign":214,"./verify":215,"create-hash":386,inherits:440,"readable-stream":491,"safe-buffer":494}],214:[function(e,n,l){var i=e("safe-buffer").Buffer,s=e("create-hmac"),u=e("browserify-rsa"),a=e("elliptic").ec,o=e("bn.js"),c=e("parse-asn1"),f=e("./curves.json");function h(m,g,p,v){if((m=i.from(m.toArray())).length<g.byteLength()){var C=i.alloc(g.byteLength()-m.length);m=i.concat([C,m])}var j=p.length,L=function(z,H){z=(z=d(z,H)).mod(H);var q=i.from(z.toArray());if(q.length<H.byteLength()){var B=i.alloc(H.byteLength()-q.length);q=i.concat([B,q])}return q}(p,g),$=i.alloc(j);$.fill(1);var M=i.alloc(j);return M=s(v,M).update($).update(i.from([0])).update(m).update(L).digest(),$=s(v,M).update($).digest(),{k:M=s(v,M).update($).update(i.from([1])).update(m).update(L).digest(),v:$=s(v,M).update($).digest()}}function d(m,g){var p=new o(m),v=(m.length<<3)-g.bitLength();return v>0&&p.ishrn(v),p}function y(m,g,p){var v,C;do{for(v=i.alloc(0);8*v.length<m.bitLength();)g.v=s(p,g.k).update(g.v).digest(),v=i.concat([v,g.v]);C=d(v,m),g.k=s(p,g.k).update(g.v).update(i.from([0])).digest(),g.v=s(p,g.k).update(g.v).digest()}while(C.cmp(m)!==-1);return C}function b(m,g,p,v){return m.toRed(o.mont(p)).redPow(g).fromRed().mod(v)}n.exports=function(m,g,p,v,C){var j=c(g);if(j.curve){if(v!=="ecdsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");return function(z,H){var q=f[H.curve.join(".")];if(!q)throw new Error("unknown curve "+H.curve.join("."));var B=new a(q).keyFromPrivate(H.privateKey).sign(z);return i.from(B.toDER())}(m,j)}if(j.type==="dsa"){if(v!=="dsa")throw new Error("wrong private key type");return function(z,H,q){for(var B,A=H.params.priv_key,P=H.params.p,k=H.params.q,w=H.params.g,S=new o(0),x=d(z,k).mod(k),_=!1,E=h(A,k,z,q);_===!1;)B=y(k,E,q),S=b(w,B,P,k),(_=B.invm(k).imul(x.add(A.mul(S))).mod(k)).cmpn(0)===0&&(_=!1,S=new o(0));return function(D,N){D=D.toArray(),N=N.toArray(),128&D[0]&&(D=[0].concat(D)),128&N[0]&&(N=[0].concat(N));var U=[48,D.length+N.length+4,2,D.length];return U=U.concat(D,[2,N.length],N),i.from(U)}(S,_)}(m,j,p)}if(v!=="rsa"&&v!=="ecdsa/rsa")throw new Error("wrong private key type");m=i.concat([C,m]);for(var L=j.modulus.byteLength(),$=[0,1];m.length+$.length+1<L;)$.push(255);$.push(0);for(var M=-1;++M<m.length;)$.push(m[M]);return u($,j)},n.exports.getKey=h,n.exports.makeKey=y},{"./curves.json":212,"bn.js":186,"browserify-rsa":209,"create-hmac":388,elliptic:405,"parse-asn1":459,"safe-buffer":494}],215:[function(e,n,l){var i=e("safe-buffer").Buffer,s=e("bn.js"),u=e("elliptic").ec,a=e("parse-asn1"),o=e("./curves.json");function c(f,h){if(f.cmpn(0)<=0)throw new Error("invalid sig");if(f.cmp(h)>=h)throw new Error("invalid sig")}n.exports=function(f,h,d,y,b){var m=a(d);if(m.type==="ec"){if(y!=="ecdsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");return function($,M,z){var H=o[z.data.algorithm.curve.join(".")];if(!H)throw new Error("unknown curve "+z.data.algorithm.curve.join("."));var q=new u(H),B=z.data.subjectPrivateKey.data;return q.verify(M,$,B)}(f,h,m)}if(m.type==="dsa"){if(y!=="dsa")throw new Error("wrong public key type");return function($,M,z){var H=z.data.p,q=z.data.q,B=z.data.g,A=z.data.pub_key,P=a.signature.decode($,"der"),k=P.s,w=P.r;c(k,q),c(w,q);var S=s.mont(H),x=k.invm(q);return B.toRed(S).redPow(new s(M).mul(x).mod(q)).fromRed().mul(A.toRed(S).redPow(w.mul(x).mod(q)).fromRed()).mod(H).mod(q).cmp(w)===0}(f,h,m)}if(y!=="rsa"&&y!=="ecdsa/rsa")throw new Error("wrong public key type");h=i.concat([b,h]);for(var g=m.modulus.byteLength(),p=[1],v=0;h.length+p.length+2<g;)p.push(255),v++;p.push(0);for(var C=-1;++C<h.length;)p.push(h[C]);p=i.from(p);var j=s.mont(m.modulus);f=(f=new s(f).toRed(j)).redPow(new s(m.publicExponent)),f=i.from(f.fromRed().toArray());var L=v<8?1:0;for(g=Math.min(f.length,p.length),f.length!==p.length&&(L=1),C=-1;++C<g;)L|=f[C]^p[C];return L===0}},{"./curves.json":212,"bn.js":186,elliptic:405,"parse-asn1":459,"safe-buffer":494}],216:[function(e,n,l){},{}],217:[function(e,n,l){var i=e("buffer"),s=i.Buffer;function u(o,c){for(var f in o)c[f]=o[f]}function a(o,c,f){return s(o,c,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=i:(u(i,l),l.Buffer=a),u(s,a),a.from=function(o,c,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return s(o,c,f)},a.alloc=function(o,c,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=s(o);return c!==void 0?typeof f=="string"?h.fill(c,f):h.fill(c):h.fill(0),h},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(o)}},{buffer:220}],218:[function(e,n,l){var i=e("safe-buffer").Buffer,s=i.isEncoding||function(m){switch((m=""+m)&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function u(m){var g;switch(this.encoding=function(p){var v=function(C){if(!C)return"utf8";for(var j;;)switch(C){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return C;default:if(j)return;C=(""+C).toLowerCase(),j=!0}}(p);if(typeof v!="string"&&(i.isEncoding===s||!s(p)))throw new Error("Unknown encoding: "+p);return v||p}(m),this.encoding){case"utf16le":this.text=c,this.end=f,g=4;break;case"utf8":this.fillLast=o,g=4;break;case"base64":this.text=h,this.end=d,g=3;break;default:return this.write=y,void(this.end=b)}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(g)}function a(m){return m<=127?0:m>>5==6?2:m>>4==14?3:m>>3==30?4:m>>6==2?-1:-2}function o(m){var g=this.lastTotal-this.lastNeed,p=function(v,C,j){if((192&C[0])!=128)return v.lastNeed=0,"";if(v.lastNeed>1&&C.length>1){if((192&C[1])!=128)return v.lastNeed=1,"";if(v.lastNeed>2&&C.length>2&&(192&C[2])!=128)return v.lastNeed=2,""}}(this,m);return p!==void 0?p:this.lastNeed<=m.length?(m.copy(this.lastChar,g,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(m.copy(this.lastChar,g,0,m.length),void(this.lastNeed-=m.length))}function c(m,g){if((m.length-g)%2==0){var p=m.toString("utf16le",g);if(p){var v=p.charCodeAt(p.length-1);if(v>=55296&&v<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],p.slice(0,-1)}return p}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",g,m.length-1)}function f(m){var g=m&&m.length?this.write(m):"";if(this.lastNeed){var p=this.lastTotal-this.lastNeed;return g+this.lastChar.toString("utf16le",0,p)}return g}function h(m,g){var p=(m.length-g)%3;return p===0?m.toString("base64",g):(this.lastNeed=3-p,this.lastTotal=3,p===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",g,m.length-p))}function d(m){var g=m&&m.length?this.write(m):"";return this.lastNeed?g+this.lastChar.toString("base64",0,3-this.lastNeed):g}function y(m){return m.toString(this.encoding)}function b(m){return m&&m.length?this.write(m):""}l.StringDecoder=u,u.prototype.write=function(m){if(m.length===0)return"";var g,p;if(this.lastNeed){if((g=this.fillLast(m))===void 0)return"";p=this.lastNeed,this.lastNeed=0}else p=0;return p<m.length?g?g+this.text(m,p):this.text(m,p):g||""},u.prototype.end=function(m){var g=m&&m.length?this.write(m):"";return this.lastNeed?g+"":g},u.prototype.text=function(m,g){var p=function(C,j,L){var $=j.length-1;if($<L)return 0;var M=a(j[$]);return M>=0?(M>0&&(C.lastNeed=M-1),M):--$<L||M===-2?0:(M=a(j[$]))>=0?(M>0&&(C.lastNeed=M-2),M):--$<L||M===-2?0:(M=a(j[$]))>=0?(M>0&&(M===2?M=0:C.lastNeed=M-3),M):0}(this,m,g);if(!this.lastNeed)return m.toString("utf8",g);this.lastTotal=p;var v=m.length-(p-this.lastNeed);return m.copy(this.lastChar,0,v),m.toString("utf8",g,v)},u.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length}},{"safe-buffer":217}],219:[function(e,n,l){(function(i){(function(){n.exports=function(s,u){for(var a=Math.min(s.length,u.length),o=new i(a),c=0;c<a;++c)o[c]=s[c]^u[c];return o}}).call(this)}).call(this,e("buffer").Buffer)},{buffer:220}],220:[function(e,n,l){(function(i){(function(){var s=e("base64-js"),u=e("ieee754");l.Buffer=o,l.SlowBuffer=function(O){return+O!=O&&(O=0),o.alloc(+O)},l.INSPECT_MAX_BYTES=50;function a(O){if(O>2147483647)throw new RangeError('The value "'+O+'" is invalid for option "size"');var T=new Uint8Array(O);return T.__proto__=o.prototype,T}function o(O,T,G){if(typeof O=="number"){if(typeof T=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(O)}return c(O,T,G)}function c(O,T,G){if(typeof O=="string")return function(Z,oe){if(typeof oe=="string"&&oe!==""||(oe="utf8"),!o.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe);var ue=0|b(Z,oe),te=a(ue),se=te.write(Z,oe);return se!==ue&&(te=te.slice(0,se)),te}(O,T);if(ArrayBuffer.isView(O))return d(O);if(O==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(F(O,ArrayBuffer)||O&&F(O.buffer,ArrayBuffer))return function(Z,oe,ue){if(oe<0||Z.byteLength<oe)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<oe+(ue||0))throw new RangeError('"length" is outside of buffer bounds');var te;return te=oe===void 0&&ue===void 0?new Uint8Array(Z):ue===void 0?new Uint8Array(Z,oe):new Uint8Array(Z,oe,ue),te.__proto__=o.prototype,te}(O,T,G);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var Q=O.valueOf&&O.valueOf();if(Q!=null&&Q!==O)return o.from(Q,T,G);var ne=function(Z){if(o.isBuffer(Z)){var oe=0|y(Z.length),ue=a(oe);return ue.length===0||Z.copy(ue,0,0,oe),ue}if(Z.length!==void 0)return typeof Z.length!="number"||Y(Z.length)?a(0):d(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return d(Z.data)}(O);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return o.from(O[Symbol.toPrimitive]("string"),T,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}function f(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function h(O){return f(O),a(O<0?0:0|y(O))}function d(O){for(var T=O.length<0?0:0|y(O.length),G=a(T),Q=0;Q<T;Q+=1)G[Q]=255&O[Q];return G}function y(O){if(O>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|O}function b(O,T){if(o.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||F(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var G=O.length,Q=arguments.length>2&&arguments[2]===!0;if(!Q&&G===0)return 0;for(var ne=!1;;)switch(T){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return U(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*G;case"hex":return G>>>1;case"base64":return V(O).length;default:if(ne)return Q?-1:U(O).length;T=(""+T).toLowerCase(),ne=!0}}function m(O,T,G){var Q=!1;if((T===void 0||T<0)&&(T=0),T>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0)<=(T>>>=0))return"";for(O||(O="utf8");;)switch(O){case"hex":return P(this,T,G);case"utf8":case"utf-8":return q(this,T,G);case"ascii":return B(this,T,G);case"latin1":case"binary":return A(this,T,G);case"base64":return H(this,T,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,T,G);default:if(Q)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),Q=!0}}function g(O,T,G){var Q=O[T];O[T]=O[G],O[G]=Q}function p(O,T,G,Q,ne){if(O.length===0)return-1;if(typeof G=="string"?(Q=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),Y(G=+G)&&(G=ne?0:O.length-1),G<0&&(G=O.length+G),G>=O.length){if(ne)return-1;G=O.length-1}else if(G<0){if(!ne)return-1;G=0}if(typeof T=="string"&&(T=o.from(T,Q)),o.isBuffer(T))return T.length===0?-1:v(O,T,G,Q,ne);if(typeof T=="number")return T&=255,typeof Uint8Array.prototype.indexOf=="function"?ne?Uint8Array.prototype.indexOf.call(O,T,G):Uint8Array.prototype.lastIndexOf.call(O,T,G):v(O,[T],G,Q,ne);throw new TypeError("val must be string, number or Buffer")}function v(O,T,G,Q,ne){var Z,oe=1,ue=O.length,te=T.length;if(Q!==void 0&&((Q=String(Q).toLowerCase())==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(O.length<2||T.length<2)return-1;oe=2,ue/=2,te/=2,G/=2}function se(be,re){return oe===1?be[re]:be.readUInt16BE(re*oe)}if(ne){var pe=-1;for(Z=G;Z<ue;Z++)if(se(O,Z)===se(T,pe===-1?0:Z-pe)){if(pe===-1&&(pe=Z),Z-pe+1===te)return pe*oe}else pe!==-1&&(Z-=Z-pe),pe=-1}else for(G+te>ue&&(G=ue-te),Z=G;Z>=0;Z--){for(var ie=!0,fe=0;fe<te;fe++)if(se(O,Z+fe)!==se(T,fe)){ie=!1;break}if(ie)return Z}return-1}function C(O,T,G,Q){G=Number(G)||0;var ne=O.length-G;Q?(Q=Number(Q))>ne&&(Q=ne):Q=ne;var Z=T.length;Q>Z/2&&(Q=Z/2);for(var oe=0;oe<Q;++oe){var ue=parseInt(T.substr(2*oe,2),16);if(Y(ue))return oe;O[G+oe]=ue}return oe}function j(O,T,G,Q){return J(U(T,O.length-G),O,G,Q)}function L(O,T,G,Q){return J(function(ne){for(var Z=[],oe=0;oe<ne.length;++oe)Z.push(255&ne.charCodeAt(oe));return Z}(T),O,G,Q)}function $(O,T,G,Q){return L(O,T,G,Q)}function M(O,T,G,Q){return J(V(T),O,G,Q)}function z(O,T,G,Q){return J(function(ne,Z){for(var oe,ue,te,se=[],pe=0;pe<ne.length&&!((Z-=2)<0);++pe)oe=ne.charCodeAt(pe),ue=oe>>8,te=oe%256,se.push(te),se.push(ue);return se}(T,O.length-G),O,G,Q)}function H(O,T,G){return T===0&&G===O.length?s.fromByteArray(O):s.fromByteArray(O.slice(T,G))}function q(O,T,G){G=Math.min(O.length,G);for(var Q=[],ne=T;ne<G;){var Z,oe,ue,te,se=O[ne],pe=null,ie=se>239?4:se>223?3:se>191?2:1;if(ne+ie<=G)switch(ie){case 1:se<128&&(pe=se);break;case 2:(192&(Z=O[ne+1]))==128&&(te=(31&se)<<6|63&Z)>127&&(pe=te);break;case 3:Z=O[ne+1],oe=O[ne+2],(192&Z)==128&&(192&oe)==128&&(te=(15&se)<<12|(63&Z)<<6|63&oe)>2047&&(te<55296||te>57343)&&(pe=te);break;case 4:Z=O[ne+1],oe=O[ne+2],ue=O[ne+3],(192&Z)==128&&(192&oe)==128&&(192&ue)==128&&(te=(15&se)<<18|(63&Z)<<12|(63&oe)<<6|63&ue)>65535&&te<1114112&&(pe=te)}pe===null?(pe=65533,ie=1):pe>65535&&(pe-=65536,Q.push(pe>>>10&1023|55296),pe=56320|1023&pe),Q.push(pe),ne+=ie}return function(fe){var be=fe.length;if(be<=4096)return String.fromCharCode.apply(String,fe);for(var re="",ve=0;ve<be;)re+=String.fromCharCode.apply(String,fe.slice(ve,ve+=4096));return re}(Q)}l.kMaxLength=2147483647,o.TYPED_ARRAY_SUPPORT=function(){try{var O=new Uint8Array(1);return O.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},O.foo()===42}catch{return!1}}(),o.TYPED_ARRAY_SUPPORT||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(o.prototype,"parent",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.buffer}}),Object.defineProperty(o.prototype,"offset",{enumerable:!0,get:function(){if(o.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),o.poolSize=8192,o.from=function(O,T,G){return c(O,T,G)},o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,o.alloc=function(O,T,G){return function(Q,ne,Z){return f(Q),Q<=0?a(Q):ne!==void 0?typeof Z=="string"?a(Q).fill(ne,Z):a(Q).fill(ne):a(Q)}(O,T,G)},o.allocUnsafe=function(O){return h(O)},o.allocUnsafeSlow=function(O){return h(O)},o.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==o.prototype},o.compare=function(O,T){if(F(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),F(T,Uint8Array)&&(T=o.from(T,T.offset,T.byteLength)),!o.isBuffer(O)||!o.isBuffer(T))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===T)return 0;for(var G=O.length,Q=T.length,ne=0,Z=Math.min(G,Q);ne<Z;++ne)if(O[ne]!==T[ne]){G=O[ne],Q=T[ne];break}return G<Q?-1:Q<G?1:0},o.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(O,T){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return o.alloc(0);var G;if(T===void 0)for(T=0,G=0;G<O.length;++G)T+=O[G].length;var Q=o.allocUnsafe(T),ne=0;for(G=0;G<O.length;++G){var Z=O[G];if(F(Z,Uint8Array)&&(Z=o.from(Z)),!o.isBuffer(Z))throw new TypeError('"list" argument must be an Array of Buffers');Z.copy(Q,ne),ne+=Z.length}return Q},o.byteLength=b,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var O=this.length;if(O%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var T=0;T<O;T+=2)g(this,T,T+1);return this},o.prototype.swap32=function(){var O=this.length;if(O%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var T=0;T<O;T+=4)g(this,T,T+3),g(this,T+1,T+2);return this},o.prototype.swap64=function(){var O=this.length;if(O%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var T=0;T<O;T+=8)g(this,T,T+7),g(this,T+1,T+6),g(this,T+2,T+5),g(this,T+3,T+4);return this},o.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?q(this,0,O):m.apply(this,arguments)},o.prototype.toLocaleString=o.prototype.toString,o.prototype.equals=function(O){if(!o.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O||o.compare(this,O)===0},o.prototype.inspect=function(){var O="",T=l.INSPECT_MAX_BYTES;return O=this.toString("hex",0,T).replace(/(.{2})/g,"$1 ").trim(),this.length>T&&(O+=" ... "),"<Buffer "+O+">"},o.prototype.compare=function(O,T,G,Q,ne){if(F(O,Uint8Array)&&(O=o.from(O,O.offset,O.byteLength)),!o.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(T===void 0&&(T=0),G===void 0&&(G=O?O.length:0),Q===void 0&&(Q=0),ne===void 0&&(ne=this.length),T<0||G>O.length||Q<0||ne>this.length)throw new RangeError("out of range index");if(Q>=ne&&T>=G)return 0;if(Q>=ne)return-1;if(T>=G)return 1;if(this===O)return 0;for(var Z=(ne>>>=0)-(Q>>>=0),oe=(G>>>=0)-(T>>>=0),ue=Math.min(Z,oe),te=this.slice(Q,ne),se=O.slice(T,G),pe=0;pe<ue;++pe)if(te[pe]!==se[pe]){Z=te[pe],oe=se[pe];break}return Z<oe?-1:oe<Z?1:0},o.prototype.includes=function(O,T,G){return this.indexOf(O,T,G)!==-1},o.prototype.indexOf=function(O,T,G){return p(this,O,T,G,!0)},o.prototype.lastIndexOf=function(O,T,G){return p(this,O,T,G,!1)},o.prototype.write=function(O,T,G,Q){if(T===void 0)Q="utf8",G=this.length,T=0;else if(G===void 0&&typeof T=="string")Q=T,G=this.length,T=0;else{if(!isFinite(T))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");T>>>=0,isFinite(G)?(G>>>=0,Q===void 0&&(Q="utf8")):(Q=G,G=void 0)}var ne=this.length-T;if((G===void 0||G>ne)&&(G=ne),O.length>0&&(G<0||T<0)||T>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q||(Q="utf8");for(var Z=!1;;)switch(Q){case"hex":return C(this,O,T,G);case"utf8":case"utf-8":return j(this,O,T,G);case"ascii":return L(this,O,T,G);case"latin1":case"binary":return $(this,O,T,G);case"base64":return M(this,O,T,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,O,T,G);default:if(Z)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),Z=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function B(O,T,G){var Q="";G=Math.min(O.length,G);for(var ne=T;ne<G;++ne)Q+=String.fromCharCode(127&O[ne]);return Q}function A(O,T,G){var Q="";G=Math.min(O.length,G);for(var ne=T;ne<G;++ne)Q+=String.fromCharCode(O[ne]);return Q}function P(O,T,G){var Q=O.length;(!T||T<0)&&(T=0),(!G||G<0||G>Q)&&(G=Q);for(var ne="",Z=T;Z<G;++Z)ne+=N(O[Z]);return ne}function k(O,T,G){for(var Q=O.slice(T,G),ne="",Z=0;Z<Q.length;Z+=2)ne+=String.fromCharCode(Q[Z]+256*Q[Z+1]);return ne}function w(O,T,G){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(O+T>G)throw new RangeError("Trying to access beyond buffer length")}function S(O,T,G,Q,ne,Z){if(!o.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(T>ne||T<Z)throw new RangeError('"value" argument is out of bounds');if(G+Q>O.length)throw new RangeError("Index out of range")}function x(O,T,G,Q,ne,Z){if(G+Q>O.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function _(O,T,G,Q,ne){return T=+T,G>>>=0,ne||x(O,0,G,4),u.write(O,T,G,Q,23,4),G+4}function E(O,T,G,Q,ne){return T=+T,G>>>=0,ne||x(O,0,G,8),u.write(O,T,G,Q,52,8),G+8}o.prototype.slice=function(O,T){var G=this.length;(O=~~O)<0?(O+=G)<0&&(O=0):O>G&&(O=G),(T=T===void 0?G:~~T)<0?(T+=G)<0&&(T=0):T>G&&(T=G),T<O&&(T=O);var Q=this.subarray(O,T);return Q.__proto__=o.prototype,Q},o.prototype.readUIntLE=function(O,T,G){O>>>=0,T>>>=0,G||w(O,T,this.length);for(var Q=this[O],ne=1,Z=0;++Z<T&&(ne*=256);)Q+=this[O+Z]*ne;return Q},o.prototype.readUIntBE=function(O,T,G){O>>>=0,T>>>=0,G||w(O,T,this.length);for(var Q=this[O+--T],ne=1;T>0&&(ne*=256);)Q+=this[O+--T]*ne;return Q},o.prototype.readUInt8=function(O,T){return O>>>=0,T||w(O,1,this.length),this[O]},o.prototype.readUInt16LE=function(O,T){return O>>>=0,T||w(O,2,this.length),this[O]|this[O+1]<<8},o.prototype.readUInt16BE=function(O,T){return O>>>=0,T||w(O,2,this.length),this[O]<<8|this[O+1]},o.prototype.readUInt32LE=function(O,T){return O>>>=0,T||w(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},o.prototype.readUInt32BE=function(O,T){return O>>>=0,T||w(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},o.prototype.readIntLE=function(O,T,G){O>>>=0,T>>>=0,G||w(O,T,this.length);for(var Q=this[O],ne=1,Z=0;++Z<T&&(ne*=256);)Q+=this[O+Z]*ne;return Q>=(ne*=128)&&(Q-=Math.pow(2,8*T)),Q},o.prototype.readIntBE=function(O,T,G){O>>>=0,T>>>=0,G||w(O,T,this.length);for(var Q=T,ne=1,Z=this[O+--Q];Q>0&&(ne*=256);)Z+=this[O+--Q]*ne;return Z>=(ne*=128)&&(Z-=Math.pow(2,8*T)),Z},o.prototype.readInt8=function(O,T){return O>>>=0,T||w(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},o.prototype.readInt16LE=function(O,T){O>>>=0,T||w(O,2,this.length);var G=this[O]|this[O+1]<<8;return 32768&G?4294901760|G:G},o.prototype.readInt16BE=function(O,T){O>>>=0,T||w(O,2,this.length);var G=this[O+1]|this[O]<<8;return 32768&G?4294901760|G:G},o.prototype.readInt32LE=function(O,T){return O>>>=0,T||w(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},o.prototype.readInt32BE=function(O,T){return O>>>=0,T||w(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},o.prototype.readFloatLE=function(O,T){return O>>>=0,T||w(O,4,this.length),u.read(this,O,!0,23,4)},o.prototype.readFloatBE=function(O,T){return O>>>=0,T||w(O,4,this.length),u.read(this,O,!1,23,4)},o.prototype.readDoubleLE=function(O,T){return O>>>=0,T||w(O,8,this.length),u.read(this,O,!0,52,8)},o.prototype.readDoubleBE=function(O,T){return O>>>=0,T||w(O,8,this.length),u.read(this,O,!1,52,8)},o.prototype.writeUIntLE=function(O,T,G,Q){O=+O,T>>>=0,G>>>=0,Q||S(this,O,T,G,Math.pow(2,8*G)-1,0);var ne=1,Z=0;for(this[T]=255&O;++Z<G&&(ne*=256);)this[T+Z]=O/ne&255;return T+G},o.prototype.writeUIntBE=function(O,T,G,Q){O=+O,T>>>=0,G>>>=0,Q||S(this,O,T,G,Math.pow(2,8*G)-1,0);var ne=G-1,Z=1;for(this[T+ne]=255&O;--ne>=0&&(Z*=256);)this[T+ne]=O/Z&255;return T+G},o.prototype.writeUInt8=function(O,T,G){return O=+O,T>>>=0,G||S(this,O,T,1,255,0),this[T]=255&O,T+1},o.prototype.writeUInt16LE=function(O,T,G){return O=+O,T>>>=0,G||S(this,O,T,2,65535,0),this[T]=255&O,this[T+1]=O>>>8,T+2},o.prototype.writeUInt16BE=function(O,T,G){return O=+O,T>>>=0,G||S(this,O,T,2,65535,0),this[T]=O>>>8,this[T+1]=255&O,T+2},o.prototype.writeUInt32LE=function(O,T,G){return O=+O,T>>>=0,G||S(this,O,T,4,4294967295,0),this[T+3]=O>>>24,this[T+2]=O>>>16,this[T+1]=O>>>8,this[T]=255&O,T+4},o.prototype.writeUInt32BE=function(O,T,G){return O=+O,T>>>=0,G||S(this,O,T,4,4294967295,0),this[T]=O>>>24,this[T+1]=O>>>16,this[T+2]=O>>>8,this[T+3]=255&O,T+4},o.prototype.writeIntLE=function(O,T,G,Q){if(O=+O,T>>>=0,!Q){var ne=Math.pow(2,8*G-1);S(this,O,T,G,ne-1,-ne)}var Z=0,oe=1,ue=0;for(this[T]=255&O;++Z<G&&(oe*=256);)O<0&&ue===0&&this[T+Z-1]!==0&&(ue=1),this[T+Z]=(O/oe>>0)-ue&255;return T+G},o.prototype.writeIntBE=function(O,T,G,Q){if(O=+O,T>>>=0,!Q){var ne=Math.pow(2,8*G-1);S(this,O,T,G,ne-1,-ne)}var Z=G-1,oe=1,ue=0;for(this[T+Z]=255&O;--Z>=0&&(oe*=256);)O<0&&ue===0&&this[T+Z+1]!==0&&(ue=1),this[T+Z]=(O/oe>>0)-ue&255;return T+G},o.prototype.writeInt8=function(O,T,G){return O=+O,T>>>=0,G||S(this,O,T,1,127,-128),O<0&&(O=255+O+1),this[T]=255&O,T+1},o.prototype.writeInt16LE=function(O,T,G){return O=+O,T>>>=0,G||S(this,O,T,2,32767,-32768),this[T]=255&O,this[T+1]=O>>>8,T+2},o.prototype.writeInt16BE=function(O,T,G){return O=+O,T>>>=0,G||S(this,O,T,2,32767,-32768),this[T]=O>>>8,this[T+1]=255&O,T+2},o.prototype.writeInt32LE=function(O,T,G){return O=+O,T>>>=0,G||S(this,O,T,4,2147483647,-2147483648),this[T]=255&O,this[T+1]=O>>>8,this[T+2]=O>>>16,this[T+3]=O>>>24,T+4},o.prototype.writeInt32BE=function(O,T,G){return O=+O,T>>>=0,G||S(this,O,T,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[T]=O>>>24,this[T+1]=O>>>16,this[T+2]=O>>>8,this[T+3]=255&O,T+4},o.prototype.writeFloatLE=function(O,T,G){return _(this,O,T,!0,G)},o.prototype.writeFloatBE=function(O,T,G){return _(this,O,T,!1,G)},o.prototype.writeDoubleLE=function(O,T,G){return E(this,O,T,!0,G)},o.prototype.writeDoubleBE=function(O,T,G){return E(this,O,T,!1,G)},o.prototype.copy=function(O,T,G,Q){if(!o.isBuffer(O))throw new TypeError("argument should be a Buffer");if(G||(G=0),Q||Q===0||(Q=this.length),T>=O.length&&(T=O.length),T||(T=0),Q>0&&Q<G&&(Q=G),Q===G||O.length===0||this.length===0)return 0;if(T<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length),O.length-T<Q-G&&(Q=O.length-T+G);var ne=Q-G;if(this===O&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(T,G,Q);else if(this===O&&G<T&&T<Q)for(var Z=ne-1;Z>=0;--Z)O[Z+T]=this[Z+G];else Uint8Array.prototype.set.call(O,this.subarray(G,Q),T);return ne},o.prototype.fill=function(O,T,G,Q){if(typeof O=="string"){if(typeof T=="string"?(Q=T,T=0,G=this.length):typeof G=="string"&&(Q=G,G=this.length),Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!o.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);if(O.length===1){var ne=O.charCodeAt(0);(Q==="utf8"&&ne<128||Q==="latin1")&&(O=ne)}}else typeof O=="number"&&(O&=255);if(T<0||this.length<T||this.length<G)throw new RangeError("Out of range index");if(G<=T)return this;var Z;if(T>>>=0,G=G===void 0?this.length:G>>>0,O||(O=0),typeof O=="number")for(Z=T;Z<G;++Z)this[Z]=O;else{var oe=o.isBuffer(O)?O:o.from(O,Q),ue=oe.length;if(ue===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(Z=0;Z<G-T;++Z)this[Z+T]=oe[Z%ue]}return this};var D=/[^+/0-9A-Za-z-_]/g;function N(O){return O<16?"0"+O.toString(16):O.toString(16)}function U(O,T){var G;T=T||1/0;for(var Q=O.length,ne=null,Z=[],oe=0;oe<Q;++oe){if((G=O.charCodeAt(oe))>55295&&G<57344){if(!ne){if(G>56319){(T-=3)>-1&&Z.push(239,191,189);continue}if(oe+1===Q){(T-=3)>-1&&Z.push(239,191,189);continue}ne=G;continue}if(G<56320){(T-=3)>-1&&Z.push(239,191,189),ne=G;continue}G=65536+(ne-55296<<10|G-56320)}else ne&&(T-=3)>-1&&Z.push(239,191,189);if(ne=null,G<128){if((T-=1)<0)break;Z.push(G)}else if(G<2048){if((T-=2)<0)break;Z.push(G>>6|192,63&G|128)}else if(G<65536){if((T-=3)<0)break;Z.push(G>>12|224,G>>6&63|128,63&G|128)}else{if(!(G<1114112))throw new Error("Invalid code point");if((T-=4)<0)break;Z.push(G>>18|240,G>>12&63|128,G>>6&63|128,63&G|128)}}return Z}function V(O){return s.toByteArray(function(T){if((T=(T=T.split("=")[0]).trim().replace(D,"")).length<2)return"";for(;T.length%4!=0;)T+="=";return T}(O))}function J(O,T,G,Q){for(var ne=0;ne<Q&&!(ne+G>=T.length||ne>=O.length);++ne)T[ne+G]=O[ne];return ne}function F(O,T){return O instanceof T||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===T.name}function Y(O){return O!=O}}).call(this)}).call(this,e("buffer").Buffer)},{"base64-js":185,buffer:220,ieee754:439}],221:[function(e,n,l){var i=e("safe-buffer").Buffer,s=e("stream").Transform,u=e("string_decoder").StringDecoder;function a(o){s.call(this),this.hashMode=typeof o=="string",this.hashMode?this[o]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}e("inherits")(a,s),a.prototype.update=function(o,c,f){typeof o=="string"&&(o=i.from(o,c));var h=this._update(o);return this.hashMode?this:(f&&(h=this._toString(h,f)),h)},a.prototype.setAutoPadding=function(){},a.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},a.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},a.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},a.prototype._transform=function(o,c,f){var h;try{this.hashMode?this._update(o):this.push(this._update(o))}catch(d){h=d}finally{f(h)}},a.prototype._flush=function(o){var c;try{this.push(this.__final())}catch(f){c=f}o(c)},a.prototype._finalOrDigest=function(o){var c=this.__final()||i.alloc(0);return o&&(c=this._toString(c,o,!0)),c},a.prototype._toString=function(o,c,f){if(this._decoder||(this._decoder=new u(c),this._encoding=c),this._encoding!==c)throw new Error("can't switch encodings");var h=this._decoder.write(o);return f&&(h+=this._decoder.end()),h},n.exports=a},{inherits:440,"safe-buffer":494,stream:505,string_decoder:218}],222:[function(e,n,l){var i=e("../internals/is-callable"),s=e("../internals/try-to-string"),u=TypeError;n.exports=function(a){if(i(a))return a;throw new u(s(a)+" is not a function")}},{"../internals/is-callable":285,"../internals/try-to-string":349}],223:[function(e,n,l){var i=e("../internals/is-constructor"),s=e("../internals/try-to-string"),u=TypeError;n.exports=function(a){if(i(a))return a;throw new u(s(a)+" is not a constructor")}},{"../internals/is-constructor":286,"../internals/try-to-string":349}],224:[function(e,n,l){var i=e("../internals/is-callable"),s=String,u=TypeError;n.exports=function(a){if(typeof a=="object"||i(a))return a;throw new u("Can't set "+s(a)+" as a prototype")}},{"../internals/is-callable":285}],225:[function(e,n,l){var i=e("../internals/well-known-symbol"),s=e("../internals/object-create"),u=e("../internals/object-define-property").f,a=i("unscopables"),o=Array.prototype;o[a]===void 0&&u(o,a,{configurable:!0,value:s(null)}),n.exports=function(c){o[a][c]=!0}},{"../internals/object-create":306,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],226:[function(e,n,l){var i=e("../internals/object-is-prototype-of"),s=TypeError;n.exports=function(u,a){if(i(a,u))return u;throw new s("Incorrect invocation")}},{"../internals/object-is-prototype-of":314}],227:[function(e,n,l){var i=e("../internals/is-object"),s=String,u=TypeError;n.exports=function(a){if(i(a))return a;throw new u(s(a)+" is not an object")}},{"../internals/is-object":289}],228:[function(e,n,l){var i=e("../internals/to-indexed-object"),s=e("../internals/to-absolute-index"),u=e("../internals/length-of-array-like"),a=function(o){return function(c,f,h){var d,y=i(c),b=u(y),m=s(h,b);if(o&&f!=f){for(;b>m;)if((d=y[m++])!=d)return!0}else for(;b>m;m++)if((o||m in y)&&y[m]===f)return o||m||0;return!o&&-1}};n.exports={includes:a(!0),indexOf:a(!1)}},{"../internals/length-of-array-like":299,"../internals/to-absolute-index":340,"../internals/to-indexed-object":341}],229:[function(e,n,l){var i=e("../internals/function-bind-context"),s=e("../internals/function-uncurry-this"),u=e("../internals/indexed-object"),a=e("../internals/to-object"),o=e("../internals/length-of-array-like"),c=e("../internals/array-species-create"),f=s([].push),h=function(d){var y=d===1,b=d===2,m=d===3,g=d===4,p=d===6,v=d===7,C=d===5||p;return function(j,L,$,M){for(var z,H,q=a(j),B=u(q),A=i(L,$),P=o(B),k=0,w=M||c,S=y?w(j,P):b||v?w(j,0):void 0;P>k;k++)if((C||k in B)&&(H=A(z=B[k],k,q),d))if(y)S[k]=H;else if(H)switch(d){case 3:return!0;case 5:return z;case 6:return k;case 2:f(S,z)}else switch(d){case 4:return!1;case 7:f(S,z)}return p?-1:m||g?g:S}};n.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6),filterReject:h(7)}},{"../internals/array-species-create":233,"../internals/function-bind-context":262,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/length-of-array-like":299,"../internals/to-object":344}],230:[function(e,n,l){var i=e("../internals/to-absolute-index"),s=e("../internals/length-of-array-like"),u=e("../internals/create-property"),a=Array,o=Math.max;n.exports=function(c,f,h){for(var d=s(c),y=i(f,d),b=i(h===void 0?d:h,d),m=a(o(b-y,0)),g=0;y<b;y++,g++)u(m,g,c[y]);return m.length=g,m}},{"../internals/create-property":243,"../internals/length-of-array-like":299,"../internals/to-absolute-index":340}],231:[function(e,n,l){var i=e("../internals/function-uncurry-this");n.exports=i([].slice)},{"../internals/function-uncurry-this":268}],232:[function(e,n,l){var i=e("../internals/is-array"),s=e("../internals/is-constructor"),u=e("../internals/is-object"),a=e("../internals/well-known-symbol")("species"),o=Array;n.exports=function(c){var f;return i(c)&&(f=c.constructor,(s(f)&&(f===o||i(f.prototype))||u(f)&&(f=f[a])===null)&&(f=void 0)),f===void 0?o:f}},{"../internals/is-array":284,"../internals/is-constructor":286,"../internals/is-object":289,"../internals/well-known-symbol":357}],233:[function(e,n,l){var i=e("../internals/array-species-constructor");n.exports=function(s,u){return new(i(s))(u===0?0:u)}},{"../internals/array-species-constructor":232}],234:[function(e,n,l){var i=e("../internals/well-known-symbol")("iterator"),s=!1;try{var u=0,a={next:function(){return{done:!!u++}},return:function(){s=!0}};a[i]=function(){return this},Array.from(a,function(){throw 2})}catch{}n.exports=function(o,c){try{if(!c&&!s)return!1}catch{return!1}var f=!1;try{var h={};h[i]=function(){return{next:function(){return{done:f=!0}}}},o(h)}catch{}return f}},{"../internals/well-known-symbol":357}],235:[function(e,n,l){var i=e("../internals/function-uncurry-this"),s=i({}.toString),u=i("".slice);n.exports=function(a){return u(s(a),8,-1)}},{"../internals/function-uncurry-this":268}],236:[function(e,n,l){var i=e("../internals/to-string-tag-support"),s=e("../internals/is-callable"),u=e("../internals/classof-raw"),a=e("../internals/well-known-symbol")("toStringTag"),o=Object,c=u(function(){return arguments}())==="Arguments";n.exports=i?u:function(f){var h,d,y;return f===void 0?"Undefined":f===null?"Null":typeof(d=function(b,m){try{return b[m]}catch{}}(h=o(f),a))=="string"?d:c?u(h):(y=u(h))==="Object"&&s(h.callee)?"Arguments":y}},{"../internals/classof-raw":235,"../internals/is-callable":285,"../internals/to-string-tag-support":347,"../internals/well-known-symbol":357}],237:[function(e,n,l){var i=e("../internals/has-own-property"),s=e("../internals/own-keys"),u=e("../internals/object-get-own-property-descriptor"),a=e("../internals/object-define-property");n.exports=function(o,c,f){for(var h=s(c),d=a.f,y=u.f,b=0;b<h.length;b++){var m=h[b];i(o,m)||f&&i(f,m)||d(o,m,y(c,m))}}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/own-keys":321}],238:[function(e,n,l){var i=e("../internals/well-known-symbol")("match");n.exports=function(s){var u=/./;try{"/./"[s](u)}catch{try{return u[i]=!1,"/./"[s](u)}catch{}}return!1}},{"../internals/well-known-symbol":357}],239:[function(e,n,l){var i=e("../internals/fails");n.exports=!i(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},{"../internals/fails":260}],240:[function(e,n,l){n.exports=function(i,s){return{value:i,done:s}}},{}],241:[function(e,n,l){var i=e("../internals/descriptors"),s=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");n.exports=i?function(a,o,c){return s.f(a,o,u(1,c))}:function(a,o,c){return a[o]=c,a}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/object-define-property":308}],242:[function(e,n,l){n.exports=function(i,s){return{enumerable:!(1&i),configurable:!(2&i),writable:!(4&i),value:s}}},{}],243:[function(e,n,l){var i=e("../internals/to-property-key"),s=e("../internals/object-define-property"),u=e("../internals/create-property-descriptor");n.exports=function(a,o,c){var f=i(o);f in a?s.f(a,f,u(0,c)):a[f]=c}},{"../internals/create-property-descriptor":242,"../internals/object-define-property":308,"../internals/to-property-key":346}],244:[function(e,n,l){var i=e("../internals/make-built-in"),s=e("../internals/object-define-property");n.exports=function(u,a,o){return o.get&&i(o.get,a,{getter:!0}),o.set&&i(o.set,a,{setter:!0}),s.f(u,a,o)}},{"../internals/make-built-in":300,"../internals/object-define-property":308}],245:[function(e,n,l){var i=e("../internals/is-callable"),s=e("../internals/object-define-property"),u=e("../internals/make-built-in"),a=e("../internals/define-global-property");n.exports=function(o,c,f,h){h||(h={});var d=h.enumerable,y=h.name!==void 0?h.name:c;if(i(f)&&u(f,y,h),h.global)d?o[c]=f:a(c,f);else{try{h.unsafe?o[c]&&(d=!0):delete o[c]}catch{}d?o[c]=f:s.f(o,c,{value:f,enumerable:!1,configurable:!h.nonConfigurable,writable:!h.nonWritable})}return o}},{"../internals/define-global-property":246,"../internals/is-callable":285,"../internals/make-built-in":300,"../internals/object-define-property":308}],246:[function(e,n,l){var i=e("../internals/global"),s=Object.defineProperty;n.exports=function(u,a){try{s(i,u,{value:a,configurable:!0,writable:!0})}catch{i[u]=a}return a}},{"../internals/global":274}],247:[function(e,n,l){var i=e("../internals/fails");n.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7})},{"../internals/fails":260}],248:[function(e,n,l){var i=typeof document=="object"&&document.all,s=i===void 0&&i!==void 0;n.exports={all:i,IS_HTMLDDA:s}},{}],249:[function(e,n,l){var i=e("../internals/global"),s=e("../internals/is-object"),u=i.document,a=s(u)&&s(u.createElement);n.exports=function(o){return a?u.createElement(o):{}}},{"../internals/global":274,"../internals/is-object":289}],250:[function(e,n,l){var i=e("../internals/engine-is-deno"),s=e("../internals/engine-is-node");n.exports=!i&&!s&&typeof window=="object"&&typeof document=="object"},{"../internals/engine-is-deno":251,"../internals/engine-is-node":254}],251:[function(e,n,l){n.exports=typeof Deno=="object"&&Deno&&typeof Deno.version=="object"},{}],252:[function(e,n,l){var i=e("../internals/engine-user-agent");n.exports=/ipad|iphone|ipod/i.test(i)&&typeof Pebble<"u"},{"../internals/engine-user-agent":256}],253:[function(e,n,l){var i=e("../internals/engine-user-agent");n.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(i)},{"../internals/engine-user-agent":256}],254:[function(e,n,l){var i=e("../internals/global"),s=e("../internals/classof-raw");n.exports=s(i.process)==="process"},{"../internals/classof-raw":235,"../internals/global":274}],255:[function(e,n,l){var i=e("../internals/engine-user-agent");n.exports=/web0s(?!.*chrome)/i.test(i)},{"../internals/engine-user-agent":256}],256:[function(e,n,l){n.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},{}],257:[function(e,n,l){var i,s,u=e("../internals/global"),a=e("../internals/engine-user-agent"),o=u.process,c=u.Deno,f=o&&o.versions||c&&c.version,h=f&&f.v8;h&&(s=(i=h.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!s&&a&&(!(i=a.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=a.match(/Chrome\/(\d+)/))&&(s=+i[1]),n.exports=s},{"../internals/engine-user-agent":256,"../internals/global":274}],258:[function(e,n,l){n.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],259:[function(e,n,l){var i=e("../internals/global"),s=e("../internals/object-get-own-property-descriptor").f,u=e("../internals/create-non-enumerable-property"),a=e("../internals/define-built-in"),o=e("../internals/define-global-property"),c=e("../internals/copy-constructor-properties"),f=e("../internals/is-forced");n.exports=function(h,d){var y,b,m,g,p,v=h.target,C=h.global,j=h.stat;if(y=C?i:j?i[v]||o(v,{}):(i[v]||{}).prototype)for(b in d){if(g=d[b],m=h.dontCallGetSet?(p=s(y,b))&&p.value:y[b],!f(C?b:v+(j?".":"#")+b,h.forced)&&m!==void 0){if(typeof g==typeof m)continue;c(g,m)}(h.sham||m&&m.sham)&&u(g,"sham",!0),a(y,b,g,h)}}},{"../internals/copy-constructor-properties":237,"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/define-global-property":246,"../internals/global":274,"../internals/is-forced":287,"../internals/object-get-own-property-descriptor":309}],260:[function(e,n,l){n.exports=function(i){try{return!!i()}catch{return!0}}},{}],261:[function(e,n,l){var i=e("../internals/function-bind-native"),s=Function.prototype,u=s.apply,a=s.call;n.exports=typeof Reflect=="object"&&Reflect.apply||(i?a.bind(u):function(){return a.apply(u,arguments)})},{"../internals/function-bind-native":263}],262:[function(e,n,l){var i=e("../internals/function-uncurry-this-clause"),s=e("../internals/a-callable"),u=e("../internals/function-bind-native"),a=i(i.bind);n.exports=function(o,c){return s(o),c===void 0?o:u?a(o,c):function(){return o.apply(c,arguments)}}},{"../internals/a-callable":222,"../internals/function-bind-native":263,"../internals/function-uncurry-this-clause":267}],263:[function(e,n,l){var i=e("../internals/fails");n.exports=!i(function(){var s=(function(){}).bind();return typeof s!="function"||s.hasOwnProperty("prototype")})},{"../internals/fails":260}],264:[function(e,n,l){var i=e("../internals/function-bind-native"),s=Function.prototype.call;n.exports=i?s.bind(s):function(){return s.apply(s,arguments)}},{"../internals/function-bind-native":263}],265:[function(e,n,l){var i=e("../internals/descriptors"),s=e("../internals/has-own-property"),u=Function.prototype,a=i&&Object.getOwnPropertyDescriptor,o=s(u,"name"),c=o&&(function(){}).name==="something",f=o&&(!i||i&&a(u,"name").configurable);n.exports={EXISTS:o,PROPER:c,CONFIGURABLE:f}},{"../internals/descriptors":247,"../internals/has-own-property":275}],266:[function(e,n,l){var i=e("../internals/function-uncurry-this"),s=e("../internals/a-callable");n.exports=function(u,a,o){try{return i(s(Object.getOwnPropertyDescriptor(u,a)[o]))}catch{}}},{"../internals/a-callable":222,"../internals/function-uncurry-this":268}],267:[function(e,n,l){var i=e("../internals/classof-raw"),s=e("../internals/function-uncurry-this");n.exports=function(u){if(i(u)==="Function")return s(u)}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268}],268:[function(e,n,l){var i=e("../internals/function-bind-native"),s=Function.prototype,u=s.call,a=i&&s.bind.bind(u,u);n.exports=i?a:function(o){return function(){return u.apply(o,arguments)}}},{"../internals/function-bind-native":263}],269:[function(e,n,l){var i=e("../internals/global"),s=e("../internals/is-callable"),u=function(a){return s(a)?a:void 0};n.exports=function(a,o){return arguments.length<2?u(i[a]):i[a]&&i[a][o]}},{"../internals/global":274,"../internals/is-callable":285}],270:[function(e,n,l){var i=e("../internals/classof"),s=e("../internals/get-method"),u=e("../internals/is-null-or-undefined"),a=e("../internals/iterators"),o=e("../internals/well-known-symbol")("iterator");n.exports=function(c){if(!u(c))return s(c,o)||s(c,"@@iterator")||a[i(c)]}},{"../internals/classof":236,"../internals/get-method":273,"../internals/is-null-or-undefined":288,"../internals/iterators":298,"../internals/well-known-symbol":357}],271:[function(e,n,l){var i=e("../internals/function-call"),s=e("../internals/a-callable"),u=e("../internals/an-object"),a=e("../internals/try-to-string"),o=e("../internals/get-iterator-method"),c=TypeError;n.exports=function(f,h){var d=arguments.length<2?o(f):h;if(s(d))return u(i(d,f));throw new c(a(f)+" is not iterable")}},{"../internals/a-callable":222,"../internals/an-object":227,"../internals/function-call":264,"../internals/get-iterator-method":270,"../internals/try-to-string":349}],272:[function(e,n,l){var i=e("../internals/function-uncurry-this"),s=e("../internals/is-array"),u=e("../internals/is-callable"),a=e("../internals/classof-raw"),o=e("../internals/to-string"),c=i([].push);n.exports=function(f){if(u(f))return f;if(s(f)){for(var h=f.length,d=[],y=0;y<h;y++){var b=f[y];typeof b=="string"?c(d,b):typeof b!="number"&&a(b)!=="Number"&&a(b)!=="String"||c(d,o(b))}var m=d.length,g=!0;return function(p,v){if(g)return g=!1,v;if(s(this))return v;for(var C=0;C<m;C++)if(d[C]===p)return v}}}},{"../internals/classof-raw":235,"../internals/function-uncurry-this":268,"../internals/is-array":284,"../internals/is-callable":285,"../internals/to-string":348}],273:[function(e,n,l){var i=e("../internals/a-callable"),s=e("../internals/is-null-or-undefined");n.exports=function(u,a){var o=u[a];return s(o)?void 0:i(o)}},{"../internals/a-callable":222,"../internals/is-null-or-undefined":288}],274:[function(e,n,l){(function(i){(function(){var s=function(u){return u&&u.Math===Math&&u};n.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof i=="object"&&i)||function(){return this}()||this||Function("return this")()}).call(this)}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],275:[function(e,n,l){var i=e("../internals/function-uncurry-this"),s=e("../internals/to-object"),u=i({}.hasOwnProperty);n.exports=Object.hasOwn||function(a,o){return u(s(a),o)}},{"../internals/function-uncurry-this":268,"../internals/to-object":344}],276:[function(e,n,l){n.exports={}},{}],277:[function(e,n,l){n.exports=function(i,s){try{arguments.length===1?console.error(i):console.error(i,s)}catch{}}},{}],278:[function(e,n,l){var i=e("../internals/get-built-in");n.exports=i("document","documentElement")},{"../internals/get-built-in":269}],279:[function(e,n,l){var i=e("../internals/descriptors"),s=e("../internals/fails"),u=e("../internals/document-create-element");n.exports=!i&&!s(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!==7})},{"../internals/descriptors":247,"../internals/document-create-element":249,"../internals/fails":260}],280:[function(e,n,l){var i=e("../internals/function-uncurry-this"),s=e("../internals/fails"),u=e("../internals/classof-raw"),a=Object,o=i("".split);n.exports=s(function(){return!a("z").propertyIsEnumerable(0)})?function(c){return u(c)==="String"?o(c,""):a(c)}:a},{"../internals/classof-raw":235,"../internals/fails":260,"../internals/function-uncurry-this":268}],281:[function(e,n,l){var i=e("../internals/function-uncurry-this"),s=e("../internals/is-callable"),u=e("../internals/shared-store"),a=i(Function.toString);s(u.inspectSource)||(u.inspectSource=function(o){return a(o)}),n.exports=u.inspectSource},{"../internals/function-uncurry-this":268,"../internals/is-callable":285,"../internals/shared-store":333}],282:[function(e,n,l){var i,s,u,a=e("../internals/weak-map-basic-detection"),o=e("../internals/global"),c=e("../internals/is-object"),f=e("../internals/create-non-enumerable-property"),h=e("../internals/has-own-property"),d=e("../internals/shared-store"),y=e("../internals/shared-key"),b=e("../internals/hidden-keys"),m=o.TypeError,g=o.WeakMap;if(a||d.state){var p=d.state||(d.state=new g);p.get=p.get,p.has=p.has,p.set=p.set,i=function(C,j){if(p.has(C))throw new m("Object already initialized");return j.facade=C,p.set(C,j),j},s=function(C){return p.get(C)||{}},u=function(C){return p.has(C)}}else{var v=y("state");b[v]=!0,i=function(C,j){if(h(C,v))throw new m("Object already initialized");return j.facade=C,f(C,v,j),j},s=function(C){return h(C,v)?C[v]:{}},u=function(C){return h(C,v)}}n.exports={set:i,get:s,has:u,enforce:function(C){return u(C)?s(C):i(C,{})},getterFor:function(C){return function(j){var L;if(!c(j)||(L=s(j)).type!==C)throw new m("Incompatible receiver, "+C+" required");return L}}}},{"../internals/create-non-enumerable-property":241,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/is-object":289,"../internals/shared-key":332,"../internals/shared-store":333,"../internals/weak-map-basic-detection":354}],283:[function(e,n,l){var i=e("../internals/well-known-symbol"),s=e("../internals/iterators"),u=i("iterator"),a=Array.prototype;n.exports=function(o){return o!==void 0&&(s.Array===o||a[u]===o)}},{"../internals/iterators":298,"../internals/well-known-symbol":357}],284:[function(e,n,l){var i=e("../internals/classof-raw");n.exports=Array.isArray||function(s){return i(s)==="Array"}},{"../internals/classof-raw":235}],285:[function(e,n,l){var i=e("../internals/document-all"),s=i.all;n.exports=i.IS_HTMLDDA?function(u){return typeof u=="function"||u===s}:function(u){return typeof u=="function"}},{"../internals/document-all":248}],286:[function(e,n,l){var i=e("../internals/function-uncurry-this"),s=e("../internals/fails"),u=e("../internals/is-callable"),a=e("../internals/classof"),o=e("../internals/get-built-in"),c=e("../internals/inspect-source"),f=function(){},h=[],d=o("Reflect","construct"),y=/^\s*(?:class|function)\b/,b=i(y.exec),m=!y.test(f),g=function(v){if(!u(v))return!1;try{return d(f,h,v),!0}catch{return!1}},p=function(v){if(!u(v))return!1;switch(a(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return m||!!b(y,c(v))}catch{return!0}};p.sham=!0,n.exports=!d||s(function(){var v;return g(g.call)||!g(Object)||!g(function(){v=!0})||v})?p:g},{"../internals/classof":236,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/inspect-source":281,"../internals/is-callable":285}],287:[function(e,n,l){var i=e("../internals/fails"),s=e("../internals/is-callable"),u=/#|\.prototype\./,a=function(d,y){var b=c[o(d)];return b===h||b!==f&&(s(y)?i(y):!!y)},o=a.normalize=function(d){return String(d).replace(u,".").toLowerCase()},c=a.data={},f=a.NATIVE="N",h=a.POLYFILL="P";n.exports=a},{"../internals/fails":260,"../internals/is-callable":285}],288:[function(e,n,l){n.exports=function(i){return i==null}},{}],289:[function(e,n,l){var i=e("../internals/is-callable"),s=e("../internals/document-all"),u=s.all;n.exports=s.IS_HTMLDDA?function(a){return typeof a=="object"?a!==null:i(a)||a===u}:function(a){return typeof a=="object"?a!==null:i(a)}},{"../internals/document-all":248,"../internals/is-callable":285}],290:[function(e,n,l){n.exports=!1},{}],291:[function(e,n,l){var i=e("../internals/is-object"),s=e("../internals/classof-raw"),u=e("../internals/well-known-symbol")("match");n.exports=function(a){var o;return i(a)&&((o=a[u])!==void 0?!!o:s(a)==="RegExp")}},{"../internals/classof-raw":235,"../internals/is-object":289,"../internals/well-known-symbol":357}],292:[function(e,n,l){var i=e("../internals/get-built-in"),s=e("../internals/is-callable"),u=e("../internals/object-is-prototype-of"),a=e("../internals/use-symbol-as-uid"),o=Object;n.exports=a?function(c){return typeof c=="symbol"}:function(c){var f=i("Symbol");return s(f)&&u(f.prototype,o(c))}},{"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/object-is-prototype-of":314,"../internals/use-symbol-as-uid":351}],293:[function(e,n,l){var i=e("../internals/function-bind-context"),s=e("../internals/function-call"),u=e("../internals/an-object"),a=e("../internals/try-to-string"),o=e("../internals/is-array-iterator-method"),c=e("../internals/length-of-array-like"),f=e("../internals/object-is-prototype-of"),h=e("../internals/get-iterator"),d=e("../internals/get-iterator-method"),y=e("../internals/iterator-close"),b=TypeError,m=function(p,v){this.stopped=p,this.result=v},g=m.prototype;n.exports=function(p,v,C){var j,L,$,M,z,H,q,B=C&&C.that,A=!(!C||!C.AS_ENTRIES),P=!(!C||!C.IS_RECORD),k=!(!C||!C.IS_ITERATOR),w=!(!C||!C.INTERRUPTED),S=i(v,B),x=function(E){return j&&y(j,"normal",E),new m(!0,E)},_=function(E){return A?(u(E),w?S(E[0],E[1],x):S(E[0],E[1])):w?S(E,x):S(E)};if(P)j=p.iterator;else if(k)j=p;else{if(!(L=d(p)))throw new b(a(p)+" is not iterable");if(o(L)){for($=0,M=c(p);M>$;$++)if((z=_(p[$]))&&f(g,z))return z;return new m(!1)}j=h(p,L)}for(H=P?p.next:j.next;!(q=s(H,j)).done;){try{z=_(q.value)}catch(E){y(j,"throw",E)}if(typeof z=="object"&&z&&f(g,z))return z}return new m(!1)}},{"../internals/an-object":227,"../internals/function-bind-context":262,"../internals/function-call":264,"../internals/get-iterator":271,"../internals/get-iterator-method":270,"../internals/is-array-iterator-method":283,"../internals/iterator-close":294,"../internals/length-of-array-like":299,"../internals/object-is-prototype-of":314,"../internals/try-to-string":349}],294:[function(e,n,l){var i=e("../internals/function-call"),s=e("../internals/an-object"),u=e("../internals/get-method");n.exports=function(a,o,c){var f,h;s(a);try{if(!(f=u(a,"return"))){if(o==="throw")throw c;return c}f=i(f,a)}catch(d){h=!0,f=d}if(o==="throw")throw c;if(h)throw f;return s(f),c}},{"../internals/an-object":227,"../internals/function-call":264,"../internals/get-method":273}],295:[function(e,n,l){var i=e("../internals/iterators-core").IteratorPrototype,s=e("../internals/object-create"),u=e("../internals/create-property-descriptor"),a=e("../internals/set-to-string-tag"),o=e("../internals/iterators"),c=function(){return this};n.exports=function(f,h,d,y){var b=h+" Iterator";return f.prototype=s(i,{next:u(+!y,d)}),a(f,b,!1,!0),o[b]=c,f}},{"../internals/create-property-descriptor":242,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-create":306,"../internals/set-to-string-tag":331}],296:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/function-call"),u=e("../internals/is-pure"),a=e("../internals/function-name"),o=e("../internals/is-callable"),c=e("../internals/iterator-create-constructor"),f=e("../internals/object-get-prototype-of"),h=e("../internals/object-set-prototype-of"),d=e("../internals/set-to-string-tag"),y=e("../internals/create-non-enumerable-property"),b=e("../internals/define-built-in"),m=e("../internals/well-known-symbol"),g=e("../internals/iterators"),p=e("../internals/iterators-core"),v=a.PROPER,C=a.CONFIGURABLE,j=p.IteratorPrototype,L=p.BUGGY_SAFARI_ITERATORS,$=m("iterator"),M=function(){return this};n.exports=function(z,H,q,B,A,P,k){c(q,H,B);var w,S,x,_=function(F){if(F===A&&V)return V;if(!L&&F&&F in N)return N[F];switch(F){case"keys":case"values":case"entries":return function(){return new q(this,F)}}return function(){return new q(this)}},E=H+" Iterator",D=!1,N=z.prototype,U=N[$]||N["@@iterator"]||A&&N[A],V=!L&&U||_(A),J=H==="Array"&&N.entries||U;if(J&&(w=f(J.call(new z)))!==Object.prototype&&w.next&&(u||f(w)===j||(h?h(w,j):o(w[$])||b(w,$,M)),d(w,E,!0,!0),u&&(g[E]=M)),v&&A==="values"&&U&&U.name!=="values"&&(!u&&C?y(N,"name","values"):(D=!0,V=function(){return s(U,this)})),A)if(S={values:_("values"),keys:P?V:_("keys"),entries:_("entries")},k)for(x in S)(L||D||!(x in N))&&b(N,x,S[x]);else i({target:H,proto:!0,forced:L||D},S);return u&&!k||N[$]===V||b(N,$,V,{name:A}),g[H]=V,S}},{"../internals/create-non-enumerable-property":241,"../internals/define-built-in":245,"../internals/export":259,"../internals/function-call":264,"../internals/function-name":265,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/iterator-create-constructor":295,"../internals/iterators":298,"../internals/iterators-core":297,"../internals/object-get-prototype-of":313,"../internals/object-set-prototype-of":318,"../internals/set-to-string-tag":331,"../internals/well-known-symbol":357}],297:[function(e,n,l){var i,s,u,a=e("../internals/fails"),o=e("../internals/is-callable"),c=e("../internals/is-object"),f=e("../internals/object-create"),h=e("../internals/object-get-prototype-of"),d=e("../internals/define-built-in"),y=e("../internals/well-known-symbol"),b=e("../internals/is-pure"),m=y("iterator"),g=!1;[].keys&&("next"in(u=[].keys())?(s=h(h(u)))!==Object.prototype&&(i=s):g=!0),!c(i)||a(function(){var p={};return i[m].call(p)!==p})?i={}:b&&(i=f(i)),o(i[m])||d(i,m,function(){return this}),n.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:g}},{"../internals/define-built-in":245,"../internals/fails":260,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-get-prototype-of":313,"../internals/well-known-symbol":357}],298:[function(e,n,l){arguments[4][276][0].apply(l,arguments)},{dup:276}],299:[function(e,n,l){var i=e("../internals/to-length");n.exports=function(s){return i(s.length)}},{"../internals/to-length":343}],300:[function(e,n,l){var i=e("../internals/function-uncurry-this"),s=e("../internals/fails"),u=e("../internals/is-callable"),a=e("../internals/has-own-property"),o=e("../internals/descriptors"),c=e("../internals/function-name").CONFIGURABLE,f=e("../internals/inspect-source"),h=e("../internals/internal-state"),d=h.enforce,y=h.get,b=String,m=Object.defineProperty,g=i("".slice),p=i("".replace),v=i([].join),C=o&&!s(function(){return m(function(){},"length",{value:8}).length!==8}),j=String(String).split("String"),L=n.exports=function($,M,z){g(b(M),0,7)==="Symbol("&&(M="["+p(b(M),/^Symbol\(([^)]*)\)/,"$1")+"]"),z&&z.getter&&(M="get "+M),z&&z.setter&&(M="set "+M),(!a($,"name")||c&&$.name!==M)&&(o?m($,"name",{value:M,configurable:!0}):$.name=M),C&&z&&a(z,"arity")&&$.length!==z.arity&&m($,"length",{value:z.arity});try{z&&a(z,"constructor")&&z.constructor?o&&m($,"prototype",{writable:!1}):$.prototype&&($.prototype=void 0)}catch{}var H=d($);return a(H,"source")||(H.source=v(j,typeof M=="string"?M:"")),$};Function.prototype.toString=L(function(){return u(this)&&y(this).source||f(this)},"toString")},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-name":265,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/inspect-source":281,"../internals/internal-state":282,"../internals/is-callable":285}],301:[function(e,n,l){var i=Math.ceil,s=Math.floor;n.exports=Math.trunc||function(u){var a=+u;return(a>0?s:i)(a)}},{}],302:[function(e,n,l){var i,s,u,a,o,c=e("../internals/global"),f=e("../internals/function-bind-context"),h=e("../internals/object-get-own-property-descriptor").f,d=e("../internals/task").set,y=e("../internals/queue"),b=e("../internals/engine-is-ios"),m=e("../internals/engine-is-ios-pebble"),g=e("../internals/engine-is-webos-webkit"),p=e("../internals/engine-is-node"),v=c.MutationObserver||c.WebKitMutationObserver,C=c.document,j=c.process,L=c.Promise,$=h(c,"queueMicrotask"),M=$&&$.value;if(!M){var z=new y,H=function(){var q,B;for(p&&(q=j.domain)&&q.exit();B=z.get();)try{B()}catch(A){throw z.head&&i(),A}q&&q.enter()};b||p||g||!v||!C?!m&&L&&L.resolve?((a=L.resolve(void 0)).constructor=L,o=f(a.then,a),i=function(){o(H)}):p?i=function(){j.nextTick(H)}:(d=f(d,c),i=function(){d(H)}):(s=!0,u=C.createTextNode(""),new v(H).observe(u,{characterData:!0}),i=function(){u.data=s=!s}),M=function(q){z.head||i(),z.add(q)}}n.exports=M},{"../internals/engine-is-ios":253,"../internals/engine-is-ios-pebble":252,"../internals/engine-is-node":254,"../internals/engine-is-webos-webkit":255,"../internals/function-bind-context":262,"../internals/global":274,"../internals/object-get-own-property-descriptor":309,"../internals/queue":328,"../internals/task":339}],303:[function(e,n,l){var i=e("../internals/a-callable"),s=TypeError,u=function(a){var o,c;this.promise=new a(function(f,h){if(o!==void 0||c!==void 0)throw new s("Bad Promise constructor");o=f,c=h}),this.resolve=i(o),this.reject=i(c)};n.exports.f=function(a){return new u(a)}},{"../internals/a-callable":222}],304:[function(e,n,l){var i=e("../internals/is-regexp"),s=TypeError;n.exports=function(u){if(i(u))throw new s("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":291}],305:[function(e,n,l){var i=e("../internals/descriptors"),s=e("../internals/function-uncurry-this"),u=e("../internals/function-call"),a=e("../internals/fails"),o=e("../internals/object-keys"),c=e("../internals/object-get-own-property-symbols"),f=e("../internals/object-property-is-enumerable"),h=e("../internals/to-object"),d=e("../internals/indexed-object"),y=Object.assign,b=Object.defineProperty,m=s([].concat);n.exports=!y||a(function(){if(i&&y({b:1},y(b({},"a",{enumerable:!0,get:function(){b(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var g={},p={},v=Symbol("assign detection");return g[v]=7,"abcdefghijklmnopqrst".split("").forEach(function(C){p[C]=C}),y({},g)[v]!==7||o(y({},p)).join("")!=="abcdefghijklmnopqrst"})?function(g,p){for(var v=h(g),C=arguments.length,j=1,L=c.f,$=f.f;C>j;)for(var M,z=d(arguments[j++]),H=L?m(o(z),L(z)):o(z),q=H.length,B=0;q>B;)M=H[B++],i&&!u($,z,M)||(v[M]=z[M]);return v}:y},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/indexed-object":280,"../internals/object-get-own-property-symbols":312,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-object":344}],306:[function(e,n,l){var i,s=e("../internals/an-object"),u=e("../internals/object-define-properties"),a=e("../internals/enum-bug-keys"),o=e("../internals/hidden-keys"),c=e("../internals/html"),f=e("../internals/document-create-element"),h=e("../internals/shared-key"),d=h("IE_PROTO"),y=function(){},b=function(p){return"<script>"+p+"<\/script>"},m=function(p){p.write(b("")),p.close();var v=p.parentWindow.Object;return p=null,v},g=function(){try{i=new ActiveXObject("htmlfile")}catch{}var p,v;g=typeof document<"u"?document.domain&&i?m(i):((v=f("iframe")).style.display="none",c.appendChild(v),v.src="javascript:",(p=v.contentWindow.document).open(),p.write(b("document.F=Object")),p.close(),p.F):m(i);for(var C=a.length;C--;)delete g.prototype[a[C]];return g()};o[d]=!0,n.exports=Object.create||function(p,v){var C;return p!==null?(y.prototype=s(p),C=new y,y.prototype=null,C[d]=p):C=g(),v===void 0?C:u.f(C,v)}},{"../internals/an-object":227,"../internals/document-create-element":249,"../internals/enum-bug-keys":258,"../internals/hidden-keys":276,"../internals/html":278,"../internals/object-define-properties":307,"../internals/shared-key":332}],307:[function(e,n,l){var i=e("../internals/descriptors"),s=e("../internals/v8-prototype-define-bug"),u=e("../internals/object-define-property"),a=e("../internals/an-object"),o=e("../internals/to-indexed-object"),c=e("../internals/object-keys");l.f=i&&!s?Object.defineProperties:function(f,h){a(f);for(var d,y=o(h),b=c(h),m=b.length,g=0;m>g;)u.f(f,d=b[g++],y[d]);return f}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/object-define-property":308,"../internals/object-keys":316,"../internals/to-indexed-object":341,"../internals/v8-prototype-define-bug":352}],308:[function(e,n,l){var i=e("../internals/descriptors"),s=e("../internals/ie8-dom-define"),u=e("../internals/v8-prototype-define-bug"),a=e("../internals/an-object"),o=e("../internals/to-property-key"),c=TypeError,f=Object.defineProperty,h=Object.getOwnPropertyDescriptor;l.f=i?u?function(d,y,b){if(a(d),y=o(y),a(b),typeof d=="function"&&y==="prototype"&&"value"in b&&"writable"in b&&!b.writable){var m=h(d,y);m&&m.writable&&(d[y]=b.value,b={configurable:"configurable"in b?b.configurable:m.configurable,enumerable:"enumerable"in b?b.enumerable:m.enumerable,writable:!1})}return f(d,y,b)}:f:function(d,y,b){if(a(d),y=o(y),a(b),s)try{return f(d,y,b)}catch{}if("get"in b||"set"in b)throw new c("Accessors not supported");return"value"in b&&(d[y]=b.value),d}},{"../internals/an-object":227,"../internals/descriptors":247,"../internals/ie8-dom-define":279,"../internals/to-property-key":346,"../internals/v8-prototype-define-bug":352}],309:[function(e,n,l){var i=e("../internals/descriptors"),s=e("../internals/function-call"),u=e("../internals/object-property-is-enumerable"),a=e("../internals/create-property-descriptor"),o=e("../internals/to-indexed-object"),c=e("../internals/to-property-key"),f=e("../internals/has-own-property"),h=e("../internals/ie8-dom-define"),d=Object.getOwnPropertyDescriptor;l.f=i?d:function(y,b){if(y=o(y),b=c(b),h)try{return d(y,b)}catch{}if(f(y,b))return a(!s(u.f,y,b),y[b])}},{"../internals/create-property-descriptor":242,"../internals/descriptors":247,"../internals/function-call":264,"../internals/has-own-property":275,"../internals/ie8-dom-define":279,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341,"../internals/to-property-key":346}],310:[function(e,n,l){var i=e("../internals/classof-raw"),s=e("../internals/to-indexed-object"),u=e("../internals/object-get-own-property-names").f,a=e("../internals/array-slice-simple"),o=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];n.exports.f=function(c){return o&&i(c)==="Window"?function(f){try{return u(f)}catch{return a(o)}}(c):u(s(c))}},{"../internals/array-slice-simple":230,"../internals/classof-raw":235,"../internals/object-get-own-property-names":311,"../internals/to-indexed-object":341}],311:[function(e,n,l){var i=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys").concat("length","prototype");l.f=Object.getOwnPropertyNames||function(u){return i(u,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],312:[function(e,n,l){l.f=Object.getOwnPropertySymbols},{}],313:[function(e,n,l){var i=e("../internals/has-own-property"),s=e("../internals/is-callable"),u=e("../internals/to-object"),a=e("../internals/shared-key"),o=e("../internals/correct-prototype-getter"),c=a("IE_PROTO"),f=Object,h=f.prototype;n.exports=o?f.getPrototypeOf:function(d){var y=u(d);if(i(y,c))return y[c];var b=y.constructor;return s(b)&&y instanceof b?b.prototype:y instanceof f?h:null}},{"../internals/correct-prototype-getter":239,"../internals/has-own-property":275,"../internals/is-callable":285,"../internals/shared-key":332,"../internals/to-object":344}],314:[function(e,n,l){var i=e("../internals/function-uncurry-this");n.exports=i({}.isPrototypeOf)},{"../internals/function-uncurry-this":268}],315:[function(e,n,l){var i=e("../internals/function-uncurry-this"),s=e("../internals/has-own-property"),u=e("../internals/to-indexed-object"),a=e("../internals/array-includes").indexOf,o=e("../internals/hidden-keys"),c=i([].push);n.exports=function(f,h){var d,y=u(f),b=0,m=[];for(d in y)!s(o,d)&&s(y,d)&&c(m,d);for(;h.length>b;)s(y,d=h[b++])&&(~a(m,d)||c(m,d));return m}},{"../internals/array-includes":228,"../internals/function-uncurry-this":268,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/to-indexed-object":341}],316:[function(e,n,l){var i=e("../internals/object-keys-internal"),s=e("../internals/enum-bug-keys");n.exports=Object.keys||function(u){return i(u,s)}},{"../internals/enum-bug-keys":258,"../internals/object-keys-internal":315}],317:[function(e,n,l){var i={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,u=s&&!i.call({1:2},1);l.f=u?function(a){var o=s(this,a);return!!o&&o.enumerable}:i},{}],318:[function(e,n,l){var i=e("../internals/function-uncurry-this-accessor"),s=e("../internals/an-object"),u=e("../internals/a-possible-prototype");n.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var a,o=!1,c={};try{(a=i(Object.prototype,"__proto__","set"))(c,[]),o=c instanceof Array}catch{}return function(f,h){return s(f),u(h),o?a(f,h):f.__proto__=h,f}}():void 0)},{"../internals/a-possible-prototype":224,"../internals/an-object":227,"../internals/function-uncurry-this-accessor":266}],319:[function(e,n,l){var i=e("../internals/descriptors"),s=e("../internals/fails"),u=e("../internals/function-uncurry-this"),a=e("../internals/object-get-prototype-of"),o=e("../internals/object-keys"),c=e("../internals/to-indexed-object"),f=u(e("../internals/object-property-is-enumerable").f),h=u([].push),d=i&&s(function(){var b=Object.create(null);return b[2]=2,!f(b,2)}),y=function(b){return function(m){for(var g,p=c(m),v=o(p),C=d&&a(p)===null,j=v.length,L=0,$=[];j>L;)g=v[L++],i&&!(C?g in p:f(p,g))||h($,b?[g,p[g]]:p[g]);return $}};n.exports={entries:y(!0),values:y(!1)}},{"../internals/descriptors":247,"../internals/fails":260,"../internals/function-uncurry-this":268,"../internals/object-get-prototype-of":313,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/to-indexed-object":341}],320:[function(e,n,l){var i=e("../internals/function-call"),s=e("../internals/is-callable"),u=e("../internals/is-object"),a=TypeError;n.exports=function(o,c){var f,h;if(c==="string"&&s(f=o.toString)&&!u(h=i(f,o))||s(f=o.valueOf)&&!u(h=i(f,o))||c!=="string"&&s(f=o.toString)&&!u(h=i(f,o)))return h;throw new a("Can't convert object to primitive value")}},{"../internals/function-call":264,"../internals/is-callable":285,"../internals/is-object":289}],321:[function(e,n,l){var i=e("../internals/get-built-in"),s=e("../internals/function-uncurry-this"),u=e("../internals/object-get-own-property-names"),a=e("../internals/object-get-own-property-symbols"),o=e("../internals/an-object"),c=s([].concat);n.exports=i("Reflect","ownKeys")||function(f){var h=u.f(o(f)),d=a.f;return d?c(h,d(f)):h}},{"../internals/an-object":227,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-symbols":312}],322:[function(e,n,l){var i=e("../internals/global");n.exports=i},{"../internals/global":274}],323:[function(e,n,l){n.exports=function(i){try{return{error:!1,value:i()}}catch(s){return{error:!0,value:s}}}},{}],324:[function(e,n,l){var i=e("../internals/global"),s=e("../internals/promise-native-constructor"),u=e("../internals/is-callable"),a=e("../internals/is-forced"),o=e("../internals/inspect-source"),c=e("../internals/well-known-symbol"),f=e("../internals/engine-is-browser"),h=e("../internals/engine-is-deno"),d=e("../internals/is-pure"),y=e("../internals/engine-v8-version"),b=s&&s.prototype,m=c("species"),g=!1,p=u(i.PromiseRejectionEvent),v=a("Promise",function(){var C=o(s),j=C!==String(s);if(!j&&y===66||d&&(!b.catch||!b.finally))return!0;if(!y||y<51||!/native code/.test(C)){var L=new s(function(M){M(1)}),$=function(M){M(function(){},function(){})};if((L.constructor={})[m]=$,!(g=L.then(function(){})instanceof $))return!0}return!j&&(f||h)&&!p});n.exports={CONSTRUCTOR:v,REJECTION_EVENT:p,SUBCLASSING:g}},{"../internals/engine-is-browser":250,"../internals/engine-is-deno":251,"../internals/engine-v8-version":257,"../internals/global":274,"../internals/inspect-source":281,"../internals/is-callable":285,"../internals/is-forced":287,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/well-known-symbol":357}],325:[function(e,n,l){var i=e("../internals/global");n.exports=i.Promise},{"../internals/global":274}],326:[function(e,n,l){var i=e("../internals/an-object"),s=e("../internals/is-object"),u=e("../internals/new-promise-capability");n.exports=function(a,o){if(i(a),s(o)&&o.constructor===a)return o;var c=u.f(a);return(0,c.resolve)(o),c.promise}},{"../internals/an-object":227,"../internals/is-object":289,"../internals/new-promise-capability":303}],327:[function(e,n,l){var i=e("../internals/promise-native-constructor"),s=e("../internals/check-correctness-of-iteration"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR;n.exports=u||!s(function(a){i.all(a).then(void 0,function(){})})},{"../internals/check-correctness-of-iteration":234,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],328:[function(e,n,l){var i=function(){this.head=null,this.tail=null};i.prototype={add:function(s){var u={item:s,next:null},a=this.tail;a?a.next=u:this.head=u,this.tail=u},get:function(){var s=this.head;if(s)return(this.head=s.next)===null&&(this.tail=null),s.item}},n.exports=i},{}],329:[function(e,n,l){var i=e("../internals/is-null-or-undefined"),s=TypeError;n.exports=function(u){if(i(u))throw new s("Can't call method on "+u);return u}},{"../internals/is-null-or-undefined":288}],330:[function(e,n,l){var i=e("../internals/get-built-in"),s=e("../internals/define-built-in-accessor"),u=e("../internals/well-known-symbol"),a=e("../internals/descriptors"),o=u("species");n.exports=function(c){var f=i(c);a&&f&&!f[o]&&s(f,o,{configurable:!0,get:function(){return this}})}},{"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],331:[function(e,n,l){var i=e("../internals/object-define-property").f,s=e("../internals/has-own-property"),u=e("../internals/well-known-symbol")("toStringTag");n.exports=function(a,o,c){a&&!c&&(a=a.prototype),a&&!s(a,u)&&i(a,u,{configurable:!0,value:o})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/well-known-symbol":357}],332:[function(e,n,l){var i=e("../internals/shared"),s=e("../internals/uid"),u=i("keys");n.exports=function(a){return u[a]||(u[a]=s(a))}},{"../internals/shared":334,"../internals/uid":350}],333:[function(e,n,l){var i=e("../internals/global"),s=e("../internals/define-global-property"),u=i["__core-js_shared__"]||s("__core-js_shared__",{});n.exports=u},{"../internals/define-global-property":246,"../internals/global":274}],334:[function(e,n,l){var i=e("../internals/is-pure"),s=e("../internals/shared-store");(n.exports=function(u,a){return s[u]||(s[u]=a!==void 0?a:{})})("versions",[]).push({version:"3.33.0",mode:i?"pure":"global",copyright:" 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.33.0/LICENSE",source:"https://github.com/zloirock/core-js"})},{"../internals/is-pure":290,"../internals/shared-store":333}],335:[function(e,n,l){var i=e("../internals/an-object"),s=e("../internals/a-constructor"),u=e("../internals/is-null-or-undefined"),a=e("../internals/well-known-symbol")("species");n.exports=function(o,c){var f,h=i(o).constructor;return h===void 0||u(f=i(h)[a])?c:s(f)}},{"../internals/a-constructor":223,"../internals/an-object":227,"../internals/is-null-or-undefined":288,"../internals/well-known-symbol":357}],336:[function(e,n,l){var i=e("../internals/engine-v8-version"),s=e("../internals/fails"),u=e("../internals/global").String;n.exports=!!Object.getOwnPropertySymbols&&!s(function(){var a=Symbol("symbol detection");return!u(a)||!(Object(a)instanceof Symbol)||!Symbol.sham&&i&&i<41})},{"../internals/engine-v8-version":257,"../internals/fails":260,"../internals/global":274}],337:[function(e,n,l){var i=e("../internals/function-call"),s=e("../internals/get-built-in"),u=e("../internals/well-known-symbol"),a=e("../internals/define-built-in");n.exports=function(){var o=s("Symbol"),c=o&&o.prototype,f=c&&c.valueOf,h=u("toPrimitive");c&&!c[h]&&a(c,h,function(d){return i(f,this)},{arity:1})}},{"../internals/define-built-in":245,"../internals/function-call":264,"../internals/get-built-in":269,"../internals/well-known-symbol":357}],338:[function(e,n,l){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!!Symbol.for&&!!Symbol.keyFor},{"../internals/symbol-constructor-detection":336}],339:[function(e,n,l){var i,s,u,a,o=e("../internals/global"),c=e("../internals/function-apply"),f=e("../internals/function-bind-context"),h=e("../internals/is-callable"),d=e("../internals/has-own-property"),y=e("../internals/fails"),b=e("../internals/html"),m=e("../internals/array-slice"),g=e("../internals/document-create-element"),p=e("../internals/validate-arguments-length"),v=e("../internals/engine-is-ios"),C=e("../internals/engine-is-node"),j=o.setImmediate,L=o.clearImmediate,$=o.process,M=o.Dispatch,z=o.Function,H=o.MessageChannel,q=o.String,B=0,A={};y(function(){i=o.location});var P=function(x){if(d(A,x)){var _=A[x];delete A[x],_()}},k=function(x){return function(){P(x)}},w=function(x){P(x.data)},S=function(x){o.postMessage(q(x),i.protocol+"//"+i.host)};j&&L||(j=function(x){p(arguments.length,1);var _=h(x)?x:z(x),E=m(arguments,1);return A[++B]=function(){c(_,void 0,E)},s(B),B},L=function(x){delete A[x]},C?s=function(x){$.nextTick(k(x))}:M&&M.now?s=function(x){M.now(k(x))}:H&&!v?(a=(u=new H).port2,u.port1.onmessage=w,s=f(a.postMessage,a)):o.addEventListener&&h(o.postMessage)&&!o.importScripts&&i&&i.protocol!=="file:"&&!y(S)?(s=S,o.addEventListener("message",w,!1)):s="onreadystatechange"in g("script")?function(x){b.appendChild(g("script")).onreadystatechange=function(){b.removeChild(this),P(x)}}:function(x){setTimeout(k(x),0)}),n.exports={set:j,clear:L}},{"../internals/array-slice":231,"../internals/document-create-element":249,"../internals/engine-is-ios":253,"../internals/engine-is-node":254,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-bind-context":262,"../internals/global":274,"../internals/has-own-property":275,"../internals/html":278,"../internals/is-callable":285,"../internals/validate-arguments-length":353}],340:[function(e,n,l){var i=e("../internals/to-integer-or-infinity"),s=Math.max,u=Math.min;n.exports=function(a,o){var c=i(a);return c<0?s(c+o,0):u(c,o)}},{"../internals/to-integer-or-infinity":342}],341:[function(e,n,l){var i=e("../internals/indexed-object"),s=e("../internals/require-object-coercible");n.exports=function(u){return i(s(u))}},{"../internals/indexed-object":280,"../internals/require-object-coercible":329}],342:[function(e,n,l){var i=e("../internals/math-trunc");n.exports=function(s){var u=+s;return u!=u||u===0?0:i(u)}},{"../internals/math-trunc":301}],343:[function(e,n,l){var i=e("../internals/to-integer-or-infinity"),s=Math.min;n.exports=function(u){return u>0?s(i(u),9007199254740991):0}},{"../internals/to-integer-or-infinity":342}],344:[function(e,n,l){var i=e("../internals/require-object-coercible"),s=Object;n.exports=function(u){return s(i(u))}},{"../internals/require-object-coercible":329}],345:[function(e,n,l){var i=e("../internals/function-call"),s=e("../internals/is-object"),u=e("../internals/is-symbol"),a=e("../internals/get-method"),o=e("../internals/ordinary-to-primitive"),c=e("../internals/well-known-symbol"),f=TypeError,h=c("toPrimitive");n.exports=function(d,y){if(!s(d)||u(d))return d;var b,m=a(d,h);if(m){if(y===void 0&&(y="default"),b=i(m,d,y),!s(b)||u(b))return b;throw new f("Can't convert object to primitive value")}return y===void 0&&(y="number"),o(d,y)}},{"../internals/function-call":264,"../internals/get-method":273,"../internals/is-object":289,"../internals/is-symbol":292,"../internals/ordinary-to-primitive":320,"../internals/well-known-symbol":357}],346:[function(e,n,l){var i=e("../internals/to-primitive"),s=e("../internals/is-symbol");n.exports=function(u){var a=i(u,"string");return s(a)?a:a+""}},{"../internals/is-symbol":292,"../internals/to-primitive":345}],347:[function(e,n,l){var i={};i[e("../internals/well-known-symbol")("toStringTag")]="z",n.exports=String(i)==="[object z]"},{"../internals/well-known-symbol":357}],348:[function(e,n,l){var i=e("../internals/classof"),s=String;n.exports=function(u){if(i(u)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return s(u)}},{"../internals/classof":236}],349:[function(e,n,l){var i=String;n.exports=function(s){try{return i(s)}catch{return"Object"}}},{}],350:[function(e,n,l){var i=e("../internals/function-uncurry-this"),s=0,u=Math.random(),a=i(1 .toString);n.exports=function(o){return"Symbol("+(o===void 0?"":o)+")_"+a(++s+u,36)}},{"../internals/function-uncurry-this":268}],351:[function(e,n,l){var i=e("../internals/symbol-constructor-detection");n.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/symbol-constructor-detection":336}],352:[function(e,n,l){var i=e("../internals/descriptors"),s=e("../internals/fails");n.exports=i&&s(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42})},{"../internals/descriptors":247,"../internals/fails":260}],353:[function(e,n,l){var i=TypeError;n.exports=function(s,u){if(s<u)throw new i("Not enough arguments");return s}},{}],354:[function(e,n,l){var i=e("../internals/global"),s=e("../internals/is-callable"),u=i.WeakMap;n.exports=s(u)&&/native code/.test(String(u))},{"../internals/global":274,"../internals/is-callable":285}],355:[function(e,n,l){var i=e("../internals/path"),s=e("../internals/has-own-property"),u=e("../internals/well-known-symbol-wrapped"),a=e("../internals/object-define-property").f;n.exports=function(o){var c=i.Symbol||(i.Symbol={});s(c,o)||a(c,o,{value:u.f(o)})}},{"../internals/has-own-property":275,"../internals/object-define-property":308,"../internals/path":322,"../internals/well-known-symbol-wrapped":356}],356:[function(e,n,l){var i=e("../internals/well-known-symbol");l.f=i},{"../internals/well-known-symbol":357}],357:[function(e,n,l){var i=e("../internals/global"),s=e("../internals/shared"),u=e("../internals/has-own-property"),a=e("../internals/uid"),o=e("../internals/symbol-constructor-detection"),c=e("../internals/use-symbol-as-uid"),f=i.Symbol,h=s("wks"),d=c?f.for||f:f&&f.withoutSetter||a;n.exports=function(y){return u(h,y)||(h[y]=o&&u(f,y)?f[y]:d("Symbol."+y)),h[y]}},{"../internals/global":274,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-constructor-detection":336,"../internals/uid":350,"../internals/use-symbol-as-uid":351}],358:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/array-iteration").findIndex,u=e("../internals/add-to-unscopables"),a=!0;"findIndex"in[]&&Array(1).findIndex(function(){a=!1}),i({target:"Array",proto:!0,forced:a},{findIndex:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}}),u("findIndex")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],359:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/array-iteration").find,u=e("../internals/add-to-unscopables"),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),i({target:"Array",proto:!0,forced:a},{find:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}}),u("find")},{"../internals/add-to-unscopables":225,"../internals/array-iteration":229,"../internals/export":259}],360:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/array-includes").includes,u=e("../internals/fails"),a=e("../internals/add-to-unscopables");i({target:"Array",proto:!0,forced:u(function(){return!Array(1).includes()})},{includes:function(o){return s(this,o,arguments.length>1?arguments[1]:void 0)}}),a("includes")},{"../internals/add-to-unscopables":225,"../internals/array-includes":228,"../internals/export":259,"../internals/fails":260}],361:[function(e,n,l){var i=e("../internals/to-indexed-object"),s=e("../internals/add-to-unscopables"),u=e("../internals/iterators"),a=e("../internals/internal-state"),o=e("../internals/object-define-property").f,c=e("../internals/iterator-define"),f=e("../internals/create-iter-result-object"),h=e("../internals/is-pure"),d=e("../internals/descriptors"),y=a.set,b=a.getterFor("Array Iterator");n.exports=c(Array,"Array",function(g,p){y(this,{type:"Array Iterator",target:i(g),index:0,kind:p})},function(){var g=b(this),p=g.target,v=g.kind,C=g.index++;if(!p||C>=p.length)return g.target=void 0,f(void 0,!0);switch(v){case"keys":return f(C,!1);case"values":return f(p[C],!1)}return f([C,p[C]],!1)},"values");var m=u.Arguments=u.Array;if(s("keys"),s("values"),s("entries"),!h&&d&&m.name!=="values")try{o(m,"name",{value:"values"})}catch{}},{"../internals/add-to-unscopables":225,"../internals/create-iter-result-object":240,"../internals/descriptors":247,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/iterator-define":296,"../internals/iterators":298,"../internals/object-define-property":308,"../internals/to-indexed-object":341}],362:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/get-built-in"),u=e("../internals/function-apply"),a=e("../internals/function-call"),o=e("../internals/function-uncurry-this"),c=e("../internals/fails"),f=e("../internals/is-callable"),h=e("../internals/is-symbol"),d=e("../internals/array-slice"),y=e("../internals/get-json-replacer-function"),b=e("../internals/symbol-constructor-detection"),m=String,g=s("JSON","stringify"),p=o(/./.exec),v=o("".charAt),C=o("".charCodeAt),j=o("".replace),L=o(1 .toString),$=/[\uD800-\uDFFF]/g,M=/^[\uD800-\uDBFF]$/,z=/^[\uDC00-\uDFFF]$/,H=!b||c(function(){var P=s("Symbol")("stringify detection");return g([P])!=="[null]"||g({a:P})!=="{}"||g(Object(P))!=="{}"}),q=c(function(){return g("\uDF06\uD834")!=='"\\udf06\\ud834"'||g("\uDEAD")!=='"\\udead"'}),B=function(P,k){var w=d(arguments),S=y(k);if(f(S)||P!==void 0&&!h(P))return w[1]=function(x,_){if(f(S)&&(_=a(S,this,m(x),_)),!h(_))return _},u(g,null,w)},A=function(P,k,w){var S=v(w,k-1),x=v(w,k+1);return p(M,P)&&!p(z,x)||p(z,P)&&!p(M,S)?"\\u"+L(C(P,0),16):P};g&&i({target:"JSON",stat:!0,arity:3,forced:H||q},{stringify:function(P,k,w){var S=d(arguments),x=u(H?B:g,null,S);return q&&typeof x=="string"?j(x,$,A):x}})},{"../internals/array-slice":231,"../internals/export":259,"../internals/fails":260,"../internals/function-apply":261,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/get-built-in":269,"../internals/get-json-replacer-function":272,"../internals/is-callable":285,"../internals/is-symbol":292,"../internals/symbol-constructor-detection":336}],363:[function(e,n,l){e("../internals/export")({target:"Number",stat:!0},{isNaN:function(i){return i!=i}})},{"../internals/export":259}],364:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/object-assign");i({target:"Object",stat:!0,arity:2,forced:Object.assign!==s},{assign:s})},{"../internals/export":259,"../internals/object-assign":305}],365:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/symbol-constructor-detection"),u=e("../internals/fails"),a=e("../internals/object-get-own-property-symbols"),o=e("../internals/to-object");i({target:"Object",stat:!0,forced:!s||u(function(){a.f(1)})},{getOwnPropertySymbols:function(c){var f=a.f;return f?f(o(c)):[]}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-get-own-property-symbols":312,"../internals/symbol-constructor-detection":336,"../internals/to-object":344}],366:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/to-object"),u=e("../internals/object-keys");i({target:"Object",stat:!0,forced:e("../internals/fails")(function(){u(1)})},{keys:function(a){return u(s(a))}})},{"../internals/export":259,"../internals/fails":260,"../internals/object-keys":316,"../internals/to-object":344}],367:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/object-to-array").values;i({target:"Object",stat:!0},{values:function(u){return s(u)}})},{"../internals/export":259,"../internals/object-to-array":319}],368:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/function-call"),u=e("../internals/a-callable"),a=e("../internals/new-promise-capability"),o=e("../internals/perform"),c=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{all:function(f){var h=this,d=a.f(h),y=d.resolve,b=d.reject,m=o(function(){var g=u(h.resolve),p=[],v=0,C=1;c(f,function(j){var L=v++,$=!1;C++,s(g,h,j).then(function(M){$||($=!0,p[L]=M,--C||y(p))},b)}),--C||y(p)});return m.error&&b(m.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],369:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/is-pure"),u=e("../internals/promise-constructor-detection").CONSTRUCTOR,a=e("../internals/promise-native-constructor"),o=e("../internals/get-built-in"),c=e("../internals/is-callable"),f=e("../internals/define-built-in"),h=a&&a.prototype;if(i({target:"Promise",proto:!0,forced:u,real:!0},{catch:function(y){return this.then(void 0,y)}}),!s&&c(a)){var d=o("Promise").prototype.catch;h.catch!==d&&f(h,"catch",d,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325}],370:[function(e,n,l){var i,s,u,a=e("../internals/export"),o=e("../internals/is-pure"),c=e("../internals/engine-is-node"),f=e("../internals/global"),h=e("../internals/function-call"),d=e("../internals/define-built-in"),y=e("../internals/object-set-prototype-of"),b=e("../internals/set-to-string-tag"),m=e("../internals/set-species"),g=e("../internals/a-callable"),p=e("../internals/is-callable"),v=e("../internals/is-object"),C=e("../internals/an-instance"),j=e("../internals/species-constructor"),L=e("../internals/task").set,$=e("../internals/microtask"),M=e("../internals/host-report-errors"),z=e("../internals/perform"),H=e("../internals/queue"),q=e("../internals/internal-state"),B=e("../internals/promise-native-constructor"),A=e("../internals/promise-constructor-detection"),P=e("../internals/new-promise-capability"),k=A.CONSTRUCTOR,w=A.REJECTION_EVENT,S=A.SUBCLASSING,x=q.getterFor("Promise"),_=q.set,E=B&&B.prototype,D=B,N=E,U=f.TypeError,V=f.document,J=f.process,F=P.f,Y=F,O=!!(V&&V.createEvent&&f.dispatchEvent),T=function(ie){var fe;return!(!v(ie)||!p(fe=ie.then))&&fe},G=function(ie,fe){var be,re,ve,_e=fe.value,Re=fe.state===1,Ge=Re?ie.ok:ie.fail,Ze=ie.resolve,Ye=ie.reject,et=ie.domain;try{Ge?(Re||(fe.rejection===2&&ue(fe),fe.rejection=1),Ge===!0?be=_e:(et&&et.enter(),be=Ge(_e),et&&(et.exit(),ve=!0)),be===ie.promise?Ye(new U("Promise-chain cycle")):(re=T(be))?h(re,be,Ze,Ye):Ze(be)):Ye(_e)}catch(ke){et&&!ve&&et.exit(),Ye(ke)}},Q=function(ie,fe){ie.notified||(ie.notified=!0,$(function(){for(var be,re=ie.reactions;be=re.get();)G(be,ie);ie.notified=!1,fe&&!ie.rejection&&Z(ie)}))},ne=function(ie,fe,be){var re,ve;O?((re=V.createEvent("Event")).promise=fe,re.reason=be,re.initEvent(ie,!1,!0),f.dispatchEvent(re)):re={promise:fe,reason:be},!w&&(ve=f["on"+ie])?ve(re):ie==="unhandledrejection"&&M("Unhandled promise rejection",be)},Z=function(ie){h(L,f,function(){var fe,be=ie.facade,re=ie.value;if(oe(ie)&&(fe=z(function(){c?J.emit("unhandledRejection",re,be):ne("unhandledrejection",be,re)}),ie.rejection=c||oe(ie)?2:1,fe.error))throw fe.value})},oe=function(ie){return ie.rejection!==1&&!ie.parent},ue=function(ie){h(L,f,function(){var fe=ie.facade;c?J.emit("rejectionHandled",fe):ne("rejectionhandled",fe,ie.value)})},te=function(ie,fe,be){return function(re){ie(fe,re,be)}},se=function(ie,fe,be){ie.done||(ie.done=!0,be&&(ie=be),ie.value=fe,ie.state=2,Q(ie,!0))},pe=function(ie,fe,be){if(!ie.done){ie.done=!0,be&&(ie=be);try{if(ie.facade===fe)throw new U("Promise can't be resolved itself");var re=T(fe);re?$(function(){var ve={done:!1};try{h(re,fe,te(pe,ve,ie),te(se,ve,ie))}catch(_e){se(ve,_e,ie)}}):(ie.value=fe,ie.state=1,Q(ie,!1))}catch(ve){se({done:!1},ve,ie)}}};if(k&&(N=(D=function(ie){C(this,N),g(ie),h(i,this);var fe=x(this);try{ie(te(pe,fe),te(se,fe))}catch(be){se(fe,be)}}).prototype,(i=function(ie){_(this,{type:"Promise",done:!1,notified:!1,parent:!1,reactions:new H,rejection:!1,state:0,value:void 0})}).prototype=d(N,"then",function(ie,fe){var be=x(this),re=F(j(this,D));return be.parent=!0,re.ok=!p(ie)||ie,re.fail=p(fe)&&fe,re.domain=c?J.domain:void 0,be.state===0?be.reactions.add(re):$(function(){G(re,be)}),re.promise}),s=function(){var ie=new i,fe=x(ie);this.promise=ie,this.resolve=te(pe,fe),this.reject=te(se,fe)},P.f=F=function(ie){return ie===D||ie===void 0?new s(ie):Y(ie)},!o&&p(B)&&E!==Object.prototype)){u=E.then,S||d(E,"then",function(ie,fe){var be=this;return new D(function(re,ve){h(u,be,re,ve)}).then(ie,fe)},{unsafe:!0});try{delete E.constructor}catch{}y&&y(E,N)}a({global:!0,constructor:!0,wrap:!0,forced:k},{Promise:D}),b(D,"Promise",!1,!0),m("Promise")},{"../internals/a-callable":222,"../internals/an-instance":226,"../internals/define-built-in":245,"../internals/engine-is-node":254,"../internals/export":259,"../internals/function-call":264,"../internals/global":274,"../internals/host-report-errors":277,"../internals/internal-state":282,"../internals/is-callable":285,"../internals/is-object":289,"../internals/is-pure":290,"../internals/microtask":302,"../internals/new-promise-capability":303,"../internals/object-set-prototype-of":318,"../internals/perform":323,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/queue":328,"../internals/set-species":330,"../internals/set-to-string-tag":331,"../internals/species-constructor":335,"../internals/task":339}],371:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/is-pure"),u=e("../internals/promise-native-constructor"),a=e("../internals/fails"),o=e("../internals/get-built-in"),c=e("../internals/is-callable"),f=e("../internals/species-constructor"),h=e("../internals/promise-resolve"),d=e("../internals/define-built-in"),y=u&&u.prototype;if(i({target:"Promise",proto:!0,real:!0,forced:!!u&&a(function(){y.finally.call({then:function(){}},function(){})})},{finally:function(m){var g=f(this,o("Promise")),p=c(m);return this.then(p?function(v){return h(g,m()).then(function(){return v})}:m,p?function(v){return h(g,m()).then(function(){throw v})}:m)}}),!s&&c(u)){var b=o("Promise").prototype.finally;y.finally!==b&&d(y,"finally",b,{unsafe:!0})}},{"../internals/define-built-in":245,"../internals/export":259,"../internals/fails":260,"../internals/get-built-in":269,"../internals/is-callable":285,"../internals/is-pure":290,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326,"../internals/species-constructor":335}],372:[function(e,n,l){e("../modules/es.promise.constructor"),e("../modules/es.promise.all"),e("../modules/es.promise.catch"),e("../modules/es.promise.race"),e("../modules/es.promise.reject"),e("../modules/es.promise.resolve")},{"../modules/es.promise.all":368,"../modules/es.promise.catch":369,"../modules/es.promise.constructor":370,"../modules/es.promise.race":373,"../modules/es.promise.reject":374,"../modules/es.promise.resolve":375}],373:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/function-call"),u=e("../internals/a-callable"),a=e("../internals/new-promise-capability"),o=e("../internals/perform"),c=e("../internals/iterate");i({target:"Promise",stat:!0,forced:e("../internals/promise-statics-incorrect-iteration")},{race:function(f){var h=this,d=a.f(h),y=d.reject,b=o(function(){var m=u(h.resolve);c(f,function(g){s(m,h,g).then(d.resolve,y)})});return b.error&&y(b.value),d.promise}})},{"../internals/a-callable":222,"../internals/export":259,"../internals/function-call":264,"../internals/iterate":293,"../internals/new-promise-capability":303,"../internals/perform":323,"../internals/promise-statics-incorrect-iteration":327}],374:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/function-call"),u=e("../internals/new-promise-capability");i({target:"Promise",stat:!0,forced:e("../internals/promise-constructor-detection").CONSTRUCTOR},{reject:function(a){var o=u.f(this);return s(o.reject,void 0,a),o.promise}})},{"../internals/export":259,"../internals/function-call":264,"../internals/new-promise-capability":303,"../internals/promise-constructor-detection":324}],375:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/get-built-in"),u=e("../internals/is-pure"),a=e("../internals/promise-native-constructor"),o=e("../internals/promise-constructor-detection").CONSTRUCTOR,c=e("../internals/promise-resolve"),f=s("Promise"),h=u&&!o;i({target:"Promise",stat:!0,forced:u||o},{resolve:function(d){return c(h&&this===f?a:this,d)}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/is-pure":290,"../internals/promise-constructor-detection":324,"../internals/promise-native-constructor":325,"../internals/promise-resolve":326}],376:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/function-uncurry-this"),u=e("../internals/to-absolute-index"),a=RangeError,o=String.fromCharCode,c=String.fromCodePoint,f=s([].join);i({target:"String",stat:!0,arity:1,forced:!!c&&c.length!==1},{fromCodePoint:function(h){for(var d,y=[],b=arguments.length,m=0;b>m;){if(d=+arguments[m++],u(d,1114111)!==d)throw new a(d+" is not a valid code point");y[m]=d<65536?o(d):o(55296+((d-=65536)>>10),d%1024+56320)}return f(y,"")}})},{"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/to-absolute-index":340}],377:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/function-uncurry-this"),u=e("../internals/not-a-regexp"),a=e("../internals/require-object-coercible"),o=e("../internals/to-string"),c=e("../internals/correct-is-regexp-logic"),f=s("".indexOf);i({target:"String",proto:!0,forced:!c("includes")},{includes:function(h){return!!~f(o(a(this)),o(u(h)),arguments.length>1?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":238,"../internals/export":259,"../internals/function-uncurry-this":268,"../internals/not-a-regexp":304,"../internals/require-object-coercible":329,"../internals/to-string":348}],378:[function(e,n,l){e("../internals/well-known-symbol-define")("asyncIterator")},{"../internals/well-known-symbol-define":355}],379:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/global"),u=e("../internals/function-call"),a=e("../internals/function-uncurry-this"),o=e("../internals/is-pure"),c=e("../internals/descriptors"),f=e("../internals/symbol-constructor-detection"),h=e("../internals/fails"),d=e("../internals/has-own-property"),y=e("../internals/object-is-prototype-of"),b=e("../internals/an-object"),m=e("../internals/to-indexed-object"),g=e("../internals/to-property-key"),p=e("../internals/to-string"),v=e("../internals/create-property-descriptor"),C=e("../internals/object-create"),j=e("../internals/object-keys"),L=e("../internals/object-get-own-property-names"),$=e("../internals/object-get-own-property-names-external"),M=e("../internals/object-get-own-property-symbols"),z=e("../internals/object-get-own-property-descriptor"),H=e("../internals/object-define-property"),q=e("../internals/object-define-properties"),B=e("../internals/object-property-is-enumerable"),A=e("../internals/define-built-in"),P=e("../internals/define-built-in-accessor"),k=e("../internals/shared"),w=e("../internals/shared-key"),S=e("../internals/hidden-keys"),x=e("../internals/uid"),_=e("../internals/well-known-symbol"),E=e("../internals/well-known-symbol-wrapped"),D=e("../internals/well-known-symbol-define"),N=e("../internals/symbol-define-to-primitive"),U=e("../internals/set-to-string-tag"),V=e("../internals/internal-state"),J=e("../internals/array-iteration").forEach,F=w("hidden"),Y=V.set,O=V.getterFor("Symbol"),T=Object.prototype,G=s.Symbol,Q=G&&G.prototype,ne=s.RangeError,Z=s.TypeError,oe=s.QObject,ue=z.f,te=H.f,se=$.f,pe=B.f,ie=a([].push),fe=k("symbols"),be=k("op-symbols"),re=k("wks"),ve=!oe||!oe.prototype||!oe.prototype.findChild,_e=function(Le,Ve,He){var ot=ue(T,Ve);ot&&delete T[Ve],te(Le,Ve,He),ot&&Le!==T&&te(T,Ve,ot)},Re=c&&h(function(){return C(te({},"a",{get:function(){return te(this,"a",{value:7}).a}})).a!==7})?_e:te,Ge=function(Le,Ve){var He=fe[Le]=C(Q);return Y(He,{type:"Symbol",tag:Le,description:Ve}),c||(He.description=Ve),He},Ze=function(Le,Ve,He){Le===T&&Ze(be,Ve,He),b(Le);var ot=g(Ve);return b(He),d(fe,ot)?(He.enumerable?(d(Le,F)&&Le[F][ot]&&(Le[F][ot]=!1),He=C(He,{enumerable:v(0,!1)})):(d(Le,F)||te(Le,F,v(1,{})),Le[F][ot]=!0),Re(Le,ot,He)):te(Le,ot,He)},Ye=function(Le,Ve){b(Le);var He=m(Ve),ot=j(He).concat(Ue(He));return J(ot,function(ct){c&&!u(et,He,ct)||Ze(Le,ct,He[ct])}),Le},et=function(Le){var Ve=g(Le),He=u(pe,this,Ve);return!(this===T&&d(fe,Ve)&&!d(be,Ve))&&(!(He||!d(this,Ve)||!d(fe,Ve)||d(this,F)&&this[F][Ve])||He)},ke=function(Le,Ve){var He=m(Le),ot=g(Ve);if(He!==T||!d(fe,ot)||d(be,ot)){var ct=ue(He,ot);return!ct||!d(fe,ot)||d(He,F)&&He[F][ot]||(ct.enumerable=!0),ct}},je=function(Le){var Ve=se(m(Le)),He=[];return J(Ve,function(ot){d(fe,ot)||d(S,ot)||ie(He,ot)}),He},Ue=function(Le){var Ve=Le===T,He=se(Ve?be:m(Le)),ot=[];return J(He,function(ct){!d(fe,ct)||Ve&&!d(T,ct)||ie(ot,fe[ct])}),ot};f||(A(Q=(G=function(){if(y(Q,this))throw new Z("Symbol is not a constructor");var Le=arguments.length&&arguments[0]!==void 0?p(arguments[0]):void 0,Ve=x(Le),He=function(ot){this===T&&u(He,be,ot),d(this,F)&&d(this[F],Ve)&&(this[F][Ve]=!1);var ct=v(1,ot);try{Re(this,Ve,ct)}catch(bt){if(!(bt instanceof ne))throw bt;_e(this,Ve,ct)}};return c&&ve&&Re(T,Ve,{configurable:!0,set:He}),Ge(Ve,Le)}).prototype,"toString",function(){return O(this).tag}),A(G,"withoutSetter",function(Le){return Ge(x(Le),Le)}),B.f=et,H.f=Ze,q.f=Ye,z.f=ke,L.f=$.f=je,M.f=Ue,E.f=function(Le){return Ge(_(Le),Le)},c&&(P(Q,"description",{configurable:!0,get:function(){return O(this).description}}),o||A(T,"propertyIsEnumerable",et,{unsafe:!0}))),i({global:!0,constructor:!0,wrap:!0,forced:!f,sham:!f},{Symbol:G}),J(j(re),function(Le){D(Le)}),i({target:"Symbol",stat:!0,forced:!f},{useSetter:function(){ve=!0},useSimple:function(){ve=!1}}),i({target:"Object",stat:!0,forced:!f,sham:!c},{create:function(Le,Ve){return Ve===void 0?C(Le):Ye(C(Le),Ve)},defineProperty:Ze,defineProperties:Ye,getOwnPropertyDescriptor:ke}),i({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:je}),N(),U(G,"Symbol"),S[F]=!0},{"../internals/an-object":227,"../internals/array-iteration":229,"../internals/create-property-descriptor":242,"../internals/define-built-in":245,"../internals/define-built-in-accessor":244,"../internals/descriptors":247,"../internals/export":259,"../internals/fails":260,"../internals/function-call":264,"../internals/function-uncurry-this":268,"../internals/global":274,"../internals/has-own-property":275,"../internals/hidden-keys":276,"../internals/internal-state":282,"../internals/is-pure":290,"../internals/object-create":306,"../internals/object-define-properties":307,"../internals/object-define-property":308,"../internals/object-get-own-property-descriptor":309,"../internals/object-get-own-property-names":311,"../internals/object-get-own-property-names-external":310,"../internals/object-get-own-property-symbols":312,"../internals/object-is-prototype-of":314,"../internals/object-keys":316,"../internals/object-property-is-enumerable":317,"../internals/set-to-string-tag":331,"../internals/shared":334,"../internals/shared-key":332,"../internals/symbol-constructor-detection":336,"../internals/symbol-define-to-primitive":337,"../internals/to-indexed-object":341,"../internals/to-property-key":346,"../internals/to-string":348,"../internals/uid":350,"../internals/well-known-symbol":357,"../internals/well-known-symbol-define":355,"../internals/well-known-symbol-wrapped":356}],380:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/get-built-in"),u=e("../internals/has-own-property"),a=e("../internals/to-string"),o=e("../internals/shared"),c=e("../internals/symbol-registry-detection"),f=o("string-to-symbol-registry"),h=o("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{for:function(d){var y=a(d);if(u(f,y))return f[y];var b=s("Symbol")(y);return f[y]=b,h[b]=y,b}})},{"../internals/export":259,"../internals/get-built-in":269,"../internals/has-own-property":275,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/to-string":348}],381:[function(e,n,l){e("../modules/es.symbol.constructor"),e("../modules/es.symbol.for"),e("../modules/es.symbol.key-for"),e("../modules/es.json.stringify"),e("../modules/es.object.get-own-property-symbols")},{"../modules/es.json.stringify":362,"../modules/es.object.get-own-property-symbols":365,"../modules/es.symbol.constructor":379,"../modules/es.symbol.for":380,"../modules/es.symbol.key-for":382}],382:[function(e,n,l){var i=e("../internals/export"),s=e("../internals/has-own-property"),u=e("../internals/is-symbol"),a=e("../internals/try-to-string"),o=e("../internals/shared"),c=e("../internals/symbol-registry-detection"),f=o("symbol-to-string-registry");i({target:"Symbol",stat:!0,forced:!c},{keyFor:function(h){if(!u(h))throw new TypeError(a(h)+" is not a symbol");if(s(f,h))return f[h]}})},{"../internals/export":259,"../internals/has-own-property":275,"../internals/is-symbol":292,"../internals/shared":334,"../internals/symbol-registry-detection":338,"../internals/try-to-string":349}],383:[function(e,n,l){function i(s){return Object.prototype.toString.call(s)}l.isArray=function(s){return Array.isArray?Array.isArray(s):i(s)==="[object Array]"},l.isBoolean=function(s){return typeof s=="boolean"},l.isNull=function(s){return s===null},l.isNullOrUndefined=function(s){return s==null},l.isNumber=function(s){return typeof s=="number"},l.isString=function(s){return typeof s=="string"},l.isSymbol=function(s){return typeof s=="symbol"},l.isUndefined=function(s){return s===void 0},l.isRegExp=function(s){return i(s)==="[object RegExp]"},l.isObject=function(s){return typeof s=="object"&&s!==null},l.isDate=function(s){return i(s)==="[object Date]"},l.isError=function(s){return i(s)==="[object Error]"||s instanceof Error},l.isFunction=function(s){return typeof s=="function"},l.isPrimitive=function(s){return s===null||typeof s=="boolean"||typeof s=="number"||typeof s=="string"||typeof s=="symbol"||s===void 0},l.isBuffer=e("buffer").Buffer.isBuffer},{buffer:220}],384:[function(e,n,l){(function(i){(function(){var s=e("elliptic"),u=e("bn.js");n.exports=function(f){return new o(f)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};function o(f){this.curveType=a[f],this.curveType||(this.curveType={name:f}),this.curve=new s.ec(this.curveType.name),this.keys=void 0}function c(f,h,d){Array.isArray(f)||(f=f.toArray());var y=new i(f);if(d&&y.length<d){var b=new i(d-y.length);b.fill(0),y=i.concat([b,y])}return h?y.toString(h):y}a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,o.prototype.generateKeys=function(f,h){return this.keys=this.curve.genKeyPair(),this.getPublicKey(f,h)},o.prototype.computeSecret=function(f,h,d){return h=h||"utf8",i.isBuffer(f)||(f=new i(f,h)),c(this.curve.keyFromPublic(f).getPublic().mul(this.keys.getPrivate()).getX(),d,this.curveType.byteLength)},o.prototype.getPublicKey=function(f,h){var d=this.keys.getPublic(h==="compressed",!0);return h==="hybrid"&&(d[d.length-1]%2?d[0]=7:d[0]=6),c(d,f)},o.prototype.getPrivateKey=function(f){return c(this.keys.getPrivate(),f)},o.prototype.setPublicKey=function(f,h){return h=h||"utf8",i.isBuffer(f)||(f=new i(f,h)),this.keys._importPublic(f),this},o.prototype.setPrivateKey=function(f,h){h=h||"utf8",i.isBuffer(f)||(f=new i(f,h));var d=new u(f);return d=d.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(d),this}}).call(this)}).call(this,e("buffer").Buffer)},{"bn.js":385,buffer:220,elliptic:405}],385:[function(e,n,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],386:[function(e,n,l){var i=e("inherits"),s=e("md5.js"),u=e("ripemd160"),a=e("sha.js"),o=e("cipher-base");function c(f){o.call(this,"digest"),this._hash=f}i(c,o),c.prototype._update=function(f){this._hash.update(f)},c.prototype._final=function(){return this._hash.digest()},n.exports=function(f){return(f=f.toLowerCase())==="md5"?new s:f==="rmd160"||f==="ripemd160"?new u:new c(a(f))}},{"cipher-base":221,inherits:440,"md5.js":450,ripemd160:493,"sha.js":498}],387:[function(e,n,l){var i=e("md5.js");n.exports=function(s){return new i().update(s).digest()}},{"md5.js":450}],388:[function(e,n,l){var i=e("inherits"),s=e("./legacy"),u=e("cipher-base"),a=e("safe-buffer").Buffer,o=e("create-hash/md5"),c=e("ripemd160"),f=e("sha.js"),h=a.alloc(128);function d(y,b){u.call(this,"digest"),typeof b=="string"&&(b=a.from(b));var m=y==="sha512"||y==="sha384"?128:64;this._alg=y,this._key=b,b.length>m?b=(y==="rmd160"?new c:f(y)).update(b).digest():b.length<m&&(b=a.concat([b,h],m));for(var g=this._ipad=a.allocUnsafe(m),p=this._opad=a.allocUnsafe(m),v=0;v<m;v++)g[v]=54^b[v],p[v]=92^b[v];this._hash=y==="rmd160"?new c:f(y),this._hash.update(g)}i(d,u),d.prototype._update=function(y){this._hash.update(y)},d.prototype._final=function(){var y=this._hash.digest();return(this._alg==="rmd160"?new c:f(this._alg)).update(this._opad).update(y).digest()},n.exports=function(y,b){return(y=y.toLowerCase())==="rmd160"||y==="ripemd160"?new d("rmd160",b):y==="md5"?new s(o,b):new d(y,b)}},{"./legacy":389,"cipher-base":221,"create-hash/md5":387,inherits:440,ripemd160:493,"safe-buffer":494,"sha.js":498}],389:[function(e,n,l){var i=e("inherits"),s=e("safe-buffer").Buffer,u=e("cipher-base"),a=s.alloc(128);function o(c,f){u.call(this,"digest"),typeof f=="string"&&(f=s.from(f)),this._alg=c,this._key=f,f.length>64?f=c(f):f.length<64&&(f=s.concat([f,a],64));for(var h=this._ipad=s.allocUnsafe(64),d=this._opad=s.allocUnsafe(64),y=0;y<64;y++)h[y]=54^f[y],d[y]=92^f[y];this._hash=[h]}i(o,u),o.prototype._update=function(c){this._hash.push(c)},o.prototype._final=function(){var c=this._alg(s.concat(this._hash));return this._alg(s.concat([this._opad,c]))},n.exports=o},{"cipher-base":221,inherits:440,"safe-buffer":494}],390:[function(e,n,l){l.randomBytes=l.rng=l.pseudoRandomBytes=l.prng=e("randombytes"),l.createHash=l.Hash=e("create-hash"),l.createHmac=l.Hmac=e("create-hmac");var i=e("browserify-sign/algos"),s=Object.keys(i),u=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(s);l.getHashes=function(){return u};var a=e("pbkdf2");l.pbkdf2=a.pbkdf2,l.pbkdf2Sync=a.pbkdf2Sync;var o=e("browserify-cipher");l.Cipher=o.Cipher,l.createCipher=o.createCipher,l.Cipheriv=o.Cipheriv,l.createCipheriv=o.createCipheriv,l.Decipher=o.Decipher,l.createDecipher=o.createDecipher,l.Decipheriv=o.Decipheriv,l.createDecipheriv=o.createDecipheriv,l.getCiphers=o.getCiphers,l.listCiphers=o.listCiphers;var c=e("diffie-hellman");l.DiffieHellmanGroup=c.DiffieHellmanGroup,l.createDiffieHellmanGroup=c.createDiffieHellmanGroup,l.getDiffieHellman=c.getDiffieHellman,l.createDiffieHellman=c.createDiffieHellman,l.DiffieHellman=c.DiffieHellman;var f=e("browserify-sign");l.createSign=f.createSign,l.Sign=f.Sign,l.createVerify=f.createVerify,l.Verify=f.Verify,l.createECDH=e("create-ecdh");var h=e("public-encrypt");l.publicEncrypt=h.publicEncrypt,l.privateEncrypt=h.privateEncrypt,l.publicDecrypt=h.publicDecrypt,l.privateDecrypt=h.privateDecrypt;var d=e("randomfill");l.randomFill=d.randomFill,l.randomFillSync=d.randomFillSync,l.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join(`
`))},l.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},{"browserify-cipher":206,"browserify-sign":213,"browserify-sign/algos":210,"create-ecdh":384,"create-hash":386,"create-hmac":388,"diffie-hellman":400,pbkdf2:460,"public-encrypt":468,randombytes:475,randomfill:476}],391:[function(e,n,l){(function(i,s){typeof l=="object"&&n!==void 0?n.exports=s():(i=typeof globalThis<"u"?globalThis:i||self).dayjs=s()})(void 0,function(){var i=6e4,s=36e5,u="millisecond",a="second",o="minute",c="hour",f="day",h="week",d="month",y="quarter",b="year",m="date",g="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,C={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(w){var S=["th","st","nd","rd"],x=w%100;return"["+w+(S[(x-20)%10]||S[x]||S[0])+"]"}},j=function(w,S,x){var _=String(w);return!_||_.length>=S?w:""+Array(S+1-_.length).join(x)+w},L={s:j,z:function(w){var S=-w.utcOffset(),x=Math.abs(S),_=Math.floor(x/60),E=x%60;return(S<=0?"+":"-")+j(_,2,"0")+":"+j(E,2,"0")},m:function w(S,x){if(S.date()<x.date())return-w(x,S);var _=12*(x.year()-S.year())+(x.month()-S.month()),E=S.clone().add(_,d),D=x-E<0,N=S.clone().add(_+(D?-1:1),d);return+(-(_+(x-E)/(D?E-N:N-E))||0)},a:function(w){return w<0?Math.ceil(w)||0:Math.floor(w)},p:function(w){return{M:d,y:b,w:h,d:f,D:m,h:c,m:o,s:a,ms:u,Q:y}[w]||String(w||"").toLowerCase().replace(/s$/,"")},u:function(w){return w===void 0}},$="en",M={};M[$]=C;var z="$isDayjsObject",H=function(w){return w instanceof P||!(!w||!w[z])},q=function w(S,x,_){var E;if(!S)return $;if(typeof S=="string"){var D=S.toLowerCase();M[D]&&(E=D),x&&(M[D]=x,E=D);var N=S.split("-");if(!E&&N.length>1)return w(N[0])}else{var U=S.name;M[U]=S,E=U}return!_&&E&&($=E),E||!_&&$},B=function(w,S){if(H(w))return w.clone();var x=typeof S=="object"?S:{};return x.date=w,x.args=arguments,new P(x)},A=L;A.l=q,A.i=H,A.w=function(w,S){return B(w,{locale:S.$L,utc:S.$u,x:S.$x,$offset:S.$offset})};var P=function(){function w(x){this.$L=q(x.locale,null,!0),this.parse(x),this.$x=this.$x||x.x||{},this[z]=!0}var S=w.prototype;return S.parse=function(x){this.$d=function(_){var E=_.date,D=_.utc;if(E===null)return new Date(NaN);if(A.u(E))return new Date;if(E instanceof Date)return new Date(E);if(typeof E=="string"&&!/Z$/i.test(E)){var N=E.match(p);if(N){var U=N[2]-1||0,V=(N[7]||"0").substring(0,3);return D?new Date(Date.UTC(N[1],U,N[3]||1,N[4]||0,N[5]||0,N[6]||0,V)):new Date(N[1],U,N[3]||1,N[4]||0,N[5]||0,N[6]||0,V)}}return new Date(E)}(x),this.init()},S.init=function(){var x=this.$d;this.$y=x.getFullYear(),this.$M=x.getMonth(),this.$D=x.getDate(),this.$W=x.getDay(),this.$H=x.getHours(),this.$m=x.getMinutes(),this.$s=x.getSeconds(),this.$ms=x.getMilliseconds()},S.$utils=function(){return A},S.isValid=function(){return this.$d.toString()!==g},S.isSame=function(x,_){var E=B(x);return this.startOf(_)<=E&&E<=this.endOf(_)},S.isAfter=function(x,_){return B(x)<this.startOf(_)},S.isBefore=function(x,_){return this.endOf(_)<B(x)},S.$g=function(x,_,E){return A.u(x)?this[_]:this.set(E,x)},S.unix=function(){return Math.floor(this.valueOf()/1e3)},S.valueOf=function(){return this.$d.getTime()},S.startOf=function(x,_){var E=this,D=!!A.u(_)||_,N=A.p(x),U=function(Q,ne){var Z=A.w(E.$u?Date.UTC(E.$y,ne,Q):new Date(E.$y,ne,Q),E);return D?Z:Z.endOf(f)},V=function(Q,ne){return A.w(E.toDate()[Q].apply(E.toDate("s"),(D?[0,0,0,0]:[23,59,59,999]).slice(ne)),E)},J=this.$W,F=this.$M,Y=this.$D,O="set"+(this.$u?"UTC":"");switch(N){case b:return D?U(1,0):U(31,11);case d:return D?U(1,F):U(0,F+1);case h:var T=this.$locale().weekStart||0,G=(J<T?J+7:J)-T;return U(D?Y-G:Y+(6-G),F);case f:case m:return V(O+"Hours",0);case c:return V(O+"Minutes",1);case o:return V(O+"Seconds",2);case a:return V(O+"Milliseconds",3);default:return this.clone()}},S.endOf=function(x){return this.startOf(x,!1)},S.$set=function(x,_){var E,D=A.p(x),N="set"+(this.$u?"UTC":""),U=(E={},E[f]=N+"Date",E[m]=N+"Date",E[d]=N+"Month",E[b]=N+"FullYear",E[c]=N+"Hours",E[o]=N+"Minutes",E[a]=N+"Seconds",E[u]=N+"Milliseconds",E)[D],V=D===f?this.$D+(_-this.$W):_;if(D===d||D===b){var J=this.clone().set(m,1);J.$d[U](V),J.init(),this.$d=J.set(m,Math.min(this.$D,J.daysInMonth())).$d}else U&&this.$d[U](V);return this.init(),this},S.set=function(x,_){return this.clone().$set(x,_)},S.get=function(x){return this[A.p(x)]()},S.add=function(x,_){var E,D=this;x=Number(x);var N=A.p(_),U=function(F){var Y=B(D);return A.w(Y.date(Y.date()+Math.round(F*x)),D)};if(N===d)return this.set(d,this.$M+x);if(N===b)return this.set(b,this.$y+x);if(N===f)return U(1);if(N===h)return U(7);var V=(E={},E[o]=i,E[c]=s,E[a]=1e3,E)[N]||1,J=this.$d.getTime()+x*V;return A.w(J,this)},S.subtract=function(x,_){return this.add(-1*x,_)},S.format=function(x){var _=this,E=this.$locale();if(!this.isValid())return E.invalidDate||g;var D=x||"YYYY-MM-DDTHH:mm:ssZ",N=A.z(this),U=this.$H,V=this.$m,J=this.$M,F=E.weekdays,Y=E.months,O=E.meridiem,T=function(ne,Z,oe,ue){return ne&&(ne[Z]||ne(_,D))||oe[Z].slice(0,ue)},G=function(ne){return A.s(U%12||12,ne,"0")},Q=O||function(ne,Z,oe){var ue=ne<12?"AM":"PM";return oe?ue.toLowerCase():ue};return D.replace(v,function(ne,Z){return Z||function(oe){switch(oe){case"YY":return String(_.$y).slice(-2);case"YYYY":return A.s(_.$y,4,"0");case"M":return J+1;case"MM":return A.s(J+1,2,"0");case"MMM":return T(E.monthsShort,J,Y,3);case"MMMM":return T(Y,J);case"D":return _.$D;case"DD":return A.s(_.$D,2,"0");case"d":return String(_.$W);case"dd":return T(E.weekdaysMin,_.$W,F,2);case"ddd":return T(E.weekdaysShort,_.$W,F,3);case"dddd":return F[_.$W];case"H":return String(U);case"HH":return A.s(U,2,"0");case"h":return G(1);case"hh":return G(2);case"a":return Q(U,V,!0);case"A":return Q(U,V,!1);case"m":return String(V);case"mm":return A.s(V,2,"0");case"s":return String(_.$s);case"ss":return A.s(_.$s,2,"0");case"SSS":return A.s(_.$ms,3,"0");case"Z":return N}return null}(ne)||N.replace(":","")})},S.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},S.diff=function(x,_,E){var D,N=this,U=A.p(_),V=B(x),J=(V.utcOffset()-this.utcOffset())*i,F=this-V,Y=function(){return A.m(N,V)};switch(U){case b:D=Y()/12;break;case d:D=Y();break;case y:D=Y()/3;break;case h:D=(F-J)/6048e5;break;case f:D=(F-J)/864e5;break;case c:D=F/s;break;case o:D=F/i;break;case a:D=F/1e3;break;default:D=F}return E?D:A.a(D)},S.daysInMonth=function(){return this.endOf(d).$D},S.$locale=function(){return M[this.$L]},S.locale=function(x,_){if(!x)return this.$L;var E=this.clone(),D=q(x,_,!0);return D&&(E.$L=D),E},S.clone=function(){return A.w(this.$d,this)},S.toDate=function(){return new Date(this.valueOf())},S.toJSON=function(){return this.isValid()?this.toISOString():null},S.toISOString=function(){return this.$d.toISOString()},S.toString=function(){return this.$d.toUTCString()},w}(),k=P.prototype;return B.prototype=k,[["$ms",u],["$s",a],["$m",o],["$H",c],["$W",f],["$M",d],["$y",b],["$D",m]].forEach(function(w){k[w[1]]=function(S){return this.$g(S,w[0],w[1])}}),B.extend=function(w,S){return w.$i||(w(S,P,B),w.$i=!0),B},B.locale=q,B.isDayjs=H,B.unix=function(w){return B(1e3*w)},B.en=M[$],B.Ls=M,B.p={},B})},{}],392:[function(e,n,l){(function(i,s){typeof l=="object"&&n!==void 0?n.exports=s():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_customParseFormat=s()})(void 0,function(){var i={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},s=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,u=/\d\d/,a=/\d\d?/,o=/\d*[^-_:/,()\s\d]+/,c={},f=function(p){return(p=+p)+(p>68?1900:2e3)},h=function(p){return function(v){this[p]=+v}},d=[/[+-]\d\d:?(\d\d)?|Z/,function(p){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var C=v.match(/([+-]|\d\d)/g),j=60*C[1]+(+C[2]||0);return j===0?0:C[0]==="+"?-j:j}(p)}],y=function(p){var v=c[p];return v&&(v.indexOf?v:v.s.concat(v.f))},b=function(p,v){var C,j=c.meridiem;if(j){for(var L=1;L<=24;L+=1)if(p.indexOf(j(L,0,v))>-1){C=L>12;break}}else C=p===(v?"pm":"PM");return C},m={A:[o,function(p){this.afternoon=b(p,!1)}],a:[o,function(p){this.afternoon=b(p,!0)}],S:[/\d/,function(p){this.milliseconds=100*+p}],SS:[u,function(p){this.milliseconds=10*+p}],SSS:[/\d{3}/,function(p){this.milliseconds=+p}],s:[a,h("seconds")],ss:[a,h("seconds")],m:[a,h("minutes")],mm:[a,h("minutes")],H:[a,h("hours")],h:[a,h("hours")],HH:[a,h("hours")],hh:[a,h("hours")],D:[a,h("day")],DD:[u,h("day")],Do:[o,function(p){var v=c.ordinal,C=p.match(/\d+/);if(this.day=C[0],v)for(var j=1;j<=31;j+=1)v(j).replace(/\[|\]/g,"")===p&&(this.day=j)}],M:[a,h("month")],MM:[u,h("month")],MMM:[o,function(p){var v=y("months"),C=(y("monthsShort")||v.map(function(j){return j.slice(0,3)})).indexOf(p)+1;if(C<1)throw new Error;this.month=C%12||C}],MMMM:[o,function(p){var v=y("months").indexOf(p)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,h("year")],YY:[u,function(p){this.year=f(p)}],YYYY:[/\d{4}/,h("year")],Z:d,ZZ:d};function g(p){var v,C;v=p,C=c&&c.formats;for(var j=(p=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(B,A,P){var k=P&&P.toUpperCase();return A||C[P]||i[P]||C[k].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(w,S,x){return S||x.slice(1)})})).match(s),L=j.length,$=0;$<L;$+=1){var M=j[$],z=m[M],H=z&&z[0],q=z&&z[1];j[$]=q?{regex:H,parser:q}:M.replace(/^\[|\]$/g,"")}return function(B){for(var A={},P=0,k=0;P<L;P+=1){var w=j[P];if(typeof w=="string")k+=w.length;else{var S=w.regex,x=w.parser,_=B.slice(k),E=S.exec(_)[0];x.call(A,E),B=B.replace(E,"")}}return function(D){var N=D.afternoon;if(N!==void 0){var U=D.hours;N?U<12&&(D.hours+=12):U===12&&(D.hours=0),delete D.afternoon}}(A),A}}return function(p,v,C){C.p.customParseFormat=!0,p&&p.parseTwoDigitYear&&(f=p.parseTwoDigitYear);var j=v.prototype,L=j.parse;j.parse=function($){var M=$.date,z=$.utc,H=$.args;this.$u=z;var q=H[1];if(typeof q=="string"){var B=H[2]===!0,A=H[3]===!0,P=B||A,k=H[2];A&&(k=H[2]),c=this.$locale(),!B&&k&&(c=C.Ls[k]),this.$d=function(_,E,D){try{if(["x","X"].indexOf(E)>-1)return new Date((E==="X"?1e3:1)*_);var N=g(E)(_),U=N.year,V=N.month,J=N.day,F=N.hours,Y=N.minutes,O=N.seconds,T=N.milliseconds,G=N.zone,Q=new Date,ne=J||(U||V?1:Q.getDate()),Z=U||Q.getFullYear(),oe=0;U&&!V||(oe=V>0?V-1:Q.getMonth());var ue=F||0,te=Y||0,se=O||0,pe=T||0;return G?new Date(Date.UTC(Z,oe,ne,ue,te,se,pe+60*G.offset*1e3)):D?new Date(Date.UTC(Z,oe,ne,ue,te,se,pe)):new Date(Z,oe,ne,ue,te,se,pe)}catch{return new Date("")}}(M,q,z),this.init(),k&&k!==!0&&(this.$L=this.locale(k).$L),P&&M!=this.format(q)&&(this.$d=new Date("")),c={}}else if(q instanceof Array)for(var w=q.length,S=1;S<=w;S+=1){H[1]=q[S-1];var x=C.apply(this,H);if(x.isValid()){this.$d=x.$d,this.$L=x.$L,this.init();break}S===w&&(this.$d=new Date(""))}else L.call(this,$)}}})},{}],393:[function(e,n,l){(function(i,s){typeof l=="object"&&n!==void 0?n.exports=s():(i=typeof globalThis<"u"?globalThis:i||self).dayjs_plugin_utc=s()})(void 0,function(){var i="minute",s=/[+-]\d\d(?::?\d\d)?/g,u=/([+-]|\d\d)/g;return function(a,o,c){var f=o.prototype;c.utc=function(p){var v={date:p,utc:!0,args:arguments};return new o(v)},f.utc=function(p){var v=c(this.toDate(),{locale:this.$L,utc:!0});return p?v.add(this.utcOffset(),i):v},f.local=function(){return c(this.toDate(),{locale:this.$L,utc:!1})};var h=f.parse;f.parse=function(p){p.utc&&(this.$u=!0),this.$utils().u(p.$offset)||(this.$offset=p.$offset),h.call(this,p)};var d=f.init;f.init=function(){if(this.$u){var p=this.$d;this.$y=p.getUTCFullYear(),this.$M=p.getUTCMonth(),this.$D=p.getUTCDate(),this.$W=p.getUTCDay(),this.$H=p.getUTCHours(),this.$m=p.getUTCMinutes(),this.$s=p.getUTCSeconds(),this.$ms=p.getUTCMilliseconds()}else d.call(this)};var y=f.utcOffset;f.utcOffset=function(p,v){var C=this.$utils().u;if(C(p))return this.$u?0:C(this.$offset)?y.call(this):this.$offset;if(typeof p=="string"&&(p=function(M){M===void 0&&(M="");var z=M.match(s);if(!z)return null;var H=(""+z[0]).match(u)||["-",0,0],q=H[0],B=60*+H[1]+ +H[2];return B===0?0:q==="+"?B:-B}(p))===null)return this;var j=Math.abs(p)<=16?60*p:p,L=this;if(v)return L.$offset=j,L.$u=p===0,L;if(p!==0){var $=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(L=this.local().add(j+$,i)).$offset=j,L.$x.$localOffset=$}else L=this.utc();return L};var b=f.format;f.format=function(p){var v=p||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return b.call(this,v)},f.valueOf=function(){var p=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*p},f.isUTC=function(){return!!this.$u},f.toISOString=function(){return this.toDate().toISOString()},f.toString=function(){return this.toDate().toUTCString()};var m=f.toDate;f.toDate=function(p){return p==="s"&&this.$offset?c(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():m.call(this)};var g=f.diff;f.diff=function(p,v,C){if(p&&this.$u===p.$u)return g.call(this,p,v,C);var j=this.local(),L=c(p).local();return g.call(j,L,v,C)}}})},{}],394:[function(e,n,l){l.utils=e("./des/utils"),l.Cipher=e("./des/cipher"),l.DES=e("./des/des"),l.CBC=e("./des/cbc"),l.EDE=e("./des/ede")},{"./des/cbc":395,"./des/cipher":396,"./des/des":397,"./des/ede":398,"./des/utils":399}],395:[function(e,n,l){var i=e("minimalistic-assert"),s=e("inherits"),u={};function a(o){i.equal(o.length,8,"Invalid IV length"),this.iv=new Array(8);for(var c=0;c<this.iv.length;c++)this.iv[c]=o[c]}l.instantiate=function(o){function c(y){o.call(this,y),this._cbcInit()}s(c,o);for(var f=Object.keys(u),h=0;h<f.length;h++){var d=f[h];c.prototype[d]=u[d]}return c.create=function(y){return new c(y)},c},u._cbcInit=function(){var o=new a(this.options.iv);this._cbcState=o},u._update=function(o,c,f,h){var d=this._cbcState,y=this.constructor.super_.prototype,b=d.iv;if(this.type==="encrypt"){for(var m=0;m<this.blockSize;m++)b[m]^=o[c+m];for(y._update.call(this,b,0,f,h),m=0;m<this.blockSize;m++)b[m]=f[h+m]}else{for(y._update.call(this,o,c,f,h),m=0;m<this.blockSize;m++)f[h+m]^=b[m];for(m=0;m<this.blockSize;m++)b[m]=o[c+m]}}},{inherits:440,"minimalistic-assert":453}],396:[function(e,n,l){var i=e("minimalistic-assert");function s(u){this.options=u,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=u.padding!==!1}n.exports=s,s.prototype._init=function(){},s.prototype.update=function(u){return u.length===0?[]:this.type==="decrypt"?this._updateDecrypt(u):this._updateEncrypt(u)},s.prototype._buffer=function(u,a){for(var o=Math.min(this.buffer.length-this.bufferOff,u.length-a),c=0;c<o;c++)this.buffer[this.bufferOff+c]=u[a+c];return this.bufferOff+=o,o},s.prototype._flushBuffer=function(u,a){return this._update(this.buffer,0,u,a),this.bufferOff=0,this.blockSize},s.prototype._updateEncrypt=function(u){var a=0,o=0,c=(this.bufferOff+u.length)/this.blockSize|0,f=new Array(c*this.blockSize);this.bufferOff!==0&&(a+=this._buffer(u,a),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(f,o)));for(var h=u.length-(u.length-a)%this.blockSize;a<h;a+=this.blockSize)this._update(u,a,f,o),o+=this.blockSize;for(;a<u.length;a++,this.bufferOff++)this.buffer[this.bufferOff]=u[a];return f},s.prototype._updateDecrypt=function(u){for(var a=0,o=0,c=Math.ceil((this.bufferOff+u.length)/this.blockSize)-1,f=new Array(c*this.blockSize);c>0;c--)a+=this._buffer(u,a),o+=this._flushBuffer(f,o);return a+=this._buffer(u,a),f},s.prototype.final=function(u){var a,o;return u&&(a=this.update(u)),o=this.type==="encrypt"?this._finalEncrypt():this._finalDecrypt(),a?a.concat(o):o},s.prototype._pad=function(u,a){if(a===0)return!1;for(;a<u.length;)u[a++]=0;return!0},s.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var u=new Array(this.blockSize);return this._update(this.buffer,0,u,0),u},s.prototype._unpad=function(u){return u},s.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var u=new Array(this.blockSize);return this._flushBuffer(u,0),this._unpad(u)}},{"minimalistic-assert":453}],397:[function(e,n,l){var i=e("minimalistic-assert"),s=e("inherits"),u=e("./utils"),a=e("./cipher");function o(){this.tmp=new Array(2),this.keys=null}function c(h){a.call(this,h);var d=new o;this._desState=d,this.deriveKeys(d,h.key)}s(c,a),n.exports=c,c.create=function(h){return new c(h)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];c.prototype.deriveKeys=function(h,d){h.keys=new Array(32),i.equal(d.length,this.blockSize,"Invalid key length");var y=u.readUInt32BE(d,0),b=u.readUInt32BE(d,4);u.pc1(y,b,h.tmp,0),y=h.tmp[0],b=h.tmp[1];for(var m=0;m<h.keys.length;m+=2){var g=f[m>>>1];y=u.r28shl(y,g),b=u.r28shl(b,g),u.pc2(y,b,h.keys,m)}},c.prototype._update=function(h,d,y,b){var m=this._desState,g=u.readUInt32BE(h,d),p=u.readUInt32BE(h,d+4);u.ip(g,p,m.tmp,0),g=m.tmp[0],p=m.tmp[1],this.type==="encrypt"?this._encrypt(m,g,p,m.tmp,0):this._decrypt(m,g,p,m.tmp,0),g=m.tmp[0],p=m.tmp[1],u.writeUInt32BE(y,g,b),u.writeUInt32BE(y,p,b+4)},c.prototype._pad=function(h,d){if(this.padding===!1)return!1;for(var y=h.length-d,b=d;b<h.length;b++)h[b]=y;return!0},c.prototype._unpad=function(h){if(this.padding===!1)return h;for(var d=h[h.length-1],y=h.length-d;y<h.length;y++)i.equal(h[y],d);return h.slice(0,h.length-d)},c.prototype._encrypt=function(h,d,y,b,m){for(var g=d,p=y,v=0;v<h.keys.length;v+=2){var C=h.keys[v],j=h.keys[v+1];u.expand(p,h.tmp,0),C^=h.tmp[0],j^=h.tmp[1];var L=u.substitute(C,j),$=p;p=(g^u.permute(L))>>>0,g=$}u.rip(p,g,b,m)},c.prototype._decrypt=function(h,d,y,b,m){for(var g=y,p=d,v=h.keys.length-2;v>=0;v-=2){var C=h.keys[v],j=h.keys[v+1];u.expand(g,h.tmp,0),C^=h.tmp[0],j^=h.tmp[1];var L=u.substitute(C,j),$=g;g=(p^u.permute(L))>>>0,p=$}u.rip(g,p,b,m)}},{"./cipher":396,"./utils":399,inherits:440,"minimalistic-assert":453}],398:[function(e,n,l){var i=e("minimalistic-assert"),s=e("inherits"),u=e("./cipher"),a=e("./des");function o(f,h){i.equal(h.length,24,"Invalid key length");var d=h.slice(0,8),y=h.slice(8,16),b=h.slice(16,24);this.ciphers=f==="encrypt"?[a.create({type:"encrypt",key:d}),a.create({type:"decrypt",key:y}),a.create({type:"encrypt",key:b})]:[a.create({type:"decrypt",key:b}),a.create({type:"encrypt",key:y}),a.create({type:"decrypt",key:d})]}function c(f){u.call(this,f);var h=new o(this.type,this.options.key);this._edeState=h}s(c,u),n.exports=c,c.create=function(f){return new c(f)},c.prototype._update=function(f,h,d,y){var b=this._edeState;b.ciphers[0]._update(f,h,d,y),b.ciphers[1]._update(d,y,d,y),b.ciphers[2]._update(d,y,d,y)},c.prototype._pad=a.prototype._pad,c.prototype._unpad=a.prototype._unpad},{"./cipher":396,"./des":397,inherits:440,"minimalistic-assert":453}],399:[function(e,n,l){l.readUInt32BE=function(a,o){return(a[0+o]<<24|a[1+o]<<16|a[2+o]<<8|a[3+o])>>>0},l.writeUInt32BE=function(a,o,c){a[0+c]=o>>>24,a[1+c]=o>>>16&255,a[2+c]=o>>>8&255,a[3+c]=255&o},l.ip=function(a,o,c,f){for(var h=0,d=0,y=6;y>=0;y-=2){for(var b=0;b<=24;b+=8)h<<=1,h|=o>>>b+y&1;for(b=0;b<=24;b+=8)h<<=1,h|=a>>>b+y&1}for(y=6;y>=0;y-=2){for(b=1;b<=25;b+=8)d<<=1,d|=o>>>b+y&1;for(b=1;b<=25;b+=8)d<<=1,d|=a>>>b+y&1}c[f+0]=h>>>0,c[f+1]=d>>>0},l.rip=function(a,o,c,f){for(var h=0,d=0,y=0;y<4;y++)for(var b=24;b>=0;b-=8)h<<=1,h|=o>>>b+y&1,h<<=1,h|=a>>>b+y&1;for(y=4;y<8;y++)for(b=24;b>=0;b-=8)d<<=1,d|=o>>>b+y&1,d<<=1,d|=a>>>b+y&1;c[f+0]=h>>>0,c[f+1]=d>>>0},l.pc1=function(a,o,c,f){for(var h=0,d=0,y=7;y>=5;y--){for(var b=0;b<=24;b+=8)h<<=1,h|=o>>b+y&1;for(b=0;b<=24;b+=8)h<<=1,h|=a>>b+y&1}for(b=0;b<=24;b+=8)h<<=1,h|=o>>b+y&1;for(y=1;y<=3;y++){for(b=0;b<=24;b+=8)d<<=1,d|=o>>b+y&1;for(b=0;b<=24;b+=8)d<<=1,d|=a>>b+y&1}for(b=0;b<=24;b+=8)d<<=1,d|=a>>b+y&1;c[f+0]=h>>>0,c[f+1]=d>>>0},l.r28shl=function(a,o){return a<<o&268435455|a>>>28-o};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];l.pc2=function(a,o,c,f){for(var h=0,d=0,y=i.length>>>1,b=0;b<y;b++)h<<=1,h|=a>>>i[b]&1;for(b=y;b<i.length;b++)d<<=1,d|=o>>>i[b]&1;c[f+0]=h>>>0,c[f+1]=d>>>0},l.expand=function(a,o,c){var f=0,h=0;f=(1&a)<<5|a>>>27;for(var d=23;d>=15;d-=4)f<<=6,f|=a>>>d&63;for(d=11;d>=3;d-=4)h|=a>>>d&63,h<<=6;h|=(31&a)<<1|a>>>31,o[c+0]=f>>>0,o[c+1]=h>>>0};var s=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];l.substitute=function(a,o){for(var c=0,f=0;f<4;f++)c<<=4,c|=s[64*f+(a>>>18-6*f&63)];for(f=0;f<4;f++)c<<=4,c|=s[256+64*f+(o>>>18-6*f&63)];return c>>>0};var u=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];l.permute=function(a){for(var o=0,c=0;c<u.length;c++)o<<=1,o|=a>>>u[c]&1;return o>>>0},l.padSplit=function(a,o,c){for(var f=a.toString(2);f.length<o;)f="0"+f;for(var h=[],d=0;d<o;d+=c)h.push(f.slice(d,d+c));return h.join(" ")}},{}],400:[function(e,n,l){(function(i){(function(){var s=e("./lib/generatePrime"),u=e("./lib/primes.json"),a=e("./lib/dh"),o={binary:!0,hex:!0,base64:!0};l.DiffieHellmanGroup=l.createDiffieHellmanGroup=l.getDiffieHellman=function(c){var f=new i(u[c].prime,"hex"),h=new i(u[c].gen,"hex");return new a(f,h)},l.createDiffieHellman=l.DiffieHellman=function c(f,h,d,y){return i.isBuffer(h)||o[h]===void 0?c(f,"binary",h,d):(h=h||"binary",y=y||"binary",d=d||new i([2]),i.isBuffer(d)||(d=new i(d,y)),typeof f=="number"?new a(s(f,d),d,!0):(i.isBuffer(f)||(f=new i(f,h)),new a(f,d,!0)))}}).call(this)}).call(this,e("buffer").Buffer)},{"./lib/dh":401,"./lib/generatePrime":402,"./lib/primes.json":403,buffer:220}],401:[function(e,n,l){(function(i){(function(){var s=e("bn.js"),u=new(e("miller-rabin")),a=new s(24),o=new s(11),c=new s(10),f=new s(3),h=new s(7),d=e("./generatePrime"),y=e("randombytes");function b(C,j){return j=j||"utf8",i.isBuffer(C)||(C=new i(C,j)),this._pub=new s(C),this}function m(C,j){return j=j||"utf8",i.isBuffer(C)||(C=new i(C,j)),this._priv=new s(C),this}n.exports=p;var g={};function p(C,j,L){this.setGenerator(j),this.__prime=new s(C),this._prime=s.mont(this.__prime),this._primeLen=C.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,L?(this.setPublicKey=b,this.setPrivateKey=m):this._primeCode=8}function v(C,j){var L=new i(C.toArray());return j?L.toString(j):L}Object.defineProperty(p.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=function(C,j){var L=j.toString("hex"),$=[L,C.toString(16)].join("_");if($ in g)return g[$];var M,z=0;if(C.isEven()||!d.simpleSieve||!d.fermatTest(C)||!u.test(C))return z+=1,z+=L==="02"||L==="05"?8:4,g[$]=z,z;switch(u.test(C.shrn(1))||(z+=2),L){case"02":C.mod(a).cmp(o)&&(z+=8);break;case"05":(M=C.mod(c)).cmp(f)&&M.cmp(h)&&(z+=8);break;default:z+=4}return g[$]=z,z}(this.__prime,this.__gen)),this._primeCode}}),p.prototype.generateKeys=function(){return this._priv||(this._priv=new s(y(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},p.prototype.computeSecret=function(C){var j=(C=(C=new s(C)).toRed(this._prime)).redPow(this._priv).fromRed(),L=new i(j.toArray()),$=this.getPrime();if(L.length<$.length){var M=new i($.length-L.length);M.fill(0),L=i.concat([M,L])}return L},p.prototype.getPublicKey=function(C){return v(this._pub,C)},p.prototype.getPrivateKey=function(C){return v(this._priv,C)},p.prototype.getPrime=function(C){return v(this.__prime,C)},p.prototype.getGenerator=function(C){return v(this._gen,C)},p.prototype.setGenerator=function(C,j){return j=j||"utf8",i.isBuffer(C)||(C=new i(C,j)),this.__gen=C,this._gen=new s(C),this}}).call(this)}).call(this,e("buffer").Buffer)},{"./generatePrime":402,"bn.js":404,buffer:220,"miller-rabin":451,randombytes:475}],402:[function(e,n,l){var i=e("randombytes");n.exports=C,C.simpleSieve=p,C.fermatTest=v;var s=e("bn.js"),u=new s(24),a=new(e("miller-rabin")),o=new s(1),c=new s(2),f=new s(5),h=(new s(16),new s(8),new s(10)),d=new s(3),y=(new s(7),new s(11)),b=new s(4),m=(new s(12),null);function g(){if(m!==null)return m;var j=[];j[0]=2;for(var L=1,$=3;$<1048576;$+=2){for(var M=Math.ceil(Math.sqrt($)),z=0;z<L&&j[z]<=M&&$%j[z]!=0;z++);L!==z&&j[z]<=M||(j[L++]=$)}return m=j,j}function p(j){for(var L=g(),$=0;$<L.length;$++)if(j.modn(L[$])===0)return j.cmpn(L[$])===0;return!0}function v(j){var L=s.mont(j);return c.toRed(L).redPow(j.subn(1)).fromRed().cmpn(1)===0}function C(j,L){if(j<16)return new s(L===2||L===5?[140,123]:[140,39]);var $,M;for(L=new s(L);;){for($=new s(i(Math.ceil(j/8)));$.bitLength()>j;)$.ishrn(1);if($.isEven()&&$.iadd(o),$.testn(1)||$.iadd(c),L.cmp(c)){if(!L.cmp(f))for(;$.mod(h).cmp(d);)$.iadd(b)}else for(;$.mod(u).cmp(y);)$.iadd(b);if(p(M=$.shrn(1))&&p($)&&v(M)&&v($)&&a.test(M)&&a.test($))return $}}},{"bn.js":404,"miller-rabin":451,randombytes:475}],403:[function(e,n,l){n.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],404:[function(e,n,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],405:[function(e,n,l){var i=l;i.version=e("../package.json").version,i.utils=e("./elliptic/utils"),i.rand=e("brorand"),i.curve=e("./elliptic/curve"),i.curves=e("./elliptic/curves"),i.ec=e("./elliptic/ec"),i.eddsa=e("./elliptic/eddsa")},{"../package.json":421,"./elliptic/curve":408,"./elliptic/curves":411,"./elliptic/ec":412,"./elliptic/eddsa":415,"./elliptic/utils":419,brorand:187}],406:[function(e,n,l){var i=e("bn.js"),s=e("../utils"),u=s.getNAF,a=s.getJSF,o=s.assert;function c(h,d){this.type=h,this.p=new i(d.p,16),this.red=d.prime?i.red(d.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=d.n&&new i(d.n,16),this.g=d.g&&this.pointFromJSON(d.g,d.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var y=this.n&&this.p.div(this.n);!y||y.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function f(h,d){this.curve=h,this.type=d,this.precomputed=null}n.exports=c,c.prototype.point=function(){throw new Error("Not implemented")},c.prototype.validate=function(){throw new Error("Not implemented")},c.prototype._fixedNafMul=function(h,d){o(h.precomputed);var y=h._getDoubles(),b=u(d,1,this._bitLength),m=(1<<y.step+1)-(y.step%2==0?2:1);m/=3;var g,p,v=[];for(g=0;g<b.length;g+=y.step){p=0;for(var C=g+y.step-1;C>=g;C--)p=(p<<1)+b[C];v.push(p)}for(var j=this.jpoint(null,null,null),L=this.jpoint(null,null,null),$=m;$>0;$--){for(g=0;g<v.length;g++)(p=v[g])===$?L=L.mixedAdd(y.points[g]):p===-$&&(L=L.mixedAdd(y.points[g].neg()));j=j.add(L)}return j.toP()},c.prototype._wnafMul=function(h,d){var y=4,b=h._getNAFPoints(y);y=b.wnd;for(var m=b.points,g=u(d,y,this._bitLength),p=this.jpoint(null,null,null),v=g.length-1;v>=0;v--){for(var C=0;v>=0&&g[v]===0;v--)C++;if(v>=0&&C++,p=p.dblp(C),v<0)break;var j=g[v];o(j!==0),p=h.type==="affine"?j>0?p.mixedAdd(m[j-1>>1]):p.mixedAdd(m[-j-1>>1].neg()):j>0?p.add(m[j-1>>1]):p.add(m[-j-1>>1].neg())}return h.type==="affine"?p.toP():p},c.prototype._wnafMulAdd=function(h,d,y,b,m){var g,p,v,C=this._wnafT1,j=this._wnafT2,L=this._wnafT3,$=0;for(g=0;g<b;g++){var M=(v=d[g])._getNAFPoints(h);C[g]=M.wnd,j[g]=M.points}for(g=b-1;g>=1;g-=2){var z=g-1,H=g;if(C[z]===1&&C[H]===1){var q=[d[z],null,null,d[H]];d[z].y.cmp(d[H].y)===0?(q[1]=d[z].add(d[H]),q[2]=d[z].toJ().mixedAdd(d[H].neg())):d[z].y.cmp(d[H].y.redNeg())===0?(q[1]=d[z].toJ().mixedAdd(d[H]),q[2]=d[z].add(d[H].neg())):(q[1]=d[z].toJ().mixedAdd(d[H]),q[2]=d[z].toJ().mixedAdd(d[H].neg()));var B=[-3,-1,-5,-7,0,7,5,1,3],A=a(y[z],y[H]);for($=Math.max(A[0].length,$),L[z]=new Array($),L[H]=new Array($),p=0;p<$;p++){var P=0|A[0][p],k=0|A[1][p];L[z][p]=B[3*(P+1)+(k+1)],L[H][p]=0,j[z]=q}}else L[z]=u(y[z],C[z],this._bitLength),L[H]=u(y[H],C[H],this._bitLength),$=Math.max(L[z].length,$),$=Math.max(L[H].length,$)}var w=this.jpoint(null,null,null),S=this._wnafT4;for(g=$;g>=0;g--){for(var x=0;g>=0;){var _=!0;for(p=0;p<b;p++)S[p]=0|L[p][g],S[p]!==0&&(_=!1);if(!_)break;x++,g--}if(g>=0&&x++,w=w.dblp(x),g<0)break;for(p=0;p<b;p++){var E=S[p];E!==0&&(E>0?v=j[p][E-1>>1]:E<0&&(v=j[p][-E-1>>1].neg()),w=v.type==="affine"?w.mixedAdd(v):w.add(v))}}for(g=0;g<b;g++)j[g]=null;return m?w:w.toP()},c.BasePoint=f,f.prototype.eq=function(){throw new Error("Not implemented")},f.prototype.validate=function(){return this.curve.validate(this)},c.prototype.decodePoint=function(h,d){h=s.toArray(h,d);var y=this.p.byteLength();if((h[0]===4||h[0]===6||h[0]===7)&&h.length-1==2*y)return h[0]===6?o(h[h.length-1]%2==0):h[0]===7&&o(h[h.length-1]%2==1),this.point(h.slice(1,1+y),h.slice(1+y,1+2*y));if((h[0]===2||h[0]===3)&&h.length-1===y)return this.pointFromX(h.slice(1,1+y),h[0]===3);throw new Error("Unknown point format")},f.prototype.encodeCompressed=function(h){return this.encode(h,!0)},f.prototype._encode=function(h){var d=this.curve.p.byteLength(),y=this.getX().toArray("be",d);return h?[this.getY().isEven()?2:3].concat(y):[4].concat(y,this.getY().toArray("be",d))},f.prototype.encode=function(h,d){return s.encode(this._encode(d),h)},f.prototype.precompute=function(h){if(this.precomputed)return this;var d={doubles:null,naf:null,beta:null};return d.naf=this._getNAFPoints(8),d.doubles=this._getDoubles(4,h),d.beta=this._getBeta(),this.precomputed=d,this},f.prototype._hasDoubles=function(h){if(!this.precomputed)return!1;var d=this.precomputed.doubles;return!!d&&d.points.length>=Math.ceil((h.bitLength()+1)/d.step)},f.prototype._getDoubles=function(h,d){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var y=[this],b=this,m=0;m<d;m+=h){for(var g=0;g<h;g++)b=b.dbl();y.push(b)}return{step:h,points:y}},f.prototype._getNAFPoints=function(h){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var d=[this],y=(1<<h)-1,b=y===1?null:this.dbl(),m=1;m<y;m++)d[m]=d[m-1].add(b);return{wnd:h,points:d}},f.prototype._getBeta=function(){return null},f.prototype.dblp=function(h){for(var d=this,y=0;y<h;y++)d=d.dbl();return d}},{"../utils":419,"bn.js":420}],407:[function(e,n,l){var i=e("../utils"),s=e("bn.js"),u=e("inherits"),a=e("./base"),o=i.assert;function c(h){this.twisted=(0|h.a)!=1,this.mOneA=this.twisted&&(0|h.a)==-1,this.extended=this.mOneA,a.call(this,"edwards",h),this.a=new s(h.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(h.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(h.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),o(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(0|h.c)==1}function f(h,d,y,b,m){a.BasePoint.call(this,h,"projective"),d===null&&y===null&&b===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(d,16),this.y=new s(y,16),this.z=b?new s(b,16):this.curve.one,this.t=m&&new s(m,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}u(c,a),n.exports=c,c.prototype._mulA=function(h){return this.mOneA?h.redNeg():this.a.redMul(h)},c.prototype._mulC=function(h){return this.oneC?h:this.c.redMul(h)},c.prototype.jpoint=function(h,d,y,b){return this.point(h,d,y,b)},c.prototype.pointFromX=function(h,d){(h=new s(h,16)).red||(h=h.toRed(this.red));var y=h.redSqr(),b=this.c2.redSub(this.a.redMul(y)),m=this.one.redSub(this.c2.redMul(this.d).redMul(y)),g=b.redMul(m.redInvm()),p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var v=p.fromRed().isOdd();return(d&&!v||!d&&v)&&(p=p.redNeg()),this.point(h,p)},c.prototype.pointFromY=function(h,d){(h=new s(h,16)).red||(h=h.toRed(this.red));var y=h.redSqr(),b=y.redSub(this.c2),m=y.redMul(this.d).redMul(this.c2).redSub(this.a),g=b.redMul(m.redInvm());if(g.cmp(this.zero)===0){if(d)throw new Error("invalid point");return this.point(this.zero,h)}var p=g.redSqrt();if(p.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");return p.fromRed().isOdd()!==d&&(p=p.redNeg()),this.point(p,h)},c.prototype.validate=function(h){if(h.isInfinity())return!0;h.normalize();var d=h.x.redSqr(),y=h.y.redSqr(),b=d.redMul(this.a).redAdd(y),m=this.c2.redMul(this.one.redAdd(this.d.redMul(d).redMul(y)));return b.cmp(m)===0},u(f,a.BasePoint),c.prototype.pointFromJSON=function(h){return f.fromJSON(this,h)},c.prototype.point=function(h,d,y,b){return new f(this,h,d,y,b)},f.fromJSON=function(h,d){return new f(h,d[0],d[1],d[2])},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},f.prototype._extDbl=function(){var h=this.x.redSqr(),d=this.y.redSqr(),y=this.z.redSqr();y=y.redIAdd(y);var b=this.curve._mulA(h),m=this.x.redAdd(this.y).redSqr().redISub(h).redISub(d),g=b.redAdd(d),p=g.redSub(y),v=b.redSub(d),C=m.redMul(p),j=g.redMul(v),L=m.redMul(v),$=p.redMul(g);return this.curve.point(C,j,$,L)},f.prototype._projDbl=function(){var h,d,y,b,m,g,p=this.x.redAdd(this.y).redSqr(),v=this.x.redSqr(),C=this.y.redSqr();if(this.curve.twisted){var j=(b=this.curve._mulA(v)).redAdd(C);this.zOne?(h=p.redSub(v).redSub(C).redMul(j.redSub(this.curve.two)),d=j.redMul(b.redSub(C)),y=j.redSqr().redSub(j).redSub(j)):(m=this.z.redSqr(),g=j.redSub(m).redISub(m),h=p.redSub(v).redISub(C).redMul(g),d=j.redMul(b.redSub(C)),y=j.redMul(g))}else b=v.redAdd(C),m=this.curve._mulC(this.z).redSqr(),g=b.redSub(m).redSub(m),h=this.curve._mulC(p.redISub(b)).redMul(g),d=this.curve._mulC(b).redMul(v.redISub(C)),y=b.redMul(g);return this.curve.point(h,d,y)},f.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},f.prototype._extAdd=function(h){var d=this.y.redSub(this.x).redMul(h.y.redSub(h.x)),y=this.y.redAdd(this.x).redMul(h.y.redAdd(h.x)),b=this.t.redMul(this.curve.dd).redMul(h.t),m=this.z.redMul(h.z.redAdd(h.z)),g=y.redSub(d),p=m.redSub(b),v=m.redAdd(b),C=y.redAdd(d),j=g.redMul(p),L=v.redMul(C),$=g.redMul(C),M=p.redMul(v);return this.curve.point(j,L,M,$)},f.prototype._projAdd=function(h){var d,y,b=this.z.redMul(h.z),m=b.redSqr(),g=this.x.redMul(h.x),p=this.y.redMul(h.y),v=this.curve.d.redMul(g).redMul(p),C=m.redSub(v),j=m.redAdd(v),L=this.x.redAdd(this.y).redMul(h.x.redAdd(h.y)).redISub(g).redISub(p),$=b.redMul(C).redMul(L);return this.curve.twisted?(d=b.redMul(j).redMul(p.redSub(this.curve._mulA(g))),y=C.redMul(j)):(d=b.redMul(j).redMul(p.redSub(g)),y=this.curve._mulC(C).redMul(j)),this.curve.point($,d,y)},f.prototype.add=function(h){return this.isInfinity()?h:h.isInfinity()?this:this.curve.extended?this._extAdd(h):this._projAdd(h)},f.prototype.mul=function(h){return this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve._wnafMul(this,h)},f.prototype.mulAdd=function(h,d,y){return this.curve._wnafMulAdd(1,[this,d],[h,y],2,!1)},f.prototype.jmulAdd=function(h,d,y){return this.curve._wnafMulAdd(1,[this,d],[h,y],2,!0)},f.prototype.normalize=function(){if(this.zOne)return this;var h=this.z.redInvm();return this.x=this.x.redMul(h),this.y=this.y.redMul(h),this.t&&(this.t=this.t.redMul(h)),this.z=this.curve.one,this.zOne=!0,this},f.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},f.prototype.getX=function(){return this.normalize(),this.x.fromRed()},f.prototype.getY=function(){return this.normalize(),this.y.fromRed()},f.prototype.eq=function(h){return this===h||this.getX().cmp(h.getX())===0&&this.getY().cmp(h.getY())===0},f.prototype.eqXToP=function(h){var d=h.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(d)===0)return!0;for(var y=h.clone(),b=this.curve.redN.redMul(this.z);;){if(y.iadd(this.curve.n),y.cmp(this.curve.p)>=0)return!1;if(d.redIAdd(b),this.x.cmp(d)===0)return!0}},f.prototype.toP=f.prototype.normalize,f.prototype.mixedAdd=f.prototype.add},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],408:[function(e,n,l){var i=l;i.base=e("./base"),i.short=e("./short"),i.mont=e("./mont"),i.edwards=e("./edwards")},{"./base":406,"./edwards":407,"./mont":409,"./short":410}],409:[function(e,n,l){var i=e("bn.js"),s=e("inherits"),u=e("./base"),a=e("../utils");function o(f){u.call(this,"mont",f),this.a=new i(f.a,16).toRed(this.red),this.b=new i(f.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function c(f,h,d){u.BasePoint.call(this,f,"projective"),h===null&&d===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(h,16),this.z=new i(d,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}s(o,u),n.exports=o,o.prototype.validate=function(f){var h=f.normalize().x,d=h.redSqr(),y=d.redMul(h).redAdd(d.redMul(this.a)).redAdd(h);return y.redSqrt().redSqr().cmp(y)===0},s(c,u.BasePoint),o.prototype.decodePoint=function(f,h){return this.point(a.toArray(f,h),1)},o.prototype.point=function(f,h){return new c(this,f,h)},o.prototype.pointFromJSON=function(f){return c.fromJSON(this,f)},c.prototype.precompute=function(){},c.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},c.fromJSON=function(f,h){return new c(f,h[0],h[1]||f.one)},c.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},c.prototype.dbl=function(){var f=this.x.redAdd(this.z).redSqr(),h=this.x.redSub(this.z).redSqr(),d=f.redSub(h),y=f.redMul(h),b=d.redMul(h.redAdd(this.curve.a24.redMul(d)));return this.curve.point(y,b)},c.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.diffAdd=function(f,h){var d=this.x.redAdd(this.z),y=this.x.redSub(this.z),b=f.x.redAdd(f.z),m=f.x.redSub(f.z).redMul(d),g=b.redMul(y),p=h.z.redMul(m.redAdd(g).redSqr()),v=h.x.redMul(m.redISub(g).redSqr());return this.curve.point(p,v)},c.prototype.mul=function(f){for(var h=f.clone(),d=this,y=this.curve.point(null,null),b=[];h.cmpn(0)!==0;h.iushrn(1))b.push(h.andln(1));for(var m=b.length-1;m>=0;m--)b[m]===0?(d=d.diffAdd(y,this),y=y.dbl()):(y=d.diffAdd(y,this),d=d.dbl());return y},c.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},c.prototype.eq=function(f){return this.getX().cmp(f.getX())===0},c.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},c.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],410:[function(e,n,l){var i=e("../utils"),s=e("bn.js"),u=e("inherits"),a=e("./base"),o=i.assert;function c(d){a.call(this,"short",d),this.a=new s(d.a,16).toRed(this.red),this.b=new s(d.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(d),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function f(d,y,b,m){a.BasePoint.call(this,d,"affine"),y===null&&b===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new s(y,16),this.y=new s(b,16),m&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function h(d,y,b,m){a.BasePoint.call(this,d,"jacobian"),y===null&&b===null&&m===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new s(0)):(this.x=new s(y,16),this.y=new s(b,16),this.z=new s(m,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}u(c,a),n.exports=c,c.prototype._getEndomorphism=function(d){if(this.zeroA&&this.g&&this.n&&this.p.modn(3)===1){var y,b;if(d.beta)y=new s(d.beta,16).toRed(this.red);else{var m=this._getEndoRoots(this.p);y=(y=m[0].cmp(m[1])<0?m[0]:m[1]).toRed(this.red)}if(d.lambda)b=new s(d.lambda,16);else{var g=this._getEndoRoots(this.n);this.g.mul(g[0]).x.cmp(this.g.x.redMul(y))===0?b=g[0]:(b=g[1],o(this.g.mul(b).x.cmp(this.g.x.redMul(y))===0))}return{beta:y,lambda:b,basis:d.basis?d.basis.map(function(p){return{a:new s(p.a,16),b:new s(p.b,16)}}):this._getEndoBasis(b)}}},c.prototype._getEndoRoots=function(d){var y=d===this.p?this.red:s.mont(d),b=new s(2).toRed(y).redInvm(),m=b.redNeg(),g=new s(3).toRed(y).redNeg().redSqrt().redMul(b);return[m.redAdd(g).fromRed(),m.redSub(g).fromRed()]},c.prototype._getEndoBasis=function(d){for(var y,b,m,g,p,v,C,j,L,$=this.n.ushrn(Math.floor(this.n.bitLength()/2)),M=d,z=this.n.clone(),H=new s(1),q=new s(0),B=new s(0),A=new s(1),P=0;M.cmpn(0)!==0;){var k=z.div(M);j=z.sub(k.mul(M)),L=B.sub(k.mul(H));var w=A.sub(k.mul(q));if(!m&&j.cmp($)<0)y=C.neg(),b=H,m=j.neg(),g=L;else if(m&&++P==2)break;C=j,z=M,M=j,B=H,H=L,A=q,q=w}p=j.neg(),v=L;var S=m.sqr().add(g.sqr());return p.sqr().add(v.sqr()).cmp(S)>=0&&(p=y,v=b),m.negative&&(m=m.neg(),g=g.neg()),p.negative&&(p=p.neg(),v=v.neg()),[{a:m,b:g},{a:p,b:v}]},c.prototype._endoSplit=function(d){var y=this.endo.basis,b=y[0],m=y[1],g=m.b.mul(d).divRound(this.n),p=b.b.neg().mul(d).divRound(this.n),v=g.mul(b.a),C=p.mul(m.a),j=g.mul(b.b),L=p.mul(m.b);return{k1:d.sub(v).sub(C),k2:j.add(L).neg()}},c.prototype.pointFromX=function(d,y){(d=new s(d,16)).red||(d=d.toRed(this.red));var b=d.redSqr().redMul(d).redIAdd(d.redMul(this.a)).redIAdd(this.b),m=b.redSqrt();if(m.redSqr().redSub(b).cmp(this.zero)!==0)throw new Error("invalid point");var g=m.fromRed().isOdd();return(y&&!g||!y&&g)&&(m=m.redNeg()),this.point(d,m)},c.prototype.validate=function(d){if(d.inf)return!0;var y=d.x,b=d.y,m=this.a.redMul(y),g=y.redSqr().redMul(y).redIAdd(m).redIAdd(this.b);return b.redSqr().redISub(g).cmpn(0)===0},c.prototype._endoWnafMulAdd=function(d,y,b){for(var m=this._endoWnafT1,g=this._endoWnafT2,p=0;p<d.length;p++){var v=this._endoSplit(y[p]),C=d[p],j=C._getBeta();v.k1.negative&&(v.k1.ineg(),C=C.neg(!0)),v.k2.negative&&(v.k2.ineg(),j=j.neg(!0)),m[2*p]=C,m[2*p+1]=j,g[2*p]=v.k1,g[2*p+1]=v.k2}for(var L=this._wnafMulAdd(1,m,g,2*p,b),$=0;$<2*p;$++)m[$]=null,g[$]=null;return L},u(f,a.BasePoint),c.prototype.point=function(d,y,b){return new f(this,d,y,b)},c.prototype.pointFromJSON=function(d,y){return f.fromJSON(this,d,y)},f.prototype._getBeta=function(){if(this.curve.endo){var d=this.precomputed;if(d&&d.beta)return d.beta;var y=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(d){var b=this.curve,m=function(g){return b.point(g.x.redMul(b.endo.beta),g.y)};d.beta=y,y.precomputed={beta:null,naf:d.naf&&{wnd:d.naf.wnd,points:d.naf.points.map(m)},doubles:d.doubles&&{step:d.doubles.step,points:d.doubles.points.map(m)}}}return y}},f.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},f.fromJSON=function(d,y,b){typeof y=="string"&&(y=JSON.parse(y));var m=d.point(y[0],y[1],b);if(!y[2])return m;function g(v){return d.point(v[0],v[1],b)}var p=y[2];return m.precomputed={beta:null,doubles:p.doubles&&{step:p.doubles.step,points:[m].concat(p.doubles.points.map(g))},naf:p.naf&&{wnd:p.naf.wnd,points:[m].concat(p.naf.points.map(g))}},m},f.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},f.prototype.isInfinity=function(){return this.inf},f.prototype.add=function(d){if(this.inf)return d;if(d.inf)return this;if(this.eq(d))return this.dbl();if(this.neg().eq(d))return this.curve.point(null,null);if(this.x.cmp(d.x)===0)return this.curve.point(null,null);var y=this.y.redSub(d.y);y.cmpn(0)!==0&&(y=y.redMul(this.x.redSub(d.x).redInvm()));var b=y.redSqr().redISub(this.x).redISub(d.x),m=y.redMul(this.x.redSub(b)).redISub(this.y);return this.curve.point(b,m)},f.prototype.dbl=function(){if(this.inf)return this;var d=this.y.redAdd(this.y);if(d.cmpn(0)===0)return this.curve.point(null,null);var y=this.curve.a,b=this.x.redSqr(),m=d.redInvm(),g=b.redAdd(b).redIAdd(b).redIAdd(y).redMul(m),p=g.redSqr().redISub(this.x.redAdd(this.x)),v=g.redMul(this.x.redSub(p)).redISub(this.y);return this.curve.point(p,v)},f.prototype.getX=function(){return this.x.fromRed()},f.prototype.getY=function(){return this.y.fromRed()},f.prototype.mul=function(d){return d=new s(d,16),this.isInfinity()?this:this._hasDoubles(d)?this.curve._fixedNafMul(this,d):this.curve.endo?this.curve._endoWnafMulAdd([this],[d]):this.curve._wnafMul(this,d)},f.prototype.mulAdd=function(d,y,b){var m=[this,y],g=[d,b];return this.curve.endo?this.curve._endoWnafMulAdd(m,g):this.curve._wnafMulAdd(1,m,g,2)},f.prototype.jmulAdd=function(d,y,b){var m=[this,y],g=[d,b];return this.curve.endo?this.curve._endoWnafMulAdd(m,g,!0):this.curve._wnafMulAdd(1,m,g,2,!0)},f.prototype.eq=function(d){return this===d||this.inf===d.inf&&(this.inf||this.x.cmp(d.x)===0&&this.y.cmp(d.y)===0)},f.prototype.neg=function(d){if(this.inf)return this;var y=this.curve.point(this.x,this.y.redNeg());if(d&&this.precomputed){var b=this.precomputed,m=function(g){return g.neg()};y.precomputed={naf:b.naf&&{wnd:b.naf.wnd,points:b.naf.points.map(m)},doubles:b.doubles&&{step:b.doubles.step,points:b.doubles.points.map(m)}}}return y},f.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},u(h,a.BasePoint),c.prototype.jpoint=function(d,y,b){return new h(this,d,y,b)},h.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var d=this.z.redInvm(),y=d.redSqr(),b=this.x.redMul(y),m=this.y.redMul(y).redMul(d);return this.curve.point(b,m)},h.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},h.prototype.add=function(d){if(this.isInfinity())return d;if(d.isInfinity())return this;var y=d.z.redSqr(),b=this.z.redSqr(),m=this.x.redMul(y),g=d.x.redMul(b),p=this.y.redMul(y.redMul(d.z)),v=d.y.redMul(b.redMul(this.z)),C=m.redSub(g),j=p.redSub(v);if(C.cmpn(0)===0)return j.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var L=C.redSqr(),$=L.redMul(C),M=m.redMul(L),z=j.redSqr().redIAdd($).redISub(M).redISub(M),H=j.redMul(M.redISub(z)).redISub(p.redMul($)),q=this.z.redMul(d.z).redMul(C);return this.curve.jpoint(z,H,q)},h.prototype.mixedAdd=function(d){if(this.isInfinity())return d.toJ();if(d.isInfinity())return this;var y=this.z.redSqr(),b=this.x,m=d.x.redMul(y),g=this.y,p=d.y.redMul(y).redMul(this.z),v=b.redSub(m),C=g.redSub(p);if(v.cmpn(0)===0)return C.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var j=v.redSqr(),L=j.redMul(v),$=b.redMul(j),M=C.redSqr().redIAdd(L).redISub($).redISub($),z=C.redMul($.redISub(M)).redISub(g.redMul(L)),H=this.z.redMul(v);return this.curve.jpoint(M,z,H)},h.prototype.dblp=function(d){if(d===0)return this;if(this.isInfinity())return this;if(!d)return this.dbl();var y;if(this.curve.zeroA||this.curve.threeA){var b=this;for(y=0;y<d;y++)b=b.dbl();return b}var m=this.curve.a,g=this.curve.tinv,p=this.x,v=this.y,C=this.z,j=C.redSqr().redSqr(),L=v.redAdd(v);for(y=0;y<d;y++){var $=p.redSqr(),M=L.redSqr(),z=M.redSqr(),H=$.redAdd($).redIAdd($).redIAdd(m.redMul(j)),q=p.redMul(M),B=H.redSqr().redISub(q.redAdd(q)),A=q.redISub(B),P=H.redMul(A);P=P.redIAdd(P).redISub(z);var k=L.redMul(C);y+1<d&&(j=j.redMul(z)),p=B,C=k,L=P}return this.curve.jpoint(p,L.redMul(g),C)},h.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},h.prototype._zeroDbl=function(){var d,y,b;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),p=g.redSqr(),v=this.x.redAdd(g).redSqr().redISub(m).redISub(p);v=v.redIAdd(v);var C=m.redAdd(m).redIAdd(m),j=C.redSqr().redISub(v).redISub(v),L=p.redIAdd(p);L=(L=L.redIAdd(L)).redIAdd(L),d=j,y=C.redMul(v.redISub(j)).redISub(L),b=this.y.redAdd(this.y)}else{var $=this.x.redSqr(),M=this.y.redSqr(),z=M.redSqr(),H=this.x.redAdd(M).redSqr().redISub($).redISub(z);H=H.redIAdd(H);var q=$.redAdd($).redIAdd($),B=q.redSqr(),A=z.redIAdd(z);A=(A=A.redIAdd(A)).redIAdd(A),d=B.redISub(H).redISub(H),y=q.redMul(H.redISub(d)).redISub(A),b=(b=this.y.redMul(this.z)).redIAdd(b)}return this.curve.jpoint(d,y,b)},h.prototype._threeDbl=function(){var d,y,b;if(this.zOne){var m=this.x.redSqr(),g=this.y.redSqr(),p=g.redSqr(),v=this.x.redAdd(g).redSqr().redISub(m).redISub(p);v=v.redIAdd(v);var C=m.redAdd(m).redIAdd(m).redIAdd(this.curve.a),j=C.redSqr().redISub(v).redISub(v);d=j;var L=p.redIAdd(p);L=(L=L.redIAdd(L)).redIAdd(L),y=C.redMul(v.redISub(j)).redISub(L),b=this.y.redAdd(this.y)}else{var $=this.z.redSqr(),M=this.y.redSqr(),z=this.x.redMul(M),H=this.x.redSub($).redMul(this.x.redAdd($));H=H.redAdd(H).redIAdd(H);var q=z.redIAdd(z),B=(q=q.redIAdd(q)).redAdd(q);d=H.redSqr().redISub(B),b=this.y.redAdd(this.z).redSqr().redISub(M).redISub($);var A=M.redSqr();A=(A=(A=A.redIAdd(A)).redIAdd(A)).redIAdd(A),y=H.redMul(q.redISub(d)).redISub(A)}return this.curve.jpoint(d,y,b)},h.prototype._dbl=function(){var d=this.curve.a,y=this.x,b=this.y,m=this.z,g=m.redSqr().redSqr(),p=y.redSqr(),v=b.redSqr(),C=p.redAdd(p).redIAdd(p).redIAdd(d.redMul(g)),j=y.redAdd(y),L=(j=j.redIAdd(j)).redMul(v),$=C.redSqr().redISub(L.redAdd(L)),M=L.redISub($),z=v.redSqr();z=(z=(z=z.redIAdd(z)).redIAdd(z)).redIAdd(z);var H=C.redMul(M).redISub(z),q=b.redAdd(b).redMul(m);return this.curve.jpoint($,H,q)},h.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var d=this.x.redSqr(),y=this.y.redSqr(),b=this.z.redSqr(),m=y.redSqr(),g=d.redAdd(d).redIAdd(d),p=g.redSqr(),v=this.x.redAdd(y).redSqr().redISub(d).redISub(m),C=(v=(v=(v=v.redIAdd(v)).redAdd(v).redIAdd(v)).redISub(p)).redSqr(),j=m.redIAdd(m);j=(j=(j=j.redIAdd(j)).redIAdd(j)).redIAdd(j);var L=g.redIAdd(v).redSqr().redISub(p).redISub(C).redISub(j),$=y.redMul(L);$=($=$.redIAdd($)).redIAdd($);var M=this.x.redMul(C).redISub($);M=(M=M.redIAdd(M)).redIAdd(M);var z=this.y.redMul(L.redMul(j.redISub(L)).redISub(v.redMul(C)));z=(z=(z=z.redIAdd(z)).redIAdd(z)).redIAdd(z);var H=this.z.redAdd(v).redSqr().redISub(b).redISub(C);return this.curve.jpoint(M,z,H)},h.prototype.mul=function(d,y){return d=new s(d,y),this.curve._wnafMul(this,d)},h.prototype.eq=function(d){if(d.type==="affine")return this.eq(d.toJ());if(this===d)return!0;var y=this.z.redSqr(),b=d.z.redSqr();if(this.x.redMul(b).redISub(d.x.redMul(y)).cmpn(0)!==0)return!1;var m=y.redMul(this.z),g=b.redMul(d.z);return this.y.redMul(g).redISub(d.y.redMul(m)).cmpn(0)===0},h.prototype.eqXToP=function(d){var y=this.z.redSqr(),b=d.toRed(this.curve.red).redMul(y);if(this.x.cmp(b)===0)return!0;for(var m=d.clone(),g=this.curve.redN.redMul(y);;){if(m.iadd(this.curve.n),m.cmp(this.curve.p)>=0)return!1;if(b.redIAdd(g),this.x.cmp(b)===0)return!0}},h.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},h.prototype.isInfinity=function(){return this.z.cmpn(0)===0}},{"../utils":419,"./base":406,"bn.js":420,inherits:440}],411:[function(e,n,l){var i,s=l,u=e("hash.js"),a=e("./curve"),o=e("./utils").assert;function c(h){h.type==="short"?this.curve=new a.short(h):h.type==="edwards"?this.curve=new a.edwards(h):this.curve=new a.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,o(this.g.validate(),"Invalid curve"),o(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function f(h,d){Object.defineProperty(s,h,{configurable:!0,enumerable:!0,get:function(){var y=new c(d);return Object.defineProperty(s,h,{configurable:!0,enumerable:!0,value:y}),y}})}s.PresetCurve=c,f("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:u.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),f("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:u.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),f("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:u.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),f("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:u.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),f("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:u.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),f("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["9"]}),f("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:u.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});try{i=e("./precomputed/secp256k1")}catch{i=void 0}f("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:u.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",i]})},{"./curve":408,"./precomputed/secp256k1":418,"./utils":419,"hash.js":426}],412:[function(e,n,l){var i=e("bn.js"),s=e("hmac-drbg"),u=e("../utils"),a=e("../curves"),o=e("brorand"),c=u.assert,f=e("./key"),h=e("./signature");function d(y){if(!(this instanceof d))return new d(y);typeof y=="string"&&(c(Object.prototype.hasOwnProperty.call(a,y),"Unknown curve "+y),y=a[y]),y instanceof a.PresetCurve&&(y={curve:y}),this.curve=y.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=y.curve.g,this.g.precompute(y.curve.n.bitLength()+1),this.hash=y.hash||y.curve.hash}n.exports=d,d.prototype.keyPair=function(y){return new f(this,y)},d.prototype.keyFromPrivate=function(y,b){return f.fromPrivate(this,y,b)},d.prototype.keyFromPublic=function(y,b){return f.fromPublic(this,y,b)},d.prototype.genKeyPair=function(y){y||(y={});for(var b=new s({hash:this.hash,pers:y.pers,persEnc:y.persEnc||"utf8",entropy:y.entropy||o(this.hash.hmacStrength),entropyEnc:y.entropy&&y.entropyEnc||"utf8",nonce:this.n.toArray()}),m=this.n.byteLength(),g=this.n.sub(new i(2));;){var p=new i(b.generate(m));if(!(p.cmp(g)>0))return p.iaddn(1),this.keyFromPrivate(p)}},d.prototype._truncateToN=function(y,b){var m=8*y.byteLength()-this.n.bitLength();return m>0&&(y=y.ushrn(m)),!b&&y.cmp(this.n)>=0?y.sub(this.n):y},d.prototype.sign=function(y,b,m,g){typeof m=="object"&&(g=m,m=null),g||(g={}),b=this.keyFromPrivate(b,m),y=this._truncateToN(new i(y,16));for(var p=this.n.byteLength(),v=b.getPrivate().toArray("be",p),C=y.toArray("be",p),j=new s({hash:this.hash,entropy:v,nonce:C,pers:g.pers,persEnc:g.persEnc||"utf8"}),L=this.n.sub(new i(1)),$=0;;$++){var M=g.k?g.k($):new i(j.generate(this.n.byteLength()));if(!((M=this._truncateToN(M,!0)).cmpn(1)<=0||M.cmp(L)>=0)){var z=this.g.mul(M);if(!z.isInfinity()){var H=z.getX(),q=H.umod(this.n);if(q.cmpn(0)!==0){var B=M.invm(this.n).mul(q.mul(b.getPrivate()).iadd(y));if((B=B.umod(this.n)).cmpn(0)!==0){var A=(z.getY().isOdd()?1:0)|(H.cmp(q)!==0?2:0);return g.canonical&&B.cmp(this.nh)>0&&(B=this.n.sub(B),A^=1),new h({r:q,s:B,recoveryParam:A})}}}}}},d.prototype.verify=function(y,b,m,g){y=this._truncateToN(new i(y,16)),m=this.keyFromPublic(m,g);var p=(b=new h(b,"hex")).r,v=b.s;if(p.cmpn(1)<0||p.cmp(this.n)>=0||v.cmpn(1)<0||v.cmp(this.n)>=0)return!1;var C,j=v.invm(this.n),L=j.mul(y).umod(this.n),$=j.mul(p).umod(this.n);return this.curve._maxwellTrick?!(C=this.g.jmulAdd(L,m.getPublic(),$)).isInfinity()&&C.eqXToP(p):!(C=this.g.mulAdd(L,m.getPublic(),$)).isInfinity()&&C.getX().umod(this.n).cmp(p)===0},d.prototype.recoverPubKey=function(y,b,m,g){c((3&m)===m,"The recovery param is more than two bits"),b=new h(b,g);var p=this.n,v=new i(y),C=b.r,j=b.s,L=1&m,$=m>>1;if(C.cmp(this.curve.p.umod(this.curve.n))>=0&&$)throw new Error("Unable to find sencond key candinate");C=$?this.curve.pointFromX(C.add(this.curve.n),L):this.curve.pointFromX(C,L);var M=b.r.invm(p),z=p.sub(v).mul(M).umod(p),H=j.mul(M).umod(p);return this.g.mulAdd(z,C,H)},d.prototype.getKeyRecoveryParam=function(y,b,m,g){if((b=new h(b,g)).recoveryParam!==null)return b.recoveryParam;for(var p=0;p<4;p++){var v;try{v=this.recoverPubKey(y,b,p)}catch{continue}if(v.eq(m))return p}throw new Error("Unable to find valid recovery factor")}},{"../curves":411,"../utils":419,"./key":413,"./signature":414,"bn.js":420,brorand:187,"hmac-drbg":438}],413:[function(e,n,l){var i=e("bn.js"),s=e("../utils").assert;function u(a,o){this.ec=a,this.priv=null,this.pub=null,o.priv&&this._importPrivate(o.priv,o.privEnc),o.pub&&this._importPublic(o.pub,o.pubEnc)}n.exports=u,u.fromPublic=function(a,o,c){return o instanceof u?o:new u(a,{pub:o,pubEnc:c})},u.fromPrivate=function(a,o,c){return o instanceof u?o:new u(a,{priv:o,privEnc:c})},u.prototype.validate=function(){var a=this.getPublic();return a.isInfinity()?{result:!1,reason:"Invalid public key"}:a.validate()?a.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},u.prototype.getPublic=function(a,o){return typeof a=="string"&&(o=a,a=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),o?this.pub.encode(o,a):this.pub},u.prototype.getPrivate=function(a){return a==="hex"?this.priv.toString(16,2):this.priv},u.prototype._importPrivate=function(a,o){this.priv=new i(a,o||16),this.priv=this.priv.umod(this.ec.curve.n)},u.prototype._importPublic=function(a,o){if(a.x||a.y)return this.ec.curve.type==="mont"?s(a.x,"Need x coordinate"):this.ec.curve.type!=="short"&&this.ec.curve.type!=="edwards"||s(a.x&&a.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(a.x,a.y));this.pub=this.ec.curve.decodePoint(a,o)},u.prototype.derive=function(a){return a.validate()||s(a.validate(),"public point not validated"),a.mul(this.priv).getX()},u.prototype.sign=function(a,o,c){return this.ec.sign(a,this,o,c)},u.prototype.verify=function(a,o){return this.ec.verify(a,o,this)},u.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"../utils":419,"bn.js":420}],414:[function(e,n,l){var i=e("bn.js"),s=e("../utils"),u=s.assert;function a(d,y){if(d instanceof a)return d;this._importDER(d,y)||(u(d.r&&d.s,"Signature without r or s"),this.r=new i(d.r,16),this.s=new i(d.s,16),d.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=d.recoveryParam)}function o(){this.place=0}function c(d,y){var b=d[y.place++];if(!(128&b))return b;var m=15&b;if(m===0||m>4)return!1;for(var g=0,p=0,v=y.place;p<m;p++,v++)g<<=8,g|=d[v],g>>>=0;return!(g<=127)&&(y.place=v,g)}function f(d){for(var y=0,b=d.length-1;!d[y]&&!(128&d[y+1])&&y<b;)y++;return y===0?d:d.slice(y)}function h(d,y){if(y<128)d.push(y);else{var b=1+(Math.log(y)/Math.LN2>>>3);for(d.push(128|b);--b;)d.push(y>>>(b<<3)&255);d.push(y)}}n.exports=a,a.prototype._importDER=function(d,y){d=s.toArray(d,y);var b=new o;if(d[b.place++]!==48)return!1;var m=c(d,b);if(m===!1||m+b.place!==d.length||d[b.place++]!==2)return!1;var g=c(d,b);if(g===!1)return!1;var p=d.slice(b.place,g+b.place);if(b.place+=g,d[b.place++]!==2)return!1;var v=c(d,b);if(v===!1||d.length!==v+b.place)return!1;var C=d.slice(b.place,v+b.place);if(p[0]===0){if(!(128&p[1]))return!1;p=p.slice(1)}if(C[0]===0){if(!(128&C[1]))return!1;C=C.slice(1)}return this.r=new i(p),this.s=new i(C),this.recoveryParam=null,!0},a.prototype.toDER=function(d){var y=this.r.toArray(),b=this.s.toArray();for(128&y[0]&&(y=[0].concat(y)),128&b[0]&&(b=[0].concat(b)),y=f(y),b=f(b);!(b[0]||128&b[1]);)b=b.slice(1);var m=[2];h(m,y.length),(m=m.concat(y)).push(2),h(m,b.length);var g=m.concat(b),p=[48];return h(p,g.length),p=p.concat(g),s.encode(p,d)}},{"../utils":419,"bn.js":420}],415:[function(e,n,l){var i=e("hash.js"),s=e("../curves"),u=e("../utils"),a=u.assert,o=u.parseBytes,c=e("./key"),f=e("./signature");function h(d){if(a(d==="ed25519","only tested with ed25519 so far"),!(this instanceof h))return new h(d);d=s[d].curve,this.curve=d,this.g=d.g,this.g.precompute(d.n.bitLength()+1),this.pointClass=d.point().constructor,this.encodingLength=Math.ceil(d.n.bitLength()/8),this.hash=i.sha512}n.exports=h,h.prototype.sign=function(d,y){d=o(d);var b=this.keyFromSecret(y),m=this.hashInt(b.messagePrefix(),d),g=this.g.mul(m),p=this.encodePoint(g),v=this.hashInt(p,b.pubBytes(),d).mul(b.priv()),C=m.add(v).umod(this.curve.n);return this.makeSignature({R:g,S:C,Rencoded:p})},h.prototype.verify=function(d,y,b){d=o(d),y=this.makeSignature(y);var m=this.keyFromPublic(b),g=this.hashInt(y.Rencoded(),m.pubBytes(),d),p=this.g.mul(y.S());return y.R().add(m.pub().mul(g)).eq(p)},h.prototype.hashInt=function(){for(var d=this.hash(),y=0;y<arguments.length;y++)d.update(arguments[y]);return u.intFromLE(d.digest()).umod(this.curve.n)},h.prototype.keyFromPublic=function(d){return c.fromPublic(this,d)},h.prototype.keyFromSecret=function(d){return c.fromSecret(this,d)},h.prototype.makeSignature=function(d){return d instanceof f?d:new f(this,d)},h.prototype.encodePoint=function(d){var y=d.getY().toArray("le",this.encodingLength);return y[this.encodingLength-1]|=d.getX().isOdd()?128:0,y},h.prototype.decodePoint=function(d){var y=(d=u.parseBytes(d)).length-1,b=d.slice(0,y).concat(-129&d[y]),m=(128&d[y])!=0,g=u.intFromLE(b);return this.curve.pointFromY(g,m)},h.prototype.encodeInt=function(d){return d.toArray("le",this.encodingLength)},h.prototype.decodeInt=function(d){return u.intFromLE(d)},h.prototype.isPoint=function(d){return d instanceof this.pointClass}},{"../curves":411,"../utils":419,"./key":416,"./signature":417,"hash.js":426}],416:[function(e,n,l){var i=e("../utils"),s=i.assert,u=i.parseBytes,a=i.cachedProperty;function o(c,f){this.eddsa=c,this._secret=u(f.secret),c.isPoint(f.pub)?this._pub=f.pub:this._pubBytes=u(f.pub)}o.fromPublic=function(c,f){return f instanceof o?f:new o(c,{pub:f})},o.fromSecret=function(c,f){return f instanceof o?f:new o(c,{secret:f})},o.prototype.secret=function(){return this._secret},a(o,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),a(o,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),a(o,"privBytes",function(){var c=this.eddsa,f=this.hash(),h=c.encodingLength-1,d=f.slice(0,c.encodingLength);return d[0]&=248,d[h]&=127,d[h]|=64,d}),a(o,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),a(o,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),a(o,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),o.prototype.sign=function(c){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(c,this)},o.prototype.verify=function(c,f){return this.eddsa.verify(c,f,this)},o.prototype.getSecret=function(c){return s(this._secret,"KeyPair is public only"),i.encode(this.secret(),c)},o.prototype.getPublic=function(c){return i.encode(this.pubBytes(),c)},n.exports=o},{"../utils":419}],417:[function(e,n,l){var i=e("bn.js"),s=e("../utils"),u=s.assert,a=s.cachedProperty,o=s.parseBytes;function c(f,h){this.eddsa=f,typeof h!="object"&&(h=o(h)),Array.isArray(h)&&(h={R:h.slice(0,f.encodingLength),S:h.slice(f.encodingLength)}),u(h.R&&h.S,"Signature without R or S"),f.isPoint(h.R)&&(this._R=h.R),h.S instanceof i&&(this._S=h.S),this._Rencoded=Array.isArray(h.R)?h.R:h.Rencoded,this._Sencoded=Array.isArray(h.S)?h.S:h.Sencoded}a(c,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),a(c,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),a(c,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),a(c,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),c.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},c.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},n.exports=c},{"../utils":419,"bn.js":420}],418:[function(e,n,l){n.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},{}],419:[function(e,n,l){var i=l,s=e("bn.js"),u=e("minimalistic-assert"),a=e("minimalistic-crypto-utils");i.assert=u,i.toArray=a.toArray,i.zero2=a.zero2,i.toHex=a.toHex,i.encode=a.encode,i.getNAF=function(o,c,f){var h=new Array(Math.max(o.bitLength(),f)+1);h.fill(0);for(var d=1<<c+1,y=o.clone(),b=0;b<h.length;b++){var m,g=y.andln(d-1);y.isOdd()?(m=g>(d>>1)-1?(d>>1)-g:g,y.isubn(m)):m=0,h[b]=m,y.iushrn(1)}return h},i.getJSF=function(o,c){var f=[[],[]];o=o.clone(),c=c.clone();for(var h,d=0,y=0;o.cmpn(-d)>0||c.cmpn(-y)>0;){var b,m,g=o.andln(3)+d&3,p=c.andln(3)+y&3;g===3&&(g=-1),p===3&&(p=-1),b=1&g?(h=o.andln(7)+d&7)!==3&&h!==5||p!==2?g:-g:0,f[0].push(b),m=1&p?(h=c.andln(7)+y&7)!==3&&h!==5||g!==2?p:-p:0,f[1].push(m),2*d===b+1&&(d=1-d),2*y===m+1&&(y=1-y),o.iushrn(1),c.iushrn(1)}return f},i.cachedProperty=function(o,c,f){var h="_"+c;o.prototype[c]=function(){return this[h]!==void 0?this[h]:this[h]=f.call(this)}},i.parseBytes=function(o){return typeof o=="string"?i.toArray(o,"hex"):o},i.intFromLE=function(o){return new s(o,"hex","le")}},{"bn.js":420,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],420:[function(e,n,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],421:[function(e,n,l){n.exports={name:"elliptic",version:"6.5.4",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{lint:"eslint lib test","lint:fix":"npm run lint -- --fix",unit:"istanbul test _mocha --reporter=spec test/index.js",test:"npm run lint && npm run unit",version:"grunt dist && git add dist/"},repository:{type:"git",url:"git@github.com:indutny/elliptic"},keywords:["EC","Elliptic","curve","Cryptography"],author:"Fedor Indutny <fedor@indutny.com>",license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{brfs:"^2.0.2",coveralls:"^3.1.0",eslint:"^7.6.0",grunt:"^1.2.1","grunt-browserify":"^5.3.0","grunt-cli":"^1.3.2","grunt-contrib-connect":"^3.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^5.0.0","grunt-mocha-istanbul":"^5.0.2","grunt-saucelabs":"^9.0.1",istanbul:"^0.4.5",mocha:"^8.0.1"},dependencies:{"bn.js":"^4.11.9",brorand:"^1.1.0","hash.js":"^1.0.0","hmac-drbg":"^1.0.1",inherits:"^2.0.4","minimalistic-assert":"^1.0.1","minimalistic-crypto-utils":"^1.0.1"}}},{}],422:[function(e,n,l){var i=Object.create||function(M){var z=function(){};return z.prototype=M,new z},s=Object.keys||function(M){var z=[];for(var H in M)Object.prototype.hasOwnProperty.call(M,H)&&z.push(H);return H},u=Function.prototype.bind||function(M){var z=this;return function(){return z.apply(M,arguments)}};function a(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=i(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}n.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0;var o,c=10;try{var f={};Object.defineProperty&&Object.defineProperty(f,"x",{value:0}),o=f.x===0}catch{o=!1}function h(M){return M._maxListeners===void 0?a.defaultMaxListeners:M._maxListeners}function d(M,z,H){if(z)M.call(H);else for(var q=M.length,B=$(M,q),A=0;A<q;++A)B[A].call(H)}function y(M,z,H,q){if(z)M.call(H,q);else for(var B=M.length,A=$(M,B),P=0;P<B;++P)A[P].call(H,q)}function b(M,z,H,q,B){if(z)M.call(H,q,B);else for(var A=M.length,P=$(M,A),k=0;k<A;++k)P[k].call(H,q,B)}function m(M,z,H,q,B,A){if(z)M.call(H,q,B,A);else for(var P=M.length,k=$(M,P),w=0;w<P;++w)k[w].call(H,q,B,A)}function g(M,z,H,q){if(z)M.apply(H,q);else for(var B=M.length,A=$(M,B),P=0;P<B;++P)A[P].apply(H,q)}function p(M,z,H,q){var B,A,P;if(typeof H!="function")throw new TypeError('"listener" argument must be a function');if((A=M._events)?(A.newListener&&(M.emit("newListener",z,H.listener?H.listener:H),A=M._events),P=A[z]):(A=M._events=i(null),M._eventsCount=0),P){if(typeof P=="function"?P=A[z]=q?[H,P]:[P,H]:q?P.unshift(H):P.push(H),!P.warned&&(B=h(M))&&B>0&&P.length>B){P.warned=!0;var k=new Error("Possible EventEmitter memory leak detected. "+P.length+' "'+String(z)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');k.name="MaxListenersExceededWarning",k.emitter=M,k.type=z,k.count=P.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",k.name,k.message)}}else P=A[z]=H,++M._eventsCount;return M}function v(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var M=new Array(arguments.length),z=0;z<M.length;++z)M[z]=arguments[z];this.listener.apply(this.target,M)}}function C(M,z,H){var q={fired:!1,wrapFn:void 0,target:M,type:z,listener:H},B=u.call(v,q);return B.listener=H,q.wrapFn=B,B}function j(M,z,H){var q=M._events;if(!q)return[];var B=q[z];return B?typeof B=="function"?H?[B.listener||B]:[B]:H?function(A){for(var P=new Array(A.length),k=0;k<P.length;++k)P[k]=A[k].listener||A[k];return P}(B):$(B,B.length):[]}function L(M){var z=this._events;if(z){var H=z[M];if(typeof H=="function")return 1;if(H)return H.length}return 0}function $(M,z){for(var H=new Array(z),q=0;q<z;++q)H[q]=M[q];return H}o?Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(M){if(typeof M!="number"||M<0||M!=M)throw new TypeError('"defaultMaxListeners" must be a positive number');c=M}}):a.defaultMaxListeners=c,a.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||isNaN(M))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=M,this},a.prototype.getMaxListeners=function(){return h(this)},a.prototype.emit=function(M){var z,H,q,B,A,P,k=M==="error";if(P=this._events)k=k&&P.error==null;else if(!k)return!1;if(k){if(arguments.length>1&&(z=arguments[1]),z instanceof Error)throw z;var w=new Error('Unhandled "error" event. ('+z+")");throw w.context=z,w}if(!(H=P[M]))return!1;var S=typeof H=="function";switch(q=arguments.length){case 1:d(H,S,this);break;case 2:y(H,S,this,arguments[1]);break;case 3:b(H,S,this,arguments[1],arguments[2]);break;case 4:m(H,S,this,arguments[1],arguments[2],arguments[3]);break;default:for(B=new Array(q-1),A=1;A<q;A++)B[A-1]=arguments[A];g(H,S,this,B)}return!0},a.prototype.addListener=function(M,z){return p(this,M,z,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(M,z){return p(this,M,z,!0)},a.prototype.once=function(M,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.on(M,C(this,M,z)),this},a.prototype.prependOnceListener=function(M,z){if(typeof z!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(M,C(this,M,z)),this},a.prototype.removeListener=function(M,z){var H,q,B,A,P;if(typeof z!="function")throw new TypeError('"listener" argument must be a function');if(!(q=this._events))return this;if(!(H=q[M]))return this;if(H===z||H.listener===z)--this._eventsCount==0?this._events=i(null):(delete q[M],q.removeListener&&this.emit("removeListener",M,H.listener||z));else if(typeof H!="function"){for(B=-1,A=H.length-1;A>=0;A--)if(H[A]===z||H[A].listener===z){P=H[A].listener,B=A;break}if(B<0)return this;B===0?H.shift():function(k,w){for(var S=w,x=S+1,_=k.length;x<_;S+=1,x+=1)k[S]=k[x];k.pop()}(H,B),H.length===1&&(q[M]=H[0]),q.removeListener&&this.emit("removeListener",M,P||z)}return this},a.prototype.removeAllListeners=function(M){var z,H,q;if(!(H=this._events))return this;if(!H.removeListener)return arguments.length===0?(this._events=i(null),this._eventsCount=0):H[M]&&(--this._eventsCount==0?this._events=i(null):delete H[M]),this;if(arguments.length===0){var B,A=s(H);for(q=0;q<A.length;++q)(B=A[q])!=="removeListener"&&this.removeAllListeners(B);return this.removeAllListeners("removeListener"),this._events=i(null),this._eventsCount=0,this}if(typeof(z=H[M])=="function")this.removeListener(M,z);else if(z)for(q=z.length-1;q>=0;q--)this.removeListener(M,z[q]);return this},a.prototype.listeners=function(M){return j(this,M,!0)},a.prototype.rawListeners=function(M){return j(this,M,!1)},a.listenerCount=function(M,z){return typeof M.listenerCount=="function"?M.listenerCount(z):L.call(M,z)},a.prototype.listenerCount=L,a.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],423:[function(e,n,l){var i=e("safe-buffer").Buffer,s=e("md5.js");n.exports=function(u,a,o,c){if(i.isBuffer(u)||(u=i.from(u,"binary")),a&&(i.isBuffer(a)||(a=i.from(a,"binary")),a.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var f=o/8,h=i.alloc(f),d=i.alloc(c||0),y=i.alloc(0);f>0||c>0;){var b=new s;b.update(y),b.update(u),a&&b.update(a),y=b.digest();var m=0;if(f>0){var g=h.length-f;m=Math.min(f,y.length),y.copy(h,g,0,m),f-=m}if(m<y.length&&c>0){var p=d.length-c,v=Math.min(c,y.length-m);y.copy(d,p,m,m+v),c-=v}}return y.fill(0),{key:h,iv:d}}},{"md5.js":450,"safe-buffer":494}],424:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.CsvParserStream=l.ParserOptions=l.parseFile=l.parseStream=l.parseString=l.parse=l.FormatterOptions=l.CsvFormatterStream=l.writeToPath=l.writeToString=l.writeToBuffer=l.writeToStream=l.write=l.format=void 0;var i=e("@fast-csv/format");Object.defineProperty(l,"format",{enumerable:!0,get:function(){return i.format}}),Object.defineProperty(l,"write",{enumerable:!0,get:function(){return i.write}}),Object.defineProperty(l,"writeToStream",{enumerable:!0,get:function(){return i.writeToStream}}),Object.defineProperty(l,"writeToBuffer",{enumerable:!0,get:function(){return i.writeToBuffer}}),Object.defineProperty(l,"writeToString",{enumerable:!0,get:function(){return i.writeToString}}),Object.defineProperty(l,"writeToPath",{enumerable:!0,get:function(){return i.writeToPath}}),Object.defineProperty(l,"CsvFormatterStream",{enumerable:!0,get:function(){return i.CsvFormatterStream}}),Object.defineProperty(l,"FormatterOptions",{enumerable:!0,get:function(){return i.FormatterOptions}});var s=e("@fast-csv/parse");Object.defineProperty(l,"parse",{enumerable:!0,get:function(){return s.parse}}),Object.defineProperty(l,"parseString",{enumerable:!0,get:function(){return s.parseString}}),Object.defineProperty(l,"parseStream",{enumerable:!0,get:function(){return s.parseStream}}),Object.defineProperty(l,"parseFile",{enumerable:!0,get:function(){return s.parseFile}}),Object.defineProperty(l,"ParserOptions",{enumerable:!0,get:function(){return s.ParserOptions}}),Object.defineProperty(l,"CsvParserStream",{enumerable:!0,get:function(){return s.CsvParserStream}})},{"@fast-csv/format":151,"@fast-csv/parse":155}],425:[function(e,n,l){var i=e("safe-buffer").Buffer,s=e("readable-stream").Transform;function u(a){s.call(this),this._block=i.allocUnsafe(a),this._blockSize=a,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}e("inherits")(u,s),u.prototype._transform=function(a,o,c){var f=null;try{this.update(a,o)}catch(h){f=h}c(f)},u.prototype._flush=function(a){var o=null;try{this.push(this.digest())}catch(c){o=c}a(o)},u.prototype.update=function(a,o){if(function(b,m){if(!i.isBuffer(b)&&typeof b!="string")throw new TypeError(m+" must be a string or a buffer")}(a,"Data"),this._finalized)throw new Error("Digest already called");i.isBuffer(a)||(a=i.from(a,o));for(var c=this._block,f=0;this._blockOffset+a.length-f>=this._blockSize;){for(var h=this._blockOffset;h<this._blockSize;)c[h++]=a[f++];this._update(),this._blockOffset=0}for(;f<a.length;)c[this._blockOffset++]=a[f++];for(var d=0,y=8*a.length;y>0;++d)this._length[d]+=y,(y=this._length[d]/4294967296|0)>0&&(this._length[d]-=4294967296*y);return this},u.prototype._update=function(){throw new Error("_update is not implemented")},u.prototype.digest=function(a){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var o=this._digest();a!==void 0&&(o=o.toString(a)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return o},u.prototype._digest=function(){throw new Error("_digest is not implemented")},n.exports=u},{inherits:440,"readable-stream":491,"safe-buffer":494}],426:[function(e,n,l){var i=l;i.utils=e("./hash/utils"),i.common=e("./hash/common"),i.sha=e("./hash/sha"),i.ripemd=e("./hash/ripemd"),i.hmac=e("./hash/hmac"),i.sha1=i.sha.sha1,i.sha256=i.sha.sha256,i.sha224=i.sha.sha224,i.sha384=i.sha.sha384,i.sha512=i.sha.sha512,i.ripemd160=i.ripemd.ripemd160},{"./hash/common":427,"./hash/hmac":428,"./hash/ripemd":429,"./hash/sha":430,"./hash/utils":437}],427:[function(e,n,l){var i=e("./utils"),s=e("minimalistic-assert");function u(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}l.BlockHash=u,u.prototype.update=function(a,o){if(a=i.toArray(a,o),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){var c=(a=this.pending).length%this._delta8;this.pending=a.slice(a.length-c,a.length),this.pending.length===0&&(this.pending=null),a=i.join32(a,0,a.length-c,this.endian);for(var f=0;f<a.length;f+=this._delta32)this._update(a,f,f+this._delta32)}return this},u.prototype.digest=function(a){return this.update(this._pad()),s(this.pending===null),this._digest(a)},u.prototype._pad=function(){var a=this.pendingTotal,o=this._delta8,c=o-(a+this.padLength)%o,f=new Array(c+this.padLength);f[0]=128;for(var h=1;h<c;h++)f[h]=0;if(a<<=3,this.endian==="big"){for(var d=8;d<this.padLength;d++)f[h++]=0;f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=a>>>24&255,f[h++]=a>>>16&255,f[h++]=a>>>8&255,f[h++]=255&a}else for(f[h++]=255&a,f[h++]=a>>>8&255,f[h++]=a>>>16&255,f[h++]=a>>>24&255,f[h++]=0,f[h++]=0,f[h++]=0,f[h++]=0,d=8;d<this.padLength;d++)f[h++]=0;return f}},{"./utils":437,"minimalistic-assert":453}],428:[function(e,n,l){var i=e("./utils"),s=e("minimalistic-assert");function u(a,o,c){if(!(this instanceof u))return new u(a,o,c);this.Hash=a,this.blockSize=a.blockSize/8,this.outSize=a.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(o,c))}n.exports=u,u.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),s(a.length<=this.blockSize);for(var o=a.length;o<this.blockSize;o++)a.push(0);for(o=0;o<a.length;o++)a[o]^=54;for(this.inner=new this.Hash().update(a),o=0;o<a.length;o++)a[o]^=106;this.outer=new this.Hash().update(a)},u.prototype.update=function(a,o){return this.inner.update(a,o),this},u.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)}},{"./utils":437,"minimalistic-assert":453}],429:[function(e,n,l){var i=e("./utils"),s=e("./common"),u=i.rotl32,a=i.sum32,o=i.sum32_3,c=i.sum32_4,f=s.BlockHash;function h(){if(!(this instanceof h))return new h;f.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(C,j,L,$){return C<=15?j^L^$:C<=31?j&L|~j&$:C<=47?(j|~L)^$:C<=63?j&$|L&~$:j^(L|~$)}function y(C){return C<=15?0:C<=31?1518500249:C<=47?1859775393:C<=63?2400959708:2840853838}function b(C){return C<=15?1352829926:C<=31?1548603684:C<=47?1836072691:C<=63?2053994217:0}i.inherits(h,f),l.ripemd160=h,h.blockSize=512,h.outSize=160,h.hmacStrength=192,h.padLength=64,h.prototype._update=function(C,j){for(var L=this.h[0],$=this.h[1],M=this.h[2],z=this.h[3],H=this.h[4],q=L,B=$,A=M,P=z,k=H,w=0;w<80;w++){var S=a(u(c(L,d(w,$,M,z),C[m[w]+j],y(w)),p[w]),H);L=H,H=z,z=u(M,10),M=$,$=S,S=a(u(c(q,d(79-w,B,A,P),C[g[w]+j],b(w)),v[w]),k),q=k,k=P,P=u(A,10),A=B,B=S}S=o(this.h[1],M,P),this.h[1]=o(this.h[2],z,k),this.h[2]=o(this.h[3],H,q),this.h[3]=o(this.h[4],L,B),this.h[4]=o(this.h[0],$,A),this.h[0]=S},h.prototype._digest=function(C){return C==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};var m=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"./common":427,"./utils":437}],430:[function(e,n,l){l.sha1=e("./sha/1"),l.sha224=e("./sha/224"),l.sha256=e("./sha/256"),l.sha384=e("./sha/384"),l.sha512=e("./sha/512")},{"./sha/1":431,"./sha/224":432,"./sha/256":433,"./sha/384":434,"./sha/512":435}],431:[function(e,n,l){var i=e("../utils"),s=e("../common"),u=e("./common"),a=i.rotl32,o=i.sum32,c=i.sum32_5,f=u.ft_1,h=s.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function y(){if(!(this instanceof y))return new y;h.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}i.inherits(y,h),n.exports=y,y.blockSize=512,y.outSize=160,y.hmacStrength=80,y.padLength=64,y.prototype._update=function(b,m){for(var g=this.W,p=0;p<16;p++)g[p]=b[m+p];for(;p<g.length;p++)g[p]=a(g[p-3]^g[p-8]^g[p-14]^g[p-16],1);var v=this.h[0],C=this.h[1],j=this.h[2],L=this.h[3],$=this.h[4];for(p=0;p<g.length;p++){var M=~~(p/20),z=c(a(v,5),f(M,C,j,L),$,g[p],d[M]);$=L,L=j,j=a(C,30),C=v,v=z}this.h[0]=o(this.h[0],v),this.h[1]=o(this.h[1],C),this.h[2]=o(this.h[2],j),this.h[3]=o(this.h[3],L),this.h[4]=o(this.h[4],$)},y.prototype._digest=function(b){return b==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436}],432:[function(e,n,l){var i=e("../utils"),s=e("./256");function u(){if(!(this instanceof u))return new u;s.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}i.inherits(u,s),n.exports=u,u.blockSize=512,u.outSize=224,u.hmacStrength=192,u.padLength=64,u.prototype._digest=function(a){return a==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},{"../utils":437,"./256":433}],433:[function(e,n,l){var i=e("../utils"),s=e("../common"),u=e("./common"),a=e("minimalistic-assert"),o=i.sum32,c=i.sum32_4,f=i.sum32_5,h=u.ch32,d=u.maj32,y=u.s0_256,b=u.s1_256,m=u.g0_256,g=u.g1_256,p=s.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function C(){if(!(this instanceof C))return new C;p.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}i.inherits(C,p),n.exports=C,C.blockSize=512,C.outSize=256,C.hmacStrength=192,C.padLength=64,C.prototype._update=function(j,L){for(var $=this.W,M=0;M<16;M++)$[M]=j[L+M];for(;M<$.length;M++)$[M]=c(g($[M-2]),$[M-7],m($[M-15]),$[M-16]);var z=this.h[0],H=this.h[1],q=this.h[2],B=this.h[3],A=this.h[4],P=this.h[5],k=this.h[6],w=this.h[7];for(a(this.k.length===$.length),M=0;M<$.length;M++){var S=f(w,b(A),h(A,P,k),this.k[M],$[M]),x=o(y(z),d(z,H,q));w=k,k=P,P=A,A=o(B,S),B=q,q=H,H=z,z=o(S,x)}this.h[0]=o(this.h[0],z),this.h[1]=o(this.h[1],H),this.h[2]=o(this.h[2],q),this.h[3]=o(this.h[3],B),this.h[4]=o(this.h[4],A),this.h[5]=o(this.h[5],P),this.h[6]=o(this.h[6],k),this.h[7]=o(this.h[7],w)},C.prototype._digest=function(j){return j==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"./common":436,"minimalistic-assert":453}],434:[function(e,n,l){var i=e("../utils"),s=e("./512");function u(){if(!(this instanceof u))return new u;s.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}i.inherits(u,s),n.exports=u,u.blockSize=1024,u.outSize=384,u.hmacStrength=192,u.padLength=128,u.prototype._digest=function(a){return a==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},{"../utils":437,"./512":435}],435:[function(e,n,l){var i=e("../utils"),s=e("../common"),u=e("minimalistic-assert"),a=i.rotr64_hi,o=i.rotr64_lo,c=i.shr64_hi,f=i.shr64_lo,h=i.sum64,d=i.sum64_hi,y=i.sum64_lo,b=i.sum64_4_hi,m=i.sum64_4_lo,g=i.sum64_5_hi,p=i.sum64_5_lo,v=s.BlockHash,C=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function j(){if(!(this instanceof j))return new j;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=C,this.W=new Array(160)}function L(x,_,E,D,N){var U=x&E^~x&N;return U<0&&(U+=4294967296),U}function $(x,_,E,D,N,U){var V=_&D^~_&U;return V<0&&(V+=4294967296),V}function M(x,_,E,D,N){var U=x&E^x&N^E&N;return U<0&&(U+=4294967296),U}function z(x,_,E,D,N,U){var V=_&D^_&U^D&U;return V<0&&(V+=4294967296),V}function H(x,_){var E=a(x,_,28)^a(_,x,2)^a(_,x,7);return E<0&&(E+=4294967296),E}function q(x,_){var E=o(x,_,28)^o(_,x,2)^o(_,x,7);return E<0&&(E+=4294967296),E}function B(x,_){var E=a(x,_,14)^a(x,_,18)^a(_,x,9);return E<0&&(E+=4294967296),E}function A(x,_){var E=o(x,_,14)^o(x,_,18)^o(_,x,9);return E<0&&(E+=4294967296),E}function P(x,_){var E=a(x,_,1)^a(x,_,8)^c(x,_,7);return E<0&&(E+=4294967296),E}function k(x,_){var E=o(x,_,1)^o(x,_,8)^f(x,_,7);return E<0&&(E+=4294967296),E}function w(x,_){var E=a(x,_,19)^a(_,x,29)^c(x,_,6);return E<0&&(E+=4294967296),E}function S(x,_){var E=o(x,_,19)^o(_,x,29)^f(x,_,6);return E<0&&(E+=4294967296),E}i.inherits(j,v),n.exports=j,j.blockSize=1024,j.outSize=512,j.hmacStrength=192,j.padLength=128,j.prototype._prepareBlock=function(x,_){for(var E=this.W,D=0;D<32;D++)E[D]=x[_+D];for(;D<E.length;D+=2){var N=w(E[D-4],E[D-3]),U=S(E[D-4],E[D-3]),V=E[D-14],J=E[D-13],F=P(E[D-30],E[D-29]),Y=k(E[D-30],E[D-29]),O=E[D-32],T=E[D-31];E[D]=b(N,U,V,J,F,Y,O,T),E[D+1]=m(N,U,V,J,F,Y,O,T)}},j.prototype._update=function(x,_){this._prepareBlock(x,_);var E=this.W,D=this.h[0],N=this.h[1],U=this.h[2],V=this.h[3],J=this.h[4],F=this.h[5],Y=this.h[6],O=this.h[7],T=this.h[8],G=this.h[9],Q=this.h[10],ne=this.h[11],Z=this.h[12],oe=this.h[13],ue=this.h[14],te=this.h[15];u(this.k.length===E.length);for(var se=0;se<E.length;se+=2){var pe=ue,ie=te,fe=B(T,G),be=A(T,G),re=L(T,G,Q,ne,Z),ve=$(T,G,Q,ne,Z,oe),_e=this.k[se],Re=this.k[se+1],Ge=E[se],Ze=E[se+1],Ye=g(pe,ie,fe,be,re,ve,_e,Re,Ge,Ze),et=p(pe,ie,fe,be,re,ve,_e,Re,Ge,Ze);pe=H(D,N),ie=q(D,N),fe=M(D,N,U,V,J),be=z(D,N,U,V,J,F);var ke=d(pe,ie,fe,be),je=y(pe,ie,fe,be);ue=Z,te=oe,Z=Q,oe=ne,Q=T,ne=G,T=d(Y,O,Ye,et),G=y(O,O,Ye,et),Y=J,O=F,J=U,F=V,U=D,V=N,D=d(Ye,et,ke,je),N=y(Ye,et,ke,je)}h(this.h,0,D,N),h(this.h,2,U,V),h(this.h,4,J,F),h(this.h,6,Y,O),h(this.h,8,T,G),h(this.h,10,Q,ne),h(this.h,12,Z,oe),h(this.h,14,ue,te)},j.prototype._digest=function(x){return x==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},{"../common":427,"../utils":437,"minimalistic-assert":453}],436:[function(e,n,l){var i=e("../utils").rotr32;function s(o,c,f){return o&c^~o&f}function u(o,c,f){return o&c^o&f^c&f}function a(o,c,f){return o^c^f}l.ft_1=function(o,c,f,h){return o===0?s(c,f,h):o===1||o===3?a(c,f,h):o===2?u(c,f,h):void 0},l.ch32=s,l.maj32=u,l.p32=a,l.s0_256=function(o){return i(o,2)^i(o,13)^i(o,22)},l.s1_256=function(o){return i(o,6)^i(o,11)^i(o,25)},l.g0_256=function(o){return i(o,7)^i(o,18)^o>>>3},l.g1_256=function(o){return i(o,17)^i(o,19)^o>>>10}},{"../utils":437}],437:[function(e,n,l){var i=e("minimalistic-assert"),s=e("inherits");function u(f,h){return(64512&f.charCodeAt(h))==55296&&!(h<0||h+1>=f.length)&&(64512&f.charCodeAt(h+1))==56320}function a(f){return(f>>>24|f>>>8&65280|f<<8&16711680|(255&f)<<24)>>>0}function o(f){return f.length===1?"0"+f:f}function c(f){return f.length===7?"0"+f:f.length===6?"00"+f:f.length===5?"000"+f:f.length===4?"0000"+f:f.length===3?"00000"+f:f.length===2?"000000"+f:f.length===1?"0000000"+f:f}l.inherits=s,l.toArray=function(f,h){if(Array.isArray(f))return f.slice();if(!f)return[];var d=[];if(typeof f=="string")if(h){if(h==="hex")for((f=f.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(f="0"+f),b=0;b<f.length;b+=2)d.push(parseInt(f[b]+f[b+1],16))}else for(var y=0,b=0;b<f.length;b++){var m=f.charCodeAt(b);m<128?d[y++]=m:m<2048?(d[y++]=m>>6|192,d[y++]=63&m|128):u(f,b)?(m=65536+((1023&m)<<10)+(1023&f.charCodeAt(++b)),d[y++]=m>>18|240,d[y++]=m>>12&63|128,d[y++]=m>>6&63|128,d[y++]=63&m|128):(d[y++]=m>>12|224,d[y++]=m>>6&63|128,d[y++]=63&m|128)}else for(b=0;b<f.length;b++)d[b]=0|f[b];return d},l.toHex=function(f){for(var h="",d=0;d<f.length;d++)h+=o(f[d].toString(16));return h},l.htonl=a,l.toHex32=function(f,h){for(var d="",y=0;y<f.length;y++){var b=f[y];h==="little"&&(b=a(b)),d+=c(b.toString(16))}return d},l.zero2=o,l.zero8=c,l.join32=function(f,h,d,y){var b=d-h;i(b%4==0);for(var m=new Array(b/4),g=0,p=h;g<m.length;g++,p+=4){var v;v=y==="big"?f[p]<<24|f[p+1]<<16|f[p+2]<<8|f[p+3]:f[p+3]<<24|f[p+2]<<16|f[p+1]<<8|f[p],m[g]=v>>>0}return m},l.split32=function(f,h){for(var d=new Array(4*f.length),y=0,b=0;y<f.length;y++,b+=4){var m=f[y];h==="big"?(d[b]=m>>>24,d[b+1]=m>>>16&255,d[b+2]=m>>>8&255,d[b+3]=255&m):(d[b+3]=m>>>24,d[b+2]=m>>>16&255,d[b+1]=m>>>8&255,d[b]=255&m)}return d},l.rotr32=function(f,h){return f>>>h|f<<32-h},l.rotl32=function(f,h){return f<<h|f>>>32-h},l.sum32=function(f,h){return f+h>>>0},l.sum32_3=function(f,h,d){return f+h+d>>>0},l.sum32_4=function(f,h,d,y){return f+h+d+y>>>0},l.sum32_5=function(f,h,d,y,b){return f+h+d+y+b>>>0},l.sum64=function(f,h,d,y){var b=f[h],m=y+f[h+1]>>>0,g=(m<y?1:0)+d+b;f[h]=g>>>0,f[h+1]=m},l.sum64_hi=function(f,h,d,y){return(h+y>>>0<h?1:0)+f+d>>>0},l.sum64_lo=function(f,h,d,y){return h+y>>>0},l.sum64_4_hi=function(f,h,d,y,b,m,g,p){var v=0,C=h;return v+=(C=C+y>>>0)<h?1:0,v+=(C=C+m>>>0)<m?1:0,f+d+b+g+(v+=(C=C+p>>>0)<p?1:0)>>>0},l.sum64_4_lo=function(f,h,d,y,b,m,g,p){return h+y+m+p>>>0},l.sum64_5_hi=function(f,h,d,y,b,m,g,p,v,C){var j=0,L=h;return j+=(L=L+y>>>0)<h?1:0,j+=(L=L+m>>>0)<m?1:0,j+=(L=L+p>>>0)<p?1:0,f+d+b+g+v+(j+=(L=L+C>>>0)<C?1:0)>>>0},l.sum64_5_lo=function(f,h,d,y,b,m,g,p,v,C){return h+y+m+p+C>>>0},l.rotr64_hi=function(f,h,d){return(h<<32-d|f>>>d)>>>0},l.rotr64_lo=function(f,h,d){return(f<<32-d|h>>>d)>>>0},l.shr64_hi=function(f,h,d){return f>>>d},l.shr64_lo=function(f,h,d){return(f<<32-d|h>>>d)>>>0}},{inherits:440,"minimalistic-assert":453}],438:[function(e,n,l){var i=e("hash.js"),s=e("minimalistic-crypto-utils"),u=e("minimalistic-assert");function a(o){if(!(this instanceof a))return new a(o);this.hash=o.hash,this.predResist=!!o.predResist,this.outLen=this.hash.outSize,this.minEntropy=o.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var c=s.toArray(o.entropy,o.entropyEnc||"hex"),f=s.toArray(o.nonce,o.nonceEnc||"hex"),h=s.toArray(o.pers,o.persEnc||"hex");u(c.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(c,f,h)}n.exports=a,a.prototype._init=function(o,c,f){var h=o.concat(c).concat(f);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var d=0;d<this.V.length;d++)this.K[d]=0,this.V[d]=1;this._update(h),this._reseed=1,this.reseedInterval=281474976710656},a.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},a.prototype._update=function(o){var c=this._hmac().update(this.V).update([0]);o&&(c=c.update(o)),this.K=c.digest(),this.V=this._hmac().update(this.V).digest(),o&&(this.K=this._hmac().update(this.V).update([1]).update(o).digest(),this.V=this._hmac().update(this.V).digest())},a.prototype.reseed=function(o,c,f,h){typeof c!="string"&&(h=f,f=c,c=null),o=s.toArray(o,c),f=s.toArray(f,h),u(o.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(o.concat(f||[])),this._reseed=1},a.prototype.generate=function(o,c,f,h){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof c!="string"&&(h=f,f=c,c=null),f&&(f=s.toArray(f,h||"hex"),this._update(f));for(var d=[];d.length<o;)this.V=this._hmac().update(this.V).digest(),d=d.concat(this.V);var y=d.slice(0,o);return this._update(f),this._reseed++,s.encode(y,c)}},{"hash.js":426,"minimalistic-assert":453,"minimalistic-crypto-utils":454}],439:[function(e,n,l){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */l.read=function(i,s,u,a,o){var c,f,h=8*o-a-1,d=(1<<h)-1,y=d>>1,b=-7,m=u?o-1:0,g=u?-1:1,p=i[s+m];for(m+=g,c=p&(1<<-b)-1,p>>=-b,b+=h;b>0;c=256*c+i[s+m],m+=g,b-=8);for(f=c&(1<<-b)-1,c>>=-b,b+=a;b>0;f=256*f+i[s+m],m+=g,b-=8);if(c===0)c=1-y;else{if(c===d)return f?NaN:1/0*(p?-1:1);f+=Math.pow(2,a),c-=y}return(p?-1:1)*f*Math.pow(2,c-a)},l.write=function(i,s,u,a,o,c){var f,h,d,y=8*c-o-1,b=(1<<y)-1,m=b>>1,g=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=a?0:c-1,v=a?1:-1,C=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(h=isNaN(s)?1:0,f=b):(f=Math.floor(Math.log(s)/Math.LN2),s*(d=Math.pow(2,-f))<1&&(f--,d*=2),(s+=f+m>=1?g/d:g*Math.pow(2,1-m))*d>=2&&(f++,d/=2),f+m>=b?(h=0,f=b):f+m>=1?(h=(s*d-1)*Math.pow(2,o),f+=m):(h=s*Math.pow(2,m-1)*Math.pow(2,o),f=0));o>=8;i[u+p]=255&h,p+=v,h/=256,o-=8);for(f=f<<o|h,y+=o;y>0;i[u+p]=255&f,p+=v,f/=256,y-=8);i[u+p-v]|=128*C}},{}],440:[function(e,n,l){typeof Object.create=="function"?n.exports=function(i,s){s&&(i.super_=s,i.prototype=Object.create(s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}))}:n.exports=function(i,s){if(s){i.super_=s;var u=function(){};u.prototype=s.prototype,i.prototype=new u,i.prototype.constructor=i}}},{}],441:[function(e,n,l){(function(i,s,u,a,o,c,f,h){(function(){/*!

	JSZip v3.10.1 - A JavaScript class for generating and reading zip files
	<http://stuartk.com/jszip>

	(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
	Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

	JSZip uses the library pako released under the MIT license :
	https://github.com/nodeca/pako/blob/main/LICENSE
	*/(function(d){typeof l=="object"&&n!==void 0?n.exports=d():(typeof window<"u"?window:s!==void 0?s:typeof self<"u"?self:this).JSZip=d()})(function(){return function d(y,b,m){function g(C,j){if(!b[C]){if(!y[C]){var L=typeof e=="function"&&e;if(!j&&L)return L(C,!0);if(p)return p(C,!0);var $=new Error("Cannot find module '"+C+"'");throw $.code="MODULE_NOT_FOUND",$}var M=b[C]={exports:{}};y[C][0].call(M.exports,function(z){return g(y[C][1][z]||z)},M,M.exports,d,y,b,m)}return b[C].exports}for(var p=typeof e=="function"&&e,v=0;v<m.length;v++)g(m[v]);return g}({1:[function(d,y,b){var m=d("./utils"),g=d("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";b.encode=function(v){for(var C,j,L,$,M,z,H,q=[],B=0,A=v.length,P=A,k=m.getTypeOf(v)!=="string";B<v.length;)P=A-B,L=k?(C=v[B++],j=B<A?v[B++]:0,B<A?v[B++]:0):(C=v.charCodeAt(B++),j=B<A?v.charCodeAt(B++):0,B<A?v.charCodeAt(B++):0),$=C>>2,M=(3&C)<<4|j>>4,z=1<P?(15&j)<<2|L>>6:64,H=2<P?63&L:64,q.push(p.charAt($)+p.charAt(M)+p.charAt(z)+p.charAt(H));return q.join("")},b.decode=function(v){var C,j,L,$,M,z,H=0,q=0,B="data:";if(v.substr(0,B.length)===B)throw new Error("Invalid base64 input, it looks like a data url.");var A,P=3*(v=v.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(v.charAt(v.length-1)===p.charAt(64)&&P--,v.charAt(v.length-2)===p.charAt(64)&&P--,P%1!=0)throw new Error("Invalid base64 input, bad content length.");for(A=g.uint8array?new Uint8Array(0|P):new Array(0|P);H<v.length;)C=p.indexOf(v.charAt(H++))<<2|($=p.indexOf(v.charAt(H++)))>>4,j=(15&$)<<4|(M=p.indexOf(v.charAt(H++)))>>2,L=(3&M)<<6|(z=p.indexOf(v.charAt(H++))),A[q++]=C,M!==64&&(A[q++]=j),z!==64&&(A[q++]=L);return A}},{"./support":30,"./utils":32}],2:[function(d,y,b){var m=d("./external"),g=d("./stream/DataWorker"),p=d("./stream/Crc32Probe"),v=d("./stream/DataLengthProbe");function C(j,L,$,M,z){this.compressedSize=j,this.uncompressedSize=L,this.crc32=$,this.compression=M,this.compressedContent=z}C.prototype={getContentWorker:function(){var j=new g(m.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new v("data_length")),L=this;return j.on("end",function(){if(this.streamInfo.data_length!==L.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),j},getCompressedWorker:function(){return new g(m.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},C.createWorkerFrom=function(j,L,$){return j.pipe(new p).pipe(new v("uncompressedSize")).pipe(L.compressWorker($)).pipe(new v("compressedSize")).withStreamInfo("compression",L)},y.exports=C},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(d,y,b){var m=d("./stream/GenericWorker");b.STORE={magic:"\0\0",compressWorker:function(){return new m("STORE compression")},uncompressWorker:function(){return new m("STORE decompression")}},b.DEFLATE=d("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(d,y,b){var m=d("./utils"),g=function(){for(var p,v=[],C=0;C<256;C++){p=C;for(var j=0;j<8;j++)p=1&p?3988292384^p>>>1:p>>>1;v[C]=p}return v}();y.exports=function(p,v){return p!==void 0&&p.length?m.getTypeOf(p)!=="string"?function(C,j,L,$){var M=g,z=0+L;C^=-1;for(var H=0;H<z;H++)C=C>>>8^M[255&(C^j[H])];return-1^C}(0|v,p,p.length):function(C,j,L,$){var M=g,z=0+L;C^=-1;for(var H=0;H<z;H++)C=C>>>8^M[255&(C^j.charCodeAt(H))];return-1^C}(0|v,p,p.length):0}},{"./utils":32}],5:[function(d,y,b){b.base64=!1,b.binary=!1,b.dir=!1,b.createFolders=!0,b.date=null,b.compression=null,b.compressionOptions=null,b.comment=null,b.unixPermissions=null,b.dosPermissions=null},{}],6:[function(d,y,b){var m;m=typeof Promise<"u"?Promise:d("lie"),y.exports={Promise:m}},{lie:37}],7:[function(d,y,b){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",g=d("pako"),p=d("./utils"),v=d("./stream/GenericWorker"),C=m?"uint8array":"array";function j(L,$){v.call(this,"FlateWorker/"+L),this._pako=null,this._pakoAction=L,this._pakoOptions=$,this.meta={}}b.magic="\b\0",p.inherits(j,v),j.prototype.processChunk=function(L){this.meta=L.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(C,L.data),!1)},j.prototype.flush=function(){v.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},j.prototype.cleanUp=function(){v.prototype.cleanUp.call(this),this._pako=null},j.prototype._createPako=function(){this._pako=new g[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var L=this;this._pako.onData=function($){L.push({data:$,meta:L.meta})}},b.compressWorker=function(L){return new j("Deflate",L)},b.uncompressWorker=function(){return new j("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(d,y,b){function m(M,z){var H,q="";for(H=0;H<z;H++)q+=String.fromCharCode(255&M),M>>>=8;return q}function g(M,z,H,q,B,A){var P,k,w=M.file,S=M.compression,x=A!==C.utf8encode,_=p.transformTo("string",A(w.name)),E=p.transformTo("string",C.utf8encode(w.name)),D=w.comment,N=p.transformTo("string",A(D)),U=p.transformTo("string",C.utf8encode(D)),V=E.length!==w.name.length,J=U.length!==D.length,F="",Y="",O="",T=w.dir,G=w.date,Q={crc32:0,compressedSize:0,uncompressedSize:0};z&&!H||(Q.crc32=M.crc32,Q.compressedSize=M.compressedSize,Q.uncompressedSize=M.uncompressedSize);var ne=0;z&&(ne|=8),x||!V&&!J||(ne|=2048);var Z=0,oe=0;T&&(Z|=16),B==="UNIX"?(oe=798,Z|=function(te,se){var pe=te;return te||(pe=se?16893:33204),(65535&pe)<<16}(w.unixPermissions,T)):(oe=20,Z|=function(te){return 63&(te||0)}(w.dosPermissions)),P=G.getUTCHours(),P<<=6,P|=G.getUTCMinutes(),P<<=5,P|=G.getUTCSeconds()/2,k=G.getUTCFullYear()-1980,k<<=4,k|=G.getUTCMonth()+1,k<<=5,k|=G.getUTCDate(),V&&(Y=m(1,1)+m(j(_),4)+E,F+="up"+m(Y.length,2)+Y),J&&(O=m(1,1)+m(j(N),4)+U,F+="uc"+m(O.length,2)+O);var ue="";return ue+=`
\0`,ue+=m(ne,2),ue+=S.magic,ue+=m(P,2),ue+=m(k,2),ue+=m(Q.crc32,4),ue+=m(Q.compressedSize,4),ue+=m(Q.uncompressedSize,4),ue+=m(_.length,2),ue+=m(F.length,2),{fileRecord:L.LOCAL_FILE_HEADER+ue+_+F,dirRecord:L.CENTRAL_FILE_HEADER+m(oe,2)+ue+m(N.length,2)+"\0\0\0\0"+m(Z,4)+m(q,4)+_+F+N}}var p=d("../utils"),v=d("../stream/GenericWorker"),C=d("../utf8"),j=d("../crc32"),L=d("../signature");function $(M,z,H,q){v.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=z,this.zipPlatform=H,this.encodeFileName=q,this.streamFiles=M,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits($,v),$.prototype.push=function(M){var z=M.meta.percent||0,H=this.entriesCount,q=this._sources.length;this.accumulate?this.contentBuffer.push(M):(this.bytesWritten+=M.data.length,v.prototype.push.call(this,{data:M.data,meta:{currentFile:this.currentFile,percent:H?(z+100*(H-q-1))/H:100}}))},$.prototype.openedSource=function(M){this.currentSourceOffset=this.bytesWritten,this.currentFile=M.file.name;var z=this.streamFiles&&!M.file.dir;if(z){var H=g(M,z,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:H.fileRecord,meta:{percent:0}})}else this.accumulate=!0},$.prototype.closedSource=function(M){this.accumulate=!1;var z=this.streamFiles&&!M.file.dir,H=g(M,z,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(H.dirRecord),z)this.push({data:function(q){return L.DATA_DESCRIPTOR+m(q.crc32,4)+m(q.compressedSize,4)+m(q.uncompressedSize,4)}(M),meta:{percent:100}});else for(this.push({data:H.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},$.prototype.flush=function(){for(var M=this.bytesWritten,z=0;z<this.dirRecords.length;z++)this.push({data:this.dirRecords[z],meta:{percent:100}});var H=this.bytesWritten-M,q=function(B,A,P,k,w){var S=p.transformTo("string",w(k));return L.CENTRAL_DIRECTORY_END+"\0\0\0\0"+m(B,2)+m(B,2)+m(A,4)+m(P,4)+m(S.length,2)+S}(this.dirRecords.length,H,M,this.zipComment,this.encodeFileName);this.push({data:q,meta:{percent:100}})},$.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},$.prototype.registerPrevious=function(M){this._sources.push(M);var z=this;return M.on("data",function(H){z.processChunk(H)}),M.on("end",function(){z.closedSource(z.previous.streamInfo),z._sources.length?z.prepareNextSource():z.end()}),M.on("error",function(H){z.error(H)}),this},$.prototype.resume=function(){return!!v.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},$.prototype.error=function(M){var z=this._sources;if(!v.prototype.error.call(this,M))return!1;for(var H=0;H<z.length;H++)try{z[H].error(M)}catch{}return!0},$.prototype.lock=function(){v.prototype.lock.call(this);for(var M=this._sources,z=0;z<M.length;z++)M[z].lock()},y.exports=$},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(d,y,b){var m=d("../compressions"),g=d("./ZipFileWorker");b.generateWorker=function(p,v,C){var j=new g(v.streamFiles,C,v.platform,v.encodeFileName),L=0;try{p.forEach(function($,M){L++;var z=function(A,P){var k=A||P,w=m[k];if(!w)throw new Error(k+" is not a valid compression method !");return w}(M.options.compression,v.compression),H=M.options.compressionOptions||v.compressionOptions||{},q=M.dir,B=M.date;M._compressWorker(z,H).withStreamInfo("file",{name:$,dir:q,date:B,comment:M.comment||"",unixPermissions:M.unixPermissions,dosPermissions:M.dosPermissions}).pipe(j)}),j.entriesCount=L}catch($){j.error($)}return j}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(d,y,b){function m(){if(!(this instanceof m))return new m;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var g=new m;for(var p in this)typeof this[p]!="function"&&(g[p]=this[p]);return g}}(m.prototype=d("./object")).loadAsync=d("./load"),m.support=d("./support"),m.defaults=d("./defaults"),m.version="3.10.1",m.loadAsync=function(g,p){return new m().loadAsync(g,p)},m.external=d("./external"),y.exports=m},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(d,y,b){var m=d("./utils"),g=d("./external"),p=d("./utf8"),v=d("./zipEntries"),C=d("./stream/Crc32Probe"),j=d("./nodejsUtils");function L($){return new g.Promise(function(M,z){var H=$.decompressed.getContentWorker().pipe(new C);H.on("error",function(q){z(q)}).on("end",function(){H.streamInfo.crc32!==$.decompressed.crc32?z(new Error("Corrupted zip : CRC32 mismatch")):M()}).resume()})}y.exports=function($,M){var z=this;return M=m.extend(M||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),j.isNode&&j.isStream($)?g.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):m.prepareContent("the loaded zip file",$,!0,M.optimizedBinaryString,M.base64).then(function(H){var q=new v(M);return q.load(H),q}).then(function(H){var q=[g.Promise.resolve(H)],B=H.files;if(M.checkCRC32)for(var A=0;A<B.length;A++)q.push(L(B[A]));return g.Promise.all(q)}).then(function(H){for(var q=H.shift(),B=q.files,A=0;A<B.length;A++){var P=B[A],k=P.fileNameStr,w=m.resolve(P.fileNameStr);z.file(w,P.decompressed,{binary:!0,optimizedBinaryString:!0,date:P.date,dir:P.dir,comment:P.fileCommentStr.length?P.fileCommentStr:null,unixPermissions:P.unixPermissions,dosPermissions:P.dosPermissions,createFolders:M.createFolders}),P.dir||(z.file(w).unsafeOriginalName=k)}return q.zipComment.length&&(z.comment=q.zipComment),z})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(d,y,b){var m=d("../utils"),g=d("../stream/GenericWorker");function p(v,C){g.call(this,"Nodejs stream input adapter for "+v),this._upstreamEnded=!1,this._bindStream(C)}m.inherits(p,g),p.prototype._bindStream=function(v){var C=this;(this._stream=v).pause(),v.on("data",function(j){C.push({data:j,meta:{percent:0}})}).on("error",function(j){C.isPaused?this.generatedError=j:C.error(j)}).on("end",function(){C.isPaused?C._upstreamEnded=!0:C.end()})},p.prototype.pause=function(){return!!g.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},y.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(d,y,b){var m=d("readable-stream").Readable;function g(p,v,C){m.call(this,v),this._helper=p;var j=this;p.on("data",function(L,$){j.push(L)||j._helper.pause(),C&&C($)}).on("error",function(L){j.emit("error",L)}).on("end",function(){j.push(null)})}d("../utils").inherits(g,m),g.prototype._read=function(){this._helper.resume()},y.exports=g},{"../utils":32,"readable-stream":16}],14:[function(d,y,b){y.exports={isNode:u!==void 0,newBufferFrom:function(m,g){if(u.from&&u.from!==Uint8Array.from)return u.from(m,g);if(typeof m=="number")throw new Error('The "data" argument must not be a number');return new u(m,g)},allocBuffer:function(m){if(u.alloc)return u.alloc(m);var g=new u(m);return g.fill(0),g},isBuffer:function(m){return u.isBuffer(m)},isStream:function(m){return m&&typeof m.on=="function"&&typeof m.pause=="function"&&typeof m.resume=="function"}}},{}],15:[function(d,y,b){function m(w,S,x){var _,E=p.getTypeOf(S),D=p.extend(x||{},j);D.date=D.date||new Date,D.compression!==null&&(D.compression=D.compression.toUpperCase()),typeof D.unixPermissions=="string"&&(D.unixPermissions=parseInt(D.unixPermissions,8)),D.unixPermissions&&16384&D.unixPermissions&&(D.dir=!0),D.dosPermissions&&16&D.dosPermissions&&(D.dir=!0),D.dir&&(w=B(w)),D.createFolders&&(_=q(w))&&A.call(this,_,!0);var N=E==="string"&&D.binary===!1&&D.base64===!1;x&&x.binary!==void 0||(D.binary=!N),(S instanceof L&&S.uncompressedSize===0||D.dir||!S||S.length===0)&&(D.base64=!1,D.binary=!0,S="",D.compression="STORE",E="string");var U;U=S instanceof L||S instanceof v?S:z.isNode&&z.isStream(S)?new H(w,S):p.prepareContent(w,S,D.binary,D.optimizedBinaryString,D.base64);var V=new $(w,U,D);this.files[w]=V}var g=d("./utf8"),p=d("./utils"),v=d("./stream/GenericWorker"),C=d("./stream/StreamHelper"),j=d("./defaults"),L=d("./compressedObject"),$=d("./zipObject"),M=d("./generate"),z=d("./nodejsUtils"),H=d("./nodejs/NodejsStreamInputAdapter"),q=function(w){w.slice(-1)==="/"&&(w=w.substring(0,w.length-1));var S=w.lastIndexOf("/");return 0<S?w.substring(0,S):""},B=function(w){return w.slice(-1)!=="/"&&(w+="/"),w},A=function(w,S){return S=S!==void 0?S:j.createFolders,w=B(w),this.files[w]||m.call(this,w,null,{dir:!0,createFolders:S}),this.files[w]};function P(w){return Object.prototype.toString.call(w)==="[object RegExp]"}var k={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(w){var S,x,_;for(S in this.files)_=this.files[S],(x=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&w(x,_)},filter:function(w){var S=[];return this.forEach(function(x,_){w(x,_)&&S.push(_)}),S},file:function(w,S,x){if(arguments.length!==1)return w=this.root+w,m.call(this,w,S,x),this;if(P(w)){var _=w;return this.filter(function(D,N){return!N.dir&&_.test(D)})}var E=this.files[this.root+w];return E&&!E.dir?E:null},folder:function(w){if(!w)return this;if(P(w))return this.filter(function(E,D){return D.dir&&w.test(E)});var S=this.root+w,x=A.call(this,S),_=this.clone();return _.root=x.name,_},remove:function(w){w=this.root+w;var S=this.files[w];if(S||(w.slice(-1)!=="/"&&(w+="/"),S=this.files[w]),S&&!S.dir)delete this.files[w];else for(var x=this.filter(function(E,D){return D.name.slice(0,w.length)===w}),_=0;_<x.length;_++)delete this.files[x[_].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(w){var S,x={};try{if((x=p.extend(w||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:g.utf8encode})).type=x.type.toLowerCase(),x.compression=x.compression.toUpperCase(),x.type==="binarystring"&&(x.type="string"),!x.type)throw new Error("No output type specified.");p.checkSupport(x.type),x.platform!=="darwin"&&x.platform!=="freebsd"&&x.platform!=="linux"&&x.platform!=="sunos"||(x.platform="UNIX"),x.platform==="win32"&&(x.platform="DOS");var _=x.comment||this.comment||"";S=M.generateWorker(this,x,_)}catch(E){(S=new v("error")).error(E)}return new C(S,x.type||"string",x.mimeType)},generateAsync:function(w,S){return this.generateInternalStream(w).accumulate(S)},generateNodeStream:function(w,S){return(w=w||{}).type||(w.type="nodebuffer"),this.generateInternalStream(w).toNodejsStream(S)}};y.exports=k},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(d,y,b){y.exports=d("stream")},{stream:void 0}],17:[function(d,y,b){var m=d("./DataReader");function g(p){m.call(this,p);for(var v=0;v<this.data.length;v++)p[v]=255&p[v]}d("../utils").inherits(g,m),g.prototype.byteAt=function(p){return this.data[this.zero+p]},g.prototype.lastIndexOfSignature=function(p){for(var v=p.charCodeAt(0),C=p.charCodeAt(1),j=p.charCodeAt(2),L=p.charCodeAt(3),$=this.length-4;0<=$;--$)if(this.data[$]===v&&this.data[$+1]===C&&this.data[$+2]===j&&this.data[$+3]===L)return $-this.zero;return-1},g.prototype.readAndCheckSignature=function(p){var v=p.charCodeAt(0),C=p.charCodeAt(1),j=p.charCodeAt(2),L=p.charCodeAt(3),$=this.readData(4);return v===$[0]&&C===$[1]&&j===$[2]&&L===$[3]},g.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var v=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,v},y.exports=g},{"../utils":32,"./DataReader":18}],18:[function(d,y,b){var m=d("../utils");function g(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}g.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var v,C=0;for(this.checkOffset(p),v=this.index+p-1;v>=this.index;v--)C=(C<<8)+this.byteAt(v);return this.index+=p,C},readString:function(p){return m.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},y.exports=g},{"../utils":32}],19:[function(d,y,b){var m=d("./Uint8ArrayReader");function g(p){m.call(this,p)}d("../utils").inherits(g,m),g.prototype.readData=function(p){this.checkOffset(p);var v=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,v},y.exports=g},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(d,y,b){var m=d("./DataReader");function g(p){m.call(this,p)}d("../utils").inherits(g,m),g.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},g.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},g.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},g.prototype.readData=function(p){this.checkOffset(p);var v=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,v},y.exports=g},{"../utils":32,"./DataReader":18}],21:[function(d,y,b){var m=d("./ArrayReader");function g(p){m.call(this,p)}d("../utils").inherits(g,m),g.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var v=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,v},y.exports=g},{"../utils":32,"./ArrayReader":17}],22:[function(d,y,b){var m=d("../utils"),g=d("../support"),p=d("./ArrayReader"),v=d("./StringReader"),C=d("./NodeBufferReader"),j=d("./Uint8ArrayReader");y.exports=function(L){var $=m.getTypeOf(L);return m.checkSupport($),$!=="string"||g.uint8array?$==="nodebuffer"?new C(L):g.uint8array?new j(m.transformTo("uint8array",L)):new p(m.transformTo("array",L)):new v(L)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(d,y,b){b.LOCAL_FILE_HEADER="PK",b.CENTRAL_FILE_HEADER="PK",b.CENTRAL_DIRECTORY_END="PK",b.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",b.ZIP64_CENTRAL_DIRECTORY_END="PK",b.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(d,y,b){var m=d("./GenericWorker"),g=d("../utils");function p(v){m.call(this,"ConvertWorker to "+v),this.destType=v}g.inherits(p,m),p.prototype.processChunk=function(v){this.push({data:g.transformTo(this.destType,v.data),meta:v.meta})},y.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(d,y,b){var m=d("./GenericWorker"),g=d("../crc32");function p(){m.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}d("../utils").inherits(p,m),p.prototype.processChunk=function(v){this.streamInfo.crc32=g(v.data,this.streamInfo.crc32||0),this.push(v)},y.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(d,y,b){var m=d("../utils"),g=d("./GenericWorker");function p(v){g.call(this,"DataLengthProbe for "+v),this.propName=v,this.withStreamInfo(v,0)}m.inherits(p,g),p.prototype.processChunk=function(v){if(v){var C=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=C+v.data.length}g.prototype.processChunk.call(this,v)},y.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(d,y,b){var m=d("../utils"),g=d("./GenericWorker");function p(v){g.call(this,"DataWorker");var C=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,v.then(function(j){C.dataIsReady=!0,C.data=j,C.max=j&&j.length||0,C.type=m.getTypeOf(j),C.isPaused||C._tickAndRepeat()},function(j){C.error(j)})}m.inherits(p,g),p.prototype.cleanUp=function(){g.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!g.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,m.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(m.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var v=null,C=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":v=this.data.substring(this.index,C);break;case"uint8array":v=this.data.subarray(this.index,C);break;case"array":case"nodebuffer":v=this.data.slice(this.index,C)}return this.index=C,this.push({data:v,meta:{percent:this.max?this.index/this.max*100:0}})},y.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(d,y,b){function m(g){this.name=g||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}m.prototype={push:function(g){this.emit("data",g)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(g){this.emit("error",g)}return!0},error:function(g){return!this.isFinished&&(this.isPaused?this.generatedError=g:(this.isFinished=!0,this.emit("error",g),this.previous&&this.previous.error(g),this.cleanUp()),!0)},on:function(g,p){return this._listeners[g].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(g,p){if(this._listeners[g])for(var v=0;v<this._listeners[g].length;v++)this._listeners[g][v].call(this,p)},pipe:function(g){return g.registerPrevious(this)},registerPrevious:function(g){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=g.streamInfo,this.mergeStreamInfo(),this.previous=g;var p=this;return g.on("data",function(v){p.processChunk(v)}),g.on("end",function(){p.end()}),g.on("error",function(v){p.error(v)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var g=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),g=!0),this.previous&&this.previous.resume(),!g},flush:function(){},processChunk:function(g){this.push(g)},withStreamInfo:function(g,p){return this.extraStreamInfo[g]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var g in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,g)&&(this.streamInfo[g]=this.extraStreamInfo[g])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var g="Worker "+this.name;return this.previous?this.previous+" -> "+g:g}},y.exports=m},{}],29:[function(d,y,b){var m=d("../utils"),g=d("./ConvertWorker"),p=d("./GenericWorker"),v=d("../base64"),C=d("../support"),j=d("../external"),L=null;if(C.nodestream)try{L=d("../nodejs/NodejsStreamOutputAdapter")}catch{}function $(M,z,H){var q=z;switch(z){case"blob":case"arraybuffer":q="uint8array";break;case"base64":q="string"}try{this._internalType=q,this._outputType=z,this._mimeType=H,m.checkSupport(q),this._worker=M.pipe(new g(q)),M.lock()}catch(B){this._worker=new p("error"),this._worker.error(B)}}$.prototype={accumulate:function(M){return function(z,H){return new j.Promise(function(q,B){var A=[],P=z._internalType,k=z._outputType,w=z._mimeType;z.on("data",function(S,x){A.push(S),H&&H(x)}).on("error",function(S){A=[],B(S)}).on("end",function(){try{var S=function(x,_,E){switch(x){case"blob":return m.newBlob(m.transformTo("arraybuffer",_),E);case"base64":return v.encode(_);default:return m.transformTo(x,_)}}(k,function(x,_){var E,D=0,N=null,U=0;for(E=0;E<_.length;E++)U+=_[E].length;switch(x){case"string":return _.join("");case"array":return Array.prototype.concat.apply([],_);case"uint8array":for(N=new Uint8Array(U),E=0;E<_.length;E++)N.set(_[E],D),D+=_[E].length;return N;case"nodebuffer":return u.concat(_);default:throw new Error("concat : unsupported type '"+x+"'")}}(P,A),w);q(S)}catch(x){B(x)}A=[]}).resume()})}(this,M)},on:function(M,z){var H=this;return M==="data"?this._worker.on(M,function(q){z.call(H,q.data,q.meta)}):this._worker.on(M,function(){m.delay(z,arguments,H)}),this},resume:function(){return m.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(M){if(m.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new L(this,{objectMode:this._outputType!=="nodebuffer"},M)}},y.exports=$},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(d,y,b){if(b.base64=!0,b.array=!0,b.string=!0,b.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",b.nodebuffer=u!==void 0,b.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")b.blob=!1;else{var m=new ArrayBuffer(0);try{b.blob=new Blob([m],{type:"application/zip"}).size===0}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);g.append(m),b.blob=g.getBlob("application/zip").size===0}catch{b.blob=!1}}}try{b.nodestream=!!d("readable-stream").Readable}catch{b.nodestream=!1}},{"readable-stream":16}],31:[function(d,y,b){for(var m=d("./utils"),g=d("./support"),p=d("./nodejsUtils"),v=d("./stream/GenericWorker"),C=new Array(256),j=0;j<256;j++)C[j]=252<=j?6:248<=j?5:240<=j?4:224<=j?3:192<=j?2:1;function L(){v.call(this,"utf-8 decode"),this.leftOver=null}function $(){v.call(this,"utf-8 encode")}C[254]=C[254]=1,b.utf8encode=function(M){return g.nodebuffer?p.newBufferFrom(M,"utf-8"):function(z){var H,q,B,A,P,k=z.length,w=0;for(A=0;A<k;A++)(64512&(q=z.charCodeAt(A)))==55296&&A+1<k&&(64512&(B=z.charCodeAt(A+1)))==56320&&(q=65536+(q-55296<<10)+(B-56320),A++),w+=q<128?1:q<2048?2:q<65536?3:4;for(H=g.uint8array?new Uint8Array(w):new Array(w),A=P=0;P<w;A++)(64512&(q=z.charCodeAt(A)))==55296&&A+1<k&&(64512&(B=z.charCodeAt(A+1)))==56320&&(q=65536+(q-55296<<10)+(B-56320),A++),q<128?H[P++]=q:(q<2048?H[P++]=192|q>>>6:(q<65536?H[P++]=224|q>>>12:(H[P++]=240|q>>>18,H[P++]=128|q>>>12&63),H[P++]=128|q>>>6&63),H[P++]=128|63&q);return H}(M)},b.utf8decode=function(M){return g.nodebuffer?m.transformTo("nodebuffer",M).toString("utf-8"):function(z){var H,q,B,A,P=z.length,k=new Array(2*P);for(H=q=0;H<P;)if((B=z[H++])<128)k[q++]=B;else if(4<(A=C[B]))k[q++]=65533,H+=A-1;else{for(B&=A===2?31:A===3?15:7;1<A&&H<P;)B=B<<6|63&z[H++],A--;1<A?k[q++]=65533:B<65536?k[q++]=B:(B-=65536,k[q++]=55296|B>>10&1023,k[q++]=56320|1023&B)}return k.length!==q&&(k.subarray?k=k.subarray(0,q):k.length=q),m.applyFromCharCode(k)}(M=m.transformTo(g.uint8array?"uint8array":"array",M))},m.inherits(L,v),L.prototype.processChunk=function(M){var z=m.transformTo(g.uint8array?"uint8array":"array",M.data);if(this.leftOver&&this.leftOver.length){if(g.uint8array){var H=z;(z=new Uint8Array(H.length+this.leftOver.length)).set(this.leftOver,0),z.set(H,this.leftOver.length)}else z=this.leftOver.concat(z);this.leftOver=null}var q=function(A,P){var k;for((P=P||A.length)>A.length&&(P=A.length),k=P-1;0<=k&&(192&A[k])==128;)k--;return k<0||k===0?P:k+C[A[k]]>P?k:P}(z),B=z;q!==z.length&&(g.uint8array?(B=z.subarray(0,q),this.leftOver=z.subarray(q,z.length)):(B=z.slice(0,q),this.leftOver=z.slice(q,z.length))),this.push({data:b.utf8decode(B),meta:M.meta})},L.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:b.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},b.Utf8DecodeWorker=L,m.inherits($,v),$.prototype.processChunk=function(M){this.push({data:b.utf8encode(M.data),meta:M.meta})},b.Utf8EncodeWorker=$},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(d,y,b){var m=d("./support"),g=d("./base64"),p=d("./nodejsUtils"),v=d("./external");function C(H){return H}function j(H,q){for(var B=0;B<H.length;++B)q[B]=255&H.charCodeAt(B);return q}d("setimmediate"),b.newBlob=function(H,q){b.checkSupport("blob");try{return new Blob([H],{type:q})}catch{try{var B=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return B.append(H),B.getBlob(q)}catch{throw new Error("Bug : can't construct the Blob.")}}};var L={stringifyByChunk:function(H,q,B){var A=[],P=0,k=H.length;if(k<=B)return String.fromCharCode.apply(null,H);for(;P<k;)q==="array"||q==="nodebuffer"?A.push(String.fromCharCode.apply(null,H.slice(P,Math.min(P+B,k)))):A.push(String.fromCharCode.apply(null,H.subarray(P,Math.min(P+B,k)))),P+=B;return A.join("")},stringifyByChar:function(H){for(var q="",B=0;B<H.length;B++)q+=String.fromCharCode(H[B]);return q},applyCanBeUsed:{uint8array:function(){try{return m.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return m.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}}()}};function $(H){var q=65536,B=b.getTypeOf(H),A=!0;if(B==="uint8array"?A=L.applyCanBeUsed.uint8array:B==="nodebuffer"&&(A=L.applyCanBeUsed.nodebuffer),A)for(;1<q;)try{return L.stringifyByChunk(H,B,q)}catch{q=Math.floor(q/2)}return L.stringifyByChar(H)}function M(H,q){for(var B=0;B<H.length;B++)q[B]=H[B];return q}b.applyFromCharCode=$;var z={};z.string={string:C,array:function(H){return j(H,new Array(H.length))},arraybuffer:function(H){return z.string.uint8array(H).buffer},uint8array:function(H){return j(H,new Uint8Array(H.length))},nodebuffer:function(H){return j(H,p.allocBuffer(H.length))}},z.array={string:$,array:C,arraybuffer:function(H){return new Uint8Array(H).buffer},uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return p.newBufferFrom(H)}},z.arraybuffer={string:function(H){return $(new Uint8Array(H))},array:function(H){return M(new Uint8Array(H),new Array(H.byteLength))},arraybuffer:C,uint8array:function(H){return new Uint8Array(H)},nodebuffer:function(H){return p.newBufferFrom(new Uint8Array(H))}},z.uint8array={string:$,array:function(H){return M(H,new Array(H.length))},arraybuffer:function(H){return H.buffer},uint8array:C,nodebuffer:function(H){return p.newBufferFrom(H)}},z.nodebuffer={string:$,array:function(H){return M(H,new Array(H.length))},arraybuffer:function(H){return z.nodebuffer.uint8array(H).buffer},uint8array:function(H){return M(H,new Uint8Array(H.length))},nodebuffer:C},b.transformTo=function(H,q){if(q=q||"",!H)return q;b.checkSupport(H);var B=b.getTypeOf(q);return z[B][H](q)},b.resolve=function(H){for(var q=H.split("/"),B=[],A=0;A<q.length;A++){var P=q[A];P==="."||P===""&&A!==0&&A!==q.length-1||(P===".."?B.pop():B.push(P))}return B.join("/")},b.getTypeOf=function(H){return typeof H=="string"?"string":Object.prototype.toString.call(H)==="[object Array]"?"array":m.nodebuffer&&p.isBuffer(H)?"nodebuffer":m.uint8array&&H instanceof Uint8Array?"uint8array":m.arraybuffer&&H instanceof ArrayBuffer?"arraybuffer":void 0},b.checkSupport=function(H){if(!m[H.toLowerCase()])throw new Error(H+" is not supported by this platform")},b.MAX_VALUE_16BITS=65535,b.MAX_VALUE_32BITS=-1,b.pretty=function(H){var q,B,A="";for(B=0;B<(H||"").length;B++)A+="\\x"+((q=H.charCodeAt(B))<16?"0":"")+q.toString(16).toUpperCase();return A},b.delay=function(H,q,B){h(function(){H.apply(B||null,q||[])})},b.inherits=function(H,q){function B(){}B.prototype=q.prototype,H.prototype=new B},b.extend=function(){var H,q,B={};for(H=0;H<arguments.length;H++)for(q in arguments[H])Object.prototype.hasOwnProperty.call(arguments[H],q)&&B[q]===void 0&&(B[q]=arguments[H][q]);return B},b.prepareContent=function(H,q,B,A,P){return v.Promise.resolve(q).then(function(k){return m.blob&&(k instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(k))!==-1)&&typeof FileReader<"u"?new v.Promise(function(w,S){var x=new FileReader;x.onload=function(_){w(_.target.result)},x.onerror=function(_){S(_.target.error)},x.readAsArrayBuffer(k)}):k}).then(function(k){var w=b.getTypeOf(k);return w?(w==="arraybuffer"?k=b.transformTo("uint8array",k):w==="string"&&(P?k=g.decode(k):B&&A!==!0&&(k=function(S){return j(S,m.uint8array?new Uint8Array(S.length):new Array(S.length))}(k))),k):v.Promise.reject(new Error("Can't read the data of '"+H+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(d,y,b){var m=d("./reader/readerFor"),g=d("./utils"),p=d("./signature"),v=d("./zipEntry"),C=d("./support");function j(L){this.files=[],this.loadOptions=L}j.prototype={checkSignature:function(L){if(!this.reader.readAndCheckSignature(L)){this.reader.index-=4;var $=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+g.pretty($)+", expected "+g.pretty(L)+")")}},isSignature:function(L,$){var M=this.reader.index;this.reader.setIndex(L);var z=this.reader.readString(4)===$;return this.reader.setIndex(M),z},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var L=this.reader.readData(this.zipCommentLength),$=C.uint8array?"uint8array":"array",M=g.transformTo($,L);this.zipComment=this.loadOptions.decodeFileName(M)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var L,$,M,z=this.zip64EndOfCentralSize-44;0<z;)L=this.reader.readInt(2),$=this.reader.readInt(4),M=this.reader.readData($),this.zip64ExtensibleData[L]={id:L,length:$,value:M}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var L,$;for(L=0;L<this.files.length;L++)$=this.files[L],this.reader.setIndex($.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),$.readLocalPart(this.reader),$.handleUTF8(),$.processAttributes()},readCentralDir:function(){var L;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(L=new v({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(L);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var L=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(L<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(L);var $=L;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===g.MAX_VALUE_16BITS||this.diskWithCentralDirStart===g.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===g.MAX_VALUE_16BITS||this.centralDirRecords===g.MAX_VALUE_16BITS||this.centralDirSize===g.MAX_VALUE_32BITS||this.centralDirOffset===g.MAX_VALUE_32BITS){if(this.zip64=!0,(L=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(L),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var M=this.centralDirOffset+this.centralDirSize;this.zip64&&(M+=20,M+=12+this.zip64EndOfCentralSize);var z=$-M;if(0<z)this.isSignature($,p.CENTRAL_FILE_HEADER)||(this.reader.zero=z);else if(z<0)throw new Error("Corrupted zip: missing "+Math.abs(z)+" bytes.")},prepareReader:function(L){this.reader=m(L)},load:function(L){this.prepareReader(L),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},y.exports=j},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(d,y,b){var m=d("./reader/readerFor"),g=d("./utils"),p=d("./compressedObject"),v=d("./crc32"),C=d("./utf8"),j=d("./compressions"),L=d("./support");function $(M,z){this.options=M,this.loadOptions=z}$.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(M){var z,H;if(M.skip(22),this.fileNameLength=M.readInt(2),H=M.readInt(2),this.fileName=M.readData(this.fileNameLength),M.skip(H),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((z=function(q){for(var B in j)if(Object.prototype.hasOwnProperty.call(j,B)&&j[B].magic===q)return j[B];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+g.pretty(this.compressionMethod)+" unknown (inner file : "+g.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,z,M.readData(this.compressedSize))},readCentralPart:function(M){this.versionMadeBy=M.readInt(2),M.skip(2),this.bitFlag=M.readInt(2),this.compressionMethod=M.readString(2),this.date=M.readDate(),this.crc32=M.readInt(4),this.compressedSize=M.readInt(4),this.uncompressedSize=M.readInt(4);var z=M.readInt(2);if(this.extraFieldsLength=M.readInt(2),this.fileCommentLength=M.readInt(2),this.diskNumberStart=M.readInt(2),this.internalFileAttributes=M.readInt(2),this.externalFileAttributes=M.readInt(4),this.localHeaderOffset=M.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");M.skip(z),this.readExtraFields(M),this.parseZIP64ExtraField(M),this.fileComment=M.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var M=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),M==0&&(this.dosPermissions=63&this.externalFileAttributes),M==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var M=m(this.extraFields[1].value);this.uncompressedSize===g.MAX_VALUE_32BITS&&(this.uncompressedSize=M.readInt(8)),this.compressedSize===g.MAX_VALUE_32BITS&&(this.compressedSize=M.readInt(8)),this.localHeaderOffset===g.MAX_VALUE_32BITS&&(this.localHeaderOffset=M.readInt(8)),this.diskNumberStart===g.MAX_VALUE_32BITS&&(this.diskNumberStart=M.readInt(4))}},readExtraFields:function(M){var z,H,q,B=M.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});M.index+4<B;)z=M.readInt(2),H=M.readInt(2),q=M.readData(H),this.extraFields[z]={id:z,length:H,value:q};M.setIndex(B)},handleUTF8:function(){var M=L.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=C.utf8decode(this.fileName),this.fileCommentStr=C.utf8decode(this.fileComment);else{var z=this.findExtraFieldUnicodePath();if(z!==null)this.fileNameStr=z;else{var H=g.transformTo(M,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(H)}var q=this.findExtraFieldUnicodeComment();if(q!==null)this.fileCommentStr=q;else{var B=g.transformTo(M,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(B)}}},findExtraFieldUnicodePath:function(){var M=this.extraFields[28789];if(M){var z=m(M.value);return z.readInt(1)!==1||v(this.fileName)!==z.readInt(4)?null:C.utf8decode(z.readData(M.length-5))}return null},findExtraFieldUnicodeComment:function(){var M=this.extraFields[25461];if(M){var z=m(M.value);return z.readInt(1)!==1||v(this.fileComment)!==z.readInt(4)?null:C.utf8decode(z.readData(M.length-5))}return null}},y.exports=$},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(d,y,b){function m(z,H,q){this.name=z,this.dir=q.dir,this.date=q.date,this.comment=q.comment,this.unixPermissions=q.unixPermissions,this.dosPermissions=q.dosPermissions,this._data=H,this._dataBinary=q.binary,this.options={compression:q.compression,compressionOptions:q.compressionOptions}}var g=d("./stream/StreamHelper"),p=d("./stream/DataWorker"),v=d("./utf8"),C=d("./compressedObject"),j=d("./stream/GenericWorker");m.prototype={internalStream:function(z){var H=null,q="string";try{if(!z)throw new Error("No output type specified.");var B=(q=z.toLowerCase())==="string"||q==="text";q!=="binarystring"&&q!=="text"||(q="string"),H=this._decompressWorker();var A=!this._dataBinary;A&&!B&&(H=H.pipe(new v.Utf8EncodeWorker)),!A&&B&&(H=H.pipe(new v.Utf8DecodeWorker))}catch(P){(H=new j("error")).error(P)}return new g(H,q,"")},async:function(z,H){return this.internalStream(z).accumulate(H)},nodeStream:function(z,H){return this.internalStream(z||"nodebuffer").toNodejsStream(H)},_compressWorker:function(z,H){if(this._data instanceof C&&this._data.compression.magic===z.magic)return this._data.getCompressedWorker();var q=this._decompressWorker();return this._dataBinary||(q=q.pipe(new v.Utf8EncodeWorker)),C.createWorkerFrom(q,z,H)},_decompressWorker:function(){return this._data instanceof C?this._data.getContentWorker():this._data instanceof j?this._data:new p(this._data)}};for(var L=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],$=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},M=0;M<L.length;M++)m.prototype[L[M]]=$;y.exports=m},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(d,y,b){(function(m){var g,p,v=m.MutationObserver||m.WebKitMutationObserver;if(v){var C=0,j=new v(z),L=m.document.createTextNode("");j.observe(L,{characterData:!0}),g=function(){L.data=C=++C%2}}else if(m.setImmediate||m.MessageChannel===void 0)g="document"in m&&"onreadystatechange"in m.document.createElement("script")?function(){var H=m.document.createElement("script");H.onreadystatechange=function(){z(),H.onreadystatechange=null,H.parentNode.removeChild(H),H=null},m.document.documentElement.appendChild(H)}:function(){setTimeout(z,0)};else{var $=new m.MessageChannel;$.port1.onmessage=z,g=function(){$.port2.postMessage(0)}}var M=[];function z(){var H,q;p=!0;for(var B=M.length;B;){for(q=M,M=[],H=-1;++H<B;)q[H]();B=M.length}p=!1}y.exports=function(H){M.push(H)!==1||p||g()}}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(d,y,b){var m=d("immediate");function g(){}var p={},v=["REJECTED"],C=["FULFILLED"],j=["PENDING"];function L(B){if(typeof B!="function")throw new TypeError("resolver must be a function");this.state=j,this.queue=[],this.outcome=void 0,B!==g&&H(this,B)}function $(B,A,P){this.promise=B,typeof A=="function"&&(this.onFulfilled=A,this.callFulfilled=this.otherCallFulfilled),typeof P=="function"&&(this.onRejected=P,this.callRejected=this.otherCallRejected)}function M(B,A,P){m(function(){var k;try{k=A(P)}catch(w){return p.reject(B,w)}k===B?p.reject(B,new TypeError("Cannot resolve promise with itself")):p.resolve(B,k)})}function z(B){var A=B&&B.then;if(B&&(typeof B=="object"||typeof B=="function")&&typeof A=="function")return function(){A.apply(B,arguments)}}function H(B,A){var P=!1;function k(x){P||(P=!0,p.reject(B,x))}function w(x){P||(P=!0,p.resolve(B,x))}var S=q(function(){A(w,k)});S.status==="error"&&k(S.value)}function q(B,A){var P={};try{P.value=B(A),P.status="success"}catch(k){P.status="error",P.value=k}return P}(y.exports=L).prototype.finally=function(B){if(typeof B!="function")return this;var A=this.constructor;return this.then(function(P){return A.resolve(B()).then(function(){return P})},function(P){return A.resolve(B()).then(function(){throw P})})},L.prototype.catch=function(B){return this.then(null,B)},L.prototype.then=function(B,A){if(typeof B!="function"&&this.state===C||typeof A!="function"&&this.state===v)return this;var P=new this.constructor(g);return this.state!==j?M(P,this.state===C?B:A,this.outcome):this.queue.push(new $(P,B,A)),P},$.prototype.callFulfilled=function(B){p.resolve(this.promise,B)},$.prototype.otherCallFulfilled=function(B){M(this.promise,this.onFulfilled,B)},$.prototype.callRejected=function(B){p.reject(this.promise,B)},$.prototype.otherCallRejected=function(B){M(this.promise,this.onRejected,B)},p.resolve=function(B,A){var P=q(z,A);if(P.status==="error")return p.reject(B,P.value);var k=P.value;if(k)H(B,k);else{B.state=C,B.outcome=A;for(var w=-1,S=B.queue.length;++w<S;)B.queue[w].callFulfilled(A)}return B},p.reject=function(B,A){B.state=v,B.outcome=A;for(var P=-1,k=B.queue.length;++P<k;)B.queue[P].callRejected(A);return B},L.resolve=function(B){return B instanceof this?B:p.resolve(new this(g),B)},L.reject=function(B){var A=new this(g);return p.reject(A,B)},L.all=function(B){var A=this;if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var P=B.length,k=!1;if(!P)return this.resolve([]);for(var w=new Array(P),S=0,x=-1,_=new this(g);++x<P;)E(B[x],x);return _;function E(D,N){A.resolve(D).then(function(U){w[N]=U,++S!==P||k||(k=!0,p.resolve(_,w))},function(U){k||(k=!0,p.reject(_,U))})}},L.race=function(B){if(Object.prototype.toString.call(B)!=="[object Array]")return this.reject(new TypeError("must be an array"));var A=B.length,P=!1;if(!A)return this.resolve([]);for(var k,w=-1,S=new this(g);++w<A;)k=B[w],this.resolve(k).then(function(x){P||(P=!0,p.resolve(S,x))},function(x){P||(P=!0,p.reject(S,x))});return S}},{immediate:36}],38:[function(d,y,b){var m={};(0,d("./lib/utils/common").assign)(m,d("./lib/deflate"),d("./lib/inflate"),d("./lib/zlib/constants")),y.exports=m},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(d,y,b){var m=d("./zlib/deflate"),g=d("./utils/common"),p=d("./utils/strings"),v=d("./zlib/messages"),C=d("./zlib/zstream"),j=Object.prototype.toString;function L(M){if(!(this instanceof L))return new L(M);this.options=g.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},M||{});var z=this.options;z.raw&&0<z.windowBits?z.windowBits=-z.windowBits:z.gzip&&0<z.windowBits&&z.windowBits<16&&(z.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new C,this.strm.avail_out=0;var H=m.deflateInit2(this.strm,z.level,z.method,z.windowBits,z.memLevel,z.strategy);if(H!==0)throw new Error(v[H]);if(z.header&&m.deflateSetHeader(this.strm,z.header),z.dictionary){var q;if(q=typeof z.dictionary=="string"?p.string2buf(z.dictionary):j.call(z.dictionary)==="[object ArrayBuffer]"?new Uint8Array(z.dictionary):z.dictionary,(H=m.deflateSetDictionary(this.strm,q))!==0)throw new Error(v[H]);this._dict_set=!0}}function $(M,z){var H=new L(z);if(H.push(M,!0),H.err)throw H.msg||v[H.err];return H.result}L.prototype.push=function(M,z){var H,q,B=this.strm,A=this.options.chunkSize;if(this.ended)return!1;q=z===~~z?z:z===!0?4:0,typeof M=="string"?B.input=p.string2buf(M):j.call(M)==="[object ArrayBuffer]"?B.input=new Uint8Array(M):B.input=M,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new g.Buf8(A),B.next_out=0,B.avail_out=A),(H=m.deflate(B,q))!==1&&H!==0)return this.onEnd(H),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||q!==4&&q!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(g.shrinkBuf(B.output,B.next_out))):this.onData(g.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&H!==1);return q===4?(H=m.deflateEnd(this.strm),this.onEnd(H),this.ended=!0,H===0):q!==2||(this.onEnd(0),!(B.avail_out=0))},L.prototype.onData=function(M){this.chunks.push(M)},L.prototype.onEnd=function(M){M===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=M,this.msg=this.strm.msg},b.Deflate=L,b.deflate=$,b.deflateRaw=function(M,z){return(z=z||{}).raw=!0,$(M,z)},b.gzip=function(M,z){return(z=z||{}).gzip=!0,$(M,z)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(d,y,b){var m=d("./zlib/inflate"),g=d("./utils/common"),p=d("./utils/strings"),v=d("./zlib/constants"),C=d("./zlib/messages"),j=d("./zlib/zstream"),L=d("./zlib/gzheader"),$=Object.prototype.toString;function M(H){if(!(this instanceof M))return new M(H);this.options=g.assign({chunkSize:16384,windowBits:0,to:""},H||{});var q=this.options;q.raw&&0<=q.windowBits&&q.windowBits<16&&(q.windowBits=-q.windowBits,q.windowBits===0&&(q.windowBits=-15)),!(0<=q.windowBits&&q.windowBits<16)||H&&H.windowBits||(q.windowBits+=32),15<q.windowBits&&q.windowBits<48&&!(15&q.windowBits)&&(q.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new j,this.strm.avail_out=0;var B=m.inflateInit2(this.strm,q.windowBits);if(B!==v.Z_OK)throw new Error(C[B]);this.header=new L,m.inflateGetHeader(this.strm,this.header)}function z(H,q){var B=new M(q);if(B.push(H,!0),B.err)throw B.msg||C[B.err];return B.result}M.prototype.push=function(H,q){var B,A,P,k,w,S,x=this.strm,_=this.options.chunkSize,E=this.options.dictionary,D=!1;if(this.ended)return!1;A=q===~~q?q:q===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof H=="string"?x.input=p.binstring2buf(H):$.call(H)==="[object ArrayBuffer]"?x.input=new Uint8Array(H):x.input=H,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new g.Buf8(_),x.next_out=0,x.avail_out=_),(B=m.inflate(x,v.Z_NO_FLUSH))===v.Z_NEED_DICT&&E&&(S=typeof E=="string"?p.string2buf(E):$.call(E)==="[object ArrayBuffer]"?new Uint8Array(E):E,B=m.inflateSetDictionary(this.strm,S)),B===v.Z_BUF_ERROR&&D===!0&&(B=v.Z_OK,D=!1),B!==v.Z_STREAM_END&&B!==v.Z_OK)return this.onEnd(B),!(this.ended=!0);x.next_out&&(x.avail_out!==0&&B!==v.Z_STREAM_END&&(x.avail_in!==0||A!==v.Z_FINISH&&A!==v.Z_SYNC_FLUSH)||(this.options.to==="string"?(P=p.utf8border(x.output,x.next_out),k=x.next_out-P,w=p.buf2string(x.output,P),x.next_out=k,x.avail_out=_-k,k&&g.arraySet(x.output,x.output,P,k,0),this.onData(w)):this.onData(g.shrinkBuf(x.output,x.next_out)))),x.avail_in===0&&x.avail_out===0&&(D=!0)}while((0<x.avail_in||x.avail_out===0)&&B!==v.Z_STREAM_END);return B===v.Z_STREAM_END&&(A=v.Z_FINISH),A===v.Z_FINISH?(B=m.inflateEnd(this.strm),this.onEnd(B),this.ended=!0,B===v.Z_OK):A!==v.Z_SYNC_FLUSH||(this.onEnd(v.Z_OK),!(x.avail_out=0))},M.prototype.onData=function(H){this.chunks.push(H)},M.prototype.onEnd=function(H){H===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=g.flattenChunks(this.chunks)),this.chunks=[],this.err=H,this.msg=this.strm.msg},b.Inflate=M,b.inflate=z,b.inflateRaw=function(H,q){return(q=q||{}).raw=!0,z(H,q)},b.ungzip=z},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(d,y,b){var m=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";b.assign=function(v){for(var C=Array.prototype.slice.call(arguments,1);C.length;){var j=C.shift();if(j){if(typeof j!="object")throw new TypeError(j+"must be non-object");for(var L in j)j.hasOwnProperty(L)&&(v[L]=j[L])}}return v},b.shrinkBuf=function(v,C){return v.length===C?v:v.subarray?v.subarray(0,C):(v.length=C,v)};var g={arraySet:function(v,C,j,L,$){if(C.subarray&&v.subarray)v.set(C.subarray(j,j+L),$);else for(var M=0;M<L;M++)v[$+M]=C[j+M]},flattenChunks:function(v){var C,j,L,$,M,z;for(C=L=0,j=v.length;C<j;C++)L+=v[C].length;for(z=new Uint8Array(L),C=$=0,j=v.length;C<j;C++)M=v[C],z.set(M,$),$+=M.length;return z}},p={arraySet:function(v,C,j,L,$){for(var M=0;M<L;M++)v[$+M]=C[j+M]},flattenChunks:function(v){return[].concat.apply([],v)}};b.setTyped=function(v){v?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,g)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,p))},b.setTyped(m)},{}],42:[function(d,y,b){var m=d("./common"),g=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{g=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var v=new m.Buf8(256),C=0;C<256;C++)v[C]=252<=C?6:248<=C?5:240<=C?4:224<=C?3:192<=C?2:1;function j(L,$){if($<65537&&(L.subarray&&p||!L.subarray&&g))return String.fromCharCode.apply(null,m.shrinkBuf(L,$));for(var M="",z=0;z<$;z++)M+=String.fromCharCode(L[z]);return M}v[254]=v[254]=1,b.string2buf=function(L){var $,M,z,H,q,B=L.length,A=0;for(H=0;H<B;H++)(64512&(M=L.charCodeAt(H)))==55296&&H+1<B&&(64512&(z=L.charCodeAt(H+1)))==56320&&(M=65536+(M-55296<<10)+(z-56320),H++),A+=M<128?1:M<2048?2:M<65536?3:4;for($=new m.Buf8(A),H=q=0;q<A;H++)(64512&(M=L.charCodeAt(H)))==55296&&H+1<B&&(64512&(z=L.charCodeAt(H+1)))==56320&&(M=65536+(M-55296<<10)+(z-56320),H++),M<128?$[q++]=M:(M<2048?$[q++]=192|M>>>6:(M<65536?$[q++]=224|M>>>12:($[q++]=240|M>>>18,$[q++]=128|M>>>12&63),$[q++]=128|M>>>6&63),$[q++]=128|63&M);return $},b.buf2binstring=function(L){return j(L,L.length)},b.binstring2buf=function(L){for(var $=new m.Buf8(L.length),M=0,z=$.length;M<z;M++)$[M]=L.charCodeAt(M);return $},b.buf2string=function(L,$){var M,z,H,q,B=$||L.length,A=new Array(2*B);for(M=z=0;M<B;)if((H=L[M++])<128)A[z++]=H;else if(4<(q=v[H]))A[z++]=65533,M+=q-1;else{for(H&=q===2?31:q===3?15:7;1<q&&M<B;)H=H<<6|63&L[M++],q--;1<q?A[z++]=65533:H<65536?A[z++]=H:(H-=65536,A[z++]=55296|H>>10&1023,A[z++]=56320|1023&H)}return j(A,z)},b.utf8border=function(L,$){var M;for(($=$||L.length)>L.length&&($=L.length),M=$-1;0<=M&&(192&L[M])==128;)M--;return M<0||M===0?$:M+v[L[M]]>$?M:$}},{"./common":41}],43:[function(d,y,b){y.exports=function(m,g,p,v){for(var C=65535&m|0,j=m>>>16&65535|0,L=0;p!==0;){for(p-=L=2e3<p?2e3:p;j=j+(C=C+g[v++]|0)|0,--L;);C%=65521,j%=65521}return C|j<<16|0}},{}],44:[function(d,y,b){y.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(d,y,b){var m=function(){for(var g,p=[],v=0;v<256;v++){g=v;for(var C=0;C<8;C++)g=1&g?3988292384^g>>>1:g>>>1;p[v]=g}return p}();y.exports=function(g,p,v,C){var j=m,L=C+v;g^=-1;for(var $=C;$<L;$++)g=g>>>8^j[255&(g^p[$])];return-1^g}},{}],46:[function(d,y,b){var m,g=d("../utils/common"),p=d("./trees"),v=d("./adler32"),C=d("./crc32"),j=d("./messages"),L=-2,$=258,M=262,z=113;function H(F,Y){return F.msg=j[Y],Y}function q(F){return(F<<1)-(4<F?9:0)}function B(F){for(var Y=F.length;0<=--Y;)F[Y]=0}function A(F){var Y=F.state,O=Y.pending;O>F.avail_out&&(O=F.avail_out),O!==0&&(g.arraySet(F.output,Y.pending_buf,Y.pending_out,O,F.next_out),F.next_out+=O,Y.pending_out+=O,F.total_out+=O,F.avail_out-=O,Y.pending-=O,Y.pending===0&&(Y.pending_out=0))}function P(F,Y){p._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,Y),F.block_start=F.strstart,A(F.strm)}function k(F,Y){F.pending_buf[F.pending++]=Y}function w(F,Y){F.pending_buf[F.pending++]=Y>>>8&255,F.pending_buf[F.pending++]=255&Y}function S(F,Y){var O,T,G=F.max_chain_length,Q=F.strstart,ne=F.prev_length,Z=F.nice_match,oe=F.strstart>F.w_size-M?F.strstart-(F.w_size-M):0,ue=F.window,te=F.w_mask,se=F.prev,pe=F.strstart+$,ie=ue[Q+ne-1],fe=ue[Q+ne];F.prev_length>=F.good_match&&(G>>=2),Z>F.lookahead&&(Z=F.lookahead);do if(ue[(O=Y)+ne]===fe&&ue[O+ne-1]===ie&&ue[O]===ue[Q]&&ue[++O]===ue[Q+1]){Q+=2,O++;do;while(ue[++Q]===ue[++O]&&ue[++Q]===ue[++O]&&ue[++Q]===ue[++O]&&ue[++Q]===ue[++O]&&ue[++Q]===ue[++O]&&ue[++Q]===ue[++O]&&ue[++Q]===ue[++O]&&ue[++Q]===ue[++O]&&Q<pe);if(T=$-(pe-Q),Q=pe-$,ne<T){if(F.match_start=Y,Z<=(ne=T))break;ie=ue[Q+ne-1],fe=ue[Q+ne]}}while((Y=se[Y&te])>oe&&--G!=0);return ne<=F.lookahead?ne:F.lookahead}function x(F){var Y,O,T,G,Q,ne,Z,oe,ue,te,se=F.w_size;do{if(G=F.window_size-F.lookahead-F.strstart,F.strstart>=se+(se-M)){for(g.arraySet(F.window,F.window,se,se,0),F.match_start-=se,F.strstart-=se,F.block_start-=se,Y=O=F.hash_size;T=F.head[--Y],F.head[Y]=se<=T?T-se:0,--O;);for(Y=O=se;T=F.prev[--Y],F.prev[Y]=se<=T?T-se:0,--O;);G+=se}if(F.strm.avail_in===0)break;if(ne=F.strm,Z=F.window,oe=F.strstart+F.lookahead,te=void 0,(ue=G)<(te=ne.avail_in)&&(te=ue),O=te===0?0:(ne.avail_in-=te,g.arraySet(Z,ne.input,ne.next_in,te,oe),ne.state.wrap===1?ne.adler=v(ne.adler,Z,te,oe):ne.state.wrap===2&&(ne.adler=C(ne.adler,Z,te,oe)),ne.next_in+=te,ne.total_in+=te,te),F.lookahead+=O,F.lookahead+F.insert>=3)for(Q=F.strstart-F.insert,F.ins_h=F.window[Q],F.ins_h=(F.ins_h<<F.hash_shift^F.window[Q+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[Q+3-1])&F.hash_mask,F.prev[Q&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=Q,Q++,F.insert--,!(F.lookahead+F.insert<3)););}while(F.lookahead<M&&F.strm.avail_in!==0)}function _(F,Y){for(var O,T;;){if(F.lookahead<M){if(x(F),F.lookahead<M&&Y===0)return 1;if(F.lookahead===0)break}if(O=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,O=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),O!==0&&F.strstart-O<=F.w_size-M&&(F.match_length=S(F,O)),F.match_length>=3)if(T=p._tr_tally(F,F.strstart-F.match_start,F.match_length-3),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=3){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,O=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else T=p._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(T&&(P(F,!1),F.strm.avail_out===0))return 1}return F.insert=F.strstart<2?F.strstart:2,Y===4?(P(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(P(F,!1),F.strm.avail_out===0)?1:2}function E(F,Y){for(var O,T,G;;){if(F.lookahead<M){if(x(F),F.lookahead<M&&Y===0)return 1;if(F.lookahead===0)break}if(O=0,F.lookahead>=3&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,O=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=2,O!==0&&F.prev_length<F.max_lazy_match&&F.strstart-O<=F.w_size-M&&(F.match_length=S(F,O),F.match_length<=5&&(F.strategy===1||F.match_length===3&&4096<F.strstart-F.match_start)&&(F.match_length=2)),F.prev_length>=3&&F.match_length<=F.prev_length){for(G=F.strstart+F.lookahead-3,T=p._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-3),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=G&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+3-1])&F.hash_mask,O=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=2,F.strstart++,T&&(P(F,!1),F.strm.avail_out===0))return 1}else if(F.match_available){if((T=p._tr_tally(F,0,F.window[F.strstart-1]))&&P(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return 1}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(T=p._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<2?F.strstart:2,Y===4?(P(F,!0),F.strm.avail_out===0?3:4):F.last_lit&&(P(F,!1),F.strm.avail_out===0)?1:2}function D(F,Y,O,T,G){this.good_length=F,this.max_lazy=Y,this.nice_length=O,this.max_chain=T,this.func=G}function N(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new g.Buf16(1146),this.dyn_dtree=new g.Buf16(122),this.bl_tree=new g.Buf16(78),B(this.dyn_ltree),B(this.dyn_dtree),B(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new g.Buf16(16),this.heap=new g.Buf16(573),B(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new g.Buf16(573),B(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function U(F){var Y;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=2,(Y=F.state).pending=0,Y.pending_out=0,Y.wrap<0&&(Y.wrap=-Y.wrap),Y.status=Y.wrap?42:z,F.adler=Y.wrap===2?0:1,Y.last_flush=0,p._tr_init(Y),0):H(F,L)}function V(F){var Y=U(F);return Y===0&&function(O){O.window_size=2*O.w_size,B(O.head),O.max_lazy_match=m[O.level].max_lazy,O.good_match=m[O.level].good_length,O.nice_match=m[O.level].nice_length,O.max_chain_length=m[O.level].max_chain,O.strstart=0,O.block_start=0,O.lookahead=0,O.insert=0,O.match_length=O.prev_length=2,O.match_available=0,O.ins_h=0}(F.state),Y}function J(F,Y,O,T,G,Q){if(!F)return L;var ne=1;if(Y===-1&&(Y=6),T<0?(ne=0,T=-T):15<T&&(ne=2,T-=16),G<1||9<G||O!==8||T<8||15<T||Y<0||9<Y||Q<0||4<Q)return H(F,L);T===8&&(T=9);var Z=new N;return(F.state=Z).strm=F,Z.wrap=ne,Z.gzhead=null,Z.w_bits=T,Z.w_size=1<<Z.w_bits,Z.w_mask=Z.w_size-1,Z.hash_bits=G+7,Z.hash_size=1<<Z.hash_bits,Z.hash_mask=Z.hash_size-1,Z.hash_shift=~~((Z.hash_bits+3-1)/3),Z.window=new g.Buf8(2*Z.w_size),Z.head=new g.Buf16(Z.hash_size),Z.prev=new g.Buf16(Z.w_size),Z.lit_bufsize=1<<G+6,Z.pending_buf_size=4*Z.lit_bufsize,Z.pending_buf=new g.Buf8(Z.pending_buf_size),Z.d_buf=1*Z.lit_bufsize,Z.l_buf=3*Z.lit_bufsize,Z.level=Y,Z.strategy=Q,Z.method=O,V(F)}m=[new D(0,0,0,0,function(F,Y){var O=65535;for(O>F.pending_buf_size-5&&(O=F.pending_buf_size-5);;){if(F.lookahead<=1){if(x(F),F.lookahead===0&&Y===0)return 1;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var T=F.block_start+O;if((F.strstart===0||F.strstart>=T)&&(F.lookahead=F.strstart-T,F.strstart=T,P(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-M&&(P(F,!1),F.strm.avail_out===0))return 1}return F.insert=0,Y===4?(P(F,!0),F.strm.avail_out===0?3:4):(F.strstart>F.block_start&&(P(F,!1),F.strm.avail_out),1)}),new D(4,4,8,4,_),new D(4,5,16,8,_),new D(4,6,32,32,_),new D(4,4,16,16,E),new D(8,16,32,32,E),new D(8,16,128,128,E),new D(8,32,128,256,E),new D(32,128,258,1024,E),new D(32,258,258,4096,E)],b.deflateInit=function(F,Y){return J(F,Y,8,15,8,0)},b.deflateInit2=J,b.deflateReset=V,b.deflateResetKeep=U,b.deflateSetHeader=function(F,Y){return F&&F.state?F.state.wrap!==2?L:(F.state.gzhead=Y,0):L},b.deflate=function(F,Y){var O,T,G,Q;if(!F||!F.state||5<Y||Y<0)return F?H(F,L):L;if(T=F.state,!F.output||!F.input&&F.avail_in!==0||T.status===666&&Y!==4)return H(F,F.avail_out===0?-5:L);if(T.strm=F,O=T.last_flush,T.last_flush=Y,T.status===42)if(T.wrap===2)F.adler=0,k(T,31),k(T,139),k(T,8),T.gzhead?(k(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),k(T,255&T.gzhead.time),k(T,T.gzhead.time>>8&255),k(T,T.gzhead.time>>16&255),k(T,T.gzhead.time>>24&255),k(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),k(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(k(T,255&T.gzhead.extra.length),k(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(F.adler=C(F.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(k(T,0),k(T,0),k(T,0),k(T,0),k(T,0),k(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),k(T,3),T.status=z);else{var ne=8+(T.w_bits-8<<4)<<8;ne|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(ne|=32),ne+=31-ne%31,T.status=z,w(T,ne),T.strstart!==0&&(w(T,F.adler>>>16),w(T,65535&F.adler)),F.adler=1}if(T.status===69)if(T.gzhead.extra){for(G=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>G&&(F.adler=C(F.adler,T.pending_buf,T.pending-G,G)),A(F),G=T.pending,T.pending!==T.pending_buf_size));)k(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>G&&(F.adler=C(F.adler,T.pending_buf,T.pending-G,G)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){G=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>G&&(F.adler=C(F.adler,T.pending_buf,T.pending-G,G)),A(F),G=T.pending,T.pending===T.pending_buf_size)){Q=1;break}Q=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,k(T,Q)}while(Q!==0);T.gzhead.hcrc&&T.pending>G&&(F.adler=C(F.adler,T.pending_buf,T.pending-G,G)),Q===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){G=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>G&&(F.adler=C(F.adler,T.pending_buf,T.pending-G,G)),A(F),G=T.pending,T.pending===T.pending_buf_size)){Q=1;break}Q=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,k(T,Q)}while(Q!==0);T.gzhead.hcrc&&T.pending>G&&(F.adler=C(F.adler,T.pending_buf,T.pending-G,G)),Q===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&A(F),T.pending+2<=T.pending_buf_size&&(k(T,255&F.adler),k(T,F.adler>>8&255),F.adler=0,T.status=z)):T.status=z),T.pending!==0){if(A(F),F.avail_out===0)return T.last_flush=-1,0}else if(F.avail_in===0&&q(Y)<=q(O)&&Y!==4)return H(F,-5);if(T.status===666&&F.avail_in!==0)return H(F,-5);if(F.avail_in!==0||T.lookahead!==0||Y!==0&&T.status!==666){var Z=T.strategy===2?function(oe,ue){for(var te;;){if(oe.lookahead===0&&(x(oe),oe.lookahead===0)){if(ue===0)return 1;break}if(oe.match_length=0,te=p._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,te&&(P(oe,!1),oe.strm.avail_out===0))return 1}return oe.insert=0,ue===4?(P(oe,!0),oe.strm.avail_out===0?3:4):oe.last_lit&&(P(oe,!1),oe.strm.avail_out===0)?1:2}(T,Y):T.strategy===3?function(oe,ue){for(var te,se,pe,ie,fe=oe.window;;){if(oe.lookahead<=$){if(x(oe),oe.lookahead<=$&&ue===0)return 1;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=3&&0<oe.strstart&&(se=fe[pe=oe.strstart-1])===fe[++pe]&&se===fe[++pe]&&se===fe[++pe]){ie=oe.strstart+$;do;while(se===fe[++pe]&&se===fe[++pe]&&se===fe[++pe]&&se===fe[++pe]&&se===fe[++pe]&&se===fe[++pe]&&se===fe[++pe]&&se===fe[++pe]&&pe<ie);oe.match_length=$-(ie-pe),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=3?(te=p._tr_tally(oe,1,oe.match_length-3),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(te=p._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),te&&(P(oe,!1),oe.strm.avail_out===0))return 1}return oe.insert=0,ue===4?(P(oe,!0),oe.strm.avail_out===0?3:4):oe.last_lit&&(P(oe,!1),oe.strm.avail_out===0)?1:2}(T,Y):m[T.level].func(T,Y);if(Z!==3&&Z!==4||(T.status=666),Z===1||Z===3)return F.avail_out===0&&(T.last_flush=-1),0;if(Z===2&&(Y===1?p._tr_align(T):Y!==5&&(p._tr_stored_block(T,0,0,!1),Y===3&&(B(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),A(F),F.avail_out===0))return T.last_flush=-1,0}return Y!==4?0:T.wrap<=0?1:(T.wrap===2?(k(T,255&F.adler),k(T,F.adler>>8&255),k(T,F.adler>>16&255),k(T,F.adler>>24&255),k(T,255&F.total_in),k(T,F.total_in>>8&255),k(T,F.total_in>>16&255),k(T,F.total_in>>24&255)):(w(T,F.adler>>>16),w(T,65535&F.adler)),A(F),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?0:1)},b.deflateEnd=function(F){var Y;return F&&F.state?(Y=F.state.status)!==42&&Y!==69&&Y!==73&&Y!==91&&Y!==103&&Y!==z&&Y!==666?H(F,L):(F.state=null,Y===z?H(F,-3):0):L},b.deflateSetDictionary=function(F,Y){var O,T,G,Q,ne,Z,oe,ue,te=Y.length;if(!F||!F.state||(Q=(O=F.state).wrap)===2||Q===1&&O.status!==42||O.lookahead)return L;for(Q===1&&(F.adler=v(F.adler,Y,te,0)),O.wrap=0,te>=O.w_size&&(Q===0&&(B(O.head),O.strstart=0,O.block_start=0,O.insert=0),ue=new g.Buf8(O.w_size),g.arraySet(ue,Y,te-O.w_size,O.w_size,0),Y=ue,te=O.w_size),ne=F.avail_in,Z=F.next_in,oe=F.input,F.avail_in=te,F.next_in=0,F.input=Y,x(O);O.lookahead>=3;){for(T=O.strstart,G=O.lookahead-2;O.ins_h=(O.ins_h<<O.hash_shift^O.window[T+3-1])&O.hash_mask,O.prev[T&O.w_mask]=O.head[O.ins_h],O.head[O.ins_h]=T,T++,--G;);O.strstart=T,O.lookahead=2,x(O)}return O.strstart+=O.lookahead,O.block_start=O.strstart,O.insert=O.lookahead,O.lookahead=0,O.match_length=O.prev_length=2,O.match_available=0,F.next_in=Z,F.input=oe,F.avail_in=ne,O.wrap=Q,0},b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(d,y,b){y.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(d,y,b){y.exports=function(m,g){var p,v,C,j,L,$,M,z,H,q,B,A,P,k,w,S,x,_,E,D,N,U,V,J,F;p=m.state,v=m.next_in,J=m.input,C=v+(m.avail_in-5),j=m.next_out,F=m.output,L=j-(g-m.avail_out),$=j+(m.avail_out-257),M=p.dmax,z=p.wsize,H=p.whave,q=p.wnext,B=p.window,A=p.hold,P=p.bits,k=p.lencode,w=p.distcode,S=(1<<p.lenbits)-1,x=(1<<p.distbits)-1;e:do{P<15&&(A+=J[v++]<<P,P+=8,A+=J[v++]<<P,P+=8),_=k[A&S];t:for(;;){if(A>>>=E=_>>>24,P-=E,(E=_>>>16&255)==0)F[j++]=65535&_;else{if(!(16&E)){if(!(64&E)){_=k[(65535&_)+(A&(1<<E)-1)];continue t}if(32&E){p.mode=12;break e}m.msg="invalid literal/length code",p.mode=30;break e}D=65535&_,(E&=15)&&(P<E&&(A+=J[v++]<<P,P+=8),D+=A&(1<<E)-1,A>>>=E,P-=E),P<15&&(A+=J[v++]<<P,P+=8,A+=J[v++]<<P,P+=8),_=w[A&x];r:for(;;){if(A>>>=E=_>>>24,P-=E,!(16&(E=_>>>16&255))){if(!(64&E)){_=w[(65535&_)+(A&(1<<E)-1)];continue r}m.msg="invalid distance code",p.mode=30;break e}if(N=65535&_,P<(E&=15)&&(A+=J[v++]<<P,(P+=8)<E&&(A+=J[v++]<<P,P+=8)),M<(N+=A&(1<<E)-1)){m.msg="invalid distance too far back",p.mode=30;break e}if(A>>>=E,P-=E,(E=j-L)<N){if(H<(E=N-E)&&p.sane){m.msg="invalid distance too far back",p.mode=30;break e}if(V=B,(U=0)===q){if(U+=z-E,E<D){for(D-=E;F[j++]=B[U++],--E;);U=j-N,V=F}}else if(q<E){if(U+=z+q-E,(E-=q)<D){for(D-=E;F[j++]=B[U++],--E;);if(U=0,q<D){for(D-=E=q;F[j++]=B[U++],--E;);U=j-N,V=F}}}else if(U+=q-E,E<D){for(D-=E;F[j++]=B[U++],--E;);U=j-N,V=F}for(;2<D;)F[j++]=V[U++],F[j++]=V[U++],F[j++]=V[U++],D-=3;D&&(F[j++]=V[U++],1<D&&(F[j++]=V[U++]))}else{for(U=j-N;F[j++]=F[U++],F[j++]=F[U++],F[j++]=F[U++],2<(D-=3););D&&(F[j++]=F[U++],1<D&&(F[j++]=F[U++]))}break}}break}}while(v<C&&j<$);v-=D=P>>3,A&=(1<<(P-=D<<3))-1,m.next_in=v,m.next_out=j,m.avail_in=v<C?C-v+5:5-(v-C),m.avail_out=j<$?$-j+257:257-(j-$),p.hold=A,p.bits=P}},{}],49:[function(d,y,b){var m=d("../utils/common"),g=d("./adler32"),p=d("./crc32"),v=d("./inffast"),C=d("./inftrees"),j=-2;function L(S){return(S>>>24&255)+(S>>>8&65280)+((65280&S)<<8)+((255&S)<<24)}function $(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new m.Buf16(320),this.work=new m.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function M(S){var x;return S&&S.state?(x=S.state,S.total_in=S.total_out=x.total=0,S.msg="",x.wrap&&(S.adler=1&x.wrap),x.mode=1,x.last=0,x.havedict=0,x.dmax=32768,x.head=null,x.hold=0,x.bits=0,x.lencode=x.lendyn=new m.Buf32(852),x.distcode=x.distdyn=new m.Buf32(592),x.sane=1,x.back=-1,0):j}function z(S){var x;return S&&S.state?((x=S.state).wsize=0,x.whave=0,x.wnext=0,M(S)):j}function H(S,x){var _,E;return S&&S.state?(E=S.state,x<0?(_=0,x=-x):(_=1+(x>>4),x<48&&(x&=15)),x&&(x<8||15<x)?j:(E.window!==null&&E.wbits!==x&&(E.window=null),E.wrap=_,E.wbits=x,z(S))):j}function q(S,x){var _,E;return S?(E=new $,(S.state=E).window=null,(_=H(S,x))!==0&&(S.state=null),_):j}var B,A,P=!0;function k(S){if(P){var x;for(B=new m.Buf32(512),A=new m.Buf32(32),x=0;x<144;)S.lens[x++]=8;for(;x<256;)S.lens[x++]=9;for(;x<280;)S.lens[x++]=7;for(;x<288;)S.lens[x++]=8;for(C(1,S.lens,0,288,B,0,S.work,{bits:9}),x=0;x<32;)S.lens[x++]=5;C(2,S.lens,0,32,A,0,S.work,{bits:5}),P=!1}S.lencode=B,S.lenbits=9,S.distcode=A,S.distbits=5}function w(S,x,_,E){var D,N=S.state;return N.window===null&&(N.wsize=1<<N.wbits,N.wnext=0,N.whave=0,N.window=new m.Buf8(N.wsize)),E>=N.wsize?(m.arraySet(N.window,x,_-N.wsize,N.wsize,0),N.wnext=0,N.whave=N.wsize):(E<(D=N.wsize-N.wnext)&&(D=E),m.arraySet(N.window,x,_-E,D,N.wnext),(E-=D)?(m.arraySet(N.window,x,_-E,E,0),N.wnext=E,N.whave=N.wsize):(N.wnext+=D,N.wnext===N.wsize&&(N.wnext=0),N.whave<N.wsize&&(N.whave+=D))),0}b.inflateReset=z,b.inflateReset2=H,b.inflateResetKeep=M,b.inflateInit=function(S){return q(S,15)},b.inflateInit2=q,b.inflate=function(S,x){var _,E,D,N,U,V,J,F,Y,O,T,G,Q,ne,Z,oe,ue,te,se,pe,ie,fe,be,re,ve=0,_e=new m.Buf8(4),Re=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!S||!S.state||!S.output||!S.input&&S.avail_in!==0)return j;(_=S.state).mode===12&&(_.mode=13),U=S.next_out,D=S.output,J=S.avail_out,N=S.next_in,E=S.input,V=S.avail_in,F=_.hold,Y=_.bits,O=V,T=J,fe=0;e:for(;;)switch(_.mode){case 1:if(_.wrap===0){_.mode=13;break}for(;Y<16;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}if(2&_.wrap&&F===35615){_e[_.check=0]=255&F,_e[1]=F>>>8&255,_.check=p(_.check,_e,2,0),Y=F=0,_.mode=2;break}if(_.flags=0,_.head&&(_.head.done=!1),!(1&_.wrap)||(((255&F)<<8)+(F>>8))%31){S.msg="incorrect header check",_.mode=30;break}if((15&F)!=8){S.msg="unknown compression method",_.mode=30;break}if(Y-=4,ie=8+(15&(F>>>=4)),_.wbits===0)_.wbits=ie;else if(ie>_.wbits){S.msg="invalid window size",_.mode=30;break}_.dmax=1<<ie,S.adler=_.check=1,_.mode=512&F?10:12,Y=F=0;break;case 2:for(;Y<16;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}if(_.flags=F,(255&_.flags)!=8){S.msg="unknown compression method",_.mode=30;break}if(57344&_.flags){S.msg="unknown header flags set",_.mode=30;break}_.head&&(_.head.text=F>>8&1),512&_.flags&&(_e[0]=255&F,_e[1]=F>>>8&255,_.check=p(_.check,_e,2,0)),Y=F=0,_.mode=3;case 3:for(;Y<32;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}_.head&&(_.head.time=F),512&_.flags&&(_e[0]=255&F,_e[1]=F>>>8&255,_e[2]=F>>>16&255,_e[3]=F>>>24&255,_.check=p(_.check,_e,4,0)),Y=F=0,_.mode=4;case 4:for(;Y<16;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}_.head&&(_.head.xflags=255&F,_.head.os=F>>8),512&_.flags&&(_e[0]=255&F,_e[1]=F>>>8&255,_.check=p(_.check,_e,2,0)),Y=F=0,_.mode=5;case 5:if(1024&_.flags){for(;Y<16;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}_.length=F,_.head&&(_.head.extra_len=F),512&_.flags&&(_e[0]=255&F,_e[1]=F>>>8&255,_.check=p(_.check,_e,2,0)),Y=F=0}else _.head&&(_.head.extra=null);_.mode=6;case 6:if(1024&_.flags&&(V<(G=_.length)&&(G=V),G&&(_.head&&(ie=_.head.extra_len-_.length,_.head.extra||(_.head.extra=new Array(_.head.extra_len)),m.arraySet(_.head.extra,E,N,G,ie)),512&_.flags&&(_.check=p(_.check,E,G,N)),V-=G,N+=G,_.length-=G),_.length))break e;_.length=0,_.mode=7;case 7:if(2048&_.flags){if(V===0)break e;for(G=0;ie=E[N+G++],_.head&&ie&&_.length<65536&&(_.head.name+=String.fromCharCode(ie)),ie&&G<V;);if(512&_.flags&&(_.check=p(_.check,E,G,N)),V-=G,N+=G,ie)break e}else _.head&&(_.head.name=null);_.length=0,_.mode=8;case 8:if(4096&_.flags){if(V===0)break e;for(G=0;ie=E[N+G++],_.head&&ie&&_.length<65536&&(_.head.comment+=String.fromCharCode(ie)),ie&&G<V;);if(512&_.flags&&(_.check=p(_.check,E,G,N)),V-=G,N+=G,ie)break e}else _.head&&(_.head.comment=null);_.mode=9;case 9:if(512&_.flags){for(;Y<16;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}if(F!==(65535&_.check)){S.msg="header crc mismatch",_.mode=30;break}Y=F=0}_.head&&(_.head.hcrc=_.flags>>9&1,_.head.done=!0),S.adler=_.check=0,_.mode=12;break;case 10:for(;Y<32;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}S.adler=_.check=L(F),Y=F=0,_.mode=11;case 11:if(_.havedict===0)return S.next_out=U,S.avail_out=J,S.next_in=N,S.avail_in=V,_.hold=F,_.bits=Y,2;S.adler=_.check=1,_.mode=12;case 12:if(x===5||x===6)break e;case 13:if(_.last){F>>>=7&Y,Y-=7&Y,_.mode=27;break}for(;Y<3;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}switch(_.last=1&F,Y-=1,3&(F>>>=1)){case 0:_.mode=14;break;case 1:if(k(_),_.mode=20,x!==6)break;F>>>=2,Y-=2;break e;case 2:_.mode=17;break;case 3:S.msg="invalid block type",_.mode=30}F>>>=2,Y-=2;break;case 14:for(F>>>=7&Y,Y-=7&Y;Y<32;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}if((65535&F)!=(F>>>16^65535)){S.msg="invalid stored block lengths",_.mode=30;break}if(_.length=65535&F,Y=F=0,_.mode=15,x===6)break e;case 15:_.mode=16;case 16:if(G=_.length){if(V<G&&(G=V),J<G&&(G=J),G===0)break e;m.arraySet(D,E,N,G,U),V-=G,N+=G,J-=G,U+=G,_.length-=G;break}_.mode=12;break;case 17:for(;Y<14;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}if(_.nlen=257+(31&F),F>>>=5,Y-=5,_.ndist=1+(31&F),F>>>=5,Y-=5,_.ncode=4+(15&F),F>>>=4,Y-=4,286<_.nlen||30<_.ndist){S.msg="too many length or distance symbols",_.mode=30;break}_.have=0,_.mode=18;case 18:for(;_.have<_.ncode;){for(;Y<3;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}_.lens[Re[_.have++]]=7&F,F>>>=3,Y-=3}for(;_.have<19;)_.lens[Re[_.have++]]=0;if(_.lencode=_.lendyn,_.lenbits=7,be={bits:_.lenbits},fe=C(0,_.lens,0,19,_.lencode,0,_.work,be),_.lenbits=be.bits,fe){S.msg="invalid code lengths set",_.mode=30;break}_.have=0,_.mode=19;case 19:for(;_.have<_.nlen+_.ndist;){for(;oe=(ve=_.lencode[F&(1<<_.lenbits)-1])>>>16&255,ue=65535&ve,!((Z=ve>>>24)<=Y);){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}if(ue<16)F>>>=Z,Y-=Z,_.lens[_.have++]=ue;else{if(ue===16){for(re=Z+2;Y<re;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}if(F>>>=Z,Y-=Z,_.have===0){S.msg="invalid bit length repeat",_.mode=30;break}ie=_.lens[_.have-1],G=3+(3&F),F>>>=2,Y-=2}else if(ue===17){for(re=Z+3;Y<re;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}Y-=Z,ie=0,G=3+(7&(F>>>=Z)),F>>>=3,Y-=3}else{for(re=Z+7;Y<re;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}Y-=Z,ie=0,G=11+(127&(F>>>=Z)),F>>>=7,Y-=7}if(_.have+G>_.nlen+_.ndist){S.msg="invalid bit length repeat",_.mode=30;break}for(;G--;)_.lens[_.have++]=ie}}if(_.mode===30)break;if(_.lens[256]===0){S.msg="invalid code -- missing end-of-block",_.mode=30;break}if(_.lenbits=9,be={bits:_.lenbits},fe=C(1,_.lens,0,_.nlen,_.lencode,0,_.work,be),_.lenbits=be.bits,fe){S.msg="invalid literal/lengths set",_.mode=30;break}if(_.distbits=6,_.distcode=_.distdyn,be={bits:_.distbits},fe=C(2,_.lens,_.nlen,_.ndist,_.distcode,0,_.work,be),_.distbits=be.bits,fe){S.msg="invalid distances set",_.mode=30;break}if(_.mode=20,x===6)break e;case 20:_.mode=21;case 21:if(6<=V&&258<=J){S.next_out=U,S.avail_out=J,S.next_in=N,S.avail_in=V,_.hold=F,_.bits=Y,v(S,T),U=S.next_out,D=S.output,J=S.avail_out,N=S.next_in,E=S.input,V=S.avail_in,F=_.hold,Y=_.bits,_.mode===12&&(_.back=-1);break}for(_.back=0;oe=(ve=_.lencode[F&(1<<_.lenbits)-1])>>>16&255,ue=65535&ve,!((Z=ve>>>24)<=Y);){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}if(oe&&!(240&oe)){for(te=Z,se=oe,pe=ue;oe=(ve=_.lencode[pe+((F&(1<<te+se)-1)>>te)])>>>16&255,ue=65535&ve,!(te+(Z=ve>>>24)<=Y);){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}F>>>=te,Y-=te,_.back+=te}if(F>>>=Z,Y-=Z,_.back+=Z,_.length=ue,oe===0){_.mode=26;break}if(32&oe){_.back=-1,_.mode=12;break}if(64&oe){S.msg="invalid literal/length code",_.mode=30;break}_.extra=15&oe,_.mode=22;case 22:if(_.extra){for(re=_.extra;Y<re;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}_.length+=F&(1<<_.extra)-1,F>>>=_.extra,Y-=_.extra,_.back+=_.extra}_.was=_.length,_.mode=23;case 23:for(;oe=(ve=_.distcode[F&(1<<_.distbits)-1])>>>16&255,ue=65535&ve,!((Z=ve>>>24)<=Y);){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}if(!(240&oe)){for(te=Z,se=oe,pe=ue;oe=(ve=_.distcode[pe+((F&(1<<te+se)-1)>>te)])>>>16&255,ue=65535&ve,!(te+(Z=ve>>>24)<=Y);){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}F>>>=te,Y-=te,_.back+=te}if(F>>>=Z,Y-=Z,_.back+=Z,64&oe){S.msg="invalid distance code",_.mode=30;break}_.offset=ue,_.extra=15&oe,_.mode=24;case 24:if(_.extra){for(re=_.extra;Y<re;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}_.offset+=F&(1<<_.extra)-1,F>>>=_.extra,Y-=_.extra,_.back+=_.extra}if(_.offset>_.dmax){S.msg="invalid distance too far back",_.mode=30;break}_.mode=25;case 25:if(J===0)break e;if(G=T-J,_.offset>G){if((G=_.offset-G)>_.whave&&_.sane){S.msg="invalid distance too far back",_.mode=30;break}Q=G>_.wnext?(G-=_.wnext,_.wsize-G):_.wnext-G,G>_.length&&(G=_.length),ne=_.window}else ne=D,Q=U-_.offset,G=_.length;for(J<G&&(G=J),J-=G,_.length-=G;D[U++]=ne[Q++],--G;);_.length===0&&(_.mode=21);break;case 26:if(J===0)break e;D[U++]=_.length,J--,_.mode=21;break;case 27:if(_.wrap){for(;Y<32;){if(V===0)break e;V--,F|=E[N++]<<Y,Y+=8}if(T-=J,S.total_out+=T,_.total+=T,T&&(S.adler=_.check=_.flags?p(_.check,D,T,U-T):g(_.check,D,T,U-T)),T=J,(_.flags?F:L(F))!==_.check){S.msg="incorrect data check",_.mode=30;break}Y=F=0}_.mode=28;case 28:if(_.wrap&&_.flags){for(;Y<32;){if(V===0)break e;V--,F+=E[N++]<<Y,Y+=8}if(F!==(4294967295&_.total)){S.msg="incorrect length check",_.mode=30;break}Y=F=0}_.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return j}return S.next_out=U,S.avail_out=J,S.next_in=N,S.avail_in=V,_.hold=F,_.bits=Y,(_.wsize||T!==S.avail_out&&_.mode<30&&(_.mode<27||x!==4))&&w(S,S.output,S.next_out,T-S.avail_out)?(_.mode=31,-4):(O-=S.avail_in,T-=S.avail_out,S.total_in+=O,S.total_out+=T,_.total+=T,_.wrap&&T&&(S.adler=_.check=_.flags?p(_.check,D,T,S.next_out-T):g(_.check,D,T,S.next_out-T)),S.data_type=_.bits+(_.last?64:0)+(_.mode===12?128:0)+(_.mode===20||_.mode===15?256:0),(O==0&&T===0||x===4)&&fe===0&&(fe=-5),fe)},b.inflateEnd=function(S){if(!S||!S.state)return j;var x=S.state;return x.window&&(x.window=null),S.state=null,0},b.inflateGetHeader=function(S,x){var _;return S&&S.state&&2&(_=S.state).wrap?((_.head=x).done=!1,0):j},b.inflateSetDictionary=function(S,x){var _,E=x.length;return S&&S.state?(_=S.state).wrap!==0&&_.mode!==11?j:_.mode===11&&g(1,x,E,0)!==_.check?-3:w(S,x,E,E)?(_.mode=31,-4):(_.havedict=1,0):j},b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(d,y,b){var m=d("../utils/common"),g=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],v=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],C=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];y.exports=function(j,L,$,M,z,H,q,B){var A,P,k,w,S,x,_,E,D,N=B.bits,U=0,V=0,J=0,F=0,Y=0,O=0,T=0,G=0,Q=0,ne=0,Z=null,oe=0,ue=new m.Buf16(16),te=new m.Buf16(16),se=null,pe=0;for(U=0;U<=15;U++)ue[U]=0;for(V=0;V<M;V++)ue[L[$+V]]++;for(Y=N,F=15;1<=F&&ue[F]===0;F--);if(F<Y&&(Y=F),F===0)return z[H++]=20971520,z[H++]=20971520,B.bits=1,0;for(J=1;J<F&&ue[J]===0;J++);for(Y<J&&(Y=J),U=G=1;U<=15;U++)if(G<<=1,(G-=ue[U])<0)return-1;if(0<G&&(j===0||F!==1))return-1;for(te[1]=0,U=1;U<15;U++)te[U+1]=te[U]+ue[U];for(V=0;V<M;V++)L[$+V]!==0&&(q[te[L[$+V]]++]=V);if(x=j===0?(Z=se=q,19):j===1?(Z=g,oe-=257,se=p,pe-=257,256):(Z=v,se=C,-1),U=J,S=H,T=V=ne=0,k=-1,w=(Q=1<<(O=Y))-1,j===1&&852<Q||j===2&&592<Q)return 1;for(;;){for(_=U-T,D=q[V]<x?(E=0,q[V]):q[V]>x?(E=se[pe+q[V]],Z[oe+q[V]]):(E=96,0),A=1<<U-T,J=P=1<<O;z[S+(ne>>T)+(P-=A)]=_<<24|E<<16|D|0,P!==0;);for(A=1<<U-1;ne&A;)A>>=1;if(A!==0?(ne&=A-1,ne+=A):ne=0,V++,--ue[U]==0){if(U===F)break;U=L[$+q[V]]}if(Y<U&&(ne&w)!==k){for(T===0&&(T=Y),S+=J,G=1<<(O=U-T);O+T<F&&!((G-=ue[O+T])<=0);)O++,G<<=1;if(Q+=1<<O,j===1&&852<Q||j===2&&592<Q)return 1;z[k=ne&w]=Y<<24|O<<16|S-H|0}}return ne!==0&&(z[S+ne]=U-T<<24|64<<16|0),B.bits=Y,0}},{"../utils/common":41}],51:[function(d,y,b){y.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(d,y,b){var m=d("../utils/common");function g(se){for(var pe=se.length;0<=--pe;)se[pe]=0}var p=256,v=286,C=30,j=15,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],M=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],H=new Array(576);g(H);var q=new Array(60);g(q);var B=new Array(512);g(B);var A=new Array(256);g(A);var P=new Array(29);g(P);var k,w,S,x=new Array(C);function _(se,pe,ie,fe,be){this.static_tree=se,this.extra_bits=pe,this.extra_base=ie,this.elems=fe,this.max_length=be,this.has_stree=se&&se.length}function E(se,pe){this.dyn_tree=se,this.max_code=0,this.stat_desc=pe}function D(se){return se<256?B[se]:B[256+(se>>>7)]}function N(se,pe){se.pending_buf[se.pending++]=255&pe,se.pending_buf[se.pending++]=pe>>>8&255}function U(se,pe,ie){se.bi_valid>16-ie?(se.bi_buf|=pe<<se.bi_valid&65535,N(se,se.bi_buf),se.bi_buf=pe>>16-se.bi_valid,se.bi_valid+=ie-16):(se.bi_buf|=pe<<se.bi_valid&65535,se.bi_valid+=ie)}function V(se,pe,ie){U(se,ie[2*pe],ie[2*pe+1])}function J(se,pe){for(var ie=0;ie|=1&se,se>>>=1,ie<<=1,0<--pe;);return ie>>>1}function F(se,pe,ie){var fe,be,re=new Array(16),ve=0;for(fe=1;fe<=j;fe++)re[fe]=ve=ve+ie[fe-1]<<1;for(be=0;be<=pe;be++){var _e=se[2*be+1];_e!==0&&(se[2*be]=J(re[_e]++,_e))}}function Y(se){var pe;for(pe=0;pe<v;pe++)se.dyn_ltree[2*pe]=0;for(pe=0;pe<C;pe++)se.dyn_dtree[2*pe]=0;for(pe=0;pe<19;pe++)se.bl_tree[2*pe]=0;se.dyn_ltree[512]=1,se.opt_len=se.static_len=0,se.last_lit=se.matches=0}function O(se){8<se.bi_valid?N(se,se.bi_buf):0<se.bi_valid&&(se.pending_buf[se.pending++]=se.bi_buf),se.bi_buf=0,se.bi_valid=0}function T(se,pe,ie,fe){var be=2*pe,re=2*ie;return se[be]<se[re]||se[be]===se[re]&&fe[pe]<=fe[ie]}function G(se,pe,ie){for(var fe=se.heap[ie],be=ie<<1;be<=se.heap_len&&(be<se.heap_len&&T(pe,se.heap[be+1],se.heap[be],se.depth)&&be++,!T(pe,fe,se.heap[be],se.depth));)se.heap[ie]=se.heap[be],ie=be,be<<=1;se.heap[ie]=fe}function Q(se,pe,ie){var fe,be,re,ve,_e=0;if(se.last_lit!==0)for(;fe=se.pending_buf[se.d_buf+2*_e]<<8|se.pending_buf[se.d_buf+2*_e+1],be=se.pending_buf[se.l_buf+_e],_e++,fe===0?V(se,be,pe):(V(se,(re=A[be])+p+1,pe),(ve=L[re])!==0&&U(se,be-=P[re],ve),V(se,re=D(--fe),ie),(ve=$[re])!==0&&U(se,fe-=x[re],ve)),_e<se.last_lit;);V(se,256,pe)}function ne(se,pe){var ie,fe,be,re=pe.dyn_tree,ve=pe.stat_desc.static_tree,_e=pe.stat_desc.has_stree,Re=pe.stat_desc.elems,Ge=-1;for(se.heap_len=0,se.heap_max=573,ie=0;ie<Re;ie++)re[2*ie]!==0?(se.heap[++se.heap_len]=Ge=ie,se.depth[ie]=0):re[2*ie+1]=0;for(;se.heap_len<2;)re[2*(be=se.heap[++se.heap_len]=Ge<2?++Ge:0)]=1,se.depth[be]=0,se.opt_len--,_e&&(se.static_len-=ve[2*be+1]);for(pe.max_code=Ge,ie=se.heap_len>>1;1<=ie;ie--)G(se,re,ie);for(be=Re;ie=se.heap[1],se.heap[1]=se.heap[se.heap_len--],G(se,re,1),fe=se.heap[1],se.heap[--se.heap_max]=ie,se.heap[--se.heap_max]=fe,re[2*be]=re[2*ie]+re[2*fe],se.depth[be]=(se.depth[ie]>=se.depth[fe]?se.depth[ie]:se.depth[fe])+1,re[2*ie+1]=re[2*fe+1]=be,se.heap[1]=be++,G(se,re,1),2<=se.heap_len;);se.heap[--se.heap_max]=se.heap[1],function(Ze,Ye){var et,ke,je,Ue,Le,Ve,He=Ye.dyn_tree,ot=Ye.max_code,ct=Ye.stat_desc.static_tree,bt=Ye.stat_desc.has_stree,Lt=Ye.stat_desc.extra_bits,pt=Ye.stat_desc.extra_base,Ft=Ye.stat_desc.max_length,Bt=0;for(Ue=0;Ue<=j;Ue++)Ze.bl_count[Ue]=0;for(He[2*Ze.heap[Ze.heap_max]+1]=0,et=Ze.heap_max+1;et<573;et++)Ft<(Ue=He[2*He[2*(ke=Ze.heap[et])+1]+1]+1)&&(Ue=Ft,Bt++),He[2*ke+1]=Ue,ot<ke||(Ze.bl_count[Ue]++,Le=0,pt<=ke&&(Le=Lt[ke-pt]),Ve=He[2*ke],Ze.opt_len+=Ve*(Ue+Le),bt&&(Ze.static_len+=Ve*(ct[2*ke+1]+Le)));if(Bt!==0){do{for(Ue=Ft-1;Ze.bl_count[Ue]===0;)Ue--;Ze.bl_count[Ue]--,Ze.bl_count[Ue+1]+=2,Ze.bl_count[Ft]--,Bt-=2}while(0<Bt);for(Ue=Ft;Ue!==0;Ue--)for(ke=Ze.bl_count[Ue];ke!==0;)ot<(je=Ze.heap[--et])||(He[2*je+1]!==Ue&&(Ze.opt_len+=(Ue-He[2*je+1])*He[2*je],He[2*je+1]=Ue),ke--)}}(se,pe),F(re,Ge,se.bl_count)}function Z(se,pe,ie){var fe,be,re=-1,ve=pe[1],_e=0,Re=7,Ge=4;for(ve===0&&(Re=138,Ge=3),pe[2*(ie+1)+1]=65535,fe=0;fe<=ie;fe++)be=ve,ve=pe[2*(fe+1)+1],++_e<Re&&be===ve||(_e<Ge?se.bl_tree[2*be]+=_e:be!==0?(be!==re&&se.bl_tree[2*be]++,se.bl_tree[32]++):_e<=10?se.bl_tree[34]++:se.bl_tree[36]++,re=be,Ge=(_e=0)===ve?(Re=138,3):be===ve?(Re=6,3):(Re=7,4))}function oe(se,pe,ie){var fe,be,re=-1,ve=pe[1],_e=0,Re=7,Ge=4;for(ve===0&&(Re=138,Ge=3),fe=0;fe<=ie;fe++)if(be=ve,ve=pe[2*(fe+1)+1],!(++_e<Re&&be===ve)){if(_e<Ge)for(;V(se,be,se.bl_tree),--_e!=0;);else be!==0?(be!==re&&(V(se,be,se.bl_tree),_e--),V(se,16,se.bl_tree),U(se,_e-3,2)):_e<=10?(V(se,17,se.bl_tree),U(se,_e-3,3)):(V(se,18,se.bl_tree),U(se,_e-11,7));re=be,Ge=(_e=0)===ve?(Re=138,3):be===ve?(Re=6,3):(Re=7,4)}}g(x);var ue=!1;function te(se,pe,ie,fe){U(se,0+(fe?1:0),3),function(be,re,ve,_e){O(be),N(be,ve),N(be,~ve),m.arraySet(be.pending_buf,be.window,re,ve,be.pending),be.pending+=ve}(se,pe,ie)}b._tr_init=function(se){ue||(function(){var pe,ie,fe,be,re,ve=new Array(16);for(be=fe=0;be<28;be++)for(P[be]=fe,pe=0;pe<1<<L[be];pe++)A[fe++]=be;for(A[fe-1]=be,be=re=0;be<16;be++)for(x[be]=re,pe=0;pe<1<<$[be];pe++)B[re++]=be;for(re>>=7;be<C;be++)for(x[be]=re<<7,pe=0;pe<1<<$[be]-7;pe++)B[256+re++]=be;for(ie=0;ie<=j;ie++)ve[ie]=0;for(pe=0;pe<=143;)H[2*pe+1]=8,pe++,ve[8]++;for(;pe<=255;)H[2*pe+1]=9,pe++,ve[9]++;for(;pe<=279;)H[2*pe+1]=7,pe++,ve[7]++;for(;pe<=287;)H[2*pe+1]=8,pe++,ve[8]++;for(F(H,287,ve),pe=0;pe<C;pe++)q[2*pe+1]=5,q[2*pe]=J(pe,5);k=new _(H,L,257,v,j),w=new _(q,$,0,C,j),S=new _(new Array(0),M,0,19,7)}(),ue=!0),se.l_desc=new E(se.dyn_ltree,k),se.d_desc=new E(se.dyn_dtree,w),se.bl_desc=new E(se.bl_tree,S),se.bi_buf=0,se.bi_valid=0,Y(se)},b._tr_stored_block=te,b._tr_flush_block=function(se,pe,ie,fe){var be,re,ve=0;0<se.level?(se.strm.data_type===2&&(se.strm.data_type=function(_e){var Re,Ge=4093624447;for(Re=0;Re<=31;Re++,Ge>>>=1)if(1&Ge&&_e.dyn_ltree[2*Re]!==0)return 0;if(_e.dyn_ltree[18]!==0||_e.dyn_ltree[20]!==0||_e.dyn_ltree[26]!==0)return 1;for(Re=32;Re<p;Re++)if(_e.dyn_ltree[2*Re]!==0)return 1;return 0}(se)),ne(se,se.l_desc),ne(se,se.d_desc),ve=function(_e){var Re;for(Z(_e,_e.dyn_ltree,_e.l_desc.max_code),Z(_e,_e.dyn_dtree,_e.d_desc.max_code),ne(_e,_e.bl_desc),Re=18;3<=Re&&_e.bl_tree[2*z[Re]+1]===0;Re--);return _e.opt_len+=3*(Re+1)+5+5+4,Re}(se),be=se.opt_len+3+7>>>3,(re=se.static_len+3+7>>>3)<=be&&(be=re)):be=re=ie+5,ie+4<=be&&pe!==-1?te(se,pe,ie,fe):se.strategy===4||re===be?(U(se,2+(fe?1:0),3),Q(se,H,q)):(U(se,4+(fe?1:0),3),function(_e,Re,Ge,Ze){var Ye;for(U(_e,Re-257,5),U(_e,Ge-1,5),U(_e,Ze-4,4),Ye=0;Ye<Ze;Ye++)U(_e,_e.bl_tree[2*z[Ye]+1],3);oe(_e,_e.dyn_ltree,Re-1),oe(_e,_e.dyn_dtree,Ge-1)}(se,se.l_desc.max_code+1,se.d_desc.max_code+1,ve+1),Q(se,se.dyn_ltree,se.dyn_dtree)),Y(se),fe&&O(se)},b._tr_tally=function(se,pe,ie){return se.pending_buf[se.d_buf+2*se.last_lit]=pe>>>8&255,se.pending_buf[se.d_buf+2*se.last_lit+1]=255&pe,se.pending_buf[se.l_buf+se.last_lit]=255&ie,se.last_lit++,pe===0?se.dyn_ltree[2*ie]++:(se.matches++,pe--,se.dyn_ltree[2*(A[ie]+p+1)]++,se.dyn_dtree[2*D(pe)]++),se.last_lit===se.lit_bufsize-1},b._tr_align=function(se){U(se,2,3),V(se,256,H),function(pe){pe.bi_valid===16?(N(pe,pe.bi_buf),pe.bi_buf=0,pe.bi_valid=0):8<=pe.bi_valid&&(pe.pending_buf[pe.pending++]=255&pe.bi_buf,pe.bi_buf>>=8,pe.bi_valid-=8)}(se)}},{"../utils/common":41}],53:[function(d,y,b){y.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(d,y,b){(function(m){(function(g,p){if(!g.setImmediate){var v,C,j,L,$=1,M={},z=!1,H=g.document,q=Object.getPrototypeOf&&Object.getPrototypeOf(g);q=q&&q.setTimeout?q:g,v={}.toString.call(g.process)==="[object process]"?function(k){i.nextTick(function(){A(k)})}:function(){if(g.postMessage&&!g.importScripts){var k=!0,w=g.onmessage;return g.onmessage=function(){k=!1},g.postMessage("","*"),g.onmessage=w,k}}()?(L="setImmediate$"+Math.random()+"$",g.addEventListener?g.addEventListener("message",P,!1):g.attachEvent("onmessage",P),function(k){g.postMessage(L+k,"*")}):g.MessageChannel?((j=new MessageChannel).port1.onmessage=function(k){A(k.data)},function(k){j.port2.postMessage(k)}):H&&"onreadystatechange"in H.createElement("script")?(C=H.documentElement,function(k){var w=H.createElement("script");w.onreadystatechange=function(){A(k),w.onreadystatechange=null,C.removeChild(w),w=null},C.appendChild(w)}):function(k){setTimeout(A,0,k)},q.setImmediate=function(k){typeof k!="function"&&(k=new Function(""+k));for(var w=new Array(arguments.length-1),S=0;S<w.length;S++)w[S]=arguments[S+1];var x={callback:k,args:w};return M[$]=x,v($),$++},q.clearImmediate=B}function B(k){delete M[k]}function A(k){if(z)setTimeout(A,0,k);else{var w=M[k];if(w){z=!0;try{(function(S){var x=S.callback,_=S.args;switch(_.length){case 0:x();break;case 1:x(_[0]);break;case 2:x(_[0],_[1]);break;case 3:x(_[0],_[1],_[2]);break;default:x.apply(void 0,_)}})(w)}finally{B(k),z=!1}}}}function P(k){k.source===g&&typeof k.data=="string"&&k.data.indexOf(L)===0&&A(+k.data.slice(L.length))}})(typeof self>"u"?m===void 0?this:m:self)}).call(this,s!==void 0?s:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}).call(this)}).call(this,e("_process"),typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{},e("buffer").Buffer,arguments[3],arguments[4],arguments[5],arguments[6],e("timers").setImmediate)},{_process:467,buffer:220,timers:523}],442:[function(e,n,l){(function(i){(function(){var s=/[\\^$.*+?()[\]{}|]/g,u=RegExp(s.source),a=typeof i=="object"&&i&&i.Object===Object&&i,o=typeof self=="object"&&self&&self.Object===Object&&self,c=a||o||Function("return this")(),f=Object.prototype.toString,h=c.Symbol,d=h?h.prototype:void 0,y=d?d.toString:void 0;function b(m){if(typeof m=="string")return m;if(function(p){return typeof p=="symbol"||function(v){return!!v&&typeof v=="object"}(p)&&f.call(p)=="[object Symbol]"}(m))return y?y.call(m):"";var g=m+"";return g=="0"&&1/m==-1/0?"-0":g}n.exports=function(m){var g;return(m=(g=m)==null?"":b(g))&&u.test(m)?m.replace(s,"\\$&"):m}}).call(this)}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],443:[function(e,n,l){(function(i){(function(){var s="[object Arguments]",u="[object Map]",a="[object Object]",o="[object Set]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,f=/^\w*$/,h=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,y=/\\(\\)?/g,b=/^\[object .+?Constructor\]$/,m=/^(?:0|[1-9]\d*)$/,g={};g["[object Float32Array]"]=g["[object Float64Array]"]=g["[object Int8Array]"]=g["[object Int16Array]"]=g["[object Int32Array]"]=g["[object Uint8Array]"]=g["[object Uint8ClampedArray]"]=g["[object Uint16Array]"]=g["[object Uint32Array]"]=!0,g[s]=g["[object Array]"]=g["[object ArrayBuffer]"]=g["[object Boolean]"]=g["[object DataView]"]=g["[object Date]"]=g["[object Error]"]=g["[object Function]"]=g[u]=g["[object Number]"]=g[a]=g["[object RegExp]"]=g[o]=g["[object String]"]=g["[object WeakMap]"]=!1;var p=typeof i=="object"&&i&&i.Object===Object&&i,v=typeof self=="object"&&self&&self.Object===Object&&self,C=p||v||Function("return this")(),j=typeof l=="object"&&l&&!l.nodeType&&l,L=j&&typeof n=="object"&&n&&!n.nodeType&&n,$=L&&L.exports===j&&p.process,M=function(){try{return $&&$.binding("util")}catch{}}(),z=M&&M.isTypedArray;function H(xe,Be,tt,at){for(var Tt=-1,mt=xe?xe.length:0;++Tt<mt;){var gt=xe[Tt];Be(at,gt,tt(gt),xe)}return at}function q(xe,Be){for(var tt=-1,at=xe?xe.length:0;++tt<at;)if(Be(xe[tt],tt,xe))return!0;return!1}function B(xe){var Be=!1;if(xe!=null&&typeof xe.toString!="function")try{Be=!!(xe+"")}catch{}return Be}function A(xe){var Be=-1,tt=Array(xe.size);return xe.forEach(function(at,Tt){tt[++Be]=[Tt,at]}),tt}function P(xe){var Be=-1,tt=Array(xe.size);return xe.forEach(function(at){tt[++Be]=at}),tt}var k,w,S,x=Array.prototype,_=Function.prototype,E=Object.prototype,D=C["__core-js_shared__"],N=(k=/[^.]+$/.exec(D&&D.keys&&D.keys.IE_PROTO||""))?"Symbol(src)_1."+k:"",U=_.toString,V=E.hasOwnProperty,J=E.toString,F=RegExp("^"+U.call(V).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y=C.Symbol,O=C.Uint8Array,T=E.propertyIsEnumerable,G=x.splice,Q=(w=Object.keys,S=Object,function(xe){return w(S(xe))}),ne=Je(C,"DataView"),Z=Je(C,"Map"),oe=Je(C,"Promise"),ue=Je(C,"Set"),te=Je(C,"WeakMap"),se=Je(Object,"create"),pe=Ae(ne),ie=Ae(Z),fe=Ae(oe),be=Ae(ue),re=Ae(te),ve=Y?Y.prototype:void 0,_e=ve?ve.valueOf:void 0,Re=ve?ve.toString:void 0;function Ge(xe){var Be=-1,tt=xe?xe.length:0;for(this.clear();++Be<tt;){var at=xe[Be];this.set(at[0],at[1])}}function Ze(xe){var Be=-1,tt=xe?xe.length:0;for(this.clear();++Be<tt;){var at=xe[Be];this.set(at[0],at[1])}}function Ye(xe){var Be=-1,tt=xe?xe.length:0;for(this.clear();++Be<tt;){var at=xe[Be];this.set(at[0],at[1])}}function et(xe){var Be=-1,tt=xe?xe.length:0;for(this.__data__=new Ye;++Be<tt;)this.add(xe[Be])}function ke(xe){this.__data__=new Ze(xe)}function je(xe,Be){var tt=Ct(xe)||jt(xe)?function(gt,er){for(var Gt=-1,Kt=Array(gt);++Gt<gt;)Kt[Gt]=er(Gt);return Kt}(xe.length,String):[],at=tt.length,Tt=!!at;for(var mt in xe)!V.call(xe,mt)||Tt&&(mt=="length"||We(mt,at))||tt.push(mt);return tt}function Ue(xe,Be){for(var tt=xe.length;tt--;)if(ht(xe[tt][0],Be))return tt;return-1}function Le(xe,Be,tt,at){return He(xe,function(Tt,mt,gt){Be(at,Tt,tt(Tt),gt)}),at}Ge.prototype.clear=function(){this.__data__=se?se(null):{}},Ge.prototype.delete=function(xe){return this.has(xe)&&delete this.__data__[xe]},Ge.prototype.get=function(xe){var Be=this.__data__;if(se){var tt=Be[xe];return tt==="__lodash_hash_undefined__"?void 0:tt}return V.call(Be,xe)?Be[xe]:void 0},Ge.prototype.has=function(xe){var Be=this.__data__;return se?Be[xe]!==void 0:V.call(Be,xe)},Ge.prototype.set=function(xe,Be){return this.__data__[xe]=se&&Be===void 0?"__lodash_hash_undefined__":Be,this},Ze.prototype.clear=function(){this.__data__=[]},Ze.prototype.delete=function(xe){var Be=this.__data__,tt=Ue(Be,xe);return!(tt<0)&&(tt==Be.length-1?Be.pop():G.call(Be,tt,1),!0)},Ze.prototype.get=function(xe){var Be=this.__data__,tt=Ue(Be,xe);return tt<0?void 0:Be[tt][1]},Ze.prototype.has=function(xe){return Ue(this.__data__,xe)>-1},Ze.prototype.set=function(xe,Be){var tt=this.__data__,at=Ue(tt,xe);return at<0?tt.push([xe,Be]):tt[at][1]=Be,this},Ye.prototype.clear=function(){this.__data__={hash:new Ge,map:new(Z||Ze),string:new Ge}},Ye.prototype.delete=function(xe){return Me(this,xe).delete(xe)},Ye.prototype.get=function(xe){return Me(this,xe).get(xe)},Ye.prototype.has=function(xe){return Me(this,xe).has(xe)},Ye.prototype.set=function(xe,Be){return Me(this,xe).set(xe,Be),this},et.prototype.add=et.prototype.push=function(xe){return this.__data__.set(xe,"__lodash_hash_undefined__"),this},et.prototype.has=function(xe){return this.__data__.has(xe)},ke.prototype.clear=function(){this.__data__=new Ze},ke.prototype.delete=function(xe){return this.__data__.delete(xe)},ke.prototype.get=function(xe){return this.__data__.get(xe)},ke.prototype.has=function(xe){return this.__data__.has(xe)},ke.prototype.set=function(xe,Be){var tt=this.__data__;if(tt instanceof Ze){var at=tt.__data__;if(!Z||at.length<199)return at.push([xe,Be]),this;tt=this.__data__=new Ye(at)}return tt.set(xe,Be),this};var Ve,He=(Ve=function(xe,Be){return xe&&ot(xe,Be,Cr)},function(xe,Be){if(xe==null)return xe;if(!_t(xe))return Ve(xe,Be);for(var tt=xe.length,at=-1,Tt=Object(xe);++at<tt&&Be(Tt[at],at,Tt)!==!1;);return xe}),ot=function(xe){return function(Be,tt,at){for(var Tt=-1,mt=Object(Be),gt=at(Be),er=gt.length;er--;){var Gt=gt[++Tt];if(tt(mt[Gt],Gt,mt)===!1)break}return Be}}();function ct(xe,Be){for(var tt=0,at=(Be=De(Be,xe)?[Be]:xt(Be)).length;xe!=null&&tt<at;)xe=xe[we(Be[tt++])];return tt&&tt==at?xe:void 0}function bt(xe,Be){return xe!=null&&Be in Object(xe)}function Lt(xe,Be,tt,at,Tt){return xe===Be||(xe==null||Be==null||!$t(xe)&&!pr(Be)?xe!=xe&&Be!=Be:function(mt,gt,er,Gt,Kt,Mt){var lr=Ct(mt),zt=Ct(gt),ur="[object Array]",vr="[object Array]";lr||(ur=(ur=Ce(mt))==s?a:ur),zt||(vr=(vr=Ce(gt))==s?a:vr);var Lr=ur==a&&!B(mt),Hr=vr==a&&!B(gt),Fn=ur==vr;if(Fn&&!Lr)return Mt||(Mt=new ke),lr||kr(mt)?vt(mt,gt,er,Gt,Kt,Mt):function(or,rr,ai,Fi,xs,bn,Bn){switch(ai){case"[object DataView]":if(or.byteLength!=rr.byteLength||or.byteOffset!=rr.byteOffset)return!1;or=or.buffer,rr=rr.buffer;case"[object ArrayBuffer]":return!(or.byteLength!=rr.byteLength||!Fi(new O(or),new O(rr)));case"[object Boolean]":case"[object Date]":case"[object Number]":return ht(+or,+rr);case"[object Error]":return or.name==rr.name&&or.message==rr.message;case"[object RegExp]":case"[object String]":return or==rr+"";case u:var wi=A;case o:var _s=2&bn;if(wi||(wi=P),or.size!=rr.size&&!_s)return!1;var Ys=Bn.get(or);if(Ys)return Ys==rr;bn|=1,Bn.set(or,rr);var kn=vt(wi(or),wi(rr),Fi,xs,bn,Bn);return Bn.delete(or),kn;case"[object Symbol]":if(_e)return _e.call(or)==_e.call(rr)}return!1}(mt,gt,ur,er,Gt,Kt,Mt);if(!(2&Kt)){var on=Lr&&V.call(mt,"__wrapped__"),oi=Hr&&V.call(gt,"__wrapped__");if(on||oi){var Vr=on?mt.value():mt,vi=oi?gt.value():gt;return Mt||(Mt=new ke),er(Vr,vi,Gt,Kt,Mt)}}return Fn?(Mt||(Mt=new ke),function(or,rr,ai,Fi,xs,bn){var Bn=2&xs,wi=Cr(or),_s=wi.length,Ys=Cr(rr).length;if(_s!=Ys&&!Bn)return!1;for(var kn=_s;kn--;){var Dn=wi[kn];if(!(Bn?Dn in rr:V.call(rr,Dn)))return!1}var Ss=bn.get(or);if(Ss&&bn.get(rr))return Ss==rr;var ks=!0;bn.set(or,rr),bn.set(rr,or);for(var Qr=Bn;++kn<_s;){Dn=wi[kn];var Js=or[Dn],Cs=rr[Dn];if(Fi)var Wt=Bn?Fi(Cs,Js,Dn,rr,or,bn):Fi(Js,Cs,Dn,or,rr,bn);if(!(Wt===void 0?Js===Cs||ai(Js,Cs,Fi,xs,bn):Wt)){ks=!1;break}Qr||(Qr=Dn=="constructor")}if(ks&&!Qr){var Zs=or.constructor,Qs=rr.constructor;Zs==Qs||!("constructor"in or)||!("constructor"in rr)||typeof Zs=="function"&&Zs instanceof Zs&&typeof Qs=="function"&&Qs instanceof Qs||(ks=!1)}return bn.delete(or),bn.delete(rr),ks}(mt,gt,er,Gt,Kt,Mt)):!1}(xe,Be,Lt,tt,at,Tt))}function pt(xe){return!(!$t(xe)||function(Be){return!!N&&N in Be}(xe))&&(It(xe)||B(xe)?F:b).test(Ae(xe))}function Ft(xe){return typeof xe=="function"?xe:xe==null?Wr:typeof xe=="object"?Ct(xe)?function(at,Tt){return De(at)&&Fe(Tt)?Ke(we(at),Tt):function(mt){var gt=function(er,Gt,Kt){var Mt=er==null?void 0:ct(er,Gt);return Mt===void 0?Kt:Mt}(mt,at);return gt===void 0&&gt===Tt?function(er,Gt){return er!=null&&function(Kt,Mt,lr){Mt=De(Mt,Kt)?[Mt]:xt(Mt);for(var zt,ur=-1,vr=Mt.length;++ur<vr;){var Lr=we(Mt[ur]);if(!(zt=Kt!=null&&lr(Kt,Lr)))break;Kt=Kt[Lr]}return zt||!!(vr=Kt?Kt.length:0)&&Nt(vr)&&We(Lr,vr)&&(Ct(Kt)||jt(Kt))}(er,Gt,bt)}(mt,at):Lt(Tt,gt,void 0,3)}}(xe[0],xe[1]):function(at){var Tt=function(mt){for(var gt=Cr(mt),er=gt.length;er--;){var Gt=gt[er],Kt=mt[Gt];gt[er]=[Gt,Kt,Fe(Kt)]}return gt}(at);return Tt.length==1&&Tt[0][2]?Ke(Tt[0][0],Tt[0][1]):function(mt){return mt===at||function(gt,er,Gt,Kt){var Mt=Gt.length,lr=Mt;if(gt==null)return!lr;for(gt=Object(gt);Mt--;){var zt=Gt[Mt];if(zt[2]?zt[1]!==gt[zt[0]]:!(zt[0]in gt))return!1}for(;++Mt<lr;){var ur=(zt=Gt[Mt])[0],vr=gt[ur],Lr=zt[1];if(zt[2]){if(vr===void 0&&!(ur in gt))return!1}else{var Hr=new ke,Fn;if(!(Fn===void 0?Lt(Lr,vr,Kt,3,Hr):Fn))return!1}}return!0}(mt,at,Tt)}}(xe):De(Be=xe)?(tt=we(Be),function(at){return at==null?void 0:at[tt]}):function(at){return function(Tt){return ct(Tt,at)}}(Be);var Be,tt}function Bt(xe){if(tt=(Be=xe)&&Be.constructor,at=typeof tt=="function"&&tt.prototype||E,Be!==at)return Q(xe);var Be,tt,at,Tt=[];for(var mt in Object(xe))V.call(xe,mt)&&mt!="constructor"&&Tt.push(mt);return Tt}function xt(xe){return Ct(xe)?xe:st(xe)}function vt(xe,Be,tt,at,Tt,mt){var gt=2&Tt,er=xe.length,Gt=Be.length;if(er!=Gt&&!(gt&&Gt>er))return!1;var Kt=mt.get(xe);if(Kt&&mt.get(Be))return Kt==Be;var Mt=-1,lr=!0,zt=1&Tt?new et:void 0;for(mt.set(xe,Be),mt.set(Be,xe);++Mt<er;){var ur=xe[Mt],vr=Be[Mt];if(at)var Lr=gt?at(vr,ur,Mt,Be,xe,mt):at(ur,vr,Mt,xe,Be,mt);if(Lr!==void 0){if(Lr)continue;lr=!1;break}if(zt){if(!q(Be,function(Hr,Fn){if(!zt.has(Fn)&&(ur===Hr||tt(ur,Hr,at,Tt,mt)))return zt.add(Fn)})){lr=!1;break}}else if(ur!==vr&&!tt(ur,vr,at,Tt,mt)){lr=!1;break}}return mt.delete(xe),mt.delete(Be),lr}function Me(xe,Be){var tt,at,Tt=xe.__data__;return((at=typeof(tt=Be))=="string"||at=="number"||at=="symbol"||at=="boolean"?tt!=="__proto__":tt===null)?Tt[typeof Be=="string"?"string":"hash"]:Tt.map}function Je(xe,Be){var tt=function(at,Tt){return at==null?void 0:at[Tt]}(xe,Be);return pt(tt)?tt:void 0}var Ce=function(xe){return J.call(xe)};function We(xe,Be){return!!(Be=Be??9007199254740991)&&(typeof xe=="number"||m.test(xe))&&xe>-1&&xe%1==0&&xe<Be}function De(xe,Be){if(Ct(xe))return!1;var tt=typeof xe;return!(tt!="number"&&tt!="symbol"&&tt!="boolean"&&xe!=null&&!ar(xe))||f.test(xe)||!c.test(xe)||Be!=null&&xe in Object(Be)}function Fe(xe){return xe==xe&&!$t(xe)}function Ke(xe,Be){return function(tt){return tt!=null&&tt[xe]===Be&&(Be!==void 0||xe in Object(tt))}}(ne&&Ce(new ne(new ArrayBuffer(1)))!="[object DataView]"||Z&&Ce(new Z)!=u||oe&&Ce(oe.resolve())!="[object Promise]"||ue&&Ce(new ue)!=o||te&&Ce(new te)!="[object WeakMap]")&&(Ce=function(xe){var Be=J.call(xe),tt=Be==a?xe.constructor:void 0,at=tt?Ae(tt):void 0;if(at)switch(at){case pe:return"[object DataView]";case ie:return u;case fe:return"[object Promise]";case be:return o;case re:return"[object WeakMap]"}return Be});var st=Et(function(xe){var Be;xe=(Be=xe)==null?"":function(at){if(typeof at=="string")return at;if(ar(at))return Re?Re.call(at):"";var Tt=at+"";return Tt=="0"&&1/at==-1/0?"-0":Tt}(Be);var tt=[];return h.test(xe)&&tt.push(""),xe.replace(d,function(at,Tt,mt,gt){tt.push(mt?gt.replace(y,"$1"):Tt||at)}),tt});function we(xe){if(typeof xe=="string"||ar(xe))return xe;var Be=xe+"";return Be=="0"&&1/xe==-1/0?"-0":Be}function Ae(xe){if(xe!=null){try{return U.call(xe)}catch{}try{return xe+""}catch{}}return""}var ze,lt=(ze=function(xe,Be,tt){V.call(xe,tt)?xe[tt].push(Be):xe[tt]=[Be]},function(xe,Be){var tt=Ct(xe)?H:Le,at={};return tt(xe,ze,Ft(Be),at)});function Et(xe,Be){if(typeof xe!="function"||Be&&typeof Be!="function")throw new TypeError("Expected a function");var tt=function(){var at=arguments,Tt=Be?Be.apply(this,at):at[0],mt=tt.cache;if(mt.has(Tt))return mt.get(Tt);var gt=xe.apply(this,at);return tt.cache=mt.set(Tt,gt),gt};return tt.cache=new(Et.Cache||Ye),tt}function ht(xe,Be){return xe===Be||xe!=xe&&Be!=Be}function jt(xe){return function(Be){return pr(Be)&&_t(Be)}(xe)&&V.call(xe,"callee")&&(!T.call(xe,"callee")||J.call(xe)==s)}Et.Cache=Ye;var Ct=Array.isArray;function _t(xe){return xe!=null&&Nt(xe.length)&&!It(xe)}function It(xe){var Be=$t(xe)?J.call(xe):"";return Be=="[object Function]"||Be=="[object GeneratorFunction]"}function Nt(xe){return typeof xe=="number"&&xe>-1&&xe%1==0&&xe<=9007199254740991}function $t(xe){var Be=typeof xe;return!!xe&&(Be=="object"||Be=="function")}function pr(xe){return!!xe&&typeof xe=="object"}function ar(xe){return typeof xe=="symbol"||pr(xe)&&J.call(xe)=="[object Symbol]"}var kr=z?function(xe){return function(Be){return xe(Be)}}(z):function(xe){return pr(xe)&&Nt(xe.length)&&!!g[J.call(xe)]};function Cr(xe){return _t(xe)?je(xe):Bt(xe)}function Wr(xe){return xe}n.exports=lt}).call(this)}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],444:[function(e,n,l){var i=Object.prototype.toString;n.exports=function(s){return s===!0||s===!1||function(u){return!!u&&typeof u=="object"}(s)&&i.call(s)=="[object Boolean]"}},{}],445:[function(e,n,l){(function(i){(function(){var s="[object Arguments]",u="[object Map]",a="[object Object]",o="[object Set]",c=/^\[object .+?Constructor\]$/,f=/^(?:0|[1-9]\d*)$/,h={};h["[object Float32Array]"]=h["[object Float64Array]"]=h["[object Int8Array]"]=h["[object Int16Array]"]=h["[object Int32Array]"]=h["[object Uint8Array]"]=h["[object Uint8ClampedArray]"]=h["[object Uint16Array]"]=h["[object Uint32Array]"]=!0,h[s]=h["[object Array]"]=h["[object ArrayBuffer]"]=h["[object Boolean]"]=h["[object DataView]"]=h["[object Date]"]=h["[object Error]"]=h["[object Function]"]=h[u]=h["[object Number]"]=h[a]=h["[object RegExp]"]=h[o]=h["[object String]"]=h["[object WeakMap]"]=!1;var d=typeof i=="object"&&i&&i.Object===Object&&i,y=typeof self=="object"&&self&&self.Object===Object&&self,b=d||y||Function("return this")(),m=typeof l=="object"&&l&&!l.nodeType&&l,g=m&&typeof n=="object"&&n&&!n.nodeType&&n,p=g&&g.exports===m,v=p&&d.process,C=function(){try{return v&&v.binding&&v.binding("util")}catch{}}(),j=C&&C.isTypedArray;function L(we,Ae){for(var ze=-1,lt=we==null?0:we.length;++ze<lt;)if(Ae(we[ze],ze,we))return!0;return!1}function $(we){var Ae=-1,ze=Array(we.size);return we.forEach(function(lt,Et){ze[++Ae]=[Et,lt]}),ze}function M(we){var Ae=-1,ze=Array(we.size);return we.forEach(function(lt){ze[++Ae]=lt}),ze}var z,H,q,B=Array.prototype,A=Function.prototype,P=Object.prototype,k=b["__core-js_shared__"],w=A.toString,S=P.hasOwnProperty,x=(z=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",_=P.toString,E=RegExp("^"+w.call(S).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),D=p?b.Buffer:void 0,N=b.Symbol,U=b.Uint8Array,V=P.propertyIsEnumerable,J=B.splice,F=N?N.toStringTag:void 0,Y=Object.getOwnPropertySymbols,O=D?D.isBuffer:void 0,T=(H=Object.keys,q=Object,function(we){return H(q(we))}),G=bt(b,"DataView"),Q=bt(b,"Map"),ne=bt(b,"Promise"),Z=bt(b,"Set"),oe=bt(b,"WeakMap"),ue=bt(Object,"create"),te=Bt(G),se=Bt(Q),pe=Bt(ne),ie=Bt(Z),fe=Bt(oe),be=N?N.prototype:void 0,re=be?be.valueOf:void 0;function ve(we){var Ae=-1,ze=we==null?0:we.length;for(this.clear();++Ae<ze;){var lt=we[Ae];this.set(lt[0],lt[1])}}function _e(we){var Ae=-1,ze=we==null?0:we.length;for(this.clear();++Ae<ze;){var lt=we[Ae];this.set(lt[0],lt[1])}}function Re(we){var Ae=-1,ze=we==null?0:we.length;for(this.clear();++Ae<ze;){var lt=we[Ae];this.set(lt[0],lt[1])}}function Ge(we){var Ae=-1,ze=we==null?0:we.length;for(this.__data__=new Re;++Ae<ze;)this.add(we[Ae])}function Ze(we){var Ae=this.__data__=new _e(we);this.size=Ae.size}function Ye(we,Ae){var ze=Me(we),lt=!ze&&vt(we),Et=!ze&&!lt&&Je(we),ht=!ze&&!lt&&!Et&&Ke(we),jt=ze||lt||Et||ht,Ct=jt?function(Nt,$t){for(var pr=-1,ar=Array(Nt);++pr<Nt;)ar[pr]=$t(pr);return ar}(we.length,String):[],_t=Ct.length;for(var It in we)!S.call(we,It)||jt&&(It=="length"||Et&&(It=="offset"||It=="parent")||ht&&(It=="buffer"||It=="byteLength"||It=="byteOffset")||Ft(It,_t))||Ct.push(It);return Ct}function et(we,Ae){for(var ze=we.length;ze--;)if(xt(we[ze][0],Ae))return ze;return-1}function ke(we){return we==null?we===void 0?"[object Undefined]":"[object Null]":F&&F in Object(we)?function(Ae){var ze=S.call(Ae,F),lt=Ae[F];try{Ae[F]=void 0;var Et=!0}catch{}var ht=_.call(Ae);return Et&&(ze?Ae[F]=lt:delete Ae[F]),ht}(we):function(Ae){return _.call(Ae)}(we)}function je(we){return Fe(we)&&ke(we)==s}function Ue(we,Ae,ze,lt,Et){return we===Ae||(we==null||Ae==null||!Fe(we)&&!Fe(Ae)?we!=we&&Ae!=Ae:function(ht,jt,Ct,_t,It,Nt){var $t=Me(ht),pr=Me(jt),ar=$t?"[object Array]":pt(ht),kr=pr?"[object Array]":pt(jt),Cr=(ar=ar==s?a:ar)==a,Wr=(kr=kr==s?a:kr)==a,xe=ar==kr;if(xe&&Je(ht)){if(!Je(jt))return!1;$t=!0,Cr=!1}if(xe&&!Cr)return Nt||(Nt=new Ze),$t||Ke(ht)?He(ht,jt,Ct,_t,It,Nt):function(mt,gt,er,Gt,Kt,Mt,lr){switch(er){case"[object DataView]":if(mt.byteLength!=gt.byteLength||mt.byteOffset!=gt.byteOffset)return!1;mt=mt.buffer,gt=gt.buffer;case"[object ArrayBuffer]":return!(mt.byteLength!=gt.byteLength||!Mt(new U(mt),new U(gt)));case"[object Boolean]":case"[object Date]":case"[object Number]":return xt(+mt,+gt);case"[object Error]":return mt.name==gt.name&&mt.message==gt.message;case"[object RegExp]":case"[object String]":return mt==gt+"";case u:var zt=$;case o:var ur=1&Gt;if(zt||(zt=M),mt.size!=gt.size&&!ur)return!1;var vr=lr.get(mt);if(vr)return vr==gt;Gt|=2,lr.set(mt,gt);var Lr=He(zt(mt),zt(gt),Gt,Kt,Mt,lr);return lr.delete(mt),Lr;case"[object Symbol]":if(re)return re.call(mt)==re.call(gt)}return!1}(ht,jt,ar,Ct,_t,It,Nt);if(!(1&Ct)){var Be=Cr&&S.call(ht,"__wrapped__"),tt=Wr&&S.call(jt,"__wrapped__");if(Be||tt){var at=Be?ht.value():ht,Tt=tt?jt.value():jt;return Nt||(Nt=new Ze),It(at,Tt,Ct,_t,Nt)}}return xe?(Nt||(Nt=new Ze),function(mt,gt,er,Gt,Kt,Mt){var lr=1&er,zt=ot(mt),ur=zt.length,vr=ot(gt).length;if(ur!=vr&&!lr)return!1;for(var Lr=ur;Lr--;){var Hr=zt[Lr];if(!(lr?Hr in gt:S.call(gt,Hr)))return!1}var Fn=Mt.get(mt);if(Fn&&Mt.get(gt))return Fn==gt;var on=!0;Mt.set(mt,gt),Mt.set(gt,mt);for(var oi=lr;++Lr<ur;){Hr=zt[Lr];var Vr=mt[Hr],vi=gt[Hr];if(Gt)var or=lr?Gt(vi,Vr,Hr,gt,mt,Mt):Gt(Vr,vi,Hr,mt,gt,Mt);if(!(or===void 0?Vr===vi||Kt(Vr,vi,er,Gt,Mt):or)){on=!1;break}oi||(oi=Hr=="constructor")}if(on&&!oi){var rr=mt.constructor,ai=gt.constructor;rr==ai||!("constructor"in mt)||!("constructor"in gt)||typeof rr=="function"&&rr instanceof rr&&typeof ai=="function"&&ai instanceof ai||(on=!1)}return Mt.delete(mt),Mt.delete(gt),on}(ht,jt,Ct,_t,It,Nt)):!1}(we,Ae,ze,lt,Ue,Et))}function Le(we){return!(!De(we)||function(Ae){return!!x&&x in Ae}(we))&&(Ce(we)?E:c).test(Bt(we))}function Ve(we){if(ze=(Ae=we)&&Ae.constructor,lt=typeof ze=="function"&&ze.prototype||P,Ae!==lt)return T(we);var Ae,ze,lt,Et=[];for(var ht in Object(we))S.call(we,ht)&&ht!="constructor"&&Et.push(ht);return Et}function He(we,Ae,ze,lt,Et,ht){var jt=1&ze,Ct=we.length,_t=Ae.length;if(Ct!=_t&&!(jt&&_t>Ct))return!1;var It=ht.get(we);if(It&&ht.get(Ae))return It==Ae;var Nt=-1,$t=!0,pr=2&ze?new Ge:void 0;for(ht.set(we,Ae),ht.set(Ae,we);++Nt<Ct;){var ar=we[Nt],kr=Ae[Nt];if(lt)var Cr=jt?lt(kr,ar,Nt,Ae,we,ht):lt(ar,kr,Nt,we,Ae,ht);if(Cr!==void 0){if(Cr)continue;$t=!1;break}if(pr){if(!L(Ae,function(Wr,xe){if(Be=xe,!pr.has(Be)&&(ar===Wr||Et(ar,Wr,ze,lt,ht)))return pr.push(xe);var Be})){$t=!1;break}}else if(ar!==kr&&!Et(ar,kr,ze,lt,ht)){$t=!1;break}}return ht.delete(we),ht.delete(Ae),$t}function ot(we){return function(Ae,ze,lt){var Et=ze(Ae);return Me(Ae)?Et:function(ht,jt){for(var Ct=-1,_t=jt.length,It=ht.length;++Ct<_t;)ht[It+Ct]=jt[Ct];return ht}(Et,lt(Ae))}(we,st,Lt)}function ct(we,Ae){var ze,lt,Et=we.__data__;return((lt=typeof(ze=Ae))=="string"||lt=="number"||lt=="symbol"||lt=="boolean"?ze!=="__proto__":ze===null)?Et[typeof Ae=="string"?"string":"hash"]:Et.map}function bt(we,Ae){var ze=function(lt,Et){return lt==null?void 0:lt[Et]}(we,Ae);return Le(ze)?ze:void 0}ve.prototype.clear=function(){this.__data__=ue?ue(null):{},this.size=0},ve.prototype.delete=function(we){var Ae=this.has(we)&&delete this.__data__[we];return this.size-=Ae?1:0,Ae},ve.prototype.get=function(we){var Ae=this.__data__;if(ue){var ze=Ae[we];return ze==="__lodash_hash_undefined__"?void 0:ze}return S.call(Ae,we)?Ae[we]:void 0},ve.prototype.has=function(we){var Ae=this.__data__;return ue?Ae[we]!==void 0:S.call(Ae,we)},ve.prototype.set=function(we,Ae){var ze=this.__data__;return this.size+=this.has(we)?0:1,ze[we]=ue&&Ae===void 0?"__lodash_hash_undefined__":Ae,this},_e.prototype.clear=function(){this.__data__=[],this.size=0},_e.prototype.delete=function(we){var Ae=this.__data__,ze=et(Ae,we);return!(ze<0)&&(ze==Ae.length-1?Ae.pop():J.call(Ae,ze,1),--this.size,!0)},_e.prototype.get=function(we){var Ae=this.__data__,ze=et(Ae,we);return ze<0?void 0:Ae[ze][1]},_e.prototype.has=function(we){return et(this.__data__,we)>-1},_e.prototype.set=function(we,Ae){var ze=this.__data__,lt=et(ze,we);return lt<0?(++this.size,ze.push([we,Ae])):ze[lt][1]=Ae,this},Re.prototype.clear=function(){this.size=0,this.__data__={hash:new ve,map:new(Q||_e),string:new ve}},Re.prototype.delete=function(we){var Ae=ct(this,we).delete(we);return this.size-=Ae?1:0,Ae},Re.prototype.get=function(we){return ct(this,we).get(we)},Re.prototype.has=function(we){return ct(this,we).has(we)},Re.prototype.set=function(we,Ae){var ze=ct(this,we),lt=ze.size;return ze.set(we,Ae),this.size+=ze.size==lt?0:1,this},Ge.prototype.add=Ge.prototype.push=function(we){return this.__data__.set(we,"__lodash_hash_undefined__"),this},Ge.prototype.has=function(we){return this.__data__.has(we)},Ze.prototype.clear=function(){this.__data__=new _e,this.size=0},Ze.prototype.delete=function(we){var Ae=this.__data__,ze=Ae.delete(we);return this.size=Ae.size,ze},Ze.prototype.get=function(we){return this.__data__.get(we)},Ze.prototype.has=function(we){return this.__data__.has(we)},Ze.prototype.set=function(we,Ae){var ze=this.__data__;if(ze instanceof _e){var lt=ze.__data__;if(!Q||lt.length<199)return lt.push([we,Ae]),this.size=++ze.size,this;ze=this.__data__=new Re(lt)}return ze.set(we,Ae),this.size=ze.size,this};var Lt=Y?function(we){return we==null?[]:(we=Object(we),function(Ae,ze){for(var lt=-1,Et=Ae==null?0:Ae.length,ht=0,jt=[];++lt<Et;){var Ct=Ae[lt];ze(Ct,lt,Ae)&&(jt[ht++]=Ct)}return jt}(Y(we),function(Ae){return V.call(we,Ae)}))}:function(){return[]},pt=ke;function Ft(we,Ae){return!!(Ae=Ae??9007199254740991)&&(typeof we=="number"||f.test(we))&&we>-1&&we%1==0&&we<Ae}function Bt(we){if(we!=null){try{return w.call(we)}catch{}try{return we+""}catch{}}return""}function xt(we,Ae){return we===Ae||we!=we&&Ae!=Ae}(G&&pt(new G(new ArrayBuffer(1)))!="[object DataView]"||Q&&pt(new Q)!=u||ne&&pt(ne.resolve())!="[object Promise]"||Z&&pt(new Z)!=o||oe&&pt(new oe)!="[object WeakMap]")&&(pt=function(we){var Ae=ke(we),ze=Ae==a?we.constructor:void 0,lt=ze?Bt(ze):"";if(lt)switch(lt){case te:return"[object DataView]";case se:return u;case pe:return"[object Promise]";case ie:return o;case fe:return"[object WeakMap]"}return Ae});var vt=je(function(){return arguments}())?je:function(we){return Fe(we)&&S.call(we,"callee")&&!V.call(we,"callee")},Me=Array.isArray,Je=O||function(){return!1};function Ce(we){if(!De(we))return!1;var Ae=ke(we);return Ae=="[object Function]"||Ae=="[object GeneratorFunction]"||Ae=="[object AsyncFunction]"||Ae=="[object Proxy]"}function We(we){return typeof we=="number"&&we>-1&&we%1==0&&we<=9007199254740991}function De(we){var Ae=typeof we;return we!=null&&(Ae=="object"||Ae=="function")}function Fe(we){return we!=null&&typeof we=="object"}var Ke=j?function(we){return function(Ae){return we(Ae)}}(j):function(we){return Fe(we)&&We(we.length)&&!!h[ke(we)]};function st(we){return(Ae=we)!=null&&We(Ae.length)&&!Ce(Ae)?Ye(we):Ve(we);var Ae}n.exports=function(we,Ae){return Ue(we,Ae)}}).call(this)}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],446:[function(e,n,l){(function(i){(function(){var s=typeof i=="object"&&i&&i.Object===Object&&i,u=typeof self=="object"&&self&&self.Object===Object&&self,a=s||u||Function("return this")(),o=Object.prototype,c=o.hasOwnProperty,f=o.toString,h=a.Symbol,d=h?h.toStringTag:void 0;function y(b){return b==null?b===void 0?"[object Undefined]":"[object Null]":d&&d in Object(b)?function(m){var g=c.call(m,d),p=m[d];try{m[d]=void 0;var v=!0}catch{}var C=f.call(m);return v&&(g?m[d]=p:delete m[d]),C}(b):function(m){return f.call(m)}(b)}n.exports=function(b){if(!function(g){var p=typeof g;return g!=null&&(p=="object"||p=="function")}(b))return!1;var m=y(b);return m=="[object Function]"||m=="[object GeneratorFunction]"||m=="[object AsyncFunction]"||m=="[object Proxy]"}}).call(this)}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],447:[function(e,n,l){n.exports=function(i){return i==null}},{}],448:[function(e,n,l){n.exports=function(i){return i===void 0}},{}],449:[function(e,n,l){(function(i){(function(){var s=/^\[object .+?Constructor\]$/,u=typeof i=="object"&&i&&i.Object===Object&&i,a=typeof self=="object"&&self&&self.Object===Object&&self,o=u||a||Function("return this")();function c(N,U){return!!(N&&N.length)&&function(V,J,F){if(J!=J)return function(T,G,Q,ne){for(var Z=T.length,oe=Q+-1;++oe<Z;)if(G(T[oe],oe,T))return oe;return-1}(V,f,F);for(var Y=F-1,O=V.length;++Y<O;)if(V[Y]===J)return Y;return-1}(N,U,0)>-1}function f(N){return N!=N}function h(N,U){return N.has(U)}function d(N){var U=-1,V=Array(N.size);return N.forEach(function(J){V[++U]=J}),V}var y,b=Array.prototype,m=Function.prototype,g=Object.prototype,p=o["__core-js_shared__"],v=(y=/[^.]+$/.exec(p&&p.keys&&p.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",C=m.toString,j=g.hasOwnProperty,L=g.toString,$=RegExp("^"+C.call(j).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),M=b.splice,z=E(o,"Map"),H=E(o,"Set"),q=E(Object,"create");function B(N){var U=-1,V=N?N.length:0;for(this.clear();++U<V;){var J=N[U];this.set(J[0],J[1])}}function A(N){var U=-1,V=N?N.length:0;for(this.clear();++U<V;){var J=N[U];this.set(J[0],J[1])}}function P(N){var U=-1,V=N?N.length:0;for(this.clear();++U<V;){var J=N[U];this.set(J[0],J[1])}}function k(N){var U=-1,V=N?N.length:0;for(this.__data__=new P;++U<V;)this.add(N[U])}function w(N,U){for(var V,J,F=N.length;F--;)if((V=N[F][0])===(J=U)||V!=V&&J!=J)return F;return-1}function S(N){return!(!D(N)||(U=N,v&&v in U))&&(function(V){var J=D(V)?L.call(V):"";return J=="[object Function]"||J=="[object GeneratorFunction]"}(N)||function(V){var J=!1;if(V!=null&&typeof V.toString!="function")try{J=!!(V+"")}catch{}return J}(N)?$:s).test(function(V){if(V!=null){try{return C.call(V)}catch{}try{return V+""}catch{}}return""}(N));var U}B.prototype.clear=function(){this.__data__=q?q(null):{}},B.prototype.delete=function(N){return this.has(N)&&delete this.__data__[N]},B.prototype.get=function(N){var U=this.__data__;if(q){var V=U[N];return V==="__lodash_hash_undefined__"?void 0:V}return j.call(U,N)?U[N]:void 0},B.prototype.has=function(N){var U=this.__data__;return q?U[N]!==void 0:j.call(U,N)},B.prototype.set=function(N,U){return this.__data__[N]=q&&U===void 0?"__lodash_hash_undefined__":U,this},A.prototype.clear=function(){this.__data__=[]},A.prototype.delete=function(N){var U=this.__data__,V=w(U,N);return!(V<0)&&(V==U.length-1?U.pop():M.call(U,V,1),!0)},A.prototype.get=function(N){var U=this.__data__,V=w(U,N);return V<0?void 0:U[V][1]},A.prototype.has=function(N){return w(this.__data__,N)>-1},A.prototype.set=function(N,U){var V=this.__data__,J=w(V,N);return J<0?V.push([N,U]):V[J][1]=U,this},P.prototype.clear=function(){this.__data__={hash:new B,map:new(z||A),string:new B}},P.prototype.delete=function(N){return _(this,N).delete(N)},P.prototype.get=function(N){return _(this,N).get(N)},P.prototype.has=function(N){return _(this,N).has(N)},P.prototype.set=function(N,U){return _(this,N).set(N,U),this},k.prototype.add=k.prototype.push=function(N){return this.__data__.set(N,"__lodash_hash_undefined__"),this},k.prototype.has=function(N){return this.__data__.has(N)};var x=H&&1/d(new H([,-0]))[1]==1/0?function(N){return new H(N)}:function(){};function _(N,U){var V,J,F=N.__data__;return((J=typeof(V=U))=="string"||J=="number"||J=="symbol"||J=="boolean"?V!=="__proto__":V===null)?F[typeof U=="string"?"string":"hash"]:F.map}function E(N,U){var V=function(J,F){return J==null?void 0:J[F]}(N,U);return S(V)?V:void 0}function D(N){var U=typeof N;return!!N&&(U=="object"||U=="function")}n.exports=function(N){return N&&N.length?function(U,V,J){var F=-1,Y=c,O=U.length,T=!0,G=[],Q=G;if(O>=200){var ne=x(U);if(ne)return d(ne);T=!1,Y=h,Q=new k}else Q=G;e:for(;++F<O;){var Z=U[F],oe=Z;if(Z=Z!==0?Z:0,T&&oe==oe){for(var ue=Q.length;ue--;)if(Q[ue]===oe)continue e;G.push(Z)}else Y(Q,oe,J)||(Q!==G&&Q.push(oe),G.push(Z))}return G}(N):[]}}).call(this)}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],450:[function(e,n,l){var i=e("inherits"),s=e("hash-base"),u=e("safe-buffer").Buffer,a=new Array(16);function o(){s.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function c(b,m){return b<<m|b>>>32-m}function f(b,m,g,p,v,C,j){return c(b+(m&g|~m&p)+v+C|0,j)+m|0}function h(b,m,g,p,v,C,j){return c(b+(m&p|g&~p)+v+C|0,j)+m|0}function d(b,m,g,p,v,C,j){return c(b+(m^g^p)+v+C|0,j)+m|0}function y(b,m,g,p,v,C,j){return c(b+(g^(m|~p))+v+C|0,j)+m|0}i(o,s),o.prototype._update=function(){for(var b=a,m=0;m<16;++m)b[m]=this._block.readInt32LE(4*m);var g=this._a,p=this._b,v=this._c,C=this._d;g=f(g,p,v,C,b[0],3614090360,7),C=f(C,g,p,v,b[1],3905402710,12),v=f(v,C,g,p,b[2],606105819,17),p=f(p,v,C,g,b[3],3250441966,22),g=f(g,p,v,C,b[4],4118548399,7),C=f(C,g,p,v,b[5],1200080426,12),v=f(v,C,g,p,b[6],2821735955,17),p=f(p,v,C,g,b[7],4249261313,22),g=f(g,p,v,C,b[8],1770035416,7),C=f(C,g,p,v,b[9],2336552879,12),v=f(v,C,g,p,b[10],4294925233,17),p=f(p,v,C,g,b[11],2304563134,22),g=f(g,p,v,C,b[12],1804603682,7),C=f(C,g,p,v,b[13],4254626195,12),v=f(v,C,g,p,b[14],2792965006,17),g=h(g,p=f(p,v,C,g,b[15],1236535329,22),v,C,b[1],4129170786,5),C=h(C,g,p,v,b[6],3225465664,9),v=h(v,C,g,p,b[11],643717713,14),p=h(p,v,C,g,b[0],3921069994,20),g=h(g,p,v,C,b[5],3593408605,5),C=h(C,g,p,v,b[10],38016083,9),v=h(v,C,g,p,b[15],3634488961,14),p=h(p,v,C,g,b[4],3889429448,20),g=h(g,p,v,C,b[9],568446438,5),C=h(C,g,p,v,b[14],3275163606,9),v=h(v,C,g,p,b[3],4107603335,14),p=h(p,v,C,g,b[8],1163531501,20),g=h(g,p,v,C,b[13],2850285829,5),C=h(C,g,p,v,b[2],4243563512,9),v=h(v,C,g,p,b[7],1735328473,14),g=d(g,p=h(p,v,C,g,b[12],2368359562,20),v,C,b[5],4294588738,4),C=d(C,g,p,v,b[8],2272392833,11),v=d(v,C,g,p,b[11],1839030562,16),p=d(p,v,C,g,b[14],4259657740,23),g=d(g,p,v,C,b[1],2763975236,4),C=d(C,g,p,v,b[4],1272893353,11),v=d(v,C,g,p,b[7],4139469664,16),p=d(p,v,C,g,b[10],3200236656,23),g=d(g,p,v,C,b[13],681279174,4),C=d(C,g,p,v,b[0],3936430074,11),v=d(v,C,g,p,b[3],3572445317,16),p=d(p,v,C,g,b[6],76029189,23),g=d(g,p,v,C,b[9],3654602809,4),C=d(C,g,p,v,b[12],3873151461,11),v=d(v,C,g,p,b[15],530742520,16),g=y(g,p=d(p,v,C,g,b[2],3299628645,23),v,C,b[0],4096336452,6),C=y(C,g,p,v,b[7],1126891415,10),v=y(v,C,g,p,b[14],2878612391,15),p=y(p,v,C,g,b[5],4237533241,21),g=y(g,p,v,C,b[12],1700485571,6),C=y(C,g,p,v,b[3],2399980690,10),v=y(v,C,g,p,b[10],4293915773,15),p=y(p,v,C,g,b[1],2240044497,21),g=y(g,p,v,C,b[8],1873313359,6),C=y(C,g,p,v,b[15],4264355552,10),v=y(v,C,g,p,b[6],2734768916,15),p=y(p,v,C,g,b[13],1309151649,21),g=y(g,p,v,C,b[4],4149444226,6),C=y(C,g,p,v,b[11],3174756917,10),v=y(v,C,g,p,b[2],718787259,15),p=y(p,v,C,g,b[9],3951481745,21),this._a=this._a+g|0,this._b=this._b+p|0,this._c=this._c+v|0,this._d=this._d+C|0},o.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var b=u.allocUnsafe(16);return b.writeInt32LE(this._a,0),b.writeInt32LE(this._b,4),b.writeInt32LE(this._c,8),b.writeInt32LE(this._d,12),b},n.exports=o},{"hash-base":425,inherits:440,"safe-buffer":494}],451:[function(e,n,l){var i=e("bn.js"),s=e("brorand");function u(a){this.rand=a||new s.Rand}n.exports=u,u.create=function(a){return new u(a)},u.prototype._randbelow=function(a){var o=a.bitLength(),c=Math.ceil(o/8);do var f=new i(this.rand.generate(c));while(f.cmp(a)>=0);return f},u.prototype._randrange=function(a,o){var c=o.sub(a);return a.add(this._randbelow(c))},u.prototype.test=function(a,o,c){var f=a.bitLength(),h=i.mont(a),d=new i(1).toRed(h);o||(o=Math.max(1,f/48|0));for(var y=a.subn(1),b=0;!y.testn(b);b++);for(var m=a.shrn(b),g=y.toRed(h);o>0;o--){var p=this._randrange(new i(2),y);c&&c(p);var v=p.toRed(h).redPow(m);if(v.cmp(d)!==0&&v.cmp(g)!==0){for(var C=1;C<b;C++){if((v=v.redSqr()).cmp(d)===0)return!1;if(v.cmp(g)===0)break}if(C===b)return!1}}return!0},u.prototype.getDivisor=function(a,o){var c=a.bitLength(),f=i.mont(a),h=new i(1).toRed(f);o||(o=Math.max(1,c/48|0));for(var d=a.subn(1),y=0;!d.testn(y);y++);for(var b=a.shrn(y),m=d.toRed(f);o>0;o--){var g=this._randrange(new i(2),d),p=a.gcd(g);if(p.cmpn(1)!==0)return p;var v=g.toRed(f).redPow(b);if(v.cmp(h)!==0&&v.cmp(m)!==0){for(var C=1;C<y;C++){if((v=v.redSqr()).cmp(h)===0)return v.fromRed().subn(1).gcd(a);if(v.cmp(m)===0)break}if(C===y)return(v=v.redSqr()).fromRed().subn(1).gcd(a)}}return!1}},{"bn.js":452,brorand:187}],452:[function(e,n,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],453:[function(e,n,l){function i(s,u){if(!s)throw new Error(u||"Assertion failed")}n.exports=i,i.equal=function(s,u,a){if(s!=u)throw new Error(a||"Assertion failed: "+s+" != "+u)}},{}],454:[function(e,n,l){var i=l;function s(a){return a.length===1?"0"+a:a}function u(a){for(var o="",c=0;c<a.length;c++)o+=s(a[c].toString(16));return o}i.toArray=function(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var c=[];if(typeof a!="string"){for(var f=0;f<a.length;f++)c[f]=0|a[f];return c}if(o==="hex")for((a=a.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(a="0"+a),f=0;f<a.length;f+=2)c.push(parseInt(a[f]+a[f+1],16));else for(f=0;f<a.length;f++){var h=a.charCodeAt(f),d=h>>8,y=255&h;d?c.push(d,y):c.push(y)}return c},i.zero2=s,i.toHex=u,i.encode=function(a,o){return o==="hex"?u(a):a}},{}],455:[function(e,n,l){n.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],456:[function(e,n,l){var i=e("asn1.js");l.certificate=e("./certificate");var s=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});l.RSAPrivateKey=s;var u=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});l.RSAPublicKey=u;var a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(o),this.key("subjectPublicKey").bitstr())});l.PublicKey=a;var o=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),c=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(o),this.key("subjectPrivateKey").octstr())});l.PrivateKey=c;var f=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});l.EncryptedPrivateKey=f;var h=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});l.DSAPrivateKey=h,l.DSAparam=i.define("DSAparam",function(){this.int()});var d=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(y),this.key("publicKey").optional().explicit(1).bitstr())});l.ECPrivateKey=d;var y=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});l.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},{"./certificate":457,"asn1.js":170}],457:[function(e,n,l){var i=e("asn1.js"),s=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),u=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),o=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),c=i.define("RelativeDistinguishedName",function(){this.setof(u)}),f=i.define("RDNSequence",function(){this.seqof(c)}),h=i.define("Name",function(){this.choice({rdnSequence:this.use(f)})}),d=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(s),this.key("notAfter").use(s))}),y=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),b=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(h),this.key("validity").use(d),this.key("subject").use(h),this.key("subjectPublicKeyInfo").use(o),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(y).optional())}),m=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(b),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});n.exports=m},{"asn1.js":170}],458:[function(e,n,l){var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,s=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,u=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,a=e("evp_bytestokey"),o=e("browserify-aes"),c=e("safe-buffer").Buffer;n.exports=function(f,h){var d,y=f.toString(),b=y.match(i);if(b){var m="aes"+b[1],g=c.from(b[2],"hex"),p=c.from(b[3].replace(/[\r\n]/g,""),"base64"),v=a(h,g.slice(0,8),parseInt(b[1],10)).key,C=[],j=o.createDecipheriv(m,v,g);C.push(j.update(p)),C.push(j.final()),d=c.concat(C)}else{var L=y.match(u);d=c.from(L[2].replace(/[\r\n]/g,""),"base64")}return{tag:y.match(s)[1],data:d}}},{"browserify-aes":191,evp_bytestokey:423,"safe-buffer":494}],459:[function(e,n,l){var i=e("./asn1"),s=e("./aesid.json"),u=e("./fixProc"),a=e("browserify-aes"),o=e("pbkdf2"),c=e("safe-buffer").Buffer;function f(h){var d;typeof h!="object"||c.isBuffer(h)||(d=h.passphrase,h=h.key),typeof h=="string"&&(h=c.from(h));var y,b,m=u(h,d),g=m.tag,p=m.data;switch(g){case"CERTIFICATE":b=i.certificate.decode(p,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(b||(b=i.PublicKey.decode(p,"der")),y=b.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(b.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return b.subjectPrivateKey=b.subjectPublicKey,{type:"ec",data:b};case"1.2.840.10040.4.1":return b.algorithm.params.pub_key=i.DSAparam.decode(b.subjectPublicKey.data,"der"),{type:"dsa",data:b.algorithm.params};default:throw new Error("unknown key id "+y)}case"ENCRYPTED PRIVATE KEY":p=function(v,C){var j=v.algorithm.decrypt.kde.kdeparams.salt,L=parseInt(v.algorithm.decrypt.kde.kdeparams.iters.toString(),10),$=s[v.algorithm.decrypt.cipher.algo.join(".")],M=v.algorithm.decrypt.cipher.iv,z=v.subjectPrivateKey,H=parseInt($.split("-")[1],10)/8,q=o.pbkdf2Sync(C,j,L,H,"sha1"),B=a.createDecipheriv($,q,M),A=[];return A.push(B.update(z)),A.push(B.final()),c.concat(A)}(p=i.EncryptedPrivateKey.decode(p,"der"),d);case"PRIVATE KEY":switch(y=(b=i.PrivateKey.decode(p,"der")).algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(b.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:b.algorithm.curve,privateKey:i.ECPrivateKey.decode(b.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return b.algorithm.params.priv_key=i.DSAparam.decode(b.subjectPrivateKey,"der"),{type:"dsa",params:b.algorithm.params};default:throw new Error("unknown key id "+y)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(p,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(p,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(p,"der")};case"EC PRIVATE KEY":return{curve:(p=i.ECPrivateKey.decode(p,"der")).parameters.value,privateKey:p.privateKey};default:throw new Error("unknown key type "+g)}}n.exports=f,f.signature=i.signature},{"./aesid.json":455,"./asn1":456,"./fixProc":458,"browserify-aes":191,pbkdf2:460,"safe-buffer":494}],460:[function(e,n,l){l.pbkdf2=e("./lib/async"),l.pbkdf2Sync=e("./lib/sync")},{"./lib/async":461,"./lib/sync":464}],461:[function(e,n,l){(function(i){(function(){var s,u,a=e("safe-buffer").Buffer,o=e("./precondition"),c=e("./default-encoding"),f=e("./sync"),h=e("./to-buffer"),d=i.crypto&&i.crypto.subtle,y={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},b=[];function m(){return u||(u=i.process&&i.process.nextTick?i.process.nextTick:i.queueMicrotask?i.queueMicrotask:i.setImmediate?i.setImmediate:i.setTimeout)}function g(p,v,C,j,L){return d.importKey("raw",p,{name:"PBKDF2"},!1,["deriveBits"]).then(function($){return d.deriveBits({name:"PBKDF2",salt:v,iterations:C,hash:{name:L}},$,j<<3)}).then(function($){return a.from($)})}n.exports=function(p,v,C,j,L,$){typeof L=="function"&&($=L,L=void 0);var M=y[(L=L||"sha1").toLowerCase()];if(M&&typeof i.Promise=="function"){if(o(C,j),p=h(p,c,"Password"),v=h(v,c,"Salt"),typeof $!="function")throw new Error("No callback provided to pbkdf2");(function(z,H){z.then(function(q){m()(function(){H(null,q)})},function(q){m()(function(){H(q)})})})(function(z){if(i.process&&!i.process.browser||!d||!d.importKey||!d.deriveBits)return Promise.resolve(!1);if(b[z]!==void 0)return b[z];var H=g(s=s||a.alloc(8),s,10,128,z).then(function(){return!0}).catch(function(){return!1});return b[z]=H,H}(M).then(function(z){return z?g(p,v,C,j,M):f(p,v,C,j,L)}),$)}else m()(function(){var z;try{z=f(p,v,C,j,L)}catch(H){return $(H)}$(null,z)})}}).call(this)}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./default-encoding":462,"./precondition":463,"./sync":464,"./to-buffer":465,"safe-buffer":494}],462:[function(e,n,l){(function(i,s){(function(){var u;s.process&&s.process.browser?u="utf-8":s.process&&s.process.version?u=parseInt(i.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary":u="utf-8",n.exports=u}).call(this)}).call(this,e("_process"),typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467}],463:[function(e,n,l){var i=Math.pow(2,30)-1;n.exports=function(s,u){if(typeof s!="number")throw new TypeError("Iterations not a number");if(s<0)throw new TypeError("Bad iterations");if(typeof u!="number")throw new TypeError("Key length not a number");if(u<0||u>i||u!=u)throw new TypeError("Bad key length")}},{}],464:[function(e,n,l){var i=e("create-hash/md5"),s=e("ripemd160"),u=e("sha.js"),a=e("safe-buffer").Buffer,o=e("./precondition"),c=e("./default-encoding"),f=e("./to-buffer"),h=a.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};function y(b,m,g){var p=function(M){function z(H){return u(M).update(H).digest()}return M==="rmd160"||M==="ripemd160"?function(H){return new s().update(H).digest()}:M==="md5"?i:z}(b),v=b==="sha512"||b==="sha384"?128:64;m.length>v?m=p(m):m.length<v&&(m=a.concat([m,h],v));for(var C=a.allocUnsafe(v+d[b]),j=a.allocUnsafe(v+d[b]),L=0;L<v;L++)C[L]=54^m[L],j[L]=92^m[L];var $=a.allocUnsafe(v+g+4);C.copy($,0,0,v),this.ipad1=$,this.ipad2=C,this.opad=j,this.alg=b,this.blocksize=v,this.hash=p,this.size=d[b]}y.prototype.run=function(b,m){return b.copy(m,this.blocksize),this.hash(m).copy(this.opad,this.blocksize),this.hash(this.opad)},n.exports=function(b,m,g,p,v){o(g,p);var C=new y(v=v||"sha1",b=f(b,c,"Password"),(m=f(m,c,"Salt")).length),j=a.allocUnsafe(p),L=a.allocUnsafe(m.length+4);m.copy(L,0,0,m.length);for(var $=0,M=d[v],z=Math.ceil(p/M),H=1;H<=z;H++){L.writeUInt32BE(H,m.length);for(var q=C.run(L,C.ipad1),B=q,A=1;A<g;A++){B=C.run(B,C.ipad2);for(var P=0;P<M;P++)q[P]^=B[P]}q.copy(j,$),$+=M}return j}},{"./default-encoding":462,"./precondition":463,"./to-buffer":465,"create-hash/md5":387,ripemd160:493,"safe-buffer":494,"sha.js":498}],465:[function(e,n,l){var i=e("safe-buffer").Buffer;n.exports=function(s,u,a){if(i.isBuffer(s))return s;if(typeof s=="string")return i.from(s,u);if(ArrayBuffer.isView(s))return i.from(s.buffer);throw new TypeError(a+" must be a string, a Buffer, a typed array or a DataView")}},{"safe-buffer":494}],466:[function(e,n,l){(function(i){(function(){i===void 0||!i.version||i.version.indexOf("v0.")===0||i.version.indexOf("v1.")===0&&i.version.indexOf("v1.8.")!==0?n.exports={nextTick:function(s,u,a,o){if(typeof s!="function")throw new TypeError('"callback" argument must be a function');var c,f,h=arguments.length;switch(h){case 0:case 1:return i.nextTick(s);case 2:return i.nextTick(function(){s.call(null,u)});case 3:return i.nextTick(function(){s.call(null,u,a)});case 4:return i.nextTick(function(){s.call(null,u,a,o)});default:for(c=new Array(h-1),f=0;f<c.length;)c[f++]=arguments[f];return i.nextTick(function(){s.apply(null,c)})}}}:n.exports=i}).call(this)}).call(this,e("_process"))},{_process:467}],467:[function(e,n,l){var i,s,u=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function c(v){if(i===setTimeout)return setTimeout(v,0);if((i===a||!i)&&setTimeout)return i=setTimeout,setTimeout(v,0);try{return i(v,0)}catch{try{return i.call(null,v,0)}catch{return i.call(this,v,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:a}catch{i=a}try{s=typeof clearTimeout=="function"?clearTimeout:o}catch{s=o}})();var f,h=[],d=!1,y=-1;function b(){d&&f&&(d=!1,f.length?h=f.concat(h):y=-1,h.length&&m())}function m(){if(!d){var v=c(b);d=!0;for(var C=h.length;C;){for(f=h,h=[];++y<C;)f&&f[y].run();y=-1,C=h.length}f=null,d=!1,function(j){if(s===clearTimeout)return clearTimeout(j);if((s===o||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(j);try{s(j)}catch{try{return s.call(null,j)}catch{return s.call(this,j)}}}(v)}}function g(v,C){this.fun=v,this.array=C}function p(){}u.nextTick=function(v){var C=new Array(arguments.length-1);if(arguments.length>1)for(var j=1;j<arguments.length;j++)C[j-1]=arguments[j];h.push(new g(v,C)),h.length!==1||d||c(m)},g.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=p,u.addListener=p,u.once=p,u.off=p,u.removeListener=p,u.removeAllListeners=p,u.emit=p,u.prependListener=p,u.prependOnceListener=p,u.listeners=function(v){return[]},u.binding=function(v){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(v){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],468:[function(e,n,l){l.publicEncrypt=e("./publicEncrypt"),l.privateDecrypt=e("./privateDecrypt"),l.privateEncrypt=function(i,s){return l.publicEncrypt(i,s,!0)},l.publicDecrypt=function(i,s){return l.privateDecrypt(i,s,!0)}},{"./privateDecrypt":471,"./publicEncrypt":472}],469:[function(e,n,l){var i=e("create-hash"),s=e("safe-buffer").Buffer;function u(a){var o=s.allocUnsafe(4);return o.writeUInt32BE(a,0),o}n.exports=function(a,o){for(var c,f=s.alloc(0),h=0;f.length<o;)c=u(h++),f=s.concat([f,i("sha1").update(a).update(c).digest()]);return f.slice(0,o)}},{"create-hash":386,"safe-buffer":494}],470:[function(e,n,l){arguments[4][184][0].apply(l,arguments)},{buffer:188,dup:184}],471:[function(e,n,l){var i=e("parse-asn1"),s=e("./mgf"),u=e("./xor"),a=e("bn.js"),o=e("browserify-rsa"),c=e("create-hash"),f=e("./withPublic"),h=e("safe-buffer").Buffer;n.exports=function(d,y,b){var m;m=d.padding?d.padding:b?1:4;var g,p=i(d),v=p.modulus.byteLength();if(y.length>v||new a(y).cmp(p.modulus)>=0)throw new Error("decryption error");g=b?f(new a(y),p):o(y,p);var C=h.alloc(v-g.length);if(g=h.concat([C,g],v),m===4)return function(j,L){var $=j.modulus.byteLength(),M=c("sha1").update(h.alloc(0)).digest(),z=M.length;if(L[0]!==0)throw new Error("decryption error");var H=L.slice(1,z+1),q=L.slice(z+1),B=u(H,s(q,z)),A=u(q,s(B,$-z-1));if(function(k,w){k=h.from(k),w=h.from(w);var S=0,x=k.length;k.length!==w.length&&(S++,x=Math.min(k.length,w.length));for(var _=-1;++_<x;)S+=k[_]^w[_];return S}(M,A.slice(0,z)))throw new Error("decryption error");for(var P=z;A[P]===0;)P++;if(A[P++]!==1)throw new Error("decryption error");return A.slice(P)}(p,g);if(m===1)return function(j,L,$){for(var M=L.slice(0,2),z=2,H=0;L[z++]!==0;)if(z>=L.length){H++;break}var q=L.slice(2,z-1);if((M.toString("hex")!=="0002"&&!$||M.toString("hex")!=="0001"&&$)&&H++,q.length<8&&H++,H)throw new Error("decryption error");return L.slice(z)}(0,g,b);if(m===3)return g;throw new Error("unknown padding")}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,"safe-buffer":494}],472:[function(e,n,l){var i=e("parse-asn1"),s=e("randombytes"),u=e("create-hash"),a=e("./mgf"),o=e("./xor"),c=e("bn.js"),f=e("./withPublic"),h=e("browserify-rsa"),d=e("safe-buffer").Buffer;n.exports=function(y,b,m){var g;g=y.padding?y.padding:m?1:4;var p,v=i(y);if(g===4)p=function(C,j){var L=C.modulus.byteLength(),$=j.length,M=u("sha1").update(d.alloc(0)).digest(),z=M.length,H=2*z;if($>L-H-2)throw new Error("message too long");var q=d.alloc(L-$-H-2),B=L-z-1,A=s(z),P=o(d.concat([M,q,d.alloc(1,1),j],B),a(A,B)),k=o(A,a(P,z));return new c(d.concat([d.alloc(1),k,P],L))}(v,b);else if(g===1)p=function(C,j,L){var $,M=j.length,z=C.modulus.byteLength();if(M>z-11)throw new Error("message too long");return $=L?d.alloc(z-M-3,255):function(H){for(var q,B=d.allocUnsafe(H),A=0,P=s(2*H),k=0;A<H;)k===P.length&&(P=s(2*H),k=0),(q=P[k++])&&(B[A++]=q);return B}(z-M-3),new c(d.concat([d.from([0,L?1:2]),$,d.alloc(1),j],z))}(v,b,m);else{if(g!==3)throw new Error("unknown padding");if((p=new c(b)).cmp(v.modulus)>=0)throw new Error("data too long for modulus")}return m?h(p,v):f(p,v)}},{"./mgf":469,"./withPublic":473,"./xor":474,"bn.js":470,"browserify-rsa":209,"create-hash":386,"parse-asn1":459,randombytes:475,"safe-buffer":494}],473:[function(e,n,l){var i=e("bn.js"),s=e("safe-buffer").Buffer;n.exports=function(u,a){return s.from(u.toRed(i.mont(a.modulus)).redPow(new i(a.publicExponent)).fromRed().toArray())}},{"bn.js":470,"safe-buffer":494}],474:[function(e,n,l){n.exports=function(i,s){for(var u=i.length,a=-1;++a<u;)i[a]^=s[a];return i}},{}],475:[function(e,n,l){(function(i,s){(function(){var u=e("safe-buffer").Buffer,a=s.crypto||s.msCrypto;a&&a.getRandomValues?n.exports=function(o,c){if(o>4294967295)throw new RangeError("requested too many random bytes");var f=u.allocUnsafe(o);if(o>0)if(o>65536)for(var h=0;h<o;h+=65536)a.getRandomValues(f.slice(h,h+65536));else a.getRandomValues(f);return typeof c=="function"?i.nextTick(function(){c(null,f)}):f}:n.exports=function(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}}).call(this)}).call(this,e("_process"),typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,"safe-buffer":494}],476:[function(e,n,l){(function(i,s){(function(){function u(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var a=e("safe-buffer"),o=e("randombytes"),c=a.Buffer,f=a.kMaxLength,h=s.crypto||s.msCrypto,d=Math.pow(2,32)-1;function y(g,p){if(typeof g!="number"||g!=g)throw new TypeError("offset must be a number");if(g>d||g<0)throw new TypeError("offset must be a uint32");if(g>f||g>p)throw new RangeError("offset out of range")}function b(g,p,v){if(typeof g!="number"||g!=g)throw new TypeError("size must be a number");if(g>d||g<0)throw new TypeError("size must be a uint32");if(g+p>v||g>f)throw new RangeError("buffer too small")}function m(g,p,v,C){if(i.browser){var j=g.buffer,L=new Uint8Array(j,p,v);return h.getRandomValues(L),C?void i.nextTick(function(){C(null,g)}):g}if(!C)return o(v).copy(g,p),g;o(v,function($,M){if($)return C($);M.copy(g,p),C(null,g)})}h&&h.getRandomValues||!i.browser?(l.randomFill=function(g,p,v,C){if(!(c.isBuffer(g)||g instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof p=="function")C=p,p=0,v=g.length;else if(typeof v=="function")C=v,v=g.length-p;else if(typeof C!="function")throw new TypeError('"cb" argument must be a function');return y(p,g.length),b(v,p,g.length),m(g,p,v,C)},l.randomFillSync=function(g,p,v){if(p===void 0&&(p=0),!(c.isBuffer(g)||g instanceof s.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return y(p,g.length),v===void 0&&(v=g.length-p),b(v,p,g.length),m(g,p,v)}):(l.randomFill=u,l.randomFillSync=u)}).call(this)}).call(this,e("_process"),typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:467,randombytes:475,"safe-buffer":494}],477:[function(e,n,l){var i={};function s(a,o,c){c||(c=Error);var f=function(h){var d,y;function b(m,g,p){return h.call(this,function(v,C,j){return typeof o=="string"?o:o(v,C,j)}(m,g,p))||this}return y=h,(d=b).prototype=Object.create(y.prototype),d.prototype.constructor=d,d.__proto__=y,b}(c);f.prototype.name=c.name,f.prototype.code=a,i[a]=f}function u(a,o){if(Array.isArray(a)){var c=a.length;return a=a.map(function(f){return String(f)}),c>2?"one of ".concat(o," ").concat(a.slice(0,c-1).join(", "),", or ")+a[c-1]:c===2?"one of ".concat(o," ").concat(a[0]," or ").concat(a[1]):"of ".concat(o," ").concat(a[0])}return"of ".concat(o," ").concat(String(a))}s("ERR_INVALID_OPT_VALUE",function(a,o){return'The value "'+o+'" is invalid for option "'+a+'"'},TypeError),s("ERR_INVALID_ARG_TYPE",function(a,o,c){var f,h,d;if(typeof o=="string"&&(h="not ",o.substr(0,h.length)===h)?(f="must not be",o=o.replace(/^not /,"")):f="must be",function(b,m,g){return(g===void 0||g>b.length)&&(g=b.length),b.substring(g-m.length,g)===m}(a," argument"))d="The ".concat(a," ").concat(f," ").concat(u(o,"type"));else{var y=function(b,m,g){return typeof g!="number"&&(g=0),!(g+m.length>b.length)&&b.indexOf(m,g)!==-1}(a,".")?"property":"argument";d='The "'.concat(a,'" ').concat(y," ").concat(f," ").concat(u(o,"type"))}return d+=". Received type ".concat(typeof c)},TypeError),s("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),s("ERR_METHOD_NOT_IMPLEMENTED",function(a){return"The "+a+" method is not implemented"}),s("ERR_STREAM_PREMATURE_CLOSE","Premature close"),s("ERR_STREAM_DESTROYED",function(a){return"Cannot call "+a+" after a stream was destroyed"}),s("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),s("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),s("ERR_STREAM_WRITE_AFTER_END","write after end"),s("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),s("ERR_UNKNOWN_ENCODING",function(a){return"Unknown encoding: "+a},TypeError),s("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),n.exports.codes=i},{}],478:[function(e,n,l){(function(i){(function(){var s=Object.keys||function(b){var m=[];for(var g in b)m.push(g);return m};n.exports=h;var u=e("./_stream_readable"),a=e("./_stream_writable");e("inherits")(h,u);for(var o=s(a.prototype),c=0;c<o.length;c++){var f=o[c];h.prototype[f]||(h.prototype[f]=a.prototype[f])}function h(b){if(!(this instanceof h))return new h(b);u.call(this,b),a.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",d)))}function d(){this._writableState.ended||i.nextTick(y,this)}function y(b){b.end()}Object.defineProperty(h.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(h.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(h.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(h.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(b){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}})}).call(this)}).call(this,e("_process"))},{"./_stream_readable":480,"./_stream_writable":482,_process:467,inherits:440}],479:[function(e,n,l){n.exports=s;var i=e("./_stream_transform");function s(u){if(!(this instanceof s))return new s(u);i.call(this,u)}e("inherits")(s,i),s.prototype._transform=function(u,a,o){o(null,u)}},{"./_stream_transform":481,inherits:440}],480:[function(e,n,l){(function(i,s){(function(){var u;n.exports=B,B.ReadableState=q,e("events").EventEmitter;var a=function(O,T){return O.listeners(T).length},o=e("./internal/streams/stream"),c=e("buffer").Buffer,f=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},h,d=e("util");h=d&&d.debuglog?d.debuglog("stream"):function(){};var y,b,m,g=e("./internal/streams/buffer_list"),p=e("./internal/streams/destroy"),v=e("./internal/streams/state").getHighWaterMark,C=e("../errors").codes,j=C.ERR_INVALID_ARG_TYPE,L=C.ERR_STREAM_PUSH_AFTER_EOF,$=C.ERR_METHOD_NOT_IMPLEMENTED,M=C.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;e("inherits")(B,o);var z=p.errorOrDestroy,H=["error","close","destroy","pause","resume"];function q(O,T,G){u=u||e("./_stream_duplex"),O=O||{},typeof G!="boolean"&&(G=T instanceof u),this.objectMode=!!O.objectMode,G&&(this.objectMode=this.objectMode||!!O.readableObjectMode),this.highWaterMark=v(this,O,"readableHighWaterMark",G),this.buffer=new g,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=O.emitClose!==!1,this.autoDestroy=!!O.autoDestroy,this.destroyed=!1,this.defaultEncoding=O.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,O.encoding&&(y||(y=e("string_decoder/").StringDecoder),this.decoder=new y(O.encoding),this.encoding=O.encoding)}function B(O){if(u=u||e("./_stream_duplex"),!(this instanceof B))return new B(O);var T=this instanceof u;this._readableState=new q(O,this,T),this.readable=!0,O&&(typeof O.read=="function"&&(this._read=O.read),typeof O.destroy=="function"&&(this._destroy=O.destroy)),o.call(this)}function A(O,T,G,Q,ne){h("readableAddChunk",T);var Z,oe=O._readableState;if(T===null)oe.reading=!1,function(ue,te){if(h("onEofChunk"),!te.ended){if(te.decoder){var se=te.decoder.end();se&&se.length&&(te.buffer.push(se),te.length+=te.objectMode?1:se.length)}te.ended=!0,te.sync?w(ue):(te.needReadable=!1,te.emittedReadable||(te.emittedReadable=!0,S(ue)))}}(O,oe);else if(ne||(Z=function(ue,te){var se;pe=te,c.isBuffer(pe)||pe instanceof f||typeof te=="string"||te===void 0||ue.objectMode||(se=new j("chunk",["string","Buffer","Uint8Array"],te));var pe;return se}(oe,T)),Z)z(O,Z);else if(oe.objectMode||T&&T.length>0)if(typeof T=="string"||oe.objectMode||Object.getPrototypeOf(T)===c.prototype||(T=function(ue){return c.from(ue)}(T)),Q)oe.endEmitted?z(O,new M):P(O,oe,T,!0);else if(oe.ended)z(O,new L);else{if(oe.destroyed)return!1;oe.reading=!1,oe.decoder&&!G?(T=oe.decoder.write(T),oe.objectMode||T.length!==0?P(O,oe,T,!1):x(O,oe)):P(O,oe,T,!1)}else Q||(oe.reading=!1,x(O,oe));return!oe.ended&&(oe.length<oe.highWaterMark||oe.length===0)}function P(O,T,G,Q){T.flowing&&T.length===0&&!T.sync?(T.awaitDrain=0,O.emit("data",G)):(T.length+=T.objectMode?1:G.length,Q?T.buffer.unshift(G):T.buffer.push(G),T.needReadable&&w(O)),x(O,T)}Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),B.prototype.destroy=p.destroy,B.prototype._undestroy=p.undestroy,B.prototype._destroy=function(O,T){T(O)},B.prototype.push=function(O,T){var G,Q=this._readableState;return Q.objectMode?G=!0:typeof O=="string"&&((T=T||Q.defaultEncoding)!==Q.encoding&&(O=c.from(O,T),T=""),G=!0),A(this,O,T,!1,G)},B.prototype.unshift=function(O){return A(this,O,null,!0,!1)},B.prototype.isPaused=function(){return this._readableState.flowing===!1},B.prototype.setEncoding=function(O){y||(y=e("string_decoder/").StringDecoder);var T=new y(O);this._readableState.decoder=T,this._readableState.encoding=this._readableState.decoder.encoding;for(var G=this._readableState.buffer.head,Q="";G!==null;)Q+=T.write(G.data),G=G.next;return this._readableState.buffer.clear(),Q!==""&&this._readableState.buffer.push(Q),this._readableState.length=Q.length,this};function k(O,T){return O<=0||T.length===0&&T.ended?0:T.objectMode?1:O!=O?T.flowing&&T.length?T.buffer.head.data.length:T.length:(O>T.highWaterMark&&(T.highWaterMark=function(G){return G>=1073741824?G=1073741824:(G--,G|=G>>>1,G|=G>>>2,G|=G>>>4,G|=G>>>8,G|=G>>>16,G++),G}(O)),O<=T.length?O:T.ended?T.length:(T.needReadable=!0,0))}function w(O){var T=O._readableState;h("emitReadable",T.needReadable,T.emittedReadable),T.needReadable=!1,T.emittedReadable||(h("emitReadable",T.flowing),T.emittedReadable=!0,i.nextTick(S,O))}function S(O){var T=O._readableState;h("emitReadable_",T.destroyed,T.length,T.ended),T.destroyed||!T.length&&!T.ended||(O.emit("readable"),T.emittedReadable=!1),T.needReadable=!T.flowing&&!T.ended&&T.length<=T.highWaterMark,U(O)}function x(O,T){T.readingMore||(T.readingMore=!0,i.nextTick(_,O,T))}function _(O,T){for(;!T.reading&&!T.ended&&(T.length<T.highWaterMark||T.flowing&&T.length===0);){var G=T.length;if(h("maybeReadMore read 0"),O.read(0),G===T.length)break}T.readingMore=!1}function E(O){var T=O._readableState;T.readableListening=O.listenerCount("readable")>0,T.resumeScheduled&&!T.paused?T.flowing=!0:O.listenerCount("data")>0&&O.resume()}function D(O){h("readable nexttick read 0"),O.read(0)}function N(O,T){h("resume",T.reading),T.reading||O.read(0),T.resumeScheduled=!1,O.emit("resume"),U(O),T.flowing&&!T.reading&&O.read(0)}function U(O){var T=O._readableState;for(h("flow",T.flowing);T.flowing&&O.read()!==null;);}function V(O,T){return T.length===0?null:(T.objectMode?G=T.buffer.shift():!O||O>=T.length?(G=T.decoder?T.buffer.join(""):T.buffer.length===1?T.buffer.first():T.buffer.concat(T.length),T.buffer.clear()):G=T.buffer.consume(O,T.decoder),G);var G}function J(O){var T=O._readableState;h("endReadable",T.endEmitted),T.endEmitted||(T.ended=!0,i.nextTick(F,T,O))}function F(O,T){if(h("endReadableNT",O.endEmitted,O.length),!O.endEmitted&&O.length===0&&(O.endEmitted=!0,T.readable=!1,T.emit("end"),O.autoDestroy)){var G=T._writableState;(!G||G.autoDestroy&&G.finished)&&T.destroy()}}function Y(O,T){for(var G=0,Q=O.length;G<Q;G++)if(O[G]===T)return G;return-1}B.prototype.read=function(O){h("read",O),O=parseInt(O,10);var T=this._readableState,G=O;if(O!==0&&(T.emittedReadable=!1),O===0&&T.needReadable&&((T.highWaterMark!==0?T.length>=T.highWaterMark:T.length>0)||T.ended))return h("read: emitReadable",T.length,T.ended),T.length===0&&T.ended?J(this):w(this),null;if((O=k(O,T))===0&&T.ended)return T.length===0&&J(this),null;var Q,ne=T.needReadable;return h("need readable",ne),(T.length===0||T.length-O<T.highWaterMark)&&h("length less than watermark",ne=!0),T.ended||T.reading?h("reading or ended",ne=!1):ne&&(h("do read"),T.reading=!0,T.sync=!0,T.length===0&&(T.needReadable=!0),this._read(T.highWaterMark),T.sync=!1,T.reading||(O=k(G,T))),(Q=O>0?V(O,T):null)===null?(T.needReadable=T.length<=T.highWaterMark,O=0):(T.length-=O,T.awaitDrain=0),T.length===0&&(T.ended||(T.needReadable=!0),G!==O&&T.ended&&J(this)),Q!==null&&this.emit("data",Q),Q},B.prototype._read=function(O){z(this,new $("_read()"))},B.prototype.pipe=function(O,T){var G=this,Q=this._readableState;switch(Q.pipesCount){case 0:Q.pipes=O;break;case 1:Q.pipes=[Q.pipes,O];break;default:Q.pipes.push(O)}Q.pipesCount+=1,h("pipe count=%d opts=%j",Q.pipesCount,T);var ne=(!T||T.end!==!1)&&O!==i.stdout&&O!==i.stderr?oe:be;function Z(re,ve){h("onunpipe"),re===G&&ve&&ve.hasUnpiped===!1&&(ve.hasUnpiped=!0,h("cleanup"),O.removeListener("close",ie),O.removeListener("finish",fe),O.removeListener("drain",ue),O.removeListener("error",pe),O.removeListener("unpipe",Z),G.removeListener("end",oe),G.removeListener("end",be),G.removeListener("data",se),te=!0,!Q.awaitDrain||O._writableState&&!O._writableState.needDrain||ue())}function oe(){h("onend"),O.end()}Q.endEmitted?i.nextTick(ne):G.once("end",ne),O.on("unpipe",Z);var ue=function(re){return function(){var ve=re._readableState;h("pipeOnDrain",ve.awaitDrain),ve.awaitDrain&&ve.awaitDrain--,ve.awaitDrain===0&&a(re,"data")&&(ve.flowing=!0,U(re))}}(G);O.on("drain",ue);var te=!1;function se(re){h("ondata");var ve=O.write(re);h("dest.write",ve),ve===!1&&((Q.pipesCount===1&&Q.pipes===O||Q.pipesCount>1&&Y(Q.pipes,O)!==-1)&&!te&&(h("false write response, pause",Q.awaitDrain),Q.awaitDrain++),G.pause())}function pe(re){h("onerror",re),be(),O.removeListener("error",pe),a(O,"error")===0&&z(O,re)}function ie(){O.removeListener("finish",fe),be()}function fe(){h("onfinish"),O.removeListener("close",ie),be()}function be(){h("unpipe"),G.unpipe(O)}return G.on("data",se),function(re,ve,_e){if(typeof re.prependListener=="function")return re.prependListener(ve,_e);re._events&&re._events[ve]?Array.isArray(re._events[ve])?re._events[ve].unshift(_e):re._events[ve]=[_e,re._events[ve]]:re.on(ve,_e)}(O,"error",pe),O.once("close",ie),O.once("finish",fe),O.emit("pipe",G),Q.flowing||(h("pipe resume"),G.resume()),O},B.prototype.unpipe=function(O){var T=this._readableState,G={hasUnpiped:!1};if(T.pipesCount===0)return this;if(T.pipesCount===1)return O&&O!==T.pipes||(O||(O=T.pipes),T.pipes=null,T.pipesCount=0,T.flowing=!1,O&&O.emit("unpipe",this,G)),this;if(!O){var Q=T.pipes,ne=T.pipesCount;T.pipes=null,T.pipesCount=0,T.flowing=!1;for(var Z=0;Z<ne;Z++)Q[Z].emit("unpipe",this,{hasUnpiped:!1});return this}var oe=Y(T.pipes,O);return oe===-1||(T.pipes.splice(oe,1),T.pipesCount-=1,T.pipesCount===1&&(T.pipes=T.pipes[0]),O.emit("unpipe",this,G)),this},B.prototype.on=function(O,T){var G=o.prototype.on.call(this,O,T),Q=this._readableState;return O==="data"?(Q.readableListening=this.listenerCount("readable")>0,Q.flowing!==!1&&this.resume()):O==="readable"&&(Q.endEmitted||Q.readableListening||(Q.readableListening=Q.needReadable=!0,Q.flowing=!1,Q.emittedReadable=!1,h("on readable",Q.length,Q.reading),Q.length?w(this):Q.reading||i.nextTick(D,this))),G},B.prototype.addListener=B.prototype.on,B.prototype.removeListener=function(O,T){var G=o.prototype.removeListener.call(this,O,T);return O==="readable"&&i.nextTick(E,this),G},B.prototype.removeAllListeners=function(O){var T=o.prototype.removeAllListeners.apply(this,arguments);return O!=="readable"&&O!==void 0||i.nextTick(E,this),T},B.prototype.resume=function(){var O=this._readableState;return O.flowing||(h("resume"),O.flowing=!O.readableListening,function(T,G){G.resumeScheduled||(G.resumeScheduled=!0,i.nextTick(N,T,G))}(this,O)),O.paused=!1,this},B.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},B.prototype.wrap=function(O){var T=this,G=this._readableState,Q=!1;for(var ne in O.on("end",function(){if(h("wrapped end"),G.decoder&&!G.ended){var oe=G.decoder.end();oe&&oe.length&&T.push(oe)}T.push(null)}),O.on("data",function(oe){h("wrapped data"),G.decoder&&(oe=G.decoder.write(oe)),G.objectMode&&oe==null||(G.objectMode||oe&&oe.length)&&(T.push(oe)||(Q=!0,O.pause()))}),O)this[ne]===void 0&&typeof O[ne]=="function"&&(this[ne]=function(oe){return function(){return O[oe].apply(O,arguments)}}(ne));for(var Z=0;Z<H.length;Z++)O.on(H[Z],this.emit.bind(this,H[Z]));return this._read=function(oe){h("wrapped _read",oe),Q&&(Q=!1,O.resume())},this},typeof Symbol=="function"&&(B.prototype[Symbol.asyncIterator]=function(){return b===void 0&&(b=e("./internal/streams/async_iterator")),b(this)}),Object.defineProperty(B.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(B.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(B.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),B._fromList=V,Object.defineProperty(B.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),typeof Symbol=="function"&&(B.from=function(O,T){return m===void 0&&(m=e("./internal/streams/from")),m(B,O,T)})}).call(this)}).call(this,e("_process"),typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/async_iterator":483,"./internal/streams/buffer_list":484,"./internal/streams/destroy":485,"./internal/streams/from":487,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,events:422,inherits:440,"string_decoder/":522,util:188}],481:[function(e,n,l){n.exports=h;var i=e("../errors").codes,s=i.ERR_METHOD_NOT_IMPLEMENTED,u=i.ERR_MULTIPLE_CALLBACK,a=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=i.ERR_TRANSFORM_WITH_LENGTH_0,c=e("./_stream_duplex");function f(b,m){var g=this._transformState;g.transforming=!1;var p=g.writecb;if(p===null)return this.emit("error",new u);g.writechunk=null,g.writecb=null,m!=null&&this.push(m),p(b);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function h(b){if(!(this instanceof h))return new h(b);c.call(this,b),this._transformState={afterTransform:f.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",d)}function d(){var b=this;typeof this._flush!="function"||this._readableState.destroyed?y(this,null,null):this._flush(function(m,g){y(b,m,g)})}function y(b,m,g){if(m)return b.emit("error",m);if(g!=null&&b.push(g),b._writableState.length)throw new o;if(b._transformState.transforming)throw new a;return b.push(null)}e("inherits")(h,c),h.prototype.push=function(b,m){return this._transformState.needTransform=!1,c.prototype.push.call(this,b,m)},h.prototype._transform=function(b,m,g){g(new s("_transform()"))},h.prototype._write=function(b,m,g){var p=this._transformState;if(p.writecb=g,p.writechunk=b,p.writeencoding=m,!p.transforming){var v=this._readableState;(p.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},h.prototype._read=function(b){var m=this._transformState;m.writechunk===null||m.transforming?m.needTransform=!0:(m.transforming=!0,this._transform(m.writechunk,m.writeencoding,m.afterTransform))},h.prototype._destroy=function(b,m){c.prototype._destroy.call(this,b,function(g){m(g)})}},{"../errors":477,"./_stream_duplex":478,inherits:440}],482:[function(e,n,l){(function(i,s){(function(){function u(_){var E=this;this.next=null,this.entry=null,this.finish=function(){(function(D,N,U){var V=D.entry;for(D.entry=null;V;){var J=V.callback;N.pendingcb--,J(U),V=V.next}N.corkedRequestsFree.next=D})(E,_)}}var a;n.exports=B,B.WritableState=q;var o={deprecate:e("util-deprecate")},c=e("./internal/streams/stream"),f=e("buffer").Buffer,h=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},d,y=e("./internal/streams/destroy"),b=e("./internal/streams/state").getHighWaterMark,m=e("../errors").codes,g=m.ERR_INVALID_ARG_TYPE,p=m.ERR_METHOD_NOT_IMPLEMENTED,v=m.ERR_MULTIPLE_CALLBACK,C=m.ERR_STREAM_CANNOT_PIPE,j=m.ERR_STREAM_DESTROYED,L=m.ERR_STREAM_NULL_VALUES,$=m.ERR_STREAM_WRITE_AFTER_END,M=m.ERR_UNKNOWN_ENCODING,z=y.errorOrDestroy;function H(){}function q(_,E,D){a=a||e("./_stream_duplex"),_=_||{},typeof D!="boolean"&&(D=E instanceof a),this.objectMode=!!_.objectMode,D&&(this.objectMode=this.objectMode||!!_.writableObjectMode),this.highWaterMark=b(this,_,"writableHighWaterMark",D),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var N=_.decodeStrings===!1;this.decodeStrings=!N,this.defaultEncoding=_.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(U){(function(V,J){var F=V._writableState,Y=F.sync,O=F.writecb;if(typeof O!="function")throw new v;if(function(G){G.writing=!1,G.writecb=null,G.length-=G.writelen,G.writelen=0}(F),J)(function(G,Q,ne,Z,oe){--Q.pendingcb,ne?(i.nextTick(oe,Z),i.nextTick(x,G,Q),G._writableState.errorEmitted=!0,z(G,Z)):(oe(Z),G._writableState.errorEmitted=!0,z(G,Z),x(G,Q))})(V,F,Y,J,O);else{var T=w(F)||V.destroyed;T||F.corked||F.bufferProcessing||!F.bufferedRequest||k(V,F),Y?i.nextTick(P,V,F,T,O):P(V,F,T,O)}})(E,U)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=_.emitClose!==!1,this.autoDestroy=!!_.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new u(this)}function B(_){var E=this instanceof(a=a||e("./_stream_duplex"));if(!E&&!d.call(B,this))return new B(_);this._writableState=new q(_,this,E),this.writable=!0,_&&(typeof _.write=="function"&&(this._write=_.write),typeof _.writev=="function"&&(this._writev=_.writev),typeof _.destroy=="function"&&(this._destroy=_.destroy),typeof _.final=="function"&&(this._final=_.final)),c.call(this)}function A(_,E,D,N,U,V,J){E.writelen=N,E.writecb=J,E.writing=!0,E.sync=!0,E.destroyed?E.onwrite(new j("write")):D?_._writev(U,E.onwrite):_._write(U,V,E.onwrite),E.sync=!1}function P(_,E,D,N){D||function(U,V){V.length===0&&V.needDrain&&(V.needDrain=!1,U.emit("drain"))}(_,E),E.pendingcb--,N(),x(_,E)}function k(_,E){E.bufferProcessing=!0;var D=E.bufferedRequest;if(_._writev&&D&&D.next){var N=E.bufferedRequestCount,U=new Array(N),V=E.corkedRequestsFree;V.entry=D;for(var J=0,F=!0;D;)U[J]=D,D.isBuf||(F=!1),D=D.next,J+=1;U.allBuffers=F,A(_,E,!0,E.length,U,"",V.finish),E.pendingcb++,E.lastBufferedRequest=null,V.next?(E.corkedRequestsFree=V.next,V.next=null):E.corkedRequestsFree=new u(E),E.bufferedRequestCount=0}else{for(;D;){var Y=D.chunk,O=D.encoding,T=D.callback;if(A(_,E,!1,E.objectMode?1:Y.length,Y,O,T),D=D.next,E.bufferedRequestCount--,E.writing)break}D===null&&(E.lastBufferedRequest=null)}E.bufferedRequest=D,E.bufferProcessing=!1}function w(_){return _.ending&&_.length===0&&_.bufferedRequest===null&&!_.finished&&!_.writing}function S(_,E){_._final(function(D){E.pendingcb--,D&&z(_,D),E.prefinished=!0,_.emit("prefinish"),x(_,E)})}function x(_,E){var D=w(E);if(D&&(function(U,V){V.prefinished||V.finalCalled||(typeof U._final!="function"||V.destroyed?(V.prefinished=!0,U.emit("prefinish")):(V.pendingcb++,V.finalCalled=!0,i.nextTick(S,U,V)))}(_,E),E.pendingcb===0&&(E.finished=!0,_.emit("finish"),E.autoDestroy))){var N=_._readableState;(!N||N.autoDestroy&&N.endEmitted)&&_.destroy()}return D}e("inherits")(B,c),q.prototype.getBuffer=function(){for(var _=this.bufferedRequest,E=[];_;)E.push(_),_=_.next;return E},function(){try{Object.defineProperty(q.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(B,Symbol.hasInstance,{value:function(_){return!!d.call(this,_)||this===B&&_&&_._writableState instanceof q}})):d=function(_){return _ instanceof this},B.prototype.pipe=function(){z(this,new C)},B.prototype.write=function(_,E,D){var N,U=this._writableState,V=!1,J=!U.objectMode&&(N=_,f.isBuffer(N)||N instanceof h);return J&&!f.isBuffer(_)&&(_=function(F){return f.from(F)}(_)),typeof E=="function"&&(D=E,E=null),J?E="buffer":E||(E=U.defaultEncoding),typeof D!="function"&&(D=H),U.ending?function(F,Y){var O=new $;z(F,O),i.nextTick(Y,O)}(this,D):(J||function(F,Y,O,T){var G;return O===null?G=new L:typeof O=="string"||Y.objectMode||(G=new g("chunk",["string","Buffer"],O)),!G||(z(F,G),i.nextTick(T,G),!1)}(this,U,_,D))&&(U.pendingcb++,V=function(F,Y,O,T,G,Q){if(!O){var ne=function(te,se,pe){return te.objectMode||te.decodeStrings===!1||typeof se!="string"||(se=f.from(se,pe)),se}(Y,T,G);T!==ne&&(O=!0,G="buffer",T=ne)}var Z=Y.objectMode?1:T.length;Y.length+=Z;var oe=Y.length<Y.highWaterMark;if(oe||(Y.needDrain=!0),Y.writing||Y.corked){var ue=Y.lastBufferedRequest;Y.lastBufferedRequest={chunk:T,encoding:G,isBuf:O,callback:Q,next:null},ue?ue.next=Y.lastBufferedRequest:Y.bufferedRequest=Y.lastBufferedRequest,Y.bufferedRequestCount+=1}else A(F,Y,!1,Z,T,G,Q);return oe}(this,U,J,_,E,D)),V},B.prototype.cork=function(){this._writableState.corked++},B.prototype.uncork=function(){var _=this._writableState;_.corked&&(_.corked--,_.writing||_.corked||_.bufferProcessing||!_.bufferedRequest||k(this,_))},B.prototype.setDefaultEncoding=function(_){if(typeof _=="string"&&(_=_.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((_+"").toLowerCase())>-1))throw new M(_);return this._writableState.defaultEncoding=_,this},Object.defineProperty(B.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(B.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),B.prototype._write=function(_,E,D){D(new p("_write()"))},B.prototype._writev=null,B.prototype.end=function(_,E,D){var N=this._writableState;return typeof _=="function"?(D=_,_=null,E=null):typeof E=="function"&&(D=E,E=null),_!=null&&this.write(_,E),N.corked&&(N.corked=1,this.uncork()),N.ending||function(U,V,J){V.ending=!0,x(U,V),J&&(V.finished?i.nextTick(J):U.once("finish",J)),V.ended=!0,U.writable=!1}(this,N,D),this},Object.defineProperty(B.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(B.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(_){this._writableState&&(this._writableState.destroyed=_)}}),B.prototype.destroy=y.destroy,B.prototype._undestroy=y.undestroy,B.prototype._destroy=function(_,E){E(_)}}).call(this)}).call(this,e("_process"),typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":477,"./_stream_duplex":478,"./internal/streams/destroy":485,"./internal/streams/state":489,"./internal/streams/stream":490,_process:467,buffer:220,inherits:440,"util-deprecate":524}],483:[function(e,n,l){(function(i){(function(){var s;function u(j,L,$){return(L=function(M){var z=function(H,q){if(typeof H!="object"||H===null)return H;var B=H[Symbol.toPrimitive];if(B!==void 0){var A=B.call(H,q);if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(q==="string"?String:Number)(H)}(M,"string");return typeof z=="symbol"?z:String(z)}(L))in j?Object.defineProperty(j,L,{value:$,enumerable:!0,configurable:!0,writable:!0}):j[L]=$,j}var a=e("./end-of-stream"),o=Symbol("lastResolve"),c=Symbol("lastReject"),f=Symbol("error"),h=Symbol("ended"),d=Symbol("lastPromise"),y=Symbol("handlePromise"),b=Symbol("stream");function m(j,L){return{value:j,done:L}}function g(j){var L=j[o];if(L!==null){var $=j[b].read();$!==null&&(j[d]=null,j[o]=null,j[c]=null,L(m($,!1)))}}function p(j){i.nextTick(g,j)}var v=Object.getPrototypeOf(function(){}),C=Object.setPrototypeOf((u(s={get stream(){return this[b]},next:function(){var j=this,L=this[f];if(L!==null)return Promise.reject(L);if(this[h])return Promise.resolve(m(void 0,!0));if(this[b].destroyed)return new Promise(function(H,q){i.nextTick(function(){j[f]?q(j[f]):H(m(void 0,!0))})});var $,M=this[d];if(M)$=new Promise(function(H,q){return function(B,A){H.then(function(){q[h]?B(m(void 0,!0)):q[y](B,A)},A)}}(M,this));else{var z=this[b].read();if(z!==null)return Promise.resolve(m(z,!1));$=new Promise(this[y])}return this[d]=$,$}},Symbol.asyncIterator,function(){return this}),u(s,"return",function(){var j=this;return new Promise(function(L,$){j[b].destroy(null,function(M){M?$(M):L(m(void 0,!0))})})}),s),v);n.exports=function(j){var L,$=Object.create(C,(u(L={},b,{value:j,writable:!0}),u(L,o,{value:null,writable:!0}),u(L,c,{value:null,writable:!0}),u(L,f,{value:null,writable:!0}),u(L,h,{value:j._readableState.endEmitted,writable:!0}),u(L,y,{value:function(M,z){var H=$[b].read();H?($[d]=null,$[o]=null,$[c]=null,M(m(H,!1))):($[o]=M,$[c]=z)},writable:!0}),L));return $[d]=null,a(j,function(M){if(M&&M.code!=="ERR_STREAM_PREMATURE_CLOSE"){var z=$[c];return z!==null&&($[d]=null,$[o]=null,$[c]=null,z(M)),void($[f]=M)}var H=$[o];H!==null&&($[d]=null,$[o]=null,$[c]=null,H(m(void 0,!0))),$[h]=!0}),j.on("readable",p.bind(null,$)),$}}).call(this)}).call(this,e("_process"))},{"./end-of-stream":486,_process:467}],484:[function(e,n,l){function i(d,y){var b=Object.keys(d);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(d);y&&(m=m.filter(function(g){return Object.getOwnPropertyDescriptor(d,g).enumerable})),b.push.apply(b,m)}return b}function s(d){for(var y=1;y<arguments.length;y++){var b=arguments[y]!=null?arguments[y]:{};y%2?i(Object(b),!0).forEach(function(m){u(d,m,b[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(b)):i(Object(b)).forEach(function(m){Object.defineProperty(d,m,Object.getOwnPropertyDescriptor(b,m))})}return d}function u(d,y,b){return(y=o(y))in d?Object.defineProperty(d,y,{value:b,enumerable:!0,configurable:!0,writable:!0}):d[y]=b,d}function a(d,y){for(var b=0;b<y.length;b++){var m=y[b];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(d,o(m.key),m)}}function o(d){var y=function(b,m){if(typeof b!="object"||b===null)return b;var g=b[Symbol.toPrimitive];if(g!==void 0){var p=g.call(b,m);if(typeof p!="object")return p;throw new TypeError("@@toPrimitive must return a primitive value.")}return(m==="string"?String:Number)(b)}(d,"string");return typeof y=="symbol"?y:String(y)}var c=e("buffer").Buffer,f=e("util").inspect,h=f&&f.custom||"inspect";n.exports=function(){function d(){(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,d),this.head=null,this.tail=null,this.length=0}var y,b;return y=d,(b=[{key:"push",value:function(m){var g={data:m,next:null};this.length>0?this.tail.next=g:this.head=g,this.tail=g,++this.length}},{key:"unshift",value:function(m){var g={data:m,next:this.head};this.length===0&&(this.tail=g),this.head=g,++this.length}},{key:"shift",value:function(){if(this.length!==0){var m=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,m}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(m){if(this.length===0)return"";for(var g=this.head,p=""+g.data;g=g.next;)p+=m+g.data;return p}},{key:"concat",value:function(m){if(this.length===0)return c.alloc(0);for(var g,p,v,C=c.allocUnsafe(m>>>0),j=this.head,L=0;j;)g=j.data,p=C,v=L,c.prototype.copy.call(g,p,v),L+=j.data.length,j=j.next;return C}},{key:"consume",value:function(m,g){var p;return m<this.head.data.length?(p=this.head.data.slice(0,m),this.head.data=this.head.data.slice(m)):p=m===this.head.data.length?this.shift():g?this._getString(m):this._getBuffer(m),p}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(m){var g=this.head,p=1,v=g.data;for(m-=v.length;g=g.next;){var C=g.data,j=m>C.length?C.length:m;if(j===C.length?v+=C:v+=C.slice(0,m),(m-=j)==0){j===C.length?(++p,g.next?this.head=g.next:this.head=this.tail=null):(this.head=g,g.data=C.slice(j));break}++p}return this.length-=p,v}},{key:"_getBuffer",value:function(m){var g=c.allocUnsafe(m),p=this.head,v=1;for(p.data.copy(g),m-=p.data.length;p=p.next;){var C=p.data,j=m>C.length?C.length:m;if(C.copy(g,g.length-m,0,j),(m-=j)==0){j===C.length?(++v,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p,p.data=C.slice(j));break}++v}return this.length-=v,g}},{key:h,value:function(m,g){return f(this,s(s({},g),{},{depth:0,customInspect:!1}))}}])&&a(y.prototype,b),Object.defineProperty(y,"prototype",{writable:!1}),d}()},{buffer:220,util:188}],485:[function(e,n,l){(function(i){(function(){function s(o,c){a(o,c),u(o)}function u(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function a(o,c){o.emit("error",c)}n.exports={destroy:function(o,c){var f=this,h=this._readableState&&this._readableState.destroyed,d=this._writableState&&this._writableState.destroyed;return h||d?(c?c(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(a,this,o)):i.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(y){!c&&y?f._writableState?f._writableState.errorEmitted?i.nextTick(u,f):(f._writableState.errorEmitted=!0,i.nextTick(s,f,y)):i.nextTick(s,f,y):c?(i.nextTick(u,f),c(y)):i.nextTick(u,f)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(o,c){var f=o._readableState,h=o._writableState;f&&f.autoDestroy||h&&h.autoDestroy?o.destroy(c):o.emit("error",c)}}}).call(this)}).call(this,e("_process"))},{_process:467}],486:[function(e,n,l){var i=e("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function s(){}n.exports=function u(a,o,c){if(typeof o=="function")return u(a,null,o);o||(o={}),c=function(j){var L=!1;return function(){if(!L){L=!0;for(var $=arguments.length,M=new Array($),z=0;z<$;z++)M[z]=arguments[z];j.apply(this,M)}}}(c||s);var f=o.readable||o.readable!==!1&&a.readable,h=o.writable||o.writable!==!1&&a.writable,d=function(){a.writable||b()},y=a._writableState&&a._writableState.finished,b=function(){h=!1,y=!0,f||c.call(a)},m=a._readableState&&a._readableState.endEmitted,g=function(){f=!1,m=!0,h||c.call(a)},p=function(j){c.call(a,j)},v=function(){var j;return f&&!m?(a._readableState&&a._readableState.ended||(j=new i),c.call(a,j)):h&&!y?(a._writableState&&a._writableState.ended||(j=new i),c.call(a,j)):void 0},C=function(){a.req.on("finish",b)};return function(j){return j.setHeader&&typeof j.abort=="function"}(a)?(a.on("complete",b),a.on("abort",v),a.req?C():a.on("request",C)):h&&!a._writableState&&(a.on("end",d),a.on("close",d)),a.on("end",g),a.on("finish",b),o.error!==!1&&a.on("error",p),a.on("close",v),function(){a.removeListener("complete",b),a.removeListener("abort",v),a.removeListener("request",C),a.req&&a.req.removeListener("finish",b),a.removeListener("end",d),a.removeListener("close",d),a.removeListener("finish",b),a.removeListener("end",g),a.removeListener("error",p),a.removeListener("close",v)}}},{"../../../errors":477}],487:[function(e,n,l){n.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],488:[function(e,n,l){var i,s=e("../../../errors").codes,u=s.ERR_MISSING_ARGS,a=s.ERR_STREAM_DESTROYED;function o(y){if(y)throw y}function c(y,b,m,g){g=function(C){var j=!1;return function(){j||(j=!0,C.apply(void 0,arguments))}}(g);var p=!1;y.on("close",function(){p=!0}),i===void 0&&(i=e("./end-of-stream")),i(y,{readable:b,writable:m},function(C){if(C)return g(C);p=!0,g()});var v=!1;return function(C){if(!p&&!v)return v=!0,function(j){return j.setHeader&&typeof j.abort=="function"}(y)?y.abort():typeof y.destroy=="function"?y.destroy():void g(C||new a("pipe"))}}function f(y){y()}function h(y,b){return y.pipe(b)}function d(y){return y.length?typeof y[y.length-1]!="function"?o:y.pop():o}n.exports=function(){for(var y=arguments.length,b=new Array(y),m=0;m<y;m++)b[m]=arguments[m];var g,p=d(b);if(Array.isArray(b[0])&&(b=b[0]),b.length<2)throw new u("streams");var v=b.map(function(C,j){var L=j<b.length-1;return c(C,L,j>0,function($){g||(g=$),$&&v.forEach(f),L||(v.forEach(f),p(g))})});return b.reduce(h)}},{"../../../errors":477,"./end-of-stream":486}],489:[function(e,n,l){var i=e("../../../errors").codes.ERR_INVALID_OPT_VALUE;n.exports={getHighWaterMark:function(s,u,a,o){var c=function(f,h,d){return f.highWaterMark!=null?f.highWaterMark:h?f[d]:null}(u,o,a);if(c!=null){if(!isFinite(c)||Math.floor(c)!==c||c<0)throw new i(o?a:"highWaterMark",c);return Math.floor(c)}return s.objectMode?16:16384}}},{"../../../errors":477}],490:[function(e,n,l){n.exports=e("events").EventEmitter},{events:422}],491:[function(e,n,l){(l=n.exports=e("./lib/_stream_readable.js")).Stream=l,l.Readable=l,l.Writable=e("./lib/_stream_writable.js"),l.Duplex=e("./lib/_stream_duplex.js"),l.Transform=e("./lib/_stream_transform.js"),l.PassThrough=e("./lib/_stream_passthrough.js"),l.finished=e("./lib/internal/streams/end-of-stream.js"),l.pipeline=e("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":478,"./lib/_stream_passthrough.js":479,"./lib/_stream_readable.js":480,"./lib/_stream_transform.js":481,"./lib/_stream_writable.js":482,"./lib/internal/streams/end-of-stream.js":486,"./lib/internal/streams/pipeline.js":488}],492:[function(e,n,l){var i=function(s){var u=Object.prototype,a=u.hasOwnProperty,o=Object.defineProperty||function(x,_,E){x[_]=E.value},c=typeof Symbol=="function"?Symbol:{},f=c.iterator||"@@iterator",h=c.asyncIterator||"@@asyncIterator",d=c.toStringTag||"@@toStringTag";function y(x,_,E){return Object.defineProperty(x,_,{value:E,enumerable:!0,configurable:!0,writable:!0}),x[_]}try{y({},"")}catch{y=function(_,E,D){return _[E]=D}}function b(x,_,E,D){var N=_&&_.prototype instanceof p?_:p,U=Object.create(N.prototype),V=new k(D||[]);return o(U,"_invoke",{value:q(x,E,V)}),U}function m(x,_,E){try{return{type:"normal",arg:x.call(_,E)}}catch(D){return{type:"throw",arg:D}}}s.wrap=b;var g={};function p(){}function v(){}function C(){}var j={};y(j,f,function(){return this});var L=Object.getPrototypeOf,$=L&&L(L(w([])));$&&$!==u&&a.call($,f)&&(j=$);var M=C.prototype=p.prototype=Object.create(j);function z(x){["next","throw","return"].forEach(function(_){y(x,_,function(E){return this._invoke(_,E)})})}function H(x,_){var E;o(this,"_invoke",{value:function(D,N){function U(){return new _(function(V,J){(function F(Y,O,T,G){var Q=m(x[Y],x,O);if(Q.type!=="throw"){var ne=Q.arg,Z=ne.value;return Z&&typeof Z=="object"&&a.call(Z,"__await")?_.resolve(Z.__await).then(function(oe){F("next",oe,T,G)},function(oe){F("throw",oe,T,G)}):_.resolve(Z).then(function(oe){ne.value=oe,T(ne)},function(oe){return F("throw",oe,T,G)})}G(Q.arg)})(D,N,V,J)})}return E=E?E.then(U,U):U()}})}function q(x,_,E){var D="suspendedStart";return function(N,U){if(D==="executing")throw new Error("Generator is already running");if(D==="completed"){if(N==="throw")throw U;return S()}for(E.method=N,E.arg=U;;){var V=E.delegate;if(V){var J=B(V,E);if(J){if(J===g)continue;return J}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(D==="suspendedStart")throw D="completed",E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);D="executing";var F=m(x,_,E);if(F.type==="normal"){if(D=E.done?"completed":"suspendedYield",F.arg===g)continue;return{value:F.arg,done:E.done}}F.type==="throw"&&(D="completed",E.method="throw",E.arg=F.arg)}}}function B(x,_){var E=_.method,D=x.iterator[E];if(D===void 0)return _.delegate=null,E==="throw"&&x.iterator.return&&(_.method="return",_.arg=void 0,B(x,_),_.method==="throw")||E!=="return"&&(_.method="throw",_.arg=new TypeError("The iterator does not provide a '"+E+"' method")),g;var N=m(D,x.iterator,_.arg);if(N.type==="throw")return _.method="throw",_.arg=N.arg,_.delegate=null,g;var U=N.arg;return U?U.done?(_[x.resultName]=U.value,_.next=x.nextLoc,_.method!=="return"&&(_.method="next",_.arg=void 0),_.delegate=null,g):U:(_.method="throw",_.arg=new TypeError("iterator result is not an object"),_.delegate=null,g)}function A(x){var _={tryLoc:x[0]};1 in x&&(_.catchLoc=x[1]),2 in x&&(_.finallyLoc=x[2],_.afterLoc=x[3]),this.tryEntries.push(_)}function P(x){var _=x.completion||{};_.type="normal",delete _.arg,x.completion=_}function k(x){this.tryEntries=[{tryLoc:"root"}],x.forEach(A,this),this.reset(!0)}function w(x){if(x){var _=x[f];if(_)return _.call(x);if(typeof x.next=="function")return x;if(!isNaN(x.length)){var E=-1,D=function N(){for(;++E<x.length;)if(a.call(x,E))return N.value=x[E],N.done=!1,N;return N.value=void 0,N.done=!0,N};return D.next=D}}return{next:S}}function S(){return{value:void 0,done:!0}}return v.prototype=C,o(M,"constructor",{value:C,configurable:!0}),o(C,"constructor",{value:v,configurable:!0}),v.displayName=y(C,d,"GeneratorFunction"),s.isGeneratorFunction=function(x){var _=typeof x=="function"&&x.constructor;return!!_&&(_===v||(_.displayName||_.name)==="GeneratorFunction")},s.mark=function(x){return Object.setPrototypeOf?Object.setPrototypeOf(x,C):(x.__proto__=C,y(x,d,"GeneratorFunction")),x.prototype=Object.create(M),x},s.awrap=function(x){return{__await:x}},z(H.prototype),y(H.prototype,h,function(){return this}),s.AsyncIterator=H,s.async=function(x,_,E,D,N){N===void 0&&(N=Promise);var U=new H(b(x,_,E,D),N);return s.isGeneratorFunction(_)?U:U.next().then(function(V){return V.done?V.value:U.next()})},z(M),y(M,d,"Generator"),y(M,f,function(){return this}),y(M,"toString",function(){return"[object Generator]"}),s.keys=function(x){var _=Object(x),E=[];for(var D in _)E.push(D);return E.reverse(),function N(){for(;E.length;){var U=E.pop();if(U in _)return N.value=U,N.done=!1,N}return N.done=!0,N}},s.values=w,k.prototype={constructor:k,reset:function(x){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!x)for(var _ in this)_.charAt(0)==="t"&&a.call(this,_)&&!isNaN(+_.slice(1))&&(this[_]=void 0)},stop:function(){this.done=!0;var x=this.tryEntries[0].completion;if(x.type==="throw")throw x.arg;return this.rval},dispatchException:function(x){if(this.done)throw x;var _=this;function E(F,Y){return U.type="throw",U.arg=x,_.next=F,Y&&(_.method="next",_.arg=void 0),!!Y}for(var D=this.tryEntries.length-1;D>=0;--D){var N=this.tryEntries[D],U=N.completion;if(N.tryLoc==="root")return E("end");if(N.tryLoc<=this.prev){var V=a.call(N,"catchLoc"),J=a.call(N,"finallyLoc");if(V&&J){if(this.prev<N.catchLoc)return E(N.catchLoc,!0);if(this.prev<N.finallyLoc)return E(N.finallyLoc)}else if(V){if(this.prev<N.catchLoc)return E(N.catchLoc,!0)}else{if(!J)throw new Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return E(N.finallyLoc)}}}},abrupt:function(x,_){for(var E=this.tryEntries.length-1;E>=0;--E){var D=this.tryEntries[E];if(D.tryLoc<=this.prev&&a.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var N=D;break}}N&&(x==="break"||x==="continue")&&N.tryLoc<=_&&_<=N.finallyLoc&&(N=null);var U=N?N.completion:{};return U.type=x,U.arg=_,N?(this.method="next",this.next=N.finallyLoc,g):this.complete(U)},complete:function(x,_){if(x.type==="throw")throw x.arg;return x.type==="break"||x.type==="continue"?this.next=x.arg:x.type==="return"?(this.rval=this.arg=x.arg,this.method="return",this.next="end"):x.type==="normal"&&_&&(this.next=_),g},finish:function(x){for(var _=this.tryEntries.length-1;_>=0;--_){var E=this.tryEntries[_];if(E.finallyLoc===x)return this.complete(E.completion,E.afterLoc),P(E),g}},catch:function(x){for(var _=this.tryEntries.length-1;_>=0;--_){var E=this.tryEntries[_];if(E.tryLoc===x){var D=E.completion;if(D.type==="throw"){var N=D.arg;P(E)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(x,_,E){return this.delegate={iterator:w(x),resultName:_,nextLoc:E},this.method==="next"&&(this.arg=void 0),g}},s}(typeof n=="object"?n.exports:{});try{regeneratorRuntime=i}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=i:Function("r","regeneratorRuntime = r")(i)}},{}],493:[function(e,n,l){var i=e("buffer").Buffer,s=e("inherits"),u=e("hash-base"),a=new Array(16),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],c=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],f=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],h=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],d=[0,1518500249,1859775393,2400959708,2840853838],y=[1352829926,1548603684,1836072691,2053994217,0];function b(){u.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function m(L,$){return L<<$|L>>>32-$}function g(L,$,M,z,H,q,B,A){return m(L+($^M^z)+q+B|0,A)+H|0}function p(L,$,M,z,H,q,B,A){return m(L+($&M|~$&z)+q+B|0,A)+H|0}function v(L,$,M,z,H,q,B,A){return m(L+(($|~M)^z)+q+B|0,A)+H|0}function C(L,$,M,z,H,q,B,A){return m(L+($&z|M&~z)+q+B|0,A)+H|0}function j(L,$,M,z,H,q,B,A){return m(L+($^(M|~z))+q+B|0,A)+H|0}s(b,u),b.prototype._update=function(){for(var L=a,$=0;$<16;++$)L[$]=this._block.readInt32LE(4*$);for(var M=0|this._a,z=0|this._b,H=0|this._c,q=0|this._d,B=0|this._e,A=0|this._a,P=0|this._b,k=0|this._c,w=0|this._d,S=0|this._e,x=0;x<80;x+=1){var _,E;x<16?(_=g(M,z,H,q,B,L[o[x]],d[0],f[x]),E=j(A,P,k,w,S,L[c[x]],y[0],h[x])):x<32?(_=p(M,z,H,q,B,L[o[x]],d[1],f[x]),E=C(A,P,k,w,S,L[c[x]],y[1],h[x])):x<48?(_=v(M,z,H,q,B,L[o[x]],d[2],f[x]),E=v(A,P,k,w,S,L[c[x]],y[2],h[x])):x<64?(_=C(M,z,H,q,B,L[o[x]],d[3],f[x]),E=p(A,P,k,w,S,L[c[x]],y[3],h[x])):(_=j(M,z,H,q,B,L[o[x]],d[4],f[x]),E=g(A,P,k,w,S,L[c[x]],y[4],h[x])),M=B,B=q,q=m(H,10),H=z,z=_,A=S,S=w,w=m(k,10),k=P,P=E}var D=this._b+H+w|0;this._b=this._c+q+S|0,this._c=this._d+B+A|0,this._d=this._e+M+P|0,this._e=this._a+z+k|0,this._a=D},b.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var L=i.alloc?i.alloc(20):new i(20);return L.writeInt32LE(this._a,0),L.writeInt32LE(this._b,4),L.writeInt32LE(this._c,8),L.writeInt32LE(this._d,12),L.writeInt32LE(this._e,16),L},n.exports=b},{buffer:220,"hash-base":425,inherits:440}],494:[function(e,n,l){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var i=e("buffer"),s=i.Buffer;function u(o,c){for(var f in o)c[f]=o[f]}function a(o,c,f){return s(o,c,f)}s.from&&s.alloc&&s.allocUnsafe&&s.allocUnsafeSlow?n.exports=i:(u(i,l),l.Buffer=a),a.prototype=Object.create(s.prototype),u(s,a),a.from=function(o,c,f){if(typeof o=="number")throw new TypeError("Argument must not be a number");return s(o,c,f)},a.alloc=function(o,c,f){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=s(o);return c!==void 0?typeof f=="string"?h.fill(c,f):h.fill(c):h.fill(0),h},a.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return s(o)},a.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return i.SlowBuffer(o)}},{buffer:220}],495:[function(e,n,l){(function(i){(function(){var s,u=e("buffer"),a=u.Buffer,o={};for(s in u)u.hasOwnProperty(s)&&s!=="SlowBuffer"&&s!=="Buffer"&&(o[s]=u[s]);var c=o.Buffer={};for(s in a)a.hasOwnProperty(s)&&s!=="allocUnsafe"&&s!=="allocUnsafeSlow"&&(c[s]=a[s]);if(o.Buffer.prototype=a.prototype,c.from&&c.from!==Uint8Array.from||(c.from=function(f,h,d){if(typeof f=="number")throw new TypeError('The "value" argument must not be of type number. Received type '+typeof f);if(f&&f.length===void 0)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof f);return a(f,h,d)}),c.alloc||(c.alloc=function(f,h,d){if(typeof f!="number")throw new TypeError('The "size" argument must be of type number. Received type '+typeof f);if(f<0||f>=2*(1<<30))throw new RangeError('The value "'+f+'" is invalid for option "size"');var y=a(f);return h&&h.length!==0?typeof d=="string"?y.fill(h,d):y.fill(h):y.fill(0),y}),!o.kStringMaxLength)try{o.kStringMaxLength=i.binding("buffer").kStringMaxLength}catch{}o.constants||(o.constants={MAX_LENGTH:o.kMaxLength},o.kStringMaxLength&&(o.constants.MAX_STRING_LENGTH=o.kStringMaxLength)),n.exports=o}).call(this)}).call(this,e("_process"))},{_process:467,buffer:220}],496:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0});const i=e("xmlchars/xml/1.0/ed5"),s=e("xmlchars/xml/1.1/ed2"),u=e("xmlchars/xmlns/1.0/ed3");var a=i.isS,o=i.isChar,c=i.isNameStartChar,f=i.isNameChar,h=i.S_LIST,d=i.NAME_RE,y=s.isChar,b=u.isNCNameStartChar,m=u.isNCNameChar,g=u.NC_NAME_RE;const p="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",C={__proto__:null,xml:p,xmlns:v},j={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},L=w=>w===34||w===39,$=[34,39],M=[...$,91,62],z=[...$,60,93],H=[61,63,...h],q=[...h,62,38,60];function B(w,S,x){switch(S){case"xml":x!==p&&w.fail(`xml prefix must be bound to ${p}.`);break;case"xmlns":x!==v&&w.fail(`xmlns prefix must be bound to ${v}.`)}switch(x){case v:w.fail(S===""?`the default namespace may not be set to ${x}.`:`may not assign a prefix (even "xmlns") to the URI ${v}.`);break;case p:switch(S){case"xml":break;case"":w.fail(`the default namespace may not be set to ${x}.`);break;default:w.fail("may not assign the xml namespace to another prefix.")}}}const A=w=>g.test(w),P=w=>d.test(w);l.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const k={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};l.SaxesParser=class{constructor(w){this.opt=w??{},this.fragmentOpt=!!this.opt.fragment;const S=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=this.opt.position!==!1,this.fileName=this.opt.fileName,S){this.nameStartCheck=b,this.nameCheck=m,this.isName=A,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},C);const x=this.opt.additionalNamespaces;x!=null&&(function(_,E){for(const D of Object.keys(E))B(_,D,E[D])}(this,x),Object.assign(this.ns,x))}else this.nameStartCheck=c,this.nameCheck=f,this.isName=P,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}get closed(){return this._closed}_init(){var w;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:S}=this;this.state=S?13:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=S,this.xmlDeclPossible=!S,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:x}=this.opt;if(x===void 0){if(this.opt.forceXMLVersion===!0)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");x="1.0"}this.setXMLVersion(x),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(j),(w=this.readyHandler)===null||w===void 0||w.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(w,S){this[k[w]]=S}off(w){this[k[w]]=void 0}makeError(w){var S;let x=(S=this.fileName)!==null&&S!==void 0?S:"";return this.trackPosition&&(x.length>0&&(x+=":"),x+=`${this.line}:${this.column}`),x.length>0&&(x+=": "),new Error(x+w)}fail(w){const S=this.makeError(w),x=this.errorHandler;if(x===void 0)throw S;return x(S),this}write(w){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let S=!1;w===null?(S=!0,w=""):typeof w=="object"&&(w=w.toString()),this.carriedFromPrevious!==void 0&&(w=`${this.carriedFromPrevious}${w}`,this.carriedFromPrevious=void 0);let x=w.length;const _=w.charCodeAt(x-1);!S&&(_===13||_>=55296&&_<=56319)&&(this.carriedFromPrevious=w[x-1],x--,w=w.slice(0,x));const{stateTable:E}=this;for(this.chunk=w,this.i=0;this.i<x;)E[this.state].call(this);return this.chunkPosition+=x,S?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:w,i:S}=this;if(this.prevI=S,this.i=S+1,S>=w.length)return-1;const x=w.charCodeAt(S);if(this.column++,x<55296){if(x>=32||x===9)return x;switch(x){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:return w.charCodeAt(S+1)===10&&(this.i=S+2),this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),x}}if(x>56319)return x>=57344&&x<=65533||this.fail("disallowed character."),x;const _=65536+1024*(x-55296)+(w.charCodeAt(S+1)-56320);return this.i=S+2,_>1114111&&this.fail("disallowed character."),_}getCode11(){const{chunk:w,i:S}=this;if(this.prevI=S,this.i=S+1,S>=w.length)return-1;const x=w.charCodeAt(S);if(this.column++,x<55296){if(x>31&&x<127||x>159&&x!==8232||x===9)return x;switch(x){case 10:return this.line++,this.column=0,this.positionAtNewLine=this.position,10;case 13:{const E=w.charCodeAt(S+1);E!==10&&E!==133||(this.i=S+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,-2;default:return this.fail("disallowed character."),x}}if(x>56319)return x>=57344&&x<=65533||this.fail("disallowed character."),x;const _=65536+1024*(x-55296)+(w.charCodeAt(S+1)-56320);return this.i=S+2,_>1114111&&this.fail("disallowed character."),_}getCodeNorm(){const w=this.getCode();return w===-2?10:w}unget(){this.i=this.prevI,this.column--}captureTo(w){let{i:S}=this;const{chunk:x}=this;for(;;){const _=this.getCode(),E=_===-2,D=E?10:_;if(D===-1||w.includes(D))return this.text+=x.slice(S,this.prevI),D;E&&(this.text+=x.slice(S,this.prevI)+`
`,S=this.i)}}captureToChar(w){let{i:S}=this;const{chunk:x}=this;for(;;){let _=this.getCode();switch(_){case-2:this.text+=x.slice(S,this.prevI)+`
`,S=this.i,_=10;break;case-1:return this.text+=x.slice(S),!1}if(_===w)return this.text+=x.slice(S,this.prevI),!0}}captureNameChars(){const{chunk:w,i:S}=this;for(;;){const x=this.getCode();if(x===-1)return this.name+=w.slice(S),-1;if(!f(x))return this.name+=w.slice(S,this.prevI),x===-2?10:x}}skipSpaces(){for(;;){const w=this.getCodeNorm();if(w===-1||!a(w))return w}}setXMLVersion(w){this.currentXMLVersion=w,w==="1.0"?(this.isChar=o,this.getCode=this.getCode10):(this.isChar=y,this.getCode=this.getCode11)}sBegin(){this.chunk.charCodeAt(0)===65279&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const w=this.i,S=this.skipSpaces();switch(this.prevI!==w&&(this.xmlDeclPossible=!1),S){case 60:if(this.state=15,this.text.length!==0)throw new Error("no-empty text at start");break;case-1:break;default:this.unget(),this.state=13,this.xmlDeclPossible=!1}}sDoctype(){var w;const S=this.captureTo(M);switch(S){case 62:(w=this.doctypeHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13,this.doctype=!0;break;case-1:break;default:this.text+=String.fromCodePoint(S),S===91?this.state=4:L(S)&&(this.state=3,this.q=S)}}sDoctypeQuote(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.q=null,this.state=2)}sDTD(){const w=this.captureTo(z);w!==-1&&(this.text+=String.fromCodePoint(w),w===93?this.state=2:w===60?this.state=6:L(w)&&(this.state=5,this.q=w))}sDTDQuoted(){const w=this.q;this.captureToChar(w)&&(this.text+=String.fromCodePoint(w),this.state=4,this.q=null)}sDTDOpenWaka(){const w=this.getCodeNorm();switch(this.text+=String.fromCodePoint(w),w){case 33:this.state=7,this.openWakaBang="";break;case 63:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const w=String.fromCodePoint(this.getCodeNorm()),S=this.openWakaBang+=w;this.text+=w,S!=="-"&&(this.state=S==="--"?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),this.state=w===45?10:8}sDTDCommentEnded(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(63)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const w=this.getCodeNorm();this.text+=String.fromCodePoint(w),w===62&&(this.state=4)}sText(){this.tags.length!==0?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:w}=this;const{chunk:S}=this;e:for(;;)switch(this.getCode()){case-2:this.entity+=S.slice(w,this.prevI)+`
`,w=this.i;break;case 59:{const{entityReturnState:x}=this,_=this.entity+S.slice(w,this.prevI);let E;this.state=x,_===""?(this.fail("empty entity name."),E="&;"):(E=this.parseEntity(_),this.entity=""),x===13&&this.textHandler===void 0||(this.text+=E);break e}case-1:this.entity+=S.slice(w);break e}}sOpenWaka(){const w=this.getCode();if(c(w))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(w){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case 63:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=13,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var w;const S=this.getCodeNorm();S===45?(this.state=19,(w=this.commentHandler)===null||w===void 0||w.call(this,this.text),this.text=""):(this.text+="-"+String.fromCodePoint(S),this.state=17)}sCommentEnded(){const w=this.getCodeNorm();w!==62?(this.fail("malformed comment."),this.text+="--"+String.fromCodePoint(w),this.state=17):this.state=13}sCData(){this.captureToChar(93)&&(this.state=21)}sCDataEnding(){const w=this.getCodeNorm();w===93?this.state=22:(this.text+="]"+String.fromCodePoint(w),this.state=20)}sCDataEnding2(){var w;const S=this.getCodeNorm();switch(S){case 62:(w=this.cdataHandler)===null||w===void 0||w.call(this,this.text),this.text="",this.state=13;break;case 93:this.text+="]";break;default:this.text+="]]"+String.fromCodePoint(S),this.state=20}}sPIFirstChar(){const w=this.getCodeNorm();this.nameStartCheck(w)?(this.piTarget+=String.fromCodePoint(w),this.state=24):w===63||a(w)?(this.fail("processing instruction without a target."),this.state=w===63?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(w),this.state=24)}sPIRest(){const{chunk:w,i:S}=this;for(;;){const x=this.getCodeNorm();if(x===-1)return void(this.piTarget+=w.slice(S));if(!this.nameCheck(x)){this.piTarget+=w.slice(S,this.prevI);const _=x===63;_||a(x)?this.piTarget==="xml"?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=_?33:27):this.state=_?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(x));break}}}sPIBody(){if(this.text.length===0){const w=this.getCodeNorm();w===63?this.state=26:a(w)||(this.text=String.fromCodePoint(w))}else this.captureToChar(63)&&(this.state=26)}sPIEnding(){var w;const S=this.getCodeNorm();if(S===62){const{piTarget:x}=this;x.toLowerCase()==="xml"&&this.fail("the XML declaration must appear at the start of the document."),(w=this.piHandler)===null||w===void 0||w.call(this,{target:x,body:this.text}),this.piTarget=this.text="",this.state=13}else S===63?this.text+="?":(this.text+="?"+String.fromCodePoint(S),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const w=this.skipSpaces();w!==63?w!==-1&&(this.state=28,this.name=String.fromCodePoint(w)):this.state=33}sXMLDeclName(){const w=this.captureTo(H);if(w===63)return this.state=33,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(a(w)||w===61){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail(`expected the name ${this.xmlDeclExpects[0]}.`);break;default:this.fail("expected one of "+this.xmlDeclExpects.join(", "))}this.state=w===61?30:29}}sXMLDeclEq(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");a(w)||(w!==61&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const w=this.getCodeNorm();if(w===63)return this.state=33,void this.fail("XML declaration is incomplete.");a(w)||(L(w)?this.q=w:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const w=this.captureTo([this.q,63]);if(w===63)return this.state=33,this.text="",void this.fail("XML declaration is incomplete.");if(w===-1)return;const S=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const x=S;this.xmlDecl.version=x,/^1\.[0-9]+$/.test(x)?this.opt.forceXMLVersion||this.setXMLVersion(x):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(S)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=S;break;case"standalone":S!=="yes"&&S!=="no"&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=S}this.name="",this.state=32}sXMLDeclSeparator(){const w=this.getCodeNorm();w!==63?(a(w)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=33}sXMLDeclEnding(){var w;this.getCodeNorm()===62?(this.piTarget!=="xml"?this.fail("processing instructions are not allowed before root."):this.name!=="version"&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),(w=this.xmldeclHandler)===null||w===void 0||w.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=13):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var w;const S=this.captureNameChars();if(S===-1)return;const x=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=x.ns=Object.create(null)),(w=this.openTagStartHandler)===null||w===void 0||w.call(this,x),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),S){case 62:this.openTag();break;case 47:this.state=35;break;default:a(S)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===62?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const w=this.skipSpaces();w!==-1&&(c(w)?(this.unget(),this.state=37):w===62?this.openTag():w===47?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const w=this.captureNameChars();w===61?this.state=39:a(w)?this.state=38:w===62?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):w!==-1&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const w=this.skipSpaces();switch(w){case-1:return;case 61:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",w===62?this.openTag():c(w)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const w=this.getCodeNorm();L(w)?(this.q=w,this.state=40):a(w)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:w,chunk:S}=this;let{i:x}=this;for(;;)switch(this.getCode()){case w:return this.pushAttrib(this.name,this.text+S.slice(x,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=S.slice(x,this.prevI),this.state=14,void(this.entityReturnState=40);case 10:case-2:case 9:this.text+=S.slice(x,this.prevI)+" ",x=this.i;break;case 60:return this.text+=S.slice(x,this.prevI),void this.fail("disallowed character.");case-1:return void(this.text+=S.slice(x))}}sAttribValueClosed(){const w=this.getCodeNorm();a(w)?this.state=36:w===62?this.openTag():w===47?this.state=35:c(w)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const w=this.captureTo(q);switch(w){case 38:this.state=14,this.entityReturnState=42;break;case 60:this.fail("disallowed character.");break;case-1:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",w===62?this.openTag():this.state=36}}sCloseTag(){const w=this.captureNameChars();w===62?this.closeTag():a(w)?this.state=44:w!==-1&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case 62:this.closeTag();break;case-1:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:w,forbiddenState:S}=this;const{chunk:x,textHandler:_}=this;e:for(;;)switch(this.getCode()){case 60:if(this.state=15,_!==void 0){const{text:E}=this,D=x.slice(w,this.prevI);E.length!==0?(_(E+D),this.text=""):D.length!==0&&_(D)}S=0;break e;case 38:this.state=14,this.entityReturnState=13,_!==void 0&&(this.text+=x.slice(w,this.prevI)),S=0;break e;case 93:switch(S){case 0:S=1;break;case 1:S=2;break;case 2:break;default:throw new Error("impossible state")}break;case 62:S===2&&this.fail('the string "]]>" is disallowed in char data.'),S=0;break;case-2:_!==void 0&&(this.text+=x.slice(w,this.prevI)+`
`),w=this.i,S=0;break;case-1:_!==void 0&&(this.text+=x.slice(w));break e;default:S=0}this.forbiddenState=S}handleTextOutsideRoot(){let{i:w}=this;const{chunk:S,textHandler:x}=this;let _=!1;e:for(;;){const E=this.getCode();switch(E){case 60:if(this.state=15,x!==void 0){const{text:D}=this,N=S.slice(w,this.prevI);D.length!==0?(x(D+N),this.text=""):N.length!==0&&x(N)}break e;case 38:this.state=14,this.entityReturnState=13,x!==void 0&&(this.text+=S.slice(w,this.prevI)),_=!0;break e;case-2:x!==void 0&&(this.text+=S.slice(w,this.prevI)+`
`),w=this.i;break;case-1:x!==void 0&&(this.text+=S.slice(w));break e;default:a(E)||(_=!0)}}_&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(w,S){var x;const{prefix:_,local:E}=this.qname(w),D={name:w,prefix:_,local:E,value:S};if(this.attribList.push(D),(x=this.attributeHandler)===null||x===void 0||x.call(this,D),_==="xmlns"){const N=S.trim();this.currentXMLVersion==="1.0"&&N===""&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[E]=N,B(this,E,N)}else if(w==="xmlns"){const N=S.trim();this.topNS[""]=N,B(this,"",N)}}pushAttribPlain(w,S){var x;const _={name:w,value:S};this.attribList.push(_),(x=this.attributeHandler)===null||x===void 0||x.call(this,_)}end(){var w,S;this.sawRoot||this.fail("document must contain a root element.");const{tags:x}=this;for(;x.length>0;){const E=x.pop();this.fail("unclosed tag: "+E.name)}this.state!==0&&this.state!==13&&this.fail("unexpected end.");const{text:_}=this;return _.length!==0&&((w=this.textHandler)===null||w===void 0||w.call(this,_),this.text=""),this._closed=!0,(S=this.endHandler)===null||S===void 0||S.call(this),this._init(),this}resolve(w){var S,x;let _=this.topNS[w];if(_!==void 0)return _;const{tags:E}=this;for(let D=E.length-1;D>=0;D--)if(_=E[D].ns[w],_!==void 0)return _;return _=this.ns[w],_!==void 0?_:(x=(S=this.opt).resolvePrefix)===null||x===void 0?void 0:x.call(S,w)}qname(w){const S=w.indexOf(":");if(S===-1)return{prefix:"",local:w};const x=w.slice(S+1),_=w.slice(0,S);return(_===""||x===""||x.includes(":"))&&this.fail(`malformed name: ${w}.`),{prefix:_,local:x}}processAttribsNS(){var w;const{attribList:S}=this,x=this.tag;{const{prefix:D,local:N}=this.qname(x.name);x.prefix=D,x.local=N;const U=x.uri=(w=this.resolve(D))!==null&&w!==void 0?w:"";D!==""&&(D==="xmlns"&&this.fail('tags may not have "xmlns" as prefix.'),U===""&&(this.fail(`unbound namespace prefix: ${JSON.stringify(D)}.`),x.uri=D))}if(S.length===0)return;const{attributes:_}=x,E=new Set;for(const D of S){const{name:N,prefix:U,local:V}=D;let J,F;U===""?(J=N==="xmlns"?v:"",F=N):(J=this.resolve(U),J===void 0&&(this.fail(`unbound namespace prefix: ${JSON.stringify(U)}.`),J=U),F=`{${J}}${V}`),E.has(F)&&this.fail(`duplicate attribute: ${F}.`),E.add(F),D.uri=J,_[N]=D}this.attribList=[]}processAttribsPlain(){const{attribList:w}=this,S=this.tag.attributes;for(const{name:x,value:_}of w)S[x]!==void 0&&this.fail(`duplicate attribute: ${x}.`),S[x]=_;this.attribList=[]}openTag(){var w;this.processAttribs();const{tags:S}=this,x=this.tag;x.isSelfClosing=!1,(w=this.openTagHandler)===null||w===void 0||w.call(this,x),S.push(x),this.state=13,this.name=""}openSelfClosingTag(){var w,S,x;this.processAttribs();const{tags:_}=this,E=this.tag;E.isSelfClosing=!0,(w=this.openTagHandler)===null||w===void 0||w.call(this,E),(S=this.closeTagHandler)===null||S===void 0||S.call(this,E),(this.tag=(x=_[_.length-1])!==null&&x!==void 0?x:null)===null&&(this.closedRoot=!0),this.state=13,this.name=""}closeTag(){const{tags:w,name:S}=this;if(this.state=13,this.name="",S==="")return this.fail("weird empty close tag."),void(this.text+="</>");const x=this.closeTagHandler;let _=w.length;for(;_-- >0;){const E=this.tag=w.pop();if(this.topNS=E.ns,x==null||x(E),E.name===S)break;this.fail("unexpected close tag.")}_===0?this.closedRoot=!0:_<0&&(this.fail(`unmatched closing tag: ${S}.`),this.text+=`</${S}>`)}parseEntity(w){if(w[0]!=="#"){const x=this.ENTITIES[w];return x!==void 0?x:(this.fail(this.isName(w)?"undefined entity.":"disallowed character in entity name."),`&${w};`)}let S=NaN;return w[1]==="x"&&/^#x[0-9a-f]+$/i.test(w)?S=parseInt(w.slice(2),16):/^#[0-9]+$/.test(w)&&(S=parseInt(w.slice(1),10)),this.isChar(S)?String.fromCodePoint(S):(this.fail("malformed character entity."),`&${w};`)}}},{"xmlchars/xml/1.0/ed5":543,"xmlchars/xml/1.1/ed2":544,"xmlchars/xmlns/1.0/ed3":545}],497:[function(e,n,l){var i=e("safe-buffer").Buffer;function s(u,a){this._block=i.alloc(u),this._finalSize=a,this._blockSize=u,this._len=0}s.prototype.update=function(u,a){typeof u=="string"&&(a=a||"utf8",u=i.from(u,a));for(var o=this._block,c=this._blockSize,f=u.length,h=this._len,d=0;d<f;){for(var y=h%c,b=Math.min(f-d,c-y),m=0;m<b;m++)o[y+m]=u[d+m];d+=b,(h+=b)%c==0&&this._update(o)}return this._len+=f,this},s.prototype.digest=function(u){var a=this._len%this._blockSize;this._block[a]=128,this._block.fill(0,a+1),a>=this._finalSize&&(this._update(this._block),this._block.fill(0));var o=8*this._len;if(o<=4294967295)this._block.writeUInt32BE(o,this._blockSize-4);else{var c=(4294967295&o)>>>0,f=(o-c)/4294967296;this._block.writeUInt32BE(f,this._blockSize-8),this._block.writeUInt32BE(c,this._blockSize-4)}this._update(this._block);var h=this._hash();return u?h.toString(u):h},s.prototype._update=function(){throw new Error("_update must be implemented by subclass")},n.exports=s},{"safe-buffer":494}],498:[function(e,n,l){var i=n.exports=function(s){s=s.toLowerCase();var u=i[s];if(!u)throw new Error(s+" is not supported (we accept pull requests)");return new u};i.sha=e("./sha"),i.sha1=e("./sha1"),i.sha224=e("./sha224"),i.sha256=e("./sha256"),i.sha384=e("./sha384"),i.sha512=e("./sha512")},{"./sha":499,"./sha1":500,"./sha224":501,"./sha256":502,"./sha384":503,"./sha512":504}],499:[function(e,n,l){var i=e("inherits"),s=e("./hash"),u=e("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,s.call(this,64,56)}function f(d){return d<<30|d>>>2}function h(d,y,b,m){return d===0?y&b|~y&m:d===2?y&b|y&m|b&m:y^b^m}i(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(d){for(var y,b=this._w,m=0|this._a,g=0|this._b,p=0|this._c,v=0|this._d,C=0|this._e,j=0;j<16;++j)b[j]=d.readInt32BE(4*j);for(;j<80;++j)b[j]=b[j-3]^b[j-8]^b[j-14]^b[j-16];for(var L=0;L<80;++L){var $=~~(L/20),M=0|((y=m)<<5|y>>>27)+h($,g,p,v)+C+b[L]+a[$];C=v,v=p,p=f(g),g=m,m=M}this._a=m+this._a|0,this._b=g+this._b|0,this._c=p+this._c|0,this._d=v+this._d|0,this._e=C+this._e|0},c.prototype._hash=function(){var d=u.allocUnsafe(20);return d.writeInt32BE(0|this._a,0),d.writeInt32BE(0|this._b,4),d.writeInt32BE(0|this._c,8),d.writeInt32BE(0|this._d,12),d.writeInt32BE(0|this._e,16),d},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],500:[function(e,n,l){var i=e("inherits"),s=e("./hash"),u=e("safe-buffer").Buffer,a=[1518500249,1859775393,-1894007588,-899497514],o=new Array(80);function c(){this.init(),this._w=o,s.call(this,64,56)}function f(y){return y<<5|y>>>27}function h(y){return y<<30|y>>>2}function d(y,b,m,g){return y===0?b&m|~b&g:y===2?b&m|b&g|m&g:b^m^g}i(c,s),c.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},c.prototype._update=function(y){for(var b,m=this._w,g=0|this._a,p=0|this._b,v=0|this._c,C=0|this._d,j=0|this._e,L=0;L<16;++L)m[L]=y.readInt32BE(4*L);for(;L<80;++L)m[L]=(b=m[L-3]^m[L-8]^m[L-14]^m[L-16])<<1|b>>>31;for(var $=0;$<80;++$){var M=~~($/20),z=f(g)+d(M,p,v,C)+j+m[$]+a[M]|0;j=C,C=v,v=h(p),p=g,g=z}this._a=g+this._a|0,this._b=p+this._b|0,this._c=v+this._c|0,this._d=C+this._d|0,this._e=j+this._e|0},c.prototype._hash=function(){var y=u.allocUnsafe(20);return y.writeInt32BE(0|this._a,0),y.writeInt32BE(0|this._b,4),y.writeInt32BE(0|this._c,8),y.writeInt32BE(0|this._d,12),y.writeInt32BE(0|this._e,16),y},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],501:[function(e,n,l){var i=e("inherits"),s=e("./sha256"),u=e("./hash"),a=e("safe-buffer").Buffer,o=new Array(64);function c(){this.init(),this._w=o,u.call(this,64,56)}i(c,s),c.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},c.prototype._hash=function(){var f=a.allocUnsafe(28);return f.writeInt32BE(this._a,0),f.writeInt32BE(this._b,4),f.writeInt32BE(this._c,8),f.writeInt32BE(this._d,12),f.writeInt32BE(this._e,16),f.writeInt32BE(this._f,20),f.writeInt32BE(this._g,24),f},n.exports=c},{"./hash":497,"./sha256":502,inherits:440,"safe-buffer":494}],502:[function(e,n,l){var i=e("inherits"),s=e("./hash"),u=e("safe-buffer").Buffer,a=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],o=new Array(64);function c(){this.init(),this._w=o,s.call(this,64,56)}function f(m,g,p){return p^m&(g^p)}function h(m,g,p){return m&g|p&(m|g)}function d(m){return(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10)}function y(m){return(m>>>6|m<<26)^(m>>>11|m<<21)^(m>>>25|m<<7)}function b(m){return(m>>>7|m<<25)^(m>>>18|m<<14)^m>>>3}i(c,s),c.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},c.prototype._update=function(m){for(var g,p=this._w,v=0|this._a,C=0|this._b,j=0|this._c,L=0|this._d,$=0|this._e,M=0|this._f,z=0|this._g,H=0|this._h,q=0;q<16;++q)p[q]=m.readInt32BE(4*q);for(;q<64;++q)p[q]=0|(((g=p[q-2])>>>17|g<<15)^(g>>>19|g<<13)^g>>>10)+p[q-7]+b(p[q-15])+p[q-16];for(var B=0;B<64;++B){var A=H+y($)+f($,M,z)+a[B]+p[B]|0,P=d(v)+h(v,C,j)|0;H=z,z=M,M=$,$=L+A|0,L=j,j=C,C=v,v=A+P|0}this._a=v+this._a|0,this._b=C+this._b|0,this._c=j+this._c|0,this._d=L+this._d|0,this._e=$+this._e|0,this._f=M+this._f|0,this._g=z+this._g|0,this._h=H+this._h|0},c.prototype._hash=function(){var m=u.allocUnsafe(32);return m.writeInt32BE(this._a,0),m.writeInt32BE(this._b,4),m.writeInt32BE(this._c,8),m.writeInt32BE(this._d,12),m.writeInt32BE(this._e,16),m.writeInt32BE(this._f,20),m.writeInt32BE(this._g,24),m.writeInt32BE(this._h,28),m},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],503:[function(e,n,l){var i=e("inherits"),s=e("./sha512"),u=e("./hash"),a=e("safe-buffer").Buffer,o=new Array(160);function c(){this.init(),this._w=o,u.call(this,128,112)}i(c,s),c.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},c.prototype._hash=function(){var f=a.allocUnsafe(48);function h(d,y,b){f.writeInt32BE(d,b),f.writeInt32BE(y,b+4)}return h(this._ah,this._al,0),h(this._bh,this._bl,8),h(this._ch,this._cl,16),h(this._dh,this._dl,24),h(this._eh,this._el,32),h(this._fh,this._fl,40),f},n.exports=c},{"./hash":497,"./sha512":504,inherits:440,"safe-buffer":494}],504:[function(e,n,l){var i=e("inherits"),s=e("./hash"),u=e("safe-buffer").Buffer,a=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],o=new Array(160);function c(){this.init(),this._w=o,s.call(this,128,112)}function f(C,j,L){return L^C&(j^L)}function h(C,j,L){return C&j|L&(C|j)}function d(C,j){return(C>>>28|j<<4)^(j>>>2|C<<30)^(j>>>7|C<<25)}function y(C,j){return(C>>>14|j<<18)^(C>>>18|j<<14)^(j>>>9|C<<23)}function b(C,j){return(C>>>1|j<<31)^(C>>>8|j<<24)^C>>>7}function m(C,j){return(C>>>1|j<<31)^(C>>>8|j<<24)^(C>>>7|j<<25)}function g(C,j){return(C>>>19|j<<13)^(j>>>29|C<<3)^C>>>6}function p(C,j){return(C>>>19|j<<13)^(j>>>29|C<<3)^(C>>>6|j<<26)}function v(C,j){return C>>>0<j>>>0?1:0}i(c,s),c.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},c.prototype._update=function(C){for(var j=this._w,L=0|this._ah,$=0|this._bh,M=0|this._ch,z=0|this._dh,H=0|this._eh,q=0|this._fh,B=0|this._gh,A=0|this._hh,P=0|this._al,k=0|this._bl,w=0|this._cl,S=0|this._dl,x=0|this._el,_=0|this._fl,E=0|this._gl,D=0|this._hl,N=0;N<32;N+=2)j[N]=C.readInt32BE(4*N),j[N+1]=C.readInt32BE(4*N+4);for(;N<160;N+=2){var U=j[N-30],V=j[N-30+1],J=b(U,V),F=m(V,U),Y=g(U=j[N-4],V=j[N-4+1]),O=p(V,U),T=j[N-14],G=j[N-14+1],Q=j[N-32],ne=j[N-32+1],Z=F+G|0,oe=J+T+v(Z,F)|0;oe=(oe=oe+Y+v(Z=Z+O|0,O)|0)+Q+v(Z=Z+ne|0,ne)|0,j[N]=oe,j[N+1]=Z}for(var ue=0;ue<160;ue+=2){oe=j[ue],Z=j[ue+1];var te=h(L,$,M),se=h(P,k,w),pe=d(L,P),ie=d(P,L),fe=y(H,x),be=y(x,H),re=a[ue],ve=a[ue+1],_e=f(H,q,B),Re=f(x,_,E),Ge=D+be|0,Ze=A+fe+v(Ge,D)|0;Ze=(Ze=(Ze=Ze+_e+v(Ge=Ge+Re|0,Re)|0)+re+v(Ge=Ge+ve|0,ve)|0)+oe+v(Ge=Ge+Z|0,Z)|0;var Ye=ie+se|0,et=pe+te+v(Ye,ie)|0;A=B,D=E,B=q,E=_,q=H,_=x,H=z+Ze+v(x=S+Ge|0,S)|0,z=M,S=w,M=$,w=k,$=L,k=P,L=Ze+et+v(P=Ge+Ye|0,Ge)|0}this._al=this._al+P|0,this._bl=this._bl+k|0,this._cl=this._cl+w|0,this._dl=this._dl+S|0,this._el=this._el+x|0,this._fl=this._fl+_|0,this._gl=this._gl+E|0,this._hl=this._hl+D|0,this._ah=this._ah+L+v(this._al,P)|0,this._bh=this._bh+$+v(this._bl,k)|0,this._ch=this._ch+M+v(this._cl,w)|0,this._dh=this._dh+z+v(this._dl,S)|0,this._eh=this._eh+H+v(this._el,x)|0,this._fh=this._fh+q+v(this._fl,_)|0,this._gh=this._gh+B+v(this._gl,E)|0,this._hh=this._hh+A+v(this._hl,D)|0},c.prototype._hash=function(){var C=u.allocUnsafe(64);function j(L,$,M){C.writeInt32BE(L,M),C.writeInt32BE($,M+4)}return j(this._ah,this._al,0),j(this._bh,this._bl,8),j(this._ch,this._cl,16),j(this._dh,this._dl,24),j(this._eh,this._el,32),j(this._fh,this._fl,40),j(this._gh,this._gl,48),j(this._hh,this._hl,56),C},n.exports=c},{"./hash":497,inherits:440,"safe-buffer":494}],505:[function(e,n,l){n.exports=s;var i=e("events").EventEmitter;function s(){i.call(this)}e("inherits")(s,i),s.Readable=e("readable-stream/readable.js"),s.Writable=e("readable-stream/writable.js"),s.Duplex=e("readable-stream/duplex.js"),s.Transform=e("readable-stream/transform.js"),s.PassThrough=e("readable-stream/passthrough.js"),s.Stream=s,s.prototype.pipe=function(u,a){var o=this;function c(g){u.writable&&u.write(g)===!1&&o.pause&&o.pause()}function f(){o.readable&&o.resume&&o.resume()}o.on("data",c),u.on("drain",f),u._isStdio||a&&a.end===!1||(o.on("end",d),o.on("close",y));var h=!1;function d(){h||(h=!0,u.end())}function y(){h||(h=!0,typeof u.destroy=="function"&&u.destroy())}function b(g){if(m(),i.listenerCount(this,"error")===0)throw g}function m(){o.removeListener("data",c),u.removeListener("drain",f),o.removeListener("end",d),o.removeListener("close",y),o.removeListener("error",b),u.removeListener("error",b),o.removeListener("end",m),o.removeListener("close",m),u.removeListener("close",m)}return o.on("error",b),u.on("error",b),o.on("end",m),o.on("close",m),u.on("close",m),u.emit("pipe",o),u}},{events:422,inherits:440,"readable-stream/duplex.js":507,"readable-stream/passthrough.js":516,"readable-stream/readable.js":517,"readable-stream/transform.js":518,"readable-stream/writable.js":519}],506:[function(e,n,l){var i={}.toString;n.exports=Array.isArray||function(s){return i.call(s)=="[object Array]"}},{}],507:[function(e,n,l){n.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":508}],508:[function(e,n,l){var i=e("process-nextick-args"),s=Object.keys||function(m){var g=[];for(var p in m)g.push(p);return g};n.exports=d;var u=Object.create(e("core-util-is"));u.inherits=e("inherits");var a=e("./_stream_readable"),o=e("./_stream_writable");u.inherits(d,a);for(var c=s(o.prototype),f=0;f<c.length;f++){var h=c[f];d.prototype[h]||(d.prototype[h]=o.prototype[h])}function d(m){if(!(this instanceof d))return new d(m);a.call(this,m),o.call(this,m),m&&m.readable===!1&&(this.readable=!1),m&&m.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,m&&m.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",y)}function y(){this.allowHalfOpen||this._writableState.ended||i.nextTick(b,this)}function b(m){m.end()}Object.defineProperty(d.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(d.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._writableState!==void 0&&this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState!==void 0&&this._writableState!==void 0&&(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),d.prototype._destroy=function(m,g){this.push(null),this.end(),i.nextTick(g,m)}},{"./_stream_readable":510,"./_stream_writable":512,"core-util-is":383,inherits:440,"process-nextick-args":466}],509:[function(e,n,l){n.exports=u;var i=e("./_stream_transform"),s=Object.create(e("core-util-is"));function u(a){if(!(this instanceof u))return new u(a);i.call(this,a)}s.inherits=e("inherits"),s.inherits(u,i),u.prototype._transform=function(a,o,c){c(null,a)}},{"./_stream_transform":511,"core-util-is":383,inherits:440}],510:[function(e,n,l){(function(i,s){(function(){var u=e("process-nextick-args");n.exports=L;var a,o=e("isarray");L.ReadableState=j,e("events").EventEmitter;var c=function(D,N){return D.listeners(N).length},f=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,d=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},y=Object.create(e("core-util-is"));y.inherits=e("inherits");var b=e("util"),m=void 0;m=b&&b.debuglog?b.debuglog("stream"):function(){};var g,p=e("./internal/streams/BufferList"),v=e("./internal/streams/destroy");y.inherits(L,f);var C=["error","close","destroy","pause","resume"];function j(D,N){D=D||{};var U=N instanceof(a=a||e("./_stream_duplex"));this.objectMode=!!D.objectMode,U&&(this.objectMode=this.objectMode||!!D.readableObjectMode);var V=D.highWaterMark,J=D.readableHighWaterMark,F=this.objectMode?16:16384;this.highWaterMark=V||V===0?V:U&&(J||J===0)?J:F,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new p,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=D.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,D.encoding&&(g||(g=e("string_decoder/").StringDecoder),this.decoder=new g(D.encoding),this.encoding=D.encoding)}function L(D){if(a=a||e("./_stream_duplex"),!(this instanceof L))return new L(D);this._readableState=new j(D,this),this.readable=!0,D&&(typeof D.read=="function"&&(this._read=D.read),typeof D.destroy=="function"&&(this._destroy=D.destroy)),f.call(this)}function $(D,N,U,V,J){var F,Y=D._readableState;return N===null?(Y.reading=!1,function(O,T){if(!T.ended){if(T.decoder){var G=T.decoder.end();G&&G.length&&(T.buffer.push(G),T.length+=T.objectMode?1:G.length)}T.ended=!0,H(O)}}(D,Y)):(J||(F=function(O,T){var G;Q=T,h.isBuffer(Q)||Q instanceof d||typeof T=="string"||T===void 0||O.objectMode||(G=new TypeError("Invalid non-string/buffer chunk"));var Q;return G}(Y,N)),F?D.emit("error",F):Y.objectMode||N&&N.length>0?(typeof N=="string"||Y.objectMode||Object.getPrototypeOf(N)===h.prototype||(N=function(O){return h.from(O)}(N)),V?Y.endEmitted?D.emit("error",new Error("stream.unshift() after end event")):M(D,Y,N,!0):Y.ended?D.emit("error",new Error("stream.push() after EOF")):(Y.reading=!1,Y.decoder&&!U?(N=Y.decoder.write(N),Y.objectMode||N.length!==0?M(D,Y,N,!1):B(D,Y)):M(D,Y,N,!1))):V||(Y.reading=!1)),function(O){return!O.ended&&(O.needReadable||O.length<O.highWaterMark||O.length===0)}(Y)}function M(D,N,U,V){N.flowing&&N.length===0&&!N.sync?(D.emit("data",U),D.read(0)):(N.length+=N.objectMode?1:U.length,V?N.buffer.unshift(U):N.buffer.push(U),N.needReadable&&H(D)),B(D,N)}Object.defineProperty(L.prototype,"destroyed",{get:function(){return this._readableState!==void 0&&this._readableState.destroyed},set:function(D){this._readableState&&(this._readableState.destroyed=D)}}),L.prototype.destroy=v.destroy,L.prototype._undestroy=v.undestroy,L.prototype._destroy=function(D,N){this.push(null),N(D)},L.prototype.push=function(D,N){var U,V=this._readableState;return V.objectMode?U=!0:typeof D=="string"&&((N=N||V.defaultEncoding)!==V.encoding&&(D=h.from(D,N),N=""),U=!0),$(this,D,N,!1,U)},L.prototype.unshift=function(D){return $(this,D,null,!0,!1)},L.prototype.isPaused=function(){return this._readableState.flowing===!1},L.prototype.setEncoding=function(D){return g||(g=e("string_decoder/").StringDecoder),this._readableState.decoder=new g(D),this._readableState.encoding=D,this};function z(D,N){return D<=0||N.length===0&&N.ended?0:N.objectMode?1:D!=D?N.flowing&&N.length?N.buffer.head.data.length:N.length:(D>N.highWaterMark&&(N.highWaterMark=function(U){return U>=8388608?U=8388608:(U--,U|=U>>>1,U|=U>>>2,U|=U>>>4,U|=U>>>8,U|=U>>>16,U++),U}(D)),D<=N.length?D:N.ended?N.length:(N.needReadable=!0,0))}function H(D){var N=D._readableState;N.needReadable=!1,N.emittedReadable||(m("emitReadable",N.flowing),N.emittedReadable=!0,N.sync?u.nextTick(q,D):q(D))}function q(D){m("emit readable"),D.emit("readable"),w(D)}function B(D,N){N.readingMore||(N.readingMore=!0,u.nextTick(A,D,N))}function A(D,N){for(var U=N.length;!N.reading&&!N.flowing&&!N.ended&&N.length<N.highWaterMark&&(m("maybeReadMore read 0"),D.read(0),U!==N.length);)U=N.length;N.readingMore=!1}function P(D){m("readable nexttick read 0"),D.read(0)}function k(D,N){N.reading||(m("resume read 0"),D.read(0)),N.resumeScheduled=!1,N.awaitDrain=0,D.emit("resume"),w(D),N.flowing&&!N.reading&&D.read(0)}function w(D){var N=D._readableState;for(m("flow",N.flowing);N.flowing&&D.read()!==null;);}function S(D,N){return N.length===0?null:(N.objectMode?U=N.buffer.shift():!D||D>=N.length?(U=N.decoder?N.buffer.join(""):N.buffer.length===1?N.buffer.head.data:N.buffer.concat(N.length),N.buffer.clear()):U=function(V,J,F){var Y;return V<J.head.data.length?(Y=J.head.data.slice(0,V),J.head.data=J.head.data.slice(V)):Y=V===J.head.data.length?J.shift():F?function(O,T){var G=T.head,Q=1,ne=G.data;for(O-=ne.length;G=G.next;){var Z=G.data,oe=O>Z.length?Z.length:O;if(oe===Z.length?ne+=Z:ne+=Z.slice(0,O),(O-=oe)===0){oe===Z.length?(++Q,G.next?T.head=G.next:T.head=T.tail=null):(T.head=G,G.data=Z.slice(oe));break}++Q}return T.length-=Q,ne}(V,J):function(O,T){var G=h.allocUnsafe(O),Q=T.head,ne=1;for(Q.data.copy(G),O-=Q.data.length;Q=Q.next;){var Z=Q.data,oe=O>Z.length?Z.length:O;if(Z.copy(G,G.length-O,0,oe),(O-=oe)===0){oe===Z.length?(++ne,Q.next?T.head=Q.next:T.head=T.tail=null):(T.head=Q,Q.data=Z.slice(oe));break}++ne}return T.length-=ne,G}(V,J),Y}(D,N.buffer,N.decoder),U);var U}function x(D){var N=D._readableState;if(N.length>0)throw new Error('"endReadable()" called on non-empty stream');N.endEmitted||(N.ended=!0,u.nextTick(_,N,D))}function _(D,N){D.endEmitted||D.length!==0||(D.endEmitted=!0,N.readable=!1,N.emit("end"))}function E(D,N){for(var U=0,V=D.length;U<V;U++)if(D[U]===N)return U;return-1}L.prototype.read=function(D){m("read",D),D=parseInt(D,10);var N=this._readableState,U=D;if(D!==0&&(N.emittedReadable=!1),D===0&&N.needReadable&&(N.length>=N.highWaterMark||N.ended))return m("read: emitReadable",N.length,N.ended),N.length===0&&N.ended?x(this):H(this),null;if((D=z(D,N))===0&&N.ended)return N.length===0&&x(this),null;var V,J=N.needReadable;return m("need readable",J),(N.length===0||N.length-D<N.highWaterMark)&&m("length less than watermark",J=!0),N.ended||N.reading?m("reading or ended",J=!1):J&&(m("do read"),N.reading=!0,N.sync=!0,N.length===0&&(N.needReadable=!0),this._read(N.highWaterMark),N.sync=!1,N.reading||(D=z(U,N))),(V=D>0?S(D,N):null)===null?(N.needReadable=!0,D=0):N.length-=D,N.length===0&&(N.ended||(N.needReadable=!0),U!==D&&N.ended&&x(this)),V!==null&&this.emit("data",V),V},L.prototype._read=function(D){this.emit("error",new Error("_read() is not implemented"))},L.prototype.pipe=function(D,N){var U=this,V=this._readableState;switch(V.pipesCount){case 0:V.pipes=D;break;case 1:V.pipes=[V.pipes,D];break;default:V.pipes.push(D)}V.pipesCount+=1,m("pipe count=%d opts=%j",V.pipesCount,N);var J=(!N||N.end!==!1)&&D!==i.stdout&&D!==i.stderr?Y:ue;function F(te,se){m("onunpipe"),te===U&&se&&se.hasUnpiped===!1&&(se.hasUnpiped=!0,m("cleanup"),D.removeListener("close",Z),D.removeListener("finish",oe),D.removeListener("drain",O),D.removeListener("error",ne),D.removeListener("unpipe",F),U.removeListener("end",Y),U.removeListener("end",ue),U.removeListener("data",Q),T=!0,!V.awaitDrain||D._writableState&&!D._writableState.needDrain||O())}function Y(){m("onend"),D.end()}V.endEmitted?u.nextTick(J):U.once("end",J),D.on("unpipe",F);var O=function(te){return function(){var se=te._readableState;m("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&c(te,"data")&&(se.flowing=!0,w(te))}}(U);D.on("drain",O);var T=!1,G=!1;function Q(te){m("ondata"),G=!1,D.write(te)!==!1||G||((V.pipesCount===1&&V.pipes===D||V.pipesCount>1&&E(V.pipes,D)!==-1)&&!T&&(m("false write response, pause",V.awaitDrain),V.awaitDrain++,G=!0),U.pause())}function ne(te){m("onerror",te),ue(),D.removeListener("error",ne),c(D,"error")===0&&D.emit("error",te)}function Z(){D.removeListener("finish",oe),ue()}function oe(){m("onfinish"),D.removeListener("close",Z),ue()}function ue(){m("unpipe"),U.unpipe(D)}return U.on("data",Q),function(te,se,pe){if(typeof te.prependListener=="function")return te.prependListener(se,pe);te._events&&te._events[se]?o(te._events[se])?te._events[se].unshift(pe):te._events[se]=[pe,te._events[se]]:te.on(se,pe)}(D,"error",ne),D.once("close",Z),D.once("finish",oe),D.emit("pipe",U),V.flowing||(m("pipe resume"),U.resume()),D},L.prototype.unpipe=function(D){var N=this._readableState,U={hasUnpiped:!1};if(N.pipesCount===0)return this;if(N.pipesCount===1)return D&&D!==N.pipes||(D||(D=N.pipes),N.pipes=null,N.pipesCount=0,N.flowing=!1,D&&D.emit("unpipe",this,U)),this;if(!D){var V=N.pipes,J=N.pipesCount;N.pipes=null,N.pipesCount=0,N.flowing=!1;for(var F=0;F<J;F++)V[F].emit("unpipe",this,{hasUnpiped:!1});return this}var Y=E(N.pipes,D);return Y===-1||(N.pipes.splice(Y,1),N.pipesCount-=1,N.pipesCount===1&&(N.pipes=N.pipes[0]),D.emit("unpipe",this,U)),this},L.prototype.on=function(D,N){var U=f.prototype.on.call(this,D,N);if(D==="data")this._readableState.flowing!==!1&&this.resume();else if(D==="readable"){var V=this._readableState;V.endEmitted||V.readableListening||(V.readableListening=V.needReadable=!0,V.emittedReadable=!1,V.reading?V.length&&H(this):u.nextTick(P,this))}return U},L.prototype.addListener=L.prototype.on,L.prototype.resume=function(){var D=this._readableState;return D.flowing||(m("resume"),D.flowing=!0,function(N,U){U.resumeScheduled||(U.resumeScheduled=!0,u.nextTick(k,N,U))}(this,D)),this},L.prototype.pause=function(){return m("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(m("pause"),this._readableState.flowing=!1,this.emit("pause")),this},L.prototype.wrap=function(D){var N=this,U=this._readableState,V=!1;for(var J in D.on("end",function(){if(m("wrapped end"),U.decoder&&!U.ended){var Y=U.decoder.end();Y&&Y.length&&N.push(Y)}N.push(null)}),D.on("data",function(Y){m("wrapped data"),U.decoder&&(Y=U.decoder.write(Y)),U.objectMode&&Y==null||(U.objectMode||Y&&Y.length)&&(N.push(Y)||(V=!0,D.pause()))}),D)this[J]===void 0&&typeof D[J]=="function"&&(this[J]=function(Y){return function(){return D[Y].apply(D,arguments)}}(J));for(var F=0;F<C.length;F++)D.on(C[F],this.emit.bind(this,C[F]));return this._read=function(Y){m("wrapped _read",Y),V&&(V=!1,D.resume())},this},Object.defineProperty(L.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),L._fromList=S}).call(this)}).call(this,e("_process"),typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./_stream_duplex":508,"./internal/streams/BufferList":513,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,events:422,inherits:440,isarray:506,"process-nextick-args":466,"safe-buffer":520,"string_decoder/":521,util:188}],511:[function(e,n,l){n.exports=a;var i=e("./_stream_duplex"),s=Object.create(e("core-util-is"));function u(f,h){var d=this._transformState;d.transforming=!1;var y=d.writecb;if(!y)return this.emit("error",new Error("write callback called multiple times"));d.writechunk=null,d.writecb=null,h!=null&&this.push(h),y(f);var b=this._readableState;b.reading=!1,(b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}function a(f){if(!(this instanceof a))return new a(f);i.call(this,f),this._transformState={afterTransform:u.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",o)}function o(){var f=this;typeof this._flush=="function"?this._flush(function(h,d){c(f,h,d)}):c(this,null,null)}function c(f,h,d){if(h)return f.emit("error",h);if(d!=null&&f.push(d),f._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(f._transformState.transforming)throw new Error("Calling transform done when still transforming");return f.push(null)}s.inherits=e("inherits"),s.inherits(a,i),a.prototype.push=function(f,h){return this._transformState.needTransform=!1,i.prototype.push.call(this,f,h)},a.prototype._transform=function(f,h,d){throw new Error("_transform() is not implemented")},a.prototype._write=function(f,h,d){var y=this._transformState;if(y.writecb=d,y.writechunk=f,y.writeencoding=h,!y.transforming){var b=this._readableState;(y.needTransform||b.needReadable||b.length<b.highWaterMark)&&this._read(b.highWaterMark)}},a.prototype._read=function(f){var h=this._transformState;h.writechunk!==null&&h.writecb&&!h.transforming?(h.transforming=!0,this._transform(h.writechunk,h.writeencoding,h.afterTransform)):h.needTransform=!0},a.prototype._destroy=function(f,h){var d=this;i.prototype._destroy.call(this,f,function(y){h(y),d.emit("close")})}},{"./_stream_duplex":508,"core-util-is":383,inherits:440}],512:[function(e,n,l){(function(i,s,u){(function(){var a=e("process-nextick-args");function o(B){var A=this;this.next=null,this.entry=null,this.finish=function(){(function(P,k,w){var S=P.entry;for(P.entry=null;S;){var x=S.callback;k.pendingcb--,x(w),S=S.next}k.corkedRequestsFree.next=P})(A,B)}}n.exports=j;var c,f=!i.browser&&["v0.10","v0.9."].indexOf(i.version.slice(0,5))>-1?u:a.nextTick;j.WritableState=C;var h=Object.create(e("core-util-is"));h.inherits=e("inherits");var d={deprecate:e("util-deprecate")},y=e("./internal/streams/stream"),b=e("safe-buffer").Buffer,m=(s!==void 0?s:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){},g,p=e("./internal/streams/destroy");function v(){}function C(B,A){c=c||e("./_stream_duplex"),B=B||{};var P=A instanceof c;this.objectMode=!!B.objectMode,P&&(this.objectMode=this.objectMode||!!B.writableObjectMode);var k=B.highWaterMark,w=B.writableHighWaterMark,S=this.objectMode?16:16384;this.highWaterMark=k||k===0?k:P&&(w||w===0)?w:S,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var x=B.decodeStrings===!1;this.decodeStrings=!x,this.defaultEncoding=B.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(_){(function(E,D){var N=E._writableState,U=N.sync,V=N.writecb;if(function(F){F.writing=!1,F.writecb=null,F.length-=F.writelen,F.writelen=0}(N),D)(function(F,Y,O,T,G){--Y.pendingcb,O?(a.nextTick(G,T),a.nextTick(q,F,Y),F._writableState.errorEmitted=!0,F.emit("error",T)):(G(T),F._writableState.errorEmitted=!0,F.emit("error",T),q(F,Y))})(E,N,U,D,V);else{var J=z(N);J||N.corked||N.bufferProcessing||!N.bufferedRequest||M(E,N),U?f($,E,N,J,V):$(E,N,J,V)}})(A,_)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function j(B){if(c=c||e("./_stream_duplex"),!(g.call(j,this)||this instanceof c))return new j(B);this._writableState=new C(B,this),this.writable=!0,B&&(typeof B.write=="function"&&(this._write=B.write),typeof B.writev=="function"&&(this._writev=B.writev),typeof B.destroy=="function"&&(this._destroy=B.destroy),typeof B.final=="function"&&(this._final=B.final)),y.call(this)}function L(B,A,P,k,w,S,x){A.writelen=k,A.writecb=x,A.writing=!0,A.sync=!0,P?B._writev(w,A.onwrite):B._write(w,S,A.onwrite),A.sync=!1}function $(B,A,P,k){P||function(w,S){S.length===0&&S.needDrain&&(S.needDrain=!1,w.emit("drain"))}(B,A),A.pendingcb--,k(),q(B,A)}function M(B,A){A.bufferProcessing=!0;var P=A.bufferedRequest;if(B._writev&&P&&P.next){var k=A.bufferedRequestCount,w=new Array(k),S=A.corkedRequestsFree;S.entry=P;for(var x=0,_=!0;P;)w[x]=P,P.isBuf||(_=!1),P=P.next,x+=1;w.allBuffers=_,L(B,A,!0,A.length,w,"",S.finish),A.pendingcb++,A.lastBufferedRequest=null,S.next?(A.corkedRequestsFree=S.next,S.next=null):A.corkedRequestsFree=new o(A),A.bufferedRequestCount=0}else{for(;P;){var E=P.chunk,D=P.encoding,N=P.callback;if(L(B,A,!1,A.objectMode?1:E.length,E,D,N),P=P.next,A.bufferedRequestCount--,A.writing)break}P===null&&(A.lastBufferedRequest=null)}A.bufferedRequest=P,A.bufferProcessing=!1}function z(B){return B.ending&&B.length===0&&B.bufferedRequest===null&&!B.finished&&!B.writing}function H(B,A){B._final(function(P){A.pendingcb--,P&&B.emit("error",P),A.prefinished=!0,B.emit("prefinish"),q(B,A)})}function q(B,A){var P=z(A);return P&&(function(k,w){w.prefinished||w.finalCalled||(typeof k._final=="function"?(w.pendingcb++,w.finalCalled=!0,a.nextTick(H,k,w)):(w.prefinished=!0,k.emit("prefinish")))}(B,A),A.pendingcb===0&&(A.finished=!0,B.emit("finish"))),P}h.inherits(j,y),C.prototype.getBuffer=function(){for(var B=this.bufferedRequest,A=[];B;)A.push(B),B=B.next;return A},function(){try{Object.defineProperty(C.prototype,"buffer",{get:d.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}(),typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(g=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(B){return!!g.call(this,B)||this===j&&B&&B._writableState instanceof C}})):g=function(B){return B instanceof this},j.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},j.prototype.write=function(B,A,P){var k,w=this._writableState,S=!1,x=!w.objectMode&&(k=B,b.isBuffer(k)||k instanceof m);return x&&!b.isBuffer(B)&&(B=function(_){return b.from(_)}(B)),typeof A=="function"&&(P=A,A=null),x?A="buffer":A||(A=w.defaultEncoding),typeof P!="function"&&(P=v),w.ended?function(_,E){var D=new Error("write after end");_.emit("error",D),a.nextTick(E,D)}(this,P):(x||function(_,E,D,N){var U=!0,V=!1;return D===null?V=new TypeError("May not write null values to stream"):typeof D=="string"||D===void 0||E.objectMode||(V=new TypeError("Invalid non-string/buffer chunk")),V&&(_.emit("error",V),a.nextTick(N,V),U=!1),U}(this,w,B,P))&&(w.pendingcb++,S=function(_,E,D,N,U,V){if(!D){var J=function(T,G,Q){return T.objectMode||T.decodeStrings===!1||typeof G!="string"||(G=b.from(G,Q)),G}(E,N,U);N!==J&&(D=!0,U="buffer",N=J)}var F=E.objectMode?1:N.length;E.length+=F;var Y=E.length<E.highWaterMark;if(Y||(E.needDrain=!0),E.writing||E.corked){var O=E.lastBufferedRequest;E.lastBufferedRequest={chunk:N,encoding:U,isBuf:D,callback:V,next:null},O?O.next=E.lastBufferedRequest:E.bufferedRequest=E.lastBufferedRequest,E.bufferedRequestCount+=1}else L(_,E,!1,F,N,U,V);return Y}(this,w,x,B,A,P)),S},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var B=this._writableState;B.corked&&(B.corked--,B.writing||B.corked||B.bufferProcessing||!B.bufferedRequest||M(this,B))},j.prototype.setDefaultEncoding=function(B){if(typeof B=="string"&&(B=B.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((B+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+B);return this._writableState.defaultEncoding=B,this},Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),j.prototype._write=function(B,A,P){P(new Error("_write() is not implemented"))},j.prototype._writev=null,j.prototype.end=function(B,A,P){var k=this._writableState;typeof B=="function"?(P=B,B=null,A=null):typeof A=="function"&&(P=A,A=null),B!=null&&this.write(B,A),k.corked&&(k.corked=1,this.uncork()),k.ending||function(w,S,x){S.ending=!0,q(w,S),x&&(S.finished?a.nextTick(x):w.once("finish",x)),S.ended=!0,w.writable=!1}(this,k,P)},Object.defineProperty(j.prototype,"destroyed",{get:function(){return this._writableState!==void 0&&this._writableState.destroyed},set:function(B){this._writableState&&(this._writableState.destroyed=B)}}),j.prototype.destroy=p.destroy,j.prototype._undestroy=p.undestroy,j.prototype._destroy=function(B,A){this.end(),A(B)}}).call(this)}).call(this,e("_process"),typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{},e("timers").setImmediate)},{"./_stream_duplex":508,"./internal/streams/destroy":514,"./internal/streams/stream":515,_process:467,"core-util-is":383,inherits:440,"process-nextick-args":466,"safe-buffer":520,timers:523,"util-deprecate":524}],513:[function(e,n,l){var i=e("safe-buffer").Buffer,s=e("util");n.exports=function(){function u(){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,u),this.head=null,this.tail=null,this.length=0}return u.prototype.push=function(a){var o={data:a,next:null};this.length>0?this.tail.next=o:this.head=o,this.tail=o,++this.length},u.prototype.unshift=function(a){var o={data:a,next:this.head};this.length===0&&(this.tail=o),this.head=o,++this.length},u.prototype.shift=function(){if(this.length!==0){var a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},u.prototype.clear=function(){this.head=this.tail=null,this.length=0},u.prototype.join=function(a){if(this.length===0)return"";for(var o=this.head,c=""+o.data;o=o.next;)c+=a+o.data;return c},u.prototype.concat=function(a){if(this.length===0)return i.alloc(0);for(var o,c,f,h=i.allocUnsafe(a>>>0),d=this.head,y=0;d;)o=d.data,c=h,f=y,o.copy(c,f),y+=d.data.length,d=d.next;return h},u}(),s&&s.inspect&&s.inspect.custom&&(n.exports.prototype[s.inspect.custom]=function(){var u=s.inspect({length:this.length});return this.constructor.name+" "+u})},{"safe-buffer":520,util:188}],514:[function(e,n,l){var i=e("process-nextick-args");function s(u,a){u.emit("error",a)}n.exports={destroy:function(u,a){var o=this,c=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return c||f?(a?a(u):u&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(s,this,u)):i.nextTick(s,this,u)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(u||null,function(h){!a&&h?o._writableState?o._writableState.errorEmitted||(o._writableState.errorEmitted=!0,i.nextTick(s,o,h)):i.nextTick(s,o,h):a&&a(h)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":466}],515:[function(e,n,l){arguments[4][490][0].apply(l,arguments)},{dup:490,events:422}],516:[function(e,n,l){n.exports=e("./readable").PassThrough},{"./readable":517}],517:[function(e,n,l){(l=n.exports=e("./lib/_stream_readable.js")).Stream=l,l.Readable=l,l.Writable=e("./lib/_stream_writable.js"),l.Duplex=e("./lib/_stream_duplex.js"),l.Transform=e("./lib/_stream_transform.js"),l.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":508,"./lib/_stream_passthrough.js":509,"./lib/_stream_readable.js":510,"./lib/_stream_transform.js":511,"./lib/_stream_writable.js":512}],518:[function(e,n,l){n.exports=e("./readable").Transform},{"./readable":517}],519:[function(e,n,l){n.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":512}],520:[function(e,n,l){arguments[4][217][0].apply(l,arguments)},{buffer:220,dup:217}],521:[function(e,n,l){arguments[4][218][0].apply(l,arguments)},{dup:218,"safe-buffer":520}],522:[function(e,n,l){arguments[4][218][0].apply(l,arguments)},{dup:218,"safe-buffer":494}],523:[function(e,n,l){(function(i,s){(function(){var u=e("process/browser.js").nextTick,a=Function.prototype.apply,o=Array.prototype.slice,c={},f=0;function h(d,y){this._id=d,this._clearFn=y}l.setTimeout=function(){return new h(a.call(setTimeout,window,arguments),clearTimeout)},l.setInterval=function(){return new h(a.call(setInterval,window,arguments),clearInterval)},l.clearTimeout=l.clearInterval=function(d){d.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},l.enroll=function(d,y){clearTimeout(d._idleTimeoutId),d._idleTimeout=y},l.unenroll=function(d){clearTimeout(d._idleTimeoutId),d._idleTimeout=-1},l._unrefActive=l.active=function(d){clearTimeout(d._idleTimeoutId);var y=d._idleTimeout;y>=0&&(d._idleTimeoutId=setTimeout(function(){d._onTimeout&&d._onTimeout()},y))},l.setImmediate=typeof i=="function"?i:function(d){var y=f++,b=!(arguments.length<2)&&o.call(arguments,1);return c[y]=!0,u(function(){c[y]&&(b?d.apply(null,b):d.call(null),l.clearImmediate(y))}),y},l.clearImmediate=typeof s=="function"?s:function(d){delete c[d]}}).call(this)}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":467,timers:523}],524:[function(e,n,l){(function(i){(function(){function s(u){try{if(!i.localStorage)return!1}catch{return!1}var a=i.localStorage[u];return a!=null&&String(a).toLowerCase()==="true"}n.exports=function(u,a){if(s("noDeprecation"))return u;var o=!1;return function(){if(!o){if(s("throwDeprecation"))throw new Error(a);s("traceDeprecation")?console.trace(a):console.warn(a),o=!0}return u.apply(this,arguments)}}}).call(this)}).call(this,typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{}],525:[function(e,n,l){typeof Object.create=="function"?n.exports=function(i,s){i.super_=s,i.prototype=Object.create(s.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}})}:n.exports=function(i,s){i.super_=s;var u=function(){};u.prototype=s.prototype,i.prototype=new u,i.prototype.constructor=i}},{}],526:[function(e,n,l){n.exports=function(i){return i&&typeof i=="object"&&typeof i.copy=="function"&&typeof i.fill=="function"&&typeof i.readUInt8=="function"}},{}],527:[function(e,n,l){(function(i,s){(function(){var u=/%[sdj%]/g;l.format=function(w){if(!C(w)){for(var S=[],x=0;x<arguments.length;x++)S.push(c(arguments[x]));return S.join(" ")}x=1;for(var _=arguments,E=_.length,D=String(w).replace(u,function(U){if(U==="%%")return"%";if(x>=E)return U;switch(U){case"%s":return String(_[x++]);case"%d":return Number(_[x++]);case"%j":try{return JSON.stringify(_[x++])}catch{return"[Circular]"}default:return U}}),N=_[x];x<E;N=_[++x])p(N)||!$(N)?D+=" "+N:D+=" "+c(N);return D},l.deprecate=function(w,S){if(j(s.process))return function(){return l.deprecate(w,S).apply(this,arguments)};if(i.noDeprecation===!0)return w;var x=!1;return function(){if(!x){if(i.throwDeprecation)throw new Error(S);i.traceDeprecation?console.trace(S):console.error(S),x=!0}return w.apply(this,arguments)}};var a,o={};function c(w,S){var x={seen:[],stylize:h};return arguments.length>=3&&(x.depth=arguments[2]),arguments.length>=4&&(x.colors=arguments[3]),g(S)?x.showHidden=S:S&&l._extend(x,S),j(x.showHidden)&&(x.showHidden=!1),j(x.depth)&&(x.depth=2),j(x.colors)&&(x.colors=!1),j(x.customInspect)&&(x.customInspect=!0),x.colors&&(x.stylize=f),d(x,w,x.depth)}function f(w,S){var x=c.styles[S];return x?"\x1B["+c.colors[x][0]+"m"+w+"\x1B["+c.colors[x][1]+"m":w}function h(w,S){return w}function d(w,S,x){if(w.customInspect&&S&&H(S.inspect)&&S.inspect!==l.inspect&&(!S.constructor||S.constructor.prototype!==S)){var _=S.inspect(x,w);return C(_)||(_=d(w,_,x)),_}var E=function(O,T){if(j(T))return O.stylize("undefined","undefined");if(C(T)){var G="'"+JSON.stringify(T).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return O.stylize(G,"string")}if(v(T))return O.stylize(""+T,"number");if(g(T))return O.stylize(""+T,"boolean");if(p(T))return O.stylize("null","null")}(w,S);if(E)return E;var D=Object.keys(S),N=function(O){var T={};return O.forEach(function(G,Q){T[G]=!0}),T}(D);if(w.showHidden&&(D=Object.getOwnPropertyNames(S)),z(S)&&(D.indexOf("message")>=0||D.indexOf("description")>=0))return y(S);if(D.length===0){if(H(S)){var U=S.name?": "+S.name:"";return w.stylize("[Function"+U+"]","special")}if(L(S))return w.stylize(RegExp.prototype.toString.call(S),"regexp");if(M(S))return w.stylize(Date.prototype.toString.call(S),"date");if(z(S))return y(S)}var V,J="",F=!1,Y=["{","}"];return m(S)&&(F=!0,Y=["[","]"]),H(S)&&(J=" [Function"+(S.name?": "+S.name:"")+"]"),L(S)&&(J=" "+RegExp.prototype.toString.call(S)),M(S)&&(J=" "+Date.prototype.toUTCString.call(S)),z(S)&&(J=" "+y(S)),D.length!==0||F&&S.length!=0?x<0?L(S)?w.stylize(RegExp.prototype.toString.call(S),"regexp"):w.stylize("[Object]","special"):(w.seen.push(S),V=F?function(O,T,G,Q,ne){for(var Z=[],oe=0,ue=T.length;oe<ue;++oe)k(T,String(oe))?Z.push(b(O,T,G,Q,String(oe),!0)):Z.push("");return ne.forEach(function(te){te.match(/^\d+$/)||Z.push(b(O,T,G,Q,te,!0))}),Z}(w,S,x,N,D):D.map(function(O){return b(w,S,x,N,O,F)}),w.seen.pop(),function(O,T,G){return O.reduce(function(Q,ne){return ne.indexOf(`
`)>=0,Q+ne.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?G[0]+(T===""?"":T+`
 `)+" "+O.join(`,
  `)+" "+G[1]:G[0]+T+" "+O.join(", ")+" "+G[1]}(V,J,Y)):Y[0]+J+Y[1]}function y(w){return"["+Error.prototype.toString.call(w)+"]"}function b(w,S,x,_,E,D){var N,U,V;if((V=Object.getOwnPropertyDescriptor(S,E)||{value:S[E]}).get?U=V.set?w.stylize("[Getter/Setter]","special"):w.stylize("[Getter]","special"):V.set&&(U=w.stylize("[Setter]","special")),k(_,E)||(N="["+E+"]"),U||(w.seen.indexOf(V.value)<0?(U=p(x)?d(w,V.value,null):d(w,V.value,x-1)).indexOf(`
`)>-1&&(U=D?U.split(`
`).map(function(J){return"  "+J}).join(`
`).substr(2):`
`+U.split(`
`).map(function(J){return"   "+J}).join(`
`)):U=w.stylize("[Circular]","special")),j(N)){if(D&&E.match(/^\d+$/))return U;(N=JSON.stringify(""+E)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(N=N.substr(1,N.length-2),N=w.stylize(N,"name")):(N=N.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),N=w.stylize(N,"string"))}return N+": "+U}function m(w){return Array.isArray(w)}function g(w){return typeof w=="boolean"}function p(w){return w===null}function v(w){return typeof w=="number"}function C(w){return typeof w=="string"}function j(w){return w===void 0}function L(w){return $(w)&&q(w)==="[object RegExp]"}function $(w){return typeof w=="object"&&w!==null}function M(w){return $(w)&&q(w)==="[object Date]"}function z(w){return $(w)&&(q(w)==="[object Error]"||w instanceof Error)}function H(w){return typeof w=="function"}function q(w){return Object.prototype.toString.call(w)}function B(w){return w<10?"0"+w.toString(10):w.toString(10)}l.debuglog=function(w){if(j(a)&&(a=i.env.NODE_DEBUG||""),w=w.toUpperCase(),!o[w])if(new RegExp("\\b"+w+"\\b","i").test(a)){var S=i.pid;o[w]=function(){var x=l.format.apply(l,arguments);console.error("%s %d: %s",w,S,x)}}else o[w]=function(){};return o[w]},l.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},l.isArray=m,l.isBoolean=g,l.isNull=p,l.isNullOrUndefined=function(w){return w==null},l.isNumber=v,l.isString=C,l.isSymbol=function(w){return typeof w=="symbol"},l.isUndefined=j,l.isRegExp=L,l.isObject=$,l.isDate=M,l.isError=z,l.isFunction=H,l.isPrimitive=function(w){return w===null||typeof w=="boolean"||typeof w=="number"||typeof w=="string"||typeof w=="symbol"||w===void 0},l.isBuffer=e("./support/isBuffer");var A=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function P(){var w=new Date,S=[B(w.getHours()),B(w.getMinutes()),B(w.getSeconds())].join(":");return[w.getDate(),A[w.getMonth()],S].join(" ")}function k(w,S){return Object.prototype.hasOwnProperty.call(w,S)}l.log=function(){console.log("%s - %s",P(),l.format.apply(l,arguments))},l.inherits=e("inherits"),l._extend=function(w,S){if(!S||!$(S))return w;for(var x=Object.keys(S),_=x.length;_--;)w[x[_]]=S[x[_]];return w}}).call(this)}).call(this,e("_process"),typeof Vt<"u"?Vt:typeof self<"u"?self:typeof window<"u"?window:{})},{"./support/isBuffer":526,_process:467,inherits:525}],528:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),Object.defineProperty(l,"v1",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(l,"v3",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(l,"v4",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(l,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(l,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(l,"version",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(l,"validate",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(l,"stringify",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(l,"parse",{enumerable:!0,get:function(){return d.default}});var i=y(e("./v1.js")),s=y(e("./v3.js")),u=y(e("./v4.js")),a=y(e("./v5.js")),o=y(e("./nil.js")),c=y(e("./version.js")),f=y(e("./validate.js")),h=y(e("./stringify.js")),d=y(e("./parse.js"));function y(b){return b&&b.__esModule?b:{default:b}}},{"./nil.js":530,"./parse.js":531,"./stringify.js":535,"./v1.js":536,"./v3.js":537,"./v4.js":539,"./v5.js":540,"./validate.js":541,"./version.js":542}],529:[function(e,n,l){function i(d){return 14+(d+64>>>9<<4)+1}function s(d,y){const b=(65535&d)+(65535&y);return(d>>16)+(y>>16)+(b>>16)<<16|65535&b}function u(d,y,b,m,g,p){return s((v=s(s(y,d),s(m,p)))<<(C=g)|v>>>32-C,b);var v,C}function a(d,y,b,m,g,p,v){return u(y&b|~y&m,d,y,g,p,v)}function o(d,y,b,m,g,p,v){return u(y&m|b&~m,d,y,g,p,v)}function c(d,y,b,m,g,p,v){return u(y^b^m,d,y,g,p,v)}function f(d,y,b,m,g,p,v){return u(b^(y|~m),d,y,g,p,v)}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var h=function(d){if(typeof d=="string"){const y=unescape(encodeURIComponent(d));d=new Uint8Array(y.length);for(let b=0;b<y.length;++b)d[b]=y.charCodeAt(b)}return function(y){const b=[],m=32*y.length;for(let g=0;g<m;g+=8){const p=y[g>>5]>>>g%32&255,v=parseInt("0123456789abcdef".charAt(p>>>4&15)+"0123456789abcdef".charAt(15&p),16);b.push(v)}return b}(function(y,b){y[b>>5]|=128<<b%32,y[i(b)-1]=b;let m=1732584193,g=-271733879,p=-1732584194,v=271733878;for(let C=0;C<y.length;C+=16){const j=m,L=g,$=p,M=v;m=a(m,g,p,v,y[C],7,-680876936),v=a(v,m,g,p,y[C+1],12,-389564586),p=a(p,v,m,g,y[C+2],17,606105819),g=a(g,p,v,m,y[C+3],22,-1044525330),m=a(m,g,p,v,y[C+4],7,-176418897),v=a(v,m,g,p,y[C+5],12,1200080426),p=a(p,v,m,g,y[C+6],17,-1473231341),g=a(g,p,v,m,y[C+7],22,-45705983),m=a(m,g,p,v,y[C+8],7,1770035416),v=a(v,m,g,p,y[C+9],12,-1958414417),p=a(p,v,m,g,y[C+10],17,-42063),g=a(g,p,v,m,y[C+11],22,-1990404162),m=a(m,g,p,v,y[C+12],7,1804603682),v=a(v,m,g,p,y[C+13],12,-40341101),p=a(p,v,m,g,y[C+14],17,-1502002290),g=a(g,p,v,m,y[C+15],22,1236535329),m=o(m,g,p,v,y[C+1],5,-165796510),v=o(v,m,g,p,y[C+6],9,-1069501632),p=o(p,v,m,g,y[C+11],14,643717713),g=o(g,p,v,m,y[C],20,-373897302),m=o(m,g,p,v,y[C+5],5,-701558691),v=o(v,m,g,p,y[C+10],9,38016083),p=o(p,v,m,g,y[C+15],14,-660478335),g=o(g,p,v,m,y[C+4],20,-405537848),m=o(m,g,p,v,y[C+9],5,568446438),v=o(v,m,g,p,y[C+14],9,-1019803690),p=o(p,v,m,g,y[C+3],14,-187363961),g=o(g,p,v,m,y[C+8],20,1163531501),m=o(m,g,p,v,y[C+13],5,-1444681467),v=o(v,m,g,p,y[C+2],9,-51403784),p=o(p,v,m,g,y[C+7],14,1735328473),g=o(g,p,v,m,y[C+12],20,-1926607734),m=c(m,g,p,v,y[C+5],4,-378558),v=c(v,m,g,p,y[C+8],11,-2022574463),p=c(p,v,m,g,y[C+11],16,1839030562),g=c(g,p,v,m,y[C+14],23,-35309556),m=c(m,g,p,v,y[C+1],4,-1530992060),v=c(v,m,g,p,y[C+4],11,1272893353),p=c(p,v,m,g,y[C+7],16,-155497632),g=c(g,p,v,m,y[C+10],23,-1094730640),m=c(m,g,p,v,y[C+13],4,681279174),v=c(v,m,g,p,y[C],11,-358537222),p=c(p,v,m,g,y[C+3],16,-722521979),g=c(g,p,v,m,y[C+6],23,76029189),m=c(m,g,p,v,y[C+9],4,-640364487),v=c(v,m,g,p,y[C+12],11,-421815835),p=c(p,v,m,g,y[C+15],16,530742520),g=c(g,p,v,m,y[C+2],23,-995338651),m=f(m,g,p,v,y[C],6,-198630844),v=f(v,m,g,p,y[C+7],10,1126891415),p=f(p,v,m,g,y[C+14],15,-1416354905),g=f(g,p,v,m,y[C+5],21,-57434055),m=f(m,g,p,v,y[C+12],6,1700485571),v=f(v,m,g,p,y[C+3],10,-1894986606),p=f(p,v,m,g,y[C+10],15,-1051523),g=f(g,p,v,m,y[C+1],21,-2054922799),m=f(m,g,p,v,y[C+8],6,1873313359),v=f(v,m,g,p,y[C+15],10,-30611744),p=f(p,v,m,g,y[C+6],15,-1560198380),g=f(g,p,v,m,y[C+13],21,1309151649),m=f(m,g,p,v,y[C+4],6,-145523070),v=f(v,m,g,p,y[C+11],10,-1120210379),p=f(p,v,m,g,y[C+2],15,718787259),g=f(g,p,v,m,y[C+9],21,-343485551),m=s(m,j),g=s(g,L),p=s(p,$),v=s(v,M)}return[m,g,p,v]}(function(y){if(y.length===0)return[];const b=8*y.length,m=new Uint32Array(i(b));for(let g=0;g<b;g+=8)m[g>>5]|=(255&y[g/8])<<g%32;return m}(d),8*d.length))};l.default=h},{}],530:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default="00000000-0000-0000-0000-000000000000"},{}],531:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i,s=(i=e("./validate.js"))&&i.__esModule?i:{default:i},u=function(a){if(!(0,s.default)(a))throw TypeError("Invalid UUID");let o;const c=new Uint8Array(16);return c[0]=(o=parseInt(a.slice(0,8),16))>>>24,c[1]=o>>>16&255,c[2]=o>>>8&255,c[3]=255&o,c[4]=(o=parseInt(a.slice(9,13),16))>>>8,c[5]=255&o,c[6]=(o=parseInt(a.slice(14,18),16))>>>8,c[7]=255&o,c[8]=(o=parseInt(a.slice(19,23),16))>>>8,c[9]=255&o,c[10]=(o=parseInt(a.slice(24,36),16))/1099511627776&255,c[11]=o/4294967296&255,c[12]=o>>>24&255,c[13]=o>>>16&255,c[14]=o>>>8&255,c[15]=255&o,c};l.default=u},{"./validate.js":541}],532:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0,l.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},{}],533:[function(e,n,l){let i;Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(){if(!i&&(i=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!i))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(s)};const s=new Uint8Array(16)},{}],534:[function(e,n,l){function i(a,o,c,f){switch(a){case 0:return o&c^~o&f;case 1:return o^c^f;case 2:return o&c^o&f^c&f;case 3:return o^c^f}}function s(a,o){return a<<o|a>>>32-o}Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var u=function(a){const o=[1518500249,1859775393,2400959708,3395469782],c=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof a=="string"){const y=unescape(encodeURIComponent(a));a=[];for(let b=0;b<y.length;++b)a.push(y.charCodeAt(b))}else Array.isArray(a)||(a=Array.prototype.slice.call(a));a.push(128);const f=a.length/4+2,h=Math.ceil(f/16),d=new Array(h);for(let y=0;y<h;++y){const b=new Uint32Array(16);for(let m=0;m<16;++m)b[m]=a[64*y+4*m]<<24|a[64*y+4*m+1]<<16|a[64*y+4*m+2]<<8|a[64*y+4*m+3];d[y]=b}d[h-1][14]=8*(a.length-1)/Math.pow(2,32),d[h-1][14]=Math.floor(d[h-1][14]),d[h-1][15]=8*(a.length-1)&4294967295;for(let y=0;y<h;++y){const b=new Uint32Array(80);for(let j=0;j<16;++j)b[j]=d[y][j];for(let j=16;j<80;++j)b[j]=s(b[j-3]^b[j-8]^b[j-14]^b[j-16],1);let m=c[0],g=c[1],p=c[2],v=c[3],C=c[4];for(let j=0;j<80;++j){const L=Math.floor(j/20),$=s(m,5)+i(L,g,p,v)+C+o[L]+b[j]>>>0;C=v,v=p,p=s(g,30)>>>0,g=m,m=$}c[0]=c[0]+m>>>0,c[1]=c[1]+g>>>0,c[2]=c[2]+p>>>0,c[3]=c[3]+v>>>0,c[4]=c[4]+C>>>0}return[c[0]>>24&255,c[0]>>16&255,c[0]>>8&255,255&c[0],c[1]>>24&255,c[1]>>16&255,c[1]>>8&255,255&c[1],c[2]>>24&255,c[2]>>16&255,c[2]>>8&255,255&c[2],c[3]>>24&255,c[3]>>16&255,c[3]>>8&255,255&c[3],c[4]>>24&255,c[4]>>16&255,c[4]>>8&255,255&c[4]]};l.default=u},{}],535:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i,s=(i=e("./validate.js"))&&i.__esModule?i:{default:i};const u=[];for(let o=0;o<256;++o)u.push((o+256).toString(16).substr(1));var a=function(o){let c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const f=(u[o[c+0]]+u[o[c+1]]+u[o[c+2]]+u[o[c+3]]+"-"+u[o[c+4]]+u[o[c+5]]+"-"+u[o[c+6]]+u[o[c+7]]+"-"+u[o[c+8]]+u[o[c+9]]+"-"+u[o[c+10]]+u[o[c+11]]+u[o[c+12]]+u[o[c+13]]+u[o[c+14]]+u[o[c+15]]).toLowerCase();if(!(0,s.default)(f))throw TypeError("Stringified UUID is invalid");return f};l.default=a},{"./validate.js":541}],536:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=u(e("./rng.js")),s=u(e("./stringify.js"));function u(d){return d&&d.__esModule?d:{default:d}}let a,o,c=0,f=0;var h=function(d,y,b){let m=y&&b||0;const g=y||new Array(16);let p=(d=d||{}).node||a,v=d.clockseq!==void 0?d.clockseq:o;if(p==null||v==null){const z=d.random||(d.rng||i.default)();p==null&&(p=a=[1|z[0],z[1],z[2],z[3],z[4],z[5]]),v==null&&(v=o=16383&(z[6]<<8|z[7]))}let C=d.msecs!==void 0?d.msecs:Date.now(),j=d.nsecs!==void 0?d.nsecs:f+1;const L=C-c+(j-f)/1e4;if(L<0&&d.clockseq===void 0&&(v=v+1&16383),(L<0||C>c)&&d.nsecs===void 0&&(j=0),j>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=C,f=j,o=v,C+=122192928e5;const $=(1e4*(268435455&C)+j)%4294967296;g[m++]=$>>>24&255,g[m++]=$>>>16&255,g[m++]=$>>>8&255,g[m++]=255&$;const M=C/4294967296*1e4&268435455;g[m++]=M>>>8&255,g[m++]=255&M,g[m++]=M>>>24&15|16,g[m++]=M>>>16&255,g[m++]=v>>>8|128,g[m++]=255&v;for(let z=0;z<6;++z)g[m+z]=p[z];return y||(0,s.default)(g)};l.default=h},{"./rng.js":533,"./stringify.js":535}],537:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=u(e("./v35.js")),s=u(e("./md5.js"));function u(o){return o&&o.__esModule?o:{default:o}}var a=(0,i.default)("v3",48,s.default);l.default=a},{"./md5.js":529,"./v35.js":538}],538:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(c,f,h){function d(y,b,m,g){if(typeof y=="string"&&(y=function(v){v=unescape(encodeURIComponent(v));const C=[];for(let j=0;j<v.length;++j)C.push(v.charCodeAt(j));return C}(y)),typeof b=="string"&&(b=(0,s.default)(b)),b.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let p=new Uint8Array(16+y.length);if(p.set(b),p.set(y,b.length),p=h(p),p[6]=15&p[6]|f,p[8]=63&p[8]|128,m){g=g||0;for(let v=0;v<16;++v)m[g+v]=p[v];return m}return(0,i.default)(p)}try{d.name=c}catch{}return d.DNS=a,d.URL=o,d},l.URL=l.DNS=void 0;var i=u(e("./stringify.js")),s=u(e("./parse.js"));function u(c){return c&&c.__esModule?c:{default:c}}const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";l.DNS=a;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";l.URL=o},{"./parse.js":531,"./stringify.js":535}],539:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=u(e("./rng.js")),s=u(e("./stringify.js"));function u(o){return o&&o.__esModule?o:{default:o}}var a=function(o,c,f){const h=(o=o||{}).random||(o.rng||i.default)();if(h[6]=15&h[6]|64,h[8]=63&h[8]|128,c){f=f||0;for(let d=0;d<16;++d)c[f+d]=h[d];return c}return(0,s.default)(h)};l.default=a},{"./rng.js":533,"./stringify.js":535}],540:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i=u(e("./v35.js")),s=u(e("./sha1.js"));function u(o){return o&&o.__esModule?o:{default:o}}var a=(0,i.default)("v5",80,s.default);l.default=a},{"./sha1.js":534,"./v35.js":538}],541:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i,s=(i=e("./regex.js"))&&i.__esModule?i:{default:i},u=function(a){return typeof a=="string"&&s.default.test(a)};l.default=u},{"./regex.js":532}],542:[function(e,n,l){Object.defineProperty(l,"__esModule",{value:!0}),l.default=void 0;var i,s=(i=e("./validate.js"))&&i.__esModule?i:{default:i},u=function(a){if(!(0,s.default)(a))throw TypeError("Invalid UUID");return parseInt(a.substr(14,1),16)};l.default=u},{"./validate.js":541}],543:[function(e,n,l){/**
* Character classes and associated utilities for the 5th edition of XML 1.0.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(l,"__esModule",{value:!0}),l.CHAR=`	
\r ---`,l.S=` 	\r
`,l.NAME_START_CHAR=":A-Z_a-z-----------",l.NAME_CHAR="-"+l.NAME_START_CHAR+".0-9--",l.CHAR_RE=new RegExp("^["+l.CHAR+"]$","u"),l.S_RE=new RegExp("^["+l.S+"]+$","u"),l.NAME_START_CHAR_RE=new RegExp("^["+l.NAME_START_CHAR+"]$","u"),l.NAME_CHAR_RE=new RegExp("^["+l.NAME_CHAR+"]$","u"),l.NAME_RE=new RegExp("^["+l.NAME_START_CHAR+"]["+l.NAME_CHAR+"]*$","u"),l.NMTOKEN_RE=new RegExp("^["+l.NAME_CHAR+"]+$","u");function i(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}l.S_LIST=[32,10,13,9],l.isChar=function(s){return s>=32&&s<=55295||s===10||s===13||s===9||s>=57344&&s<=65533||s>=65536&&s<=1114111},l.isS=function(s){return s===32||s===10||s===13||s===9},l.isNameStartChar=i,l.isNameChar=function(s){return i(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],544:[function(e,n,l){/**
* Character classes and associated utilities for the 2nd edition of XML 1.1.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/Object.defineProperty(l,"__esModule",{value:!0}),l.CHAR="---",l.RESTRICTED_CHAR="-\b\v\f---",l.S=` 	\r
`,l.NAME_START_CHAR=":A-Z_a-z-----------",l.NAME_CHAR="-"+l.NAME_START_CHAR+".0-9--",l.CHAR_RE=new RegExp("^["+l.CHAR+"]$","u"),l.RESTRICTED_CHAR_RE=new RegExp("^["+l.RESTRICTED_CHAR+"]$","u"),l.S_RE=new RegExp("^["+l.S+"]+$","u"),l.NAME_START_CHAR_RE=new RegExp("^["+l.NAME_START_CHAR+"]$","u"),l.NAME_CHAR_RE=new RegExp("^["+l.NAME_CHAR+"]$","u"),l.NAME_RE=new RegExp("^["+l.NAME_START_CHAR+"]["+l.NAME_CHAR+"]*$","u"),l.NMTOKEN_RE=new RegExp("^["+l.NAME_CHAR+"]+$","u");function i(s){return s>=65&&s<=90||s>=97&&s<=122||s===58||s===95||s===8204||s===8205||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}l.S_LIST=[32,10,13,9],l.isChar=function(s){return s>=1&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},l.isRestrictedChar=function(s){return s>=1&&s<=8||s===11||s===12||s>=14&&s<=31||s>=127&&s<=132||s>=134&&s<=159},l.isCharAndNotRestricted=function(s){return s===9||s===10||s===13||s>31&&s<127||s===133||s>159&&s<=55295||s>=57344&&s<=65533||s>=65536&&s<=1114111},l.isS=function(s){return s===32||s===10||s===13||s===9},l.isNameStartChar=i,l.isNameChar=function(s){return i(s)||s>=48&&s<=57||s===45||s===46||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}],545:[function(e,n,l){/**
* Character class utilities for XML NS 1.0 edition 3.
*
* @author Louis-Dominique Dubeau
* @license MIT
* @copyright Louis-Dominique Dubeau
*/function i(s){return s>=65&&s<=90||s===95||s>=97&&s<=122||s>=192&&s<=214||s>=216&&s<=246||s>=248&&s<=767||s>=880&&s<=893||s>=895&&s<=8191||s>=8204&&s<=8205||s>=8304&&s<=8591||s>=11264&&s<=12271||s>=12289&&s<=55295||s>=63744&&s<=64975||s>=65008&&s<=65533||s>=65536&&s<=983039}Object.defineProperty(l,"__esModule",{value:!0}),l.NC_NAME_START_CHAR="A-Z_a-z------------",l.NC_NAME_CHAR="-"+l.NC_NAME_START_CHAR+".0-9--",l.NC_NAME_START_CHAR_RE=new RegExp("^["+l.NC_NAME_START_CHAR+"]$","u"),l.NC_NAME_CHAR_RE=new RegExp("^["+l.NC_NAME_CHAR+"]$","u"),l.NC_NAME_RE=new RegExp("^["+l.NC_NAME_START_CHAR+"]["+l.NC_NAME_CHAR+"]*$","u"),l.isNCNameStartChar=i,l.isNCNameChar=function(s){return i(s)||s===45||s===46||s>=48&&s<=57||s===183||s>=768&&s<=879||s>=8255&&s<=8256}},{}]},{},[15])(15)})})(a5);var f7=a5.exports;const Jl=tb(f7);function br(r){"@babel/helpers - typeof";return br=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},br(r)}var In=Uint8Array,pi=Uint16Array,u1=Int32Array,hf=new In([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ff=new In([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),q0=new In([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),l5=function(r,t){for(var e=new pi(31),n=0;n<31;++n)e[n]=t+=1<<r[n-1];for(var l=new u1(e[30]),n=1;n<30;++n)for(var i=e[n];i<e[n+1];++i)l[i]=i-e[n]<<5|n;return{b:e,r:l}},u5=l5(hf,2),c5=u5.b,W0=u5.r;c5[28]=258,W0[258]=28;var d5=l5(ff,0),p7=d5.b,S2=d5.r,H0=new pi(32768);for(var Nr=0;Nr<32768;++Nr){var bo=(Nr&43690)>>1|(Nr&21845)<<1;bo=(bo&52428)>>2|(bo&13107)<<2,bo=(bo&61680)>>4|(bo&3855)<<4,H0[Nr]=((bo&65280)>>8|(bo&255)<<8)>>1}var bs=function(r,t,e){for(var n=r.length,l=0,i=new pi(t);l<n;++l)r[l]&&++i[r[l]-1];var s=new pi(t);for(l=1;l<t;++l)s[l]=s[l-1]+i[l-1]<<1;var u;if(e){u=new pi(1<<t);var a=15-t;for(l=0;l<n;++l)if(r[l])for(var o=l<<4|r[l],c=t-r[l],f=s[r[l]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)u[H0[f]>>a]=o}else for(u=new pi(n),l=0;l<n;++l)r[l]&&(u[l]=H0[s[r[l]-1]++]>>15-r[l]);return u},Uo=new In(288);for(var Nr=0;Nr<144;++Nr)Uo[Nr]=8;for(var Nr=144;Nr<256;++Nr)Uo[Nr]=9;for(var Nr=256;Nr<280;++Nr)Uo[Nr]=7;for(var Nr=280;Nr<288;++Nr)Uo[Nr]=8;var Ec=new In(32);for(var Nr=0;Nr<32;++Nr)Ec[Nr]=5;var m7=bs(Uo,9,0),g7=bs(Uo,9,1),b7=bs(Ec,5,0),y7=bs(Ec,5,1),Ap=function(r){for(var t=r[0],e=1;e<r.length;++e)r[e]>t&&(t=r[e]);return t},qi=function(r,t,e){var n=t/8|0;return(r[n]|r[n+1]<<8)>>(t&7)&e},Ep=function(r,t){var e=t/8|0;return(r[e]|r[e+1]<<8|r[e+2]<<16)>>(t&7)},c1=function(r){return(r+7)/8|0},h5=function(r,t,e){return(e==null||e>r.length)&&(e=r.length),new In(r.subarray(t,e))},v7=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Vi=function(r,t,e){var n=new Error(t||v7[r]);if(n.code=r,Error.captureStackTrace&&Error.captureStackTrace(n,Vi),!e)throw n;return n},w7=function(r,t,e,n){var l=r.length,i=0;if(!l||t.f&&!t.l)return e||new In(0);var s=!e,u=s||t.i!=2,a=t.i;s&&(e=new In(l*3));var o=function(Q){var ne=e.length;if(Q>ne){var Z=new In(Math.max(ne*2,Q));Z.set(e),e=Z}},c=t.f||0,f=t.p||0,h=t.b||0,d=t.l,y=t.d,b=t.m,m=t.n,g=l*8;do{if(!d){c=qi(r,f,1);var p=qi(r,f+1,3);if(f+=3,p)if(p==1)d=g7,y=y7,b=9,m=5;else if(p==2){var L=qi(r,f,31)+257,$=qi(r,f+10,15)+4,M=L+qi(r,f+5,31)+1;f+=14;for(var z=new In(M),H=new In(19),q=0;q<$;++q)H[q0[q]]=qi(r,f+q*3,7);f+=$*3;for(var B=Ap(H),A=(1<<B)-1,P=bs(H,B,1),q=0;q<M;){var k=P[qi(r,f,A)];f+=k&15;var v=k>>4;if(v<16)z[q++]=v;else{var w=0,S=0;for(v==16?(S=3+qi(r,f,3),f+=2,w=z[q-1]):v==17?(S=3+qi(r,f,7),f+=3):v==18&&(S=11+qi(r,f,127),f+=7);S--;)z[q++]=w}}var x=z.subarray(0,L),_=z.subarray(L);b=Ap(x),m=Ap(_),d=bs(x,b,1),y=bs(_,m,1)}else Vi(1);else{var v=c1(f)+4,C=r[v-4]|r[v-3]<<8,j=v+C;if(j>l){a&&Vi(0);break}u&&o(h+C),e.set(r.subarray(v,j),h),t.b=h+=C,t.p=f=j*8,t.f=c;continue}if(f>g){a&&Vi(0);break}}u&&o(h+131072);for(var E=(1<<b)-1,D=(1<<m)-1,N=f;;N=f){var w=d[Ep(r,f)&E],U=w>>4;if(f+=w&15,f>g){a&&Vi(0);break}if(w||Vi(2),U<256)e[h++]=U;else if(U==256){N=f,d=null;break}else{var V=U-254;if(U>264){var q=U-257,J=hf[q];V=qi(r,f,(1<<J)-1)+c5[q],f+=J}var F=y[Ep(r,f)&D],Y=F>>4;F||Vi(3),f+=F&15;var _=p7[Y];if(Y>3){var J=ff[Y];_+=Ep(r,f)&(1<<J)-1,f+=J}if(f>g){a&&Vi(0);break}u&&o(h+131072);var O=h+V;if(h<_){var T=i-_,G=Math.min(_,O);for(T+h<0&&Vi(3);h<G;++h)e[h]=n[T+h]}for(;h<O;++h)e[h]=e[h-_]}}t.l=d,t.p=N,t.b=h,t.f=c,d&&(c=1,t.m=b,t.d=y,t.n=m)}while(!c);return h!=e.length&&s?h5(e,0,h):e.subarray(0,h)},Ls=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8},Ou=function(r,t,e){e<<=t&7;var n=t/8|0;r[n]|=e,r[n+1]|=e>>8,r[n+2]|=e>>16},jp=function(r,t){for(var e=[],n=0;n<r.length;++n)r[n]&&e.push({s:n,f:r[n]});var l=e.length,i=e.slice();if(!l)return{t:p5,l:0};if(l==1){var s=new In(e[0].s+1);return s[e[0].s]=1,{t:s,l:1}}e.sort(function(j,L){return j.f-L.f}),e.push({s:-1,f:25001});var u=e[0],a=e[1],o=0,c=1,f=2;for(e[0]={s:-1,f:u.f+a.f,l:u,r:a};c!=l-1;)u=e[e[o].f<e[f].f?o++:f++],a=e[o!=c&&e[o].f<e[f].f?o++:f++],e[c++]={s:-1,f:u.f+a.f,l:u,r:a};for(var h=i[0].s,n=1;n<l;++n)i[n].s>h&&(h=i[n].s);var d=new pi(h+1),y=V0(e[c-1],d,0);if(y>t){var n=0,b=0,m=y-t,g=1<<m;for(i.sort(function(L,$){return d[$.s]-d[L.s]||L.f-$.f});n<l;++n){var p=i[n].s;if(d[p]>t)b+=g-(1<<y-d[p]),d[p]=t;else break}for(b>>=m;b>0;){var v=i[n].s;d[v]<t?b-=1<<t-d[v]++-1:++n}for(;n>=0&&b;--n){var C=i[n].s;d[C]==t&&(--d[C],++b)}y=t}return{t:new In(d),l:y}},V0=function(r,t,e){return r.s==-1?Math.max(V0(r.l,t,e+1),V0(r.r,t,e+1)):t[r.s]=e},k2=function(r){for(var t=r.length;t&&!r[--t];);for(var e=new pi(++t),n=0,l=r[0],i=1,s=function(a){e[n++]=a},u=1;u<=t;++u)if(r[u]==l&&u!=t)++i;else{if(!l&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(l),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(l);i=1,l=r[u]}return{c:e.subarray(0,n),n:t}},Fu=function(r,t){for(var e=0,n=0;n<t.length;++n)e+=r[n]*t[n];return e},f5=function(r,t,e){var n=e.length,l=c1(t+2);r[l]=n&255,r[l+1]=n>>8,r[l+2]=r[l]^255,r[l+3]=r[l+1]^255;for(var i=0;i<n;++i)r[l+i+4]=e[i];return(l+4+n)*8},C2=function(r,t,e,n,l,i,s,u,a,o,c){Ls(t,c++,e),++l[256];for(var f=jp(l,15),h=f.t,d=f.l,y=jp(i,15),b=y.t,m=y.l,g=k2(h),p=g.c,v=g.n,C=k2(b),j=C.c,L=C.n,$=new pi(19),M=0;M<p.length;++M)++$[p[M]&31];for(var M=0;M<j.length;++M)++$[j[M]&31];for(var z=jp($,7),H=z.t,q=z.l,B=19;B>4&&!H[q0[B-1]];--B);var A=o+5<<3,P=Fu(l,Uo)+Fu(i,Ec)+s,k=Fu(l,h)+Fu(i,b)+s+14+3*B+Fu($,H)+2*$[16]+3*$[17]+7*$[18];if(a>=0&&A<=P&&A<=k)return f5(t,c,r.subarray(a,a+o));var w,S,x,_;if(Ls(t,c,1+(k<P)),c+=2,k<P){w=bs(h,d,0),S=h,x=bs(b,m,0),_=b;var E=bs(H,q,0);Ls(t,c,v-257),Ls(t,c+5,L-1),Ls(t,c+10,B-4),c+=14;for(var M=0;M<B;++M)Ls(t,c+3*M,H[q0[M]]);c+=3*B;for(var D=[p,j],N=0;N<2;++N)for(var U=D[N],M=0;M<U.length;++M){var V=U[M]&31;Ls(t,c,E[V]),c+=H[V],V>15&&(Ls(t,c,U[M]>>5&127),c+=U[M]>>12)}}else w=m7,S=Uo,x=b7,_=Ec;for(var M=0;M<u;++M){var J=n[M];if(J>255){var V=J>>18&31;Ou(t,c,w[V+257]),c+=S[V+257],V>7&&(Ls(t,c,J>>23&31),c+=hf[V]);var F=J&31;Ou(t,c,x[F]),c+=_[F],F>3&&(Ou(t,c,J>>5&8191),c+=ff[F])}else Ou(t,c,w[J]),c+=S[J]}return Ou(t,c,w[256]),c+S[256]},x7=new u1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),p5=new In(0),_7=function(r,t,e,n,l,i){var s=i.z||r.length,u=new In(n+s+5*(1+Math.ceil(s/7e3))+l),a=u.subarray(n,u.length-l),o=i.l,c=(i.r||0)&7;if(t){c&&(a[0]=i.r>>3);for(var f=x7[t-1],h=f>>13,d=f&8191,y=(1<<e)-1,b=i.p||new pi(32768),m=i.h||new pi(y+1),g=Math.ceil(e/3),p=2*g,v=function(oe){return(r[oe]^r[oe+1]<<g^r[oe+2]<<p)&y},C=new u1(25e3),j=new pi(288),L=new pi(32),$=0,M=0,z=i.i||0,H=0,q=i.w||0,B=0;z+2<s;++z){var A=v(z),P=z&32767,k=m[A];if(b[P]=k,m[A]=P,q<=z){var w=s-z;if(($>7e3||H>24576)&&(w>423||!o)){c=C2(r,a,0,C,j,L,M,H,B,z-B,c),H=$=M=0,B=z;for(var S=0;S<286;++S)j[S]=0;for(var S=0;S<30;++S)L[S]=0}var x=2,_=0,E=d,D=P-k&32767;if(w>2&&A==v(z-D))for(var N=Math.min(h,w)-1,U=Math.min(32767,z),V=Math.min(258,w);D<=U&&--E&&P!=k;){if(r[z+x]==r[z+x-D]){for(var J=0;J<V&&r[z+J]==r[z+J-D];++J);if(J>x){if(x=J,_=D,J>N)break;for(var F=Math.min(D,J-2),Y=0,S=0;S<F;++S){var O=z-D+S&32767,T=b[O],G=O-T&32767;G>Y&&(Y=G,k=O)}}}P=k,k=b[P],D+=P-k&32767}if(_){C[H++]=268435456|W0[x]<<18|S2[_];var Q=W0[x]&31,ne=S2[_]&31;M+=hf[Q]+ff[ne],++j[257+Q],++L[ne],q=z+x,++$}else C[H++]=r[z],++j[r[z]]}}for(z=Math.max(z,q);z<s;++z)C[H++]=r[z],++j[r[z]];c=C2(r,a,o,C,j,L,M,H,B,z-B,c),o||(i.r=c&7|a[c/8|0]<<3,c-=7,i.h=m,i.p=b,i.i=z,i.w=q)}else{for(var z=i.w||0;z<s+o;z+=65535){var Z=z+65535;Z>=s&&(a[c/8|0]=o,Z=s),c=f5(a,c+1,r.subarray(z,Z))}i.i=s}return h5(u,0,n+c1(c)+l)},m5=function(){var r=1,t=0;return{p:function(e){for(var n=r,l=t,i=e.length|0,s=0;s!=i;){for(var u=Math.min(s+2655,i);s<u;++s)l+=n+=e[s];n=(n&65535)+15*(n>>16),l=(l&65535)+15*(l>>16)}r=n,t=l},d:function(){return r%=65521,t%=65521,(r&255)<<24|(r&65280)<<8|(t&255)<<8|t>>8}}},S7=function(r,t,e,n,l){if(!l&&(l={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new In(i.length+r.length);s.set(i),s.set(r,i.length),r=s,l.w=i.length}return _7(r,t.level==null?6:t.level,t.mem==null?l.l?Math.ceil(Math.max(8,Math.min(13,Math.log(r.length)))*1.5):20:12+t.mem,e,n,l)},g5=function(r,t,e){for(;e;++t)r[t]=e,e>>>=8},k7=function(r,t){var e=t.level,n=e==0?0:e<6?1:e==9?3:2;if(r[0]=120,r[1]=n<<6|(t.dictionary&&32),r[1]|=31-(r[0]<<8|r[1])%31,t.dictionary){var l=m5();l.p(t.dictionary),g5(r,2,l.d())}},C7=function(r,t){return((r[0]&15)!=8||r[0]>>4>7||(r[0]<<8|r[1])%31)&&Vi(6,"invalid zlib data"),(r[1]>>5&1)==1&&Vi(6,"invalid zlib data: "+(r[1]&32?"need":"unexpected")+" dictionary"),(r[1]>>3&4)+2};function G0(r,t){t||(t={});var e=m5();e.p(r);var n=S7(r,t,t.dictionary?6:2,4);return k7(n,t),g5(n,n.length-4,e.d()),n}function A7(r,t){return w7(r.subarray(C7(r),-4),{i:2},t,t)}var E7=typeof TextDecoder<"u"&&new TextDecoder,j7=0;try{E7.decode(p5,{stream:!0}),j7=1}catch{}var qt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Tp(){qt.console&&typeof qt.console.log=="function"&&qt.console.log.apply(qt.console,arguments)}var _r={log:Tp,warn:function(r){qt.console&&(typeof qt.console.warn=="function"?qt.console.warn.apply(qt.console,arguments):Tp.call(null,arguments))},error:function(r){qt.console&&(typeof qt.console.error=="function"?qt.console.error.apply(qt.console,arguments):Tp(r))}};function Pp(r,t,e){var n=new XMLHttpRequest;n.open("GET",r),n.responseType="blob",n.onload=function(){ua(n.response,t,e)},n.onerror=function(){_r.error("could not download file")},n.send()}function A2(r){var t=new XMLHttpRequest;t.open("HEAD",r,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function zd(r){try{r.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),r.dispatchEvent(t)}}var ac,K0,ua=qt.saveAs||((typeof window>"u"?"undefined":br(window))!=="object"||window!==qt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(r,t,e){var n=qt.URL||qt.webkitURL,l=document.createElement("a");t=t||r.name||"download",l.download=t,l.rel="noopener",typeof r=="string"?(l.href=r,l.origin!==location.origin?A2(l.href)?Pp(r,t,e):zd(l,l.target="_blank"):zd(l)):(l.href=n.createObjectURL(r),setTimeout(function(){n.revokeObjectURL(l.href)},4e4),setTimeout(function(){zd(l)},0))}:"msSaveOrOpenBlob"in navigator?function(r,t,e){if(t=t||r.name||"download",typeof r=="string")if(A2(r))Pp(r,t,e);else{var n=document.createElement("a");n.href=r,n.target="_blank",setTimeout(function(){zd(n)})}else navigator.msSaveOrOpenBlob(function(l,i){return i===void 0?i={autoBom:!1}:br(i)!=="object"&&(_r.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(l.type)?new Blob(["\uFEFF",l],{type:l.type}):l}(r,e),t)}:function(r,t,e,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof r=="string")return Pp(r,t,e);var l=r.type==="application/octet-stream",i=/constructor/i.test(qt.HTMLElement)||qt.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||l&&i)&&(typeof FileReader>"u"?"undefined":br(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var c=u.result;c=s?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},u.readAsDataURL(r)}else{var a=qt.URL||qt.webkitURL,o=a.createObjectURL(r);n?n.location=o:location.href=o,n=null,setTimeout(function(){a.revokeObjectURL(o)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function b5(r){var t;r=r||"",this.ok=!1,r.charAt(0)=="#"&&(r=r.substr(1,6)),r={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[r=(r=r.replace(/ /g,"")).toLowerCase()]||r;for(var e=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<e.length;n++){var l=e[n].re,i=e[n].process,s=l.exec(r);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),a=this.g.toString(16),o=this.b.toString(16);return u.length==1&&(u="0"+u),a.length==1&&(a="0"+a),o.length==1&&(o="0"+o),"#"+u+a+o}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Np(r,t){var e=r[0],n=r[1],l=r[2],i=r[3];e=jn(e,n,l,i,t[0],7,-680876936),i=jn(i,e,n,l,t[1],12,-389564586),l=jn(l,i,e,n,t[2],17,606105819),n=jn(n,l,i,e,t[3],22,-1044525330),e=jn(e,n,l,i,t[4],7,-176418897),i=jn(i,e,n,l,t[5],12,1200080426),l=jn(l,i,e,n,t[6],17,-1473231341),n=jn(n,l,i,e,t[7],22,-45705983),e=jn(e,n,l,i,t[8],7,1770035416),i=jn(i,e,n,l,t[9],12,-1958414417),l=jn(l,i,e,n,t[10],17,-42063),n=jn(n,l,i,e,t[11],22,-1990404162),e=jn(e,n,l,i,t[12],7,1804603682),i=jn(i,e,n,l,t[13],12,-40341101),l=jn(l,i,e,n,t[14],17,-1502002290),e=Tn(e,n=jn(n,l,i,e,t[15],22,1236535329),l,i,t[1],5,-165796510),i=Tn(i,e,n,l,t[6],9,-1069501632),l=Tn(l,i,e,n,t[11],14,643717713),n=Tn(n,l,i,e,t[0],20,-373897302),e=Tn(e,n,l,i,t[5],5,-701558691),i=Tn(i,e,n,l,t[10],9,38016083),l=Tn(l,i,e,n,t[15],14,-660478335),n=Tn(n,l,i,e,t[4],20,-405537848),e=Tn(e,n,l,i,t[9],5,568446438),i=Tn(i,e,n,l,t[14],9,-1019803690),l=Tn(l,i,e,n,t[3],14,-187363961),n=Tn(n,l,i,e,t[8],20,1163531501),e=Tn(e,n,l,i,t[13],5,-1444681467),i=Tn(i,e,n,l,t[2],9,-51403784),l=Tn(l,i,e,n,t[7],14,1735328473),e=Pn(e,n=Tn(n,l,i,e,t[12],20,-1926607734),l,i,t[5],4,-378558),i=Pn(i,e,n,l,t[8],11,-2022574463),l=Pn(l,i,e,n,t[11],16,1839030562),n=Pn(n,l,i,e,t[14],23,-35309556),e=Pn(e,n,l,i,t[1],4,-1530992060),i=Pn(i,e,n,l,t[4],11,1272893353),l=Pn(l,i,e,n,t[7],16,-155497632),n=Pn(n,l,i,e,t[10],23,-1094730640),e=Pn(e,n,l,i,t[13],4,681279174),i=Pn(i,e,n,l,t[0],11,-358537222),l=Pn(l,i,e,n,t[3],16,-722521979),n=Pn(n,l,i,e,t[6],23,76029189),e=Pn(e,n,l,i,t[9],4,-640364487),i=Pn(i,e,n,l,t[12],11,-421815835),l=Pn(l,i,e,n,t[15],16,530742520),e=Nn(e,n=Pn(n,l,i,e,t[2],23,-995338651),l,i,t[0],6,-198630844),i=Nn(i,e,n,l,t[7],10,1126891415),l=Nn(l,i,e,n,t[14],15,-1416354905),n=Nn(n,l,i,e,t[5],21,-57434055),e=Nn(e,n,l,i,t[12],6,1700485571),i=Nn(i,e,n,l,t[3],10,-1894986606),l=Nn(l,i,e,n,t[10],15,-1051523),n=Nn(n,l,i,e,t[1],21,-2054922799),e=Nn(e,n,l,i,t[8],6,1873313359),i=Nn(i,e,n,l,t[15],10,-30611744),l=Nn(l,i,e,n,t[6],15,-1560198380),n=Nn(n,l,i,e,t[13],21,1309151649),e=Nn(e,n,l,i,t[4],6,-145523070),i=Nn(i,e,n,l,t[11],10,-1120210379),l=Nn(l,i,e,n,t[2],15,718787259),n=Nn(n,l,i,e,t[9],21,-343485551),r[0]=To(e,r[0]),r[1]=To(n,r[1]),r[2]=To(l,r[2]),r[3]=To(i,r[3])}function pf(r,t,e,n,l,i){return t=To(To(t,r),To(n,i)),To(t<<l|t>>>32-l,e)}function jn(r,t,e,n,l,i,s){return pf(t&e|~t&n,r,t,l,i,s)}function Tn(r,t,e,n,l,i,s){return pf(t&n|e&~n,r,t,l,i,s)}function Pn(r,t,e,n,l,i,s){return pf(t^e^n,r,t,l,i,s)}function Nn(r,t,e,n,l,i,s){return pf(e^(t|~n),r,t,l,i,s)}function y5(r){var t,e=r.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=r.length;t+=64)Np(n,T7(r.substring(t-64,t)));r=r.substring(t-64);var l=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r.length;t++)l[t>>2]|=r.charCodeAt(t)<<(t%4<<3);if(l[t>>2]|=128<<(t%4<<3),t>55)for(Np(n,l),t=0;t<16;t++)l[t]=0;return l[14]=8*e,Np(n,l),n}function T7(r){var t,e=[];for(t=0;t<64;t+=4)e[t>>2]=r.charCodeAt(t)+(r.charCodeAt(t+1)<<8)+(r.charCodeAt(t+2)<<16)+(r.charCodeAt(t+3)<<24);return e}ac=qt.atob.bind(qt),K0=qt.btoa.bind(qt);var E2="0123456789abcdef".split("");function P7(r){for(var t="",e=0;e<4;e++)t+=E2[r>>8*e+4&15]+E2[r>>8*e&15];return t}function N7(r){return String.fromCharCode((255&r)>>0,(65280&r)>>8,(16711680&r)>>16,(4278190080&r)>>24)}function X0(r){return y5(r).map(N7).join("")}var R7=function(r){for(var t=0;t<r.length;t++)r[t]=P7(r[t]);return r.join("")}(y5("hello"))!="5d41402abc4b2a76b9719d911017c592";function To(r,t){if(R7){var e=(65535&r)+(65535&t);return(r>>16)+(t>>16)+(e>>16)<<16|65535&e}return r+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Y0(r,t){var e,n,l,i;if(r!==e){for(var s=(l=r,i=1+(256/r.length>>0),new Array(i+1).join(l)),u=[],a=0;a<256;a++)u[a]=a;var o=0;for(a=0;a<256;a++){var c=u[a];o=(o+c+s.charCodeAt(a))%256,u[a]=u[o],u[o]=c}e=r,n=u}else u=n;var f=t.length,h=0,d=0,y="";for(a=0;a<f;a++)d=(d+(c=u[h=(h+1)%256]))%256,u[h]=u[d],u[d]=c,s=u[(u[h]+u[d])%256],y+=String.fromCharCode(t.charCodeAt(a)^s);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var j2={print:4,modify:8,copy:16,"annot-forms":32};function ll(r,t,e,n){this.v=1,this.r=2;var l=192;r.forEach(function(u){if(j2.perm!==void 0)throw new Error("Invalid permission: "+u);l+=j2[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),s=(e+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^l)),this.encryptionKey=X0(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=Y0(this.encryptionKey,this.padding)}function ul(r){if(/[^\u0000-\u00ff]/.test(r))throw new Error("Invalid PDF Name Object: "+r+", Only accept ASCII characters.");for(var t="",e=r.length,n=0;n<e;n++){var l=r.charCodeAt(n);l<33||l===35||l===37||l===40||l===41||l===47||l===60||l===62||l===91||l===93||l===123||l===125||l>126?t+="#"+("0"+l.toString(16)).slice(-2):t+=r[n]}return t}function T2(r){if(br(r)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,l){if(l=l||!1,typeof e!="string"||typeof n!="function"||typeof l!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var i=Math.random().toString(35);return t[e][i]=[n,!!l],i},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(e){if(t.hasOwnProperty(e)){var n=Array.prototype.slice.call(arguments,1),l=[];for(var i in t[e]){var s=t[e][i];try{s[0].apply(r,n)}catch(u){qt.console&&_r.error("jsPDF PubSub Error",u.message,u)}s[1]&&l.push(i)}l.length&&l.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Bh(r){if(!(this instanceof Bh))return new Bh(r);var t="opacity,stroke-opacity".split(",");for(var e in r)r.hasOwnProperty(e)&&t.indexOf(e)>=0&&(this[e]=r[e]);this.id="",this.objectNumber=-1}function v5(r,t){this.gState=r,this.matrix=t,this.id="",this.objectNumber=-1}function da(r,t,e,n,l){if(!(this instanceof da))return new da(r,t,e,n,l);this.type=r==="axial"?2:3,this.coords=t,this.colors=e,v5.call(this,n,l)}function _l(r,t,e,n,l){if(!(this instanceof _l))return new _l(r,t,e,n,l);this.boundingBox=r,this.xStep=t,this.yStep=e,this.stream="",this.cloneIndex=0,v5.call(this,n,l)}function Dt(r){var t,e=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],l=arguments[2],i=arguments[3],s=[],u=1,a=16,o="S",c=null;br(r=r||{})==="object"&&(e=r.orientation,n=r.unit||n,l=r.format||l,i=r.compress||r.compressPdf||i,(c=r.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),u=typeof r.userUnit=="number"?Math.abs(r.userUnit):1,r.precision!==void 0&&(t=r.precision),r.floatPrecision!==void 0&&(a=r.floatPrecision),o=r.defaultPathOperation||"S"),s=r.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",e=(""+(e||"P")).toLowerCase();var f=r.putOnlyUsedFonts||!1,h={},d={internal:{},__private__:{}};d.__private__.PubSub=T2;var y="1.3",b=d.__private__.getPdfVersion=function(){return y};d.__private__.setPdfVersion=function(K){y=K};var m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return m};var g=d.__private__.getPageFormat=function(K){return m[K]};l=l||"a4";var p={COMPAT:"compat",ADVANCED:"advanced"},v=p.COMPAT;function C(){this.saveGraphicsState(),te(new Fe(je,0,0,-je,0,ro()*je).toString()+" cm"),this.setFontSize(this.getFontSize()/je),o="n",v=p.ADVANCED}function j(){this.restoreGraphicsState(),o="S",v=p.COMPAT}var L=d.__private__.combineFontStyleAndFontWeight=function(K,le){if(K=="bold"&&le=="normal"||K=="bold"&&le==400||K=="normal"&&le=="italic"||K=="bold"&&le=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return le&&(K=le==400||le==="normal"?K==="italic"?"italic":"normal":le!=700&&le!=="bold"||K!=="normal"?(le==700?"bold":le)+""+K:"bold"),K};d.advancedAPI=function(K){var le=v===p.COMPAT;return le&&C.call(this),typeof K!="function"||(K(this),le&&j.call(this)),this},d.compatAPI=function(K){var le=v===p.ADVANCED;return le&&j.call(this),typeof K!="function"||(K(this),le&&C.call(this)),this},d.isAdvancedAPI=function(){return v===p.ADVANCED};var $,M=function(K){if(v!==p.ADVANCED)throw new Error(K+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=d.roundToPrecision=d.__private__.roundToPrecision=function(K,le){var Se=t||le;if(isNaN(K)||isNaN(Se))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return K.toFixed(Se).replace(/0+$/,"")};$=d.hpf=d.__private__.hpf=typeof a=="number"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return z(K,a)}:a==="smart"?function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return z(K,K>-1&&K<1?16:5)}:function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.hpf");return z(K,16)};var H=d.f2=d.__private__.f2=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f2");return z(K,2)},q=d.__private__.f3=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.f3");return z(K,3)},B=d.scale=d.__private__.scale=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.scale");return v===p.COMPAT?K*je:v===p.ADVANCED?K:void 0},A=function(K){return v===p.COMPAT?ro()-K:v===p.ADVANCED?K:void 0},P=function(K){return B(A(K))};d.__private__.setPrecision=d.setPrecision=function(K){typeof parseInt(K,10)=="number"&&(t=parseInt(K,10))};var k,w="00000000000000000000000000000000",S=d.__private__.getFileId=function(){return w},x=d.__private__.setFileId=function(K){return w=K!==void 0&&/^[a-fA-F0-9]{32}$/.test(K)?K.toUpperCase():w.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Qr=new ll(c.userPermissions,c.userPassword,c.ownerPassword,w)),w};d.setFileId=function(K){return x(K),this},d.getFileId=function(){return S()};var _=d.__private__.convertDateToPDFDate=function(K){var le=K.getTimezoneOffset(),Se=le<0?"+":"-",Ee=Math.floor(Math.abs(le/60)),Oe=Math.abs(le%60),Qe=[Se,V(Ee),"'",V(Oe),"'"].join("");return["D:",K.getFullYear(),V(K.getMonth()+1),V(K.getDate()),V(K.getHours()),V(K.getMinutes()),V(K.getSeconds()),Qe].join("")},E=d.__private__.convertPDFDateToDate=function(K){var le=parseInt(K.substr(2,4),10),Se=parseInt(K.substr(6,2),10)-1,Ee=parseInt(K.substr(8,2),10),Oe=parseInt(K.substr(10,2),10),Qe=parseInt(K.substr(12,2),10),dt=parseInt(K.substr(14,2),10);return new Date(le,Se,Ee,Oe,Qe,dt,0)},D=d.__private__.setCreationDate=function(K){var le;if(K===void 0&&(K=new Date),K instanceof Date)le=_(K);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(K))throw new Error("Invalid argument passed to jsPDF.setCreationDate");le=K}return k=le},N=d.__private__.getCreationDate=function(K){var le=k;return K==="jsDate"&&(le=E(k)),le};d.setCreationDate=function(K){return D(K),this},d.getCreationDate=function(K){return N(K)};var U,V=d.__private__.padd2=function(K){return("0"+parseInt(K)).slice(-2)},J=d.__private__.padd2Hex=function(K){return("00"+(K=K.toString())).substr(K.length)},F=0,Y=[],O=[],T=0,G=[],Q=[],ne=!1,Z=O,oe=function(){F=0,T=0,O=[],Y=[],G=[],ht=ze(),jt=ze()};d.__private__.setCustomOutputDestination=function(K){ne=!0,Z=K};var ue=function(K){ne||(Z=K)};d.__private__.resetCustomOutputDestination=function(){ne=!1,Z=O};var te=d.__private__.out=function(K){return K=K.toString(),T+=K.length+1,Z.push(K),Z},se=d.__private__.write=function(K){return te(arguments.length===1?K.toString():Array.prototype.join.call(arguments," "))},pe=d.__private__.getArrayBuffer=function(K){for(var le=K.length,Se=new ArrayBuffer(le),Ee=new Uint8Array(Se);le--;)Ee[le]=K.charCodeAt(le);return Se},ie=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return ie};var fe=r.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(K){return fe=v===p.ADVANCED?K/je:K,this};var be,re=d.__private__.getFontSize=d.getFontSize=function(){return v===p.COMPAT?fe:fe*je},ve=r.R2L||!1;d.__private__.setR2L=d.setR2L=function(K){return ve=K,this},d.__private__.getR2L=d.getR2L=function(){return ve};var _e,Re=d.__private__.setZoomMode=function(K){var le=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(K))be=K;else if(isNaN(K)){if(le.indexOf(K)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+K+'" is not recognized.');be=K}else be=parseInt(K,10)};d.__private__.getZoomMode=function(){return be};var Ge,Ze=d.__private__.setPageMode=function(K){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(K)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+K+'" is not recognized.');_e=K};d.__private__.getPageMode=function(){return _e};var Ye=d.__private__.setLayoutMode=function(K){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(K)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+K+'" is not recognized.');Ge=K};d.__private__.getLayoutMode=function(){return Ge},d.__private__.setDisplayMode=d.setDisplayMode=function(K,le,Se){return Re(K),Ye(le),Ze(Se),this};var et={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(K){if(Object.keys(et).indexOf(K)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return et[K]},d.__private__.getDocumentProperties=function(){return et},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(K){for(var le in et)et.hasOwnProperty(le)&&K[le]&&(et[le]=K[le]);return this},d.__private__.setDocumentProperty=function(K,le){if(Object.keys(et).indexOf(K)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return et[K]=le};var ke,je,Ue,Le,Ve,He={},ot={},ct=[],bt={},Lt={},pt={},Ft={},Bt=null,xt=0,vt=[],Me=new T2(d),Je=r.hotfixes||[],Ce={},We={},De=[],Fe=function K(le,Se,Ee,Oe,Qe,dt){if(!(this instanceof K))return new K(le,Se,Ee,Oe,Qe,dt);isNaN(le)&&(le=1),isNaN(Se)&&(Se=0),isNaN(Ee)&&(Ee=0),isNaN(Oe)&&(Oe=1),isNaN(Qe)&&(Qe=0),isNaN(dt)&&(dt=0),this._matrix=[le,Se,Ee,Oe,Qe,dt]};Object.defineProperty(Fe.prototype,"sx",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(Fe.prototype,"shy",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(Fe.prototype,"shx",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(Fe.prototype,"sy",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(Fe.prototype,"tx",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(Fe.prototype,"ty",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(Fe.prototype,"a",{get:function(){return this._matrix[0]},set:function(K){this._matrix[0]=K}}),Object.defineProperty(Fe.prototype,"b",{get:function(){return this._matrix[1]},set:function(K){this._matrix[1]=K}}),Object.defineProperty(Fe.prototype,"c",{get:function(){return this._matrix[2]},set:function(K){this._matrix[2]=K}}),Object.defineProperty(Fe.prototype,"d",{get:function(){return this._matrix[3]},set:function(K){this._matrix[3]=K}}),Object.defineProperty(Fe.prototype,"e",{get:function(){return this._matrix[4]},set:function(K){this._matrix[4]=K}}),Object.defineProperty(Fe.prototype,"f",{get:function(){return this._matrix[5]},set:function(K){this._matrix[5]=K}}),Object.defineProperty(Fe.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Fe.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Fe.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Fe.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Fe.prototype.join=function(K){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map($).join(K)},Fe.prototype.multiply=function(K){var le=K.sx*this.sx+K.shy*this.shx,Se=K.sx*this.shy+K.shy*this.sy,Ee=K.shx*this.sx+K.sy*this.shx,Oe=K.shx*this.shy+K.sy*this.sy,Qe=K.tx*this.sx+K.ty*this.shx+this.tx,dt=K.tx*this.shy+K.ty*this.sy+this.ty;return new Fe(le,Se,Ee,Oe,Qe,dt)},Fe.prototype.decompose=function(){var K=this.sx,le=this.shy,Se=this.shx,Ee=this.sy,Oe=this.tx,Qe=this.ty,dt=Math.sqrt(K*K+le*le),St=(K/=dt)*Se+(le/=dt)*Ee;Se-=K*St,Ee-=le*St;var Ot=Math.sqrt(Se*Se+Ee*Ee);return St/=Ot,K*(Ee/=Ot)<le*(Se/=Ot)&&(K=-K,le=-le,St=-St,dt=-dt),{scale:new Fe(dt,0,0,Ot,0,0),translate:new Fe(1,0,0,1,Oe,Qe),rotate:new Fe(K,le,-le,K,0,0),skew:new Fe(1,0,St,1,0,0)}},Fe.prototype.toString=function(K){return this.join(" ")},Fe.prototype.inversed=function(){var K=this.sx,le=this.shy,Se=this.shx,Ee=this.sy,Oe=this.tx,Qe=this.ty,dt=1/(K*Ee-le*Se),St=Ee*dt,Ot=-le*dt,Jt=-Se*dt,Xt=K*dt;return new Fe(St,Ot,Jt,Xt,-St*Oe-Jt*Qe,-Ot*Oe-Xt*Qe)},Fe.prototype.applyToPoint=function(K){var le=K.x*this.sx+K.y*this.shx+this.tx,Se=K.x*this.shy+K.y*this.sy+this.ty;return new Ma(le,Se)},Fe.prototype.applyToRectangle=function(K){var le=this.applyToPoint(K),Se=this.applyToPoint(new Ma(K.x+K.w,K.y+K.h));return new iu(le.x,le.y,Se.x-le.x,Se.y-le.y)},Fe.prototype.clone=function(){var K=this.sx,le=this.shy,Se=this.shx,Ee=this.sy,Oe=this.tx,Qe=this.ty;return new Fe(K,le,Se,Ee,Oe,Qe)},d.Matrix=Fe;var Ke=d.matrixMult=function(K,le){return le.multiply(K)},st=new Fe(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=st;var we=function(K,le){if(!Lt[K]){var Se=(le instanceof da?"Sh":"P")+(Object.keys(bt).length+1).toString(10);le.id=Se,Lt[K]=Se,bt[Se]=le,Me.publish("addPattern",le)}};d.ShadingPattern=da,d.TilingPattern=_l,d.addShadingPattern=function(K,le){return M("addShadingPattern()"),we(K,le),this},d.beginTilingPattern=function(K){M("beginTilingPattern()"),Vc(K.boundingBox[0],K.boundingBox[1],K.boundingBox[2]-K.boundingBox[0],K.boundingBox[3]-K.boundingBox[1],K.matrix)},d.endTilingPattern=function(K,le){M("endTilingPattern()"),le.stream=Q[U].join(`
`),we(K,le),Me.publish("endTilingPattern",le),De.pop().restore()};var Ae=d.__private__.newObject=function(){var K=ze();return lt(K,!0),K},ze=d.__private__.newObjectDeferred=function(){return F++,Y[F]=function(){return T},F},lt=function(K,le){return le=typeof le=="boolean"&&le,Y[K]=T,le&&te(K+" 0 obj"),K},Et=d.__private__.newAdditionalObject=function(){var K={objId:ze(),content:""};return G.push(K),K},ht=ze(),jt=ze(),Ct=d.__private__.decodeColorString=function(K){var le=K.split(" ");if(le.length!==2||le[1]!=="g"&&le[1]!=="G")le.length===5&&(le[4]==="k"||le[4]==="K")&&(le=[(1-le[0])*(1-le[3]),(1-le[1])*(1-le[3]),(1-le[2])*(1-le[3]),"r"]);else{var Se=parseFloat(le[0]);le=[Se,Se,Se,"r"]}for(var Ee="#",Oe=0;Oe<3;Oe++)Ee+=("0"+Math.floor(255*parseFloat(le[Oe])).toString(16)).slice(-2);return Ee},_t=d.__private__.encodeColorString=function(K){var le;typeof K=="string"&&(K={ch1:K});var Se=K.ch1,Ee=K.ch2,Oe=K.ch3,Qe=K.ch4,dt=K.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Se=="string"&&Se.charAt(0)!=="#"){var St=new b5(Se);if(St.ok)Se=St.toHex();else if(!/^\d*\.?\d*$/.test(Se))throw new Error('Invalid color "'+Se+'" passed to jsPDF.encodeColorString.')}if(typeof Se=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Se)&&(Se="#"+Se[1]+Se[1]+Se[2]+Se[2]+Se[3]+Se[3]),typeof Se=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Se)){var Ot=parseInt(Se.substr(1),16);Se=Ot>>16&255,Ee=Ot>>8&255,Oe=255&Ot}if(Ee===void 0||Qe===void 0&&Se===Ee&&Ee===Oe)if(typeof Se=="string")le=Se+" "+dt[0];else switch(K.precision){case 2:le=H(Se/255)+" "+dt[0];break;case 3:default:le=q(Se/255)+" "+dt[0]}else if(Qe===void 0||br(Qe)==="object"){if(Qe&&!isNaN(Qe.a)&&Qe.a===0)return le=["1.","1.","1.",dt[1]].join(" ");if(typeof Se=="string")le=[Se,Ee,Oe,dt[1]].join(" ");else switch(K.precision){case 2:le=[H(Se/255),H(Ee/255),H(Oe/255),dt[1]].join(" ");break;default:case 3:le=[q(Se/255),q(Ee/255),q(Oe/255),dt[1]].join(" ")}}else if(typeof Se=="string")le=[Se,Ee,Oe,Qe,dt[2]].join(" ");else switch(K.precision){case 2:le=[H(Se),H(Ee),H(Oe),H(Qe),dt[2]].join(" ");break;case 3:default:le=[q(Se),q(Ee),q(Oe),q(Qe),dt[2]].join(" ")}return le},It=d.__private__.getFilters=function(){return s},Nt=d.__private__.putStream=function(K){var le=(K=K||{}).data||"",Se=K.filters||It(),Ee=K.alreadyAppliedFilters||[],Oe=K.addLength1||!1,Qe=le.length,dt=K.objectId,St=function(Cn){return Cn};if(c!==null&&dt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(St=Qr.encryptor(dt,0));var Ot={};Se===!0&&(Se=["FlateEncode"]);var Jt=K.additionalKeyValues||[],Xt=(Ot=Dt.API.processDataByFilters!==void 0?Dt.API.processDataByFilters(le,Se):{data:le,reverseChain:[]}).reverseChain+(Array.isArray(Ee)?Ee.join(" "):Ee.toString());if(Ot.data.length!==0&&(Jt.push({key:"Length",value:Ot.data.length}),Oe===!0&&Jt.push({key:"Length1",value:Qe})),Xt.length!=0)if(Xt.split("/").length-1==1)Jt.push({key:"Filter",value:Xt});else{Jt.push({key:"Filter",value:"["+Xt+"]"});for(var cr=0;cr<Jt.length;cr+=1)if(Jt[cr].key==="DecodeParms"){for(var Or=[],zr=0;zr<Ot.reverseChain.split("/").length-1;zr+=1)Or.push("null");Or.push(Jt[cr].value),Jt[cr].value="["+Or.join(" ")+"]"}}te("<<");for(var en=0;en<Jt.length;en++)te("/"+Jt[en].key+" "+Jt[en].value);te(">>"),Ot.data.length!==0&&(te("stream"),te(St(Ot.data)),te("endstream"))},$t=d.__private__.putPage=function(K){var le=K.number,Se=K.data,Ee=K.objId,Oe=K.contentsObjId;lt(Ee,!0),te("<</Type /Page"),te("/Parent "+K.rootDictionaryObjId+" 0 R"),te("/Resources "+K.resourceDictionaryObjId+" 0 R"),te("/MediaBox ["+parseFloat($(K.mediaBox.bottomLeftX))+" "+parseFloat($(K.mediaBox.bottomLeftY))+" "+$(K.mediaBox.topRightX)+" "+$(K.mediaBox.topRightY)+"]"),K.cropBox!==null&&te("/CropBox ["+$(K.cropBox.bottomLeftX)+" "+$(K.cropBox.bottomLeftY)+" "+$(K.cropBox.topRightX)+" "+$(K.cropBox.topRightY)+"]"),K.bleedBox!==null&&te("/BleedBox ["+$(K.bleedBox.bottomLeftX)+" "+$(K.bleedBox.bottomLeftY)+" "+$(K.bleedBox.topRightX)+" "+$(K.bleedBox.topRightY)+"]"),K.trimBox!==null&&te("/TrimBox ["+$(K.trimBox.bottomLeftX)+" "+$(K.trimBox.bottomLeftY)+" "+$(K.trimBox.topRightX)+" "+$(K.trimBox.topRightY)+"]"),K.artBox!==null&&te("/ArtBox ["+$(K.artBox.bottomLeftX)+" "+$(K.artBox.bottomLeftY)+" "+$(K.artBox.topRightX)+" "+$(K.artBox.topRightY)+"]"),typeof K.userUnit=="number"&&K.userUnit!==1&&te("/UserUnit "+K.userUnit),Me.publish("putPage",{objId:Ee,pageContext:vt[le],pageNumber:le,page:Se}),te("/Contents "+Oe+" 0 R"),te(">>"),te("endobj");var Qe=Se.join(`
`);return v===p.ADVANCED&&(Qe+=`
Q`),lt(Oe,!0),Nt({data:Qe,filters:It(),objectId:Oe}),te("endobj"),Ee},pr=d.__private__.putPages=function(){var K,le,Se=[];for(K=1;K<=xt;K++)vt[K].objId=ze(),vt[K].contentsObjId=ze();for(K=1;K<=xt;K++)Se.push($t({number:K,data:Q[K],objId:vt[K].objId,contentsObjId:vt[K].contentsObjId,mediaBox:vt[K].mediaBox,cropBox:vt[K].cropBox,bleedBox:vt[K].bleedBox,trimBox:vt[K].trimBox,artBox:vt[K].artBox,userUnit:vt[K].userUnit,rootDictionaryObjId:ht,resourceDictionaryObjId:jt}));lt(ht,!0),te("<</Type /Pages");var Ee="/Kids [";for(le=0;le<xt;le++)Ee+=Se[le]+" 0 R ";te(Ee+"]"),te("/Count "+xt),te(">>"),te("endobj"),Me.publish("postPutPages")},ar=function(K){Me.publish("putFont",{font:K,out:te,newObject:Ae,putStream:Nt}),K.isAlreadyPutted!==!0&&(K.objectNumber=Ae(),te("<<"),te("/Type /Font"),te("/BaseFont /"+ul(K.postScriptName)),te("/Subtype /Type1"),typeof K.encoding=="string"&&te("/Encoding /"+K.encoding),te("/FirstChar 32"),te("/LastChar 255"),te(">>"),te("endobj"))},kr=function(){for(var K in He)He.hasOwnProperty(K)&&(f===!1||f===!0&&h.hasOwnProperty(K))&&ar(He[K])},Cr=function(K){K.objectNumber=Ae();var le=[];le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Form"}),le.push({key:"BBox",value:"["+[$(K.x),$(K.y),$(K.x+K.width),$(K.y+K.height)].join(" ")+"]"}),le.push({key:"Matrix",value:"["+K.matrix.toString()+"]"});var Se=K.pages[1].join(`
`);Nt({data:Se,additionalKeyValues:le,objectId:K.objectNumber}),te("endobj")},Wr=function(){for(var K in Ce)Ce.hasOwnProperty(K)&&Cr(Ce[K])},xe=function(K,le){var Se,Ee=[],Oe=1/(le-1);for(Se=0;Se<1;Se+=Oe)Ee.push(Se);if(Ee.push(1),K[0].offset!=0){var Qe={offset:0,color:K[0].color};K.unshift(Qe)}if(K[K.length-1].offset!=1){var dt={offset:1,color:K[K.length-1].color};K.push(dt)}for(var St="",Ot=0,Jt=0;Jt<Ee.length;Jt++){for(Se=Ee[Jt];Se>K[Ot+1].offset;)Ot++;var Xt=K[Ot].offset,cr=(Se-Xt)/(K[Ot+1].offset-Xt),Or=K[Ot].color,zr=K[Ot+1].color;St+=J(Math.round((1-cr)*Or[0]+cr*zr[0]).toString(16))+J(Math.round((1-cr)*Or[1]+cr*zr[1]).toString(16))+J(Math.round((1-cr)*Or[2]+cr*zr[2]).toString(16))}return St.trim()},Be=function(K,le){le||(le=21);var Se=Ae(),Ee=xe(K.colors,le),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+le+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Nt({data:Ee,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Se}),te("endobj"),K.objectNumber=Ae(),te("<< /ShadingType "+K.type),te("/ColorSpace /DeviceRGB");var Qe="/Coords ["+$(parseFloat(K.coords[0]))+" "+$(parseFloat(K.coords[1]))+" ";K.type===2?Qe+=$(parseFloat(K.coords[2]))+" "+$(parseFloat(K.coords[3])):Qe+=$(parseFloat(K.coords[2]))+" "+$(parseFloat(K.coords[3]))+" "+$(parseFloat(K.coords[4]))+" "+$(parseFloat(K.coords[5])),te(Qe+="]"),K.matrix&&te("/Matrix ["+K.matrix.toString()+"]"),te("/Function "+Se+" 0 R"),te("/Extend [true true]"),te(">>"),te("endobj")},tt=function(K,le){var Se=ze(),Ee=Ae();le.push({resourcesOid:Se,objectOid:Ee}),K.objectNumber=Ee;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+K.boundingBox.map($).join(" ")+"]"}),Oe.push({key:"XStep",value:$(K.xStep)}),Oe.push({key:"YStep",value:$(K.yStep)}),Oe.push({key:"Resources",value:Se+" 0 R"}),K.matrix&&Oe.push({key:"Matrix",value:"["+K.matrix.toString()+"]"}),Nt({data:K.stream,additionalKeyValues:Oe,objectId:K.objectNumber}),te("endobj")},at=function(K){var le;for(le in bt)bt.hasOwnProperty(le)&&(bt[le]instanceof da?Be(bt[le]):bt[le]instanceof _l&&tt(bt[le],K))},Tt=function(K){for(var le in K.objectNumber=Ae(),te("<<"),K)switch(le){case"opacity":te("/ca "+H(K[le]));break;case"stroke-opacity":te("/CA "+H(K[le]))}te(">>"),te("endobj")},mt=function(){var K;for(K in pt)pt.hasOwnProperty(K)&&Tt(pt[K])},gt=function(){for(var K in te("/XObject <<"),Ce)Ce.hasOwnProperty(K)&&Ce[K].objectNumber>=0&&te("/"+K+" "+Ce[K].objectNumber+" 0 R");Me.publish("putXobjectDict"),te(">>")},er=function(){Qr.oid=Ae(),te("<<"),te("/Filter /Standard"),te("/V "+Qr.v),te("/R "+Qr.r),te("/U <"+Qr.toHexString(Qr.U)+">"),te("/O <"+Qr.toHexString(Qr.O)+">"),te("/P "+Qr.P),te(">>"),te("endobj")},Gt=function(){for(var K in te("/Font <<"),He)He.hasOwnProperty(K)&&(f===!1||f===!0&&h.hasOwnProperty(K))&&te("/"+K+" "+He[K].objectNumber+" 0 R");te(">>")},Kt=function(){if(Object.keys(bt).length>0){for(var K in te("/Shading <<"),bt)bt.hasOwnProperty(K)&&bt[K]instanceof da&&bt[K].objectNumber>=0&&te("/"+K+" "+bt[K].objectNumber+" 0 R");Me.publish("putShadingPatternDict"),te(">>")}},Mt=function(K){if(Object.keys(bt).length>0){for(var le in te("/Pattern <<"),bt)bt.hasOwnProperty(le)&&bt[le]instanceof d.TilingPattern&&bt[le].objectNumber>=0&&bt[le].objectNumber<K&&te("/"+le+" "+bt[le].objectNumber+" 0 R");Me.publish("putTilingPatternDict"),te(">>")}},lr=function(){if(Object.keys(pt).length>0){var K;for(K in te("/ExtGState <<"),pt)pt.hasOwnProperty(K)&&pt[K].objectNumber>=0&&te("/"+K+" "+pt[K].objectNumber+" 0 R");Me.publish("putGStateDict"),te(">>")}},zt=function(K){lt(K.resourcesOid,!0),te("<<"),te("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Gt(),Kt(),Mt(K.objectOid),lr(),gt(),te(">>"),te("endobj")},ur=function(){var K=[];kr(),mt(),Wr(),at(K),Me.publish("putResources"),K.forEach(zt),zt({resourcesOid:jt,objectOid:Number.MAX_SAFE_INTEGER}),Me.publish("postPutResources")},vr=function(){Me.publish("putAdditionalObjects");for(var K=0;K<G.length;K++){var le=G[K];lt(le.objId,!0),te(le.content),te("endobj")}Me.publish("postPutAdditionalObjects")},Lr=function(K){ot[K.fontName]=ot[K.fontName]||{},ot[K.fontName][K.fontStyle]=K.id},Hr=function(K,le,Se,Ee,Oe){var Qe={id:"F"+(Object.keys(He).length+1).toString(10),postScriptName:K,fontName:le,fontStyle:Se,encoding:Ee,isStandardFont:Oe||!1,metadata:{}};return Me.publish("addFont",{font:Qe,instance:this}),He[Qe.id]=Qe,Lr(Qe),Qe.id},Fn=function(K){for(var le=0,Se=ie.length;le<Se;le++){var Ee=Hr.call(this,K[le][0],K[le][1],K[le][2],ie[le][3],!0);f===!1&&(h[Ee]=!0);var Oe=K[le][0].split("-");Lr({id:Ee,fontName:Oe[0],fontStyle:Oe[1]||""})}Me.publish("addFonts",{fonts:He,dictionary:ot})},on=function(K){return K.foo=function(){try{return K.apply(this,arguments)}catch(Ee){var le=Ee.stack||"";~le.indexOf(" at ")&&(le=le.split(" at ")[1]);var Se="Error in function "+le.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!qt.console)throw new Error(Se);qt.console.error(Se,Ee),qt.alert&&alert(Se)}},K.foo.bar=K,K.foo},oi=function(K,le){var Se,Ee,Oe,Qe,dt,St,Ot,Jt,Xt;if(Oe=(le=le||{}).sourceEncoding||"Unicode",dt=le.outputEncoding,(le.autoencode||dt)&&He[ke].metadata&&He[ke].metadata[Oe]&&He[ke].metadata[Oe].encoding&&(Qe=He[ke].metadata[Oe].encoding,!dt&&He[ke].encoding&&(dt=He[ke].encoding),!dt&&Qe.codePages&&(dt=Qe.codePages[0]),typeof dt=="string"&&(dt=Qe[dt]),dt)){for(Ot=!1,St=[],Se=0,Ee=K.length;Se<Ee;Se++)(Jt=dt[K.charCodeAt(Se)])?St.push(String.fromCharCode(Jt)):St.push(K[Se]),St[Se].charCodeAt(0)>>8&&(Ot=!0);K=St.join("")}for(Se=K.length;Ot===void 0&&Se!==0;)K.charCodeAt(Se-1)>>8&&(Ot=!0),Se--;if(!Ot)return K;for(St=le.noBOM?[]:[254,255],Se=0,Ee=K.length;Se<Ee;Se++){if((Xt=(Jt=K.charCodeAt(Se))>>8)>>8)throw new Error("Character at position "+Se+" of string '"+K+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");St.push(Xt),St.push(Jt-(Xt<<8))}return String.fromCharCode.apply(void 0,St)},Vr=d.__private__.pdfEscape=d.pdfEscape=function(K,le){return oi(K,le).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vi=d.__private__.beginPage=function(K){Q[++xt]=[],vt[xt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(K[0]),topRightY:Number(K[1])}},ai(xt),ue(Q[U])},or=function(K,le){var Se,Ee,Oe;switch(e=le||e,typeof K=="string"&&(Se=g(K.toLowerCase()),Array.isArray(Se)&&(Ee=Se[0],Oe=Se[1])),Array.isArray(K)&&(Ee=K[0]*je,Oe=K[1]*je),isNaN(Ee)&&(Ee=l[0],Oe=l[1]),(Ee>14400||Oe>14400)&&(_r.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ee=Math.min(14400,Ee),Oe=Math.min(14400,Oe)),l=[Ee,Oe],e.substr(0,1)){case"l":Oe>Ee&&(l=[Oe,Ee]);break;case"p":Ee>Oe&&(l=[Oe,Ee])}vi(l),Uc(eu),te(Bi),ru!==0&&te(ru+" J"),nu!==0&&te(nu+" j"),Me.publish("addPage",{pageNumber:xt})},rr=function(K){K>0&&K<=xt&&(Q.splice(K,1),vt.splice(K,1),xt--,U>xt&&(U=xt),this.setPage(U))},ai=function(K){K>0&&K<=xt&&(U=K)},Fi=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Q.length-1},xs=function(K,le,Se){var Ee,Oe=void 0;return Se=Se||{},K=K!==void 0?K:He[ke].fontName,le=le!==void 0?le:He[ke].fontStyle,Ee=K.toLowerCase(),ot[Ee]!==void 0&&ot[Ee][le]!==void 0?Oe=ot[Ee][le]:ot[K]!==void 0&&ot[K][le]!==void 0?Oe=ot[K][le]:Se.disableWarning===!1&&_r.warn("Unable to look up font label for font '"+K+"', '"+le+"'. Refer to getFontList() for available fonts."),Oe||Se.noFallback||(Oe=ot.times[le])==null&&(Oe=ot.times.normal),Oe},bn=d.__private__.putInfo=function(){var K=Ae(),le=function(Ee){return Ee};for(var Se in c!==null&&(le=Qr.encryptor(K,0)),te("<<"),te("/Producer ("+Vr(le("jsPDF "+Dt.version))+")"),et)et.hasOwnProperty(Se)&&et[Se]&&te("/"+Se.substr(0,1).toUpperCase()+Se.substr(1)+" ("+Vr(le(et[Se]))+")");te("/CreationDate ("+Vr(le(k))+")"),te(">>"),te("endobj")},Bn=d.__private__.putCatalog=function(K){var le=(K=K||{}).rootDictionaryObjId||ht;switch(Ae(),te("<<"),te("/Type /Catalog"),te("/Pages "+le+" 0 R"),be||(be="fullwidth"),be){case"fullwidth":te("/OpenAction [3 0 R /FitH null]");break;case"fullheight":te("/OpenAction [3 0 R /FitV null]");break;case"fullpage":te("/OpenAction [3 0 R /Fit]");break;case"original":te("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Se=""+be;Se.substr(Se.length-1)==="%"&&(be=parseInt(be)/100),typeof be=="number"&&te("/OpenAction [3 0 R /XYZ null null "+H(be)+"]")}switch(Ge||(Ge="continuous"),Ge){case"continuous":te("/PageLayout /OneColumn");break;case"single":te("/PageLayout /SinglePage");break;case"two":case"twoleft":te("/PageLayout /TwoColumnLeft");break;case"tworight":te("/PageLayout /TwoColumnRight")}_e&&te("/PageMode /"+_e),Me.publish("putCatalog"),te(">>"),te("endobj")},wi=d.__private__.putTrailer=function(){te("trailer"),te("<<"),te("/Size "+(F+1)),te("/Root "+F+" 0 R"),te("/Info "+(F-1)+" 0 R"),c!==null&&te("/Encrypt "+Qr.oid+" 0 R"),te("/ID [ <"+w+"> <"+w+"> ]"),te(">>")},_s=d.__private__.putHeader=function(){te("%PDF-"+y),te("%")},Ys=d.__private__.putXRef=function(){var K="0000000000";te("xref"),te("0 "+(F+1)),te("0000000000 65535 f ");for(var le=1;le<=F;le++)typeof Y[le]=="function"?te((K+Y[le]()).slice(-10)+" 00000 n "):Y[le]!==void 0?te((K+Y[le]).slice(-10)+" 00000 n "):te("0000000000 00000 n ")},kn=d.__private__.buildDocument=function(){oe(),ue(O),Me.publish("buildDocument"),_s(),pr(),vr(),ur(),c!==null&&er(),bn(),Bn();var K=T;return Ys(),wi(),te("startxref"),te(""+K),te("%%EOF"),ue(Q[U]),O.join(`
`)},Dn=d.__private__.getBlob=function(K){return new Blob([pe(K)],{type:"application/pdf"})},Ss=d.output=d.__private__.output=on(function(K,le){switch(typeof(le=le||{})=="string"?le={filename:le}:le.filename=le.filename||"generated.pdf",K){case void 0:return kn();case"save":d.save(le.filename);break;case"arraybuffer":return pe(kn());case"blob":return Dn(kn());case"bloburi":case"bloburl":if(qt.URL!==void 0&&typeof qt.URL.createObjectURL=="function")return qt.URL&&qt.URL.createObjectURL(Dn(kn()))||void 0;_r.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Se="",Ee=kn();try{Se=K0(Ee)}catch{Se=K0(unescape(encodeURIComponent(Ee)))}return"data:application/pdf;filename="+le.filename+";base64,"+Se;case"pdfobjectnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Qe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';le.pdfObjectUrl&&(Oe=le.pdfObjectUrl,Qe="");var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+Qe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(le)+");<\/script></body></html>",St=qt.open();return St!==null&&St.document.write(dt),St}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(qt)==="[object Window]"){var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(le.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+le.filename+'" width="500px" height="400px" /></body></html>',Jt=qt.open();if(Jt!==null){Jt.document.write(Ot);var Xt=this;Jt.document.documentElement.querySelector("#pdfViewer").onload=function(){Jt.document.title=le.filename,Jt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Xt.output("bloburl"))}}return Jt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(qt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var cr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",le)+'"></iframe></body></html>',Or=qt.open();if(Or!==null&&(Or.document.write(cr),Or.document.title=le.filename),Or||typeof safari>"u")return Or;break;case"datauri":case"dataurl":return qt.document.location.href=this.output("datauristring",le);default:return null}}),ks=function(K){return Array.isArray(Je)===!0&&Je.indexOf(K)>-1};switch(n){case"pt":je=1;break;case"mm":je=72/25.4;break;case"cm":je=72/2.54;break;case"in":je=72;break;case"px":je=ks("px_scaling")==1?.75:96/72;break;case"pc":case"em":je=12;break;case"ex":je=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);je=n}var Qr=null;D(),x();var Js=function(K){return c!==null?Qr.encryptor(K,0):function(le){return le}},Cs=d.__private__.getPageInfo=d.getPageInfo=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:vt[K].objId,pageNumber:K,pageContext:vt[K]}},Wt=d.__private__.getPageInfoByObjId=function(K){if(isNaN(K)||K%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var le in vt)if(vt[le].objId===K)break;return Cs(le)},Zs=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:vt[U].objId,pageNumber:U,pageContext:vt[U]}};d.addPage=function(){return or.apply(this,arguments),this},d.setPage=function(){return ai.apply(this,arguments),ue.call(this,Q[U]),this},d.insertPage=function(K){return this.addPage(),this.movePage(U,K),this},d.movePage=function(K,le){var Se,Ee;if(K>le){Se=Q[K],Ee=vt[K];for(var Oe=K;Oe>le;Oe--)Q[Oe]=Q[Oe-1],vt[Oe]=vt[Oe-1];Q[le]=Se,vt[le]=Ee,this.setPage(le)}else if(K<le){Se=Q[K],Ee=vt[K];for(var Qe=K;Qe<le;Qe++)Q[Qe]=Q[Qe+1],vt[Qe]=vt[Qe+1];Q[le]=Se,vt[le]=Ee,this.setPage(le)}return this},d.deletePage=function(){return rr.apply(this,arguments),this},d.__private__.text=d.text=function(K,le,Se,Ee,Oe){var Qe,dt,St,Ot,Jt,Xt,cr,Or,zr,en=(Ee=Ee||{}).scope||this;if(typeof K=="number"&&typeof le=="number"&&(typeof Se=="string"||Array.isArray(Se))){var Cn=Se;Se=le,le=K,K=Cn}if(arguments[3]instanceof Fe?(M("The transform parameter of text() with a Matrix value"),zr=Oe):(St=arguments[4],Ot=arguments[5],br(cr=arguments[3])==="object"&&cr!==null||(typeof St=="string"&&(Ot=St,St=null),typeof cr=="string"&&(Ot=cr,cr=null),typeof cr=="number"&&(St=cr,cr=null),Ee={flags:cr,angle:St,align:Ot})),isNaN(le)||isNaN(Se)||K==null)throw new Error("Invalid arguments passed to jsPDF.text");if(K.length===0)return en;var dn="",Di=!1,li=typeof Ee.lineHeightFactor=="number"?Ee.lineHeightFactor:Xo,ss=en.internal.scaleFactor;function Gc(Ar){return Ar=Ar.split("	").join(Array(Ee.TabLen||9).join(" ")),Vr(Ar,cr)}function lu(Ar){for(var Er,Kr=Ar.concat(),an=[],Ps=Kr.length;Ps--;)typeof(Er=Kr.shift())=="string"?an.push(Er):Array.isArray(Ar)&&(Er.length===1||Er[1]===void 0&&Er[2]===void 0)?an.push(Er[0]):an.push([Er[0],Er[1],Er[2]]);return an}function uu(Ar,Er){var Kr;if(typeof Ar=="string")Kr=Er(Ar)[0];else if(Array.isArray(Ar)){for(var an,Ps,bu=Ar.concat(),Ha=[],Zc=bu.length;Zc--;)typeof(an=bu.shift())=="string"?Ha.push(Er(an)[0]):Array.isArray(an)&&typeof an[0]=="string"&&(Ps=Er(an[0],an[1],an[2]),Ha.push([Ps[0],Ps[1],Ps[2]]));Kr=Ha}return Kr}var Oa=!1,cu=!0;if(typeof K=="string")Oa=!0;else if(Array.isArray(K)){var du=K.concat();dt=[];for(var Fa,yn=du.length;yn--;)(typeof(Fa=du.shift())!="string"||Array.isArray(Fa)&&typeof Fa[0]!="string")&&(cu=!1);Oa=cu}if(Oa===!1)throw new Error('Type of text must be string or Array. "'+K+'" is not recognized.');typeof K=="string"&&(K=K.match(/[\r?\n]/)?K.split(/\r\n|\r|\n/g):[K]);var Ba=fe/en.internal.scaleFactor,Da=Ba*(li-1);switch(Ee.baseline){case"bottom":Se-=Da;break;case"top":Se+=Ba-Da;break;case"hanging":Se+=Ba-2*Da;break;case"middle":Se+=Ba/2-Da}if((Xt=Ee.maxWidth||0)>0&&(typeof K=="string"?K=en.splitTextToSize(K,Xt):Object.prototype.toString.call(K)==="[object Array]"&&(K=K.reduce(function(Ar,Er){return Ar.concat(en.splitTextToSize(Er,Xt))},[]))),Qe={text:K,x:le,y:Se,options:Ee,mutex:{pdfEscape:Vr,activeFontKey:ke,fonts:He,activeFontSize:fe}},Me.publish("preProcessText",Qe),K=Qe.text,St=(Ee=Qe.options).angle,!(zr instanceof Fe)&&St&&typeof St=="number"){St*=Math.PI/180,Ee.rotationDirection===0&&(St=-St),v===p.ADVANCED&&(St=-St);var za=Math.cos(St),hu=Math.sin(St);zr=new Fe(za,hu,-hu,za,0,0)}else St&&St instanceof Fe&&(zr=St);v!==p.ADVANCED||zr||(zr=st),(Jt=Ee.charSpace||Ia)!==void 0&&(dn+=$(B(Jt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Or=Ee.horizontalScale)!==void 0&&(dn+=$(100*Or)+` Tz
`),Ee.lang;var Gn=-1,Cf=Ee.renderingMode!==void 0?Ee.renderingMode:Ee.stroke,fu=en.internal.getCurrentPageInfo().pageContext;switch(Cf){case 0:case!1:case"fill":Gn=0;break;case 1:case!0:case"stroke":Gn=1;break;case 2:case"fillThenStroke":Gn=2;break;case 3:case"invisible":Gn=3;break;case 4:case"fillAndAddForClipping":Gn=4;break;case 5:case"strokeAndAddPathForClipping":Gn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gn=6;break;case 7:case"addToPathForClipping":Gn=7}var Kc=fu.usedRenderingMode!==void 0?fu.usedRenderingMode:-1;Gn!==-1?dn+=Gn+` Tr
`:Kc!==-1&&(dn+=`0 Tr
`),Gn!==-1&&(fu.usedRenderingMode=Gn),Ot=Ee.align||"left";var xi,Ua=fe*li,Xc=en.internal.pageSize.getWidth(),Yc=He[ke];Jt=Ee.charSpace||Ia,Xt=Ee.maxWidth||0,cr=Object.assign({autoencode:!0,noBOM:!0},Ee.flags);var no=[],Zo=function(Ar){return en.getStringUnitWidth(Ar,{font:Yc,charSpace:Jt,fontSize:fe,doKerning:!1})*fe/ss};if(Object.prototype.toString.call(K)==="[object Array]"){var Kn;dt=lu(K),Ot!=="left"&&(xi=dt.map(Zo));var zn,io=0;if(Ot==="right"){le-=xi[0],K=[],yn=dt.length;for(var Es=0;Es<yn;Es++)Es===0?(zn=is(le),Kn=As(Se)):(zn=B(io-xi[Es]),Kn=-Ua),K.push([dt[Es],zn,Kn]),io=xi[Es]}else if(Ot==="center"){le-=xi[0]/2,K=[],yn=dt.length;for(var js=0;js<yn;js++)js===0?(zn=is(le),Kn=As(Se)):(zn=B((io-xi[js])/2),Kn=-Ua),K.push([dt[js],zn,Kn]),io=xi[js]}else if(Ot==="left"){K=[],yn=dt.length;for(var $a=0;$a<yn;$a++)K.push(dt[$a])}else if(Ot==="justify"&&Yc.encoding==="Identity-H"){K=[],yn=dt.length,Xt=Xt!==0?Xt:Xc;for(var Ts=0,Gr=0;Gr<yn;Gr++)if(Kn=Gr===0?As(Se):-Ua,zn=Gr===0?is(le):Ts,Gr<yn-1){var pu=B((Xt-xi[Gr])/(dt[Gr].split(" ").length-1)),Un=dt[Gr].split(" ");K.push([Un[0]+" ",zn,Kn]),Ts=0;for(var _i=1;_i<Un.length;_i++){var qa=(Zo(Un[_i-1]+" "+Un[_i])-Zo(Un[_i]))*ss+pu;_i==Un.length-1?K.push([Un[_i],qa,0]):K.push([Un[_i]+" ",qa,0]),Ts-=qa}}else K.push([dt[Gr],zn,Kn]);K.push(["",Ts,0])}else{if(Ot!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(K=[],yn=dt.length,Xt=Xt!==0?Xt:Xc,Gr=0;Gr<yn;Gr++)Kn=Gr===0?As(Se):-Ua,zn=Gr===0?is(le):0,Gr<yn-1?no.push($(B((Xt-xi[Gr])/(dt[Gr].split(" ").length-1)))):no.push(0),K.push([dt[Gr],zn,Kn])}}var Jc=typeof Ee.R2L=="boolean"?Ee.R2L:ve;Jc===!0&&(K=uu(K,function(Ar,Er,Kr){return[Ar.split("").reverse().join(""),Er,Kr]})),Qe={text:K,x:le,y:Se,options:Ee,mutex:{pdfEscape:Vr,activeFontKey:ke,fonts:He,activeFontSize:fe}},Me.publish("postProcessText",Qe),K=Qe.text,Di=Qe.mutex.isHex||!1;var mu=He[ke].encoding;mu!=="WinAnsiEncoding"&&mu!=="StandardEncoding"||(K=uu(K,function(Ar,Er,Kr){return[Gc(Ar),Er,Kr]})),dt=lu(K),K=[];for(var Qo,ea,so,ta=0,Wa=1,ra=Array.isArray(dt[0])?Wa:ta,oo="",gu=function(Ar,Er,Kr){var an="";return Kr instanceof Fe?(Kr=typeof Ee.angle=="number"?Ke(Kr,new Fe(1,0,0,1,Ar,Er)):Ke(new Fe(1,0,0,1,Ar,Er),Kr),v===p.ADVANCED&&(Kr=Ke(new Fe(1,0,0,-1,0,0),Kr)),an=Kr.join(" ")+` Tm
`):an=$(Ar)+" "+$(Er)+` Td
`,an},Si=0;Si<dt.length;Si++){switch(oo="",ra){case Wa:so=(Di?"<":"(")+dt[Si][0]+(Di?">":")"),Qo=parseFloat(dt[Si][1]),ea=parseFloat(dt[Si][2]);break;case ta:so=(Di?"<":"(")+dt[Si]+(Di?">":")"),Qo=is(le),ea=As(Se)}no!==void 0&&no[Si]!==void 0&&(oo=no[Si]+` Tw
`),Si===0?K.push(oo+gu(Qo,ea,zr)+so):ra===ta?K.push(oo+so):ra===Wa&&K.push(oo+gu(Qo,ea,zr)+so)}K=ra===ta?K.join(` Tj
T* `):K.join(` Tj
`),K+=` Tj
`;var ki=`BT
/`;return ki+=ke+" "+fe+` Tf
`,ki+=$(fe*li)+` TL
`,ki+=Yo+`
`,ki+=dn,ki+=K,te(ki+="ET"),h[ke]=!0,en};var Qs=d.__private__.clip=d.clip=function(K){return te(K==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Qs("evenodd")},d.__private__.discardPath=d.discardPath=function(){return te("n"),this};var ns=d.__private__.isValidStyle=function(K){var le=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(K)!==-1&&(le=!0),le};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(K){return ns(K)&&(o=K),this};var Dc=d.__private__.getStyle=d.getStyle=function(K){var le=o;switch(K){case"D":case"S":le="S";break;case"F":le="f";break;case"FD":case"DF":le="B";break;case"f":case"f*":case"B":case"B*":le=K}return le},zc=d.close=function(){return te("h"),this};d.stroke=function(){return te("S"),this},d.fill=function(K){return Na("f",K),this},d.fillEvenOdd=function(K){return Na("f*",K),this},d.fillStroke=function(K){return Na("B",K),this},d.fillStrokeEvenOdd=function(K){return Na("B*",K),this};var Na=function(K,le){br(le)==="object"?yf(le,K):te(K)},Zl=function(K){K===null||v===p.ADVANCED&&K===void 0||(K=Dc(K),te(K))};function bf(K,le,Se,Ee,Oe){var Qe=new _l(le||this.boundingBox,Se||this.xStep,Ee||this.yStep,this.gState,Oe||this.matrix);Qe.stream=this.stream;var dt=K+"$$"+this.cloneIndex+++"$$";return we(dt,Qe),Qe}var yf=function(K,le){var Se=Lt[K.key],Ee=bt[Se];if(Ee instanceof da)te("q"),te(vf(le)),Ee.gState&&d.setGState(Ee.gState),te(K.matrix.toString()+" cm"),te("/"+Se+" sh"),te("Q");else if(Ee instanceof _l){var Oe=new Fe(1,0,0,-1,0,ro());K.matrix&&(Oe=Oe.multiply(K.matrix||st),Se=bf.call(Ee,K.key,K.boundingBox,K.xStep,K.yStep,Oe).id),te("q"),te("/Pattern cs"),te("/"+Se+" scn"),Ee.gState&&d.setGState(Ee.gState),te(le),te("Q")}},vf=function(K){switch(K){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ql=d.moveTo=function(K,le){return te($(B(K))+" "+$(P(le))+" m"),this},Ko=d.lineTo=function(K,le){return te($(B(K))+" "+$(P(le))+" l"),this},eo=d.curveTo=function(K,le,Se,Ee,Oe,Qe){return te([$(B(K)),$(P(le)),$(B(Se)),$(P(Ee)),$(B(Oe)),$(P(Qe)),"c"].join(" ")),this};d.__private__.line=d.line=function(K,le,Se,Ee,Oe){if(isNaN(K)||isNaN(le)||isNaN(Se)||isNaN(Ee)||!ns(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return v===p.COMPAT?this.lines([[Se-K,Ee-le]],K,le,[1,1],Oe||"S"):this.lines([[Se-K,Ee-le]],K,le,[1,1]).stroke()},d.__private__.lines=d.lines=function(K,le,Se,Ee,Oe,Qe){var dt,St,Ot,Jt,Xt,cr,Or,zr,en,Cn,dn,Di;if(typeof K=="number"&&(Di=Se,Se=le,le=K,K=Di),Ee=Ee||[1,1],Qe=Qe||!1,isNaN(le)||isNaN(Se)||!Array.isArray(K)||!Array.isArray(Ee)||!ns(Oe)||typeof Qe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ql(le,Se),dt=Ee[0],St=Ee[1],Jt=K.length,Cn=le,dn=Se,Ot=0;Ot<Jt;Ot++)(Xt=K[Ot]).length===2?(Cn=Xt[0]*dt+Cn,dn=Xt[1]*St+dn,Ko(Cn,dn)):(cr=Xt[0]*dt+Cn,Or=Xt[1]*St+dn,zr=Xt[2]*dt+Cn,en=Xt[3]*St+dn,Cn=Xt[4]*dt+Cn,dn=Xt[5]*St+dn,eo(cr,Or,zr,en,Cn,dn));return Qe&&zc(),Zl(Oe),this},d.path=function(K){for(var le=0;le<K.length;le++){var Se=K[le],Ee=Se.c;switch(Se.op){case"m":Ql(Ee[0],Ee[1]);break;case"l":Ko(Ee[0],Ee[1]);break;case"c":eo.apply(this,Ee);break;case"h":zc()}}return this},d.__private__.rect=d.rect=function(K,le,Se,Ee,Oe){if(isNaN(K)||isNaN(le)||isNaN(Se)||isNaN(Ee)||!ns(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return v===p.COMPAT&&(Ee=-Ee),te([$(B(K)),$(P(le)),$(B(Se)),$(B(Ee)),"re"].join(" ")),Zl(Oe),this},d.__private__.triangle=d.triangle=function(K,le,Se,Ee,Oe,Qe,dt){if(isNaN(K)||isNaN(le)||isNaN(Se)||isNaN(Ee)||isNaN(Oe)||isNaN(Qe)||!ns(dt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Se-K,Ee-le],[Oe-Se,Qe-Ee],[K-Oe,le-Qe]],K,le,[1,1],dt,!0),this},d.__private__.roundedRect=d.roundedRect=function(K,le,Se,Ee,Oe,Qe,dt){if(isNaN(K)||isNaN(le)||isNaN(Se)||isNaN(Ee)||isNaN(Oe)||isNaN(Qe)||!ns(dt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var St=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*Se),Qe=Math.min(Qe,.5*Ee),this.lines([[Se-2*Oe,0],[Oe*St,0,Oe,Qe-Qe*St,Oe,Qe],[0,Ee-2*Qe],[0,Qe*St,-Oe*St,Qe,-Oe,Qe],[2*Oe-Se,0],[-Oe*St,0,-Oe,-Qe*St,-Oe,-Qe],[0,2*Qe-Ee],[0,-Qe*St,Oe*St,-Qe,Oe,-Qe]],K+Oe,le,[1,1],dt,!0),this},d.__private__.ellipse=d.ellipse=function(K,le,Se,Ee,Oe){if(isNaN(K)||isNaN(le)||isNaN(Se)||isNaN(Ee)||!ns(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Qe=4/3*(Math.SQRT2-1)*Se,dt=4/3*(Math.SQRT2-1)*Ee;return Ql(K+Se,le),eo(K+Se,le-dt,K+Qe,le-Ee,K,le-Ee),eo(K-Qe,le-Ee,K-Se,le-dt,K-Se,le),eo(K-Se,le+dt,K-Qe,le+Ee,K,le+Ee),eo(K+Qe,le+Ee,K+Se,le+dt,K+Se,le),Zl(Oe),this},d.__private__.circle=d.circle=function(K,le,Se,Ee){if(isNaN(K)||isNaN(le)||isNaN(Se)||!ns(Ee))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(K,le,Se,Se,Ee)},d.setFont=function(K,le,Se){return Se&&(le=L(le,Se)),ke=xs(K,le,{disableWarning:!1}),this};var wf=d.__private__.getFont=d.getFont=function(){return He[xs.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var K,le,Se={};for(K in ot)if(ot.hasOwnProperty(K))for(le in Se[K]=[],ot[K])ot[K].hasOwnProperty(le)&&Se[K].push(le);return Se},d.addFont=function(K,le,Se,Ee,Oe){var Qe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Qe.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&Qe.indexOf(arguments[3])==-1&&(Se=L(Se,Ee)),Oe=Oe||"Identity-H",Hr.call(this,K,le,Se,Oe)};var Xo,eu=r.lineWidth||.200025,Ra=d.__private__.getLineWidth=d.getLineWidth=function(){return eu},Uc=d.__private__.setLineWidth=d.setLineWidth=function(K){return eu=K,te($(B(K))+" w"),this};d.__private__.setLineDash=Dt.API.setLineDash=Dt.API.setLineDashPattern=function(K,le){if(K=K||[],le=le||0,isNaN(le)||!Array.isArray(K))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return K=K.map(function(Se){return $(B(Se))}).join(" "),le=$(B(le)),te("["+K+"] "+le+" d"),this};var $c=d.__private__.getLineHeight=d.getLineHeight=function(){return fe*Xo};d.__private__.getLineHeight=d.getLineHeight=function(){return fe*Xo};var qc=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(K){return typeof(K=K||1.15)=="number"&&(Xo=K),this},Wc=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return Xo};qc(r.lineHeight);var is=d.__private__.getHorizontalCoordinate=function(K){return B(K)},As=d.__private__.getVerticalCoordinate=function(K){return v===p.ADVANCED?K:vt[U].mediaBox.topRightY-vt[U].mediaBox.bottomLeftY-B(K)},xf=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(K){return $(is(K))},to=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(K){return $(As(K))},Bi=r.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return Ct(Bi)},d.__private__.setStrokeColor=d.setDrawColor=function(K,le,Se,Ee){return Bi=_t({ch1:K,ch2:le,ch3:Se,ch4:Ee,pdfColorType:"draw",precision:2}),te(Bi),this};var tu=r.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return Ct(tu)},d.__private__.setFillColor=d.setFillColor=function(K,le,Se,Ee){return tu=_t({ch1:K,ch2:le,ch3:Se,ch4:Ee,pdfColorType:"fill",precision:2}),te(tu),this};var Yo=r.textColor||"0 g",_f=d.__private__.getTextColor=d.getTextColor=function(){return Ct(Yo)};d.__private__.setTextColor=d.setTextColor=function(K,le,Se,Ee){return Yo=_t({ch1:K,ch2:le,ch3:Se,ch4:Ee,pdfColorType:"text",precision:3}),this};var Ia=r.charSpace,Sf=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Ia||0)};d.__private__.setCharSpace=d.setCharSpace=function(K){if(isNaN(K))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ia=K,this};var ru=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(K){var le=d.CapJoinStyles[K];if(le===void 0)throw new Error("Line cap style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ru=le,te(le+" J"),this};var nu=0;d.__private__.setLineJoin=d.setLineJoin=function(K){var le=d.CapJoinStyles[K];if(le===void 0)throw new Error("Line join style of '"+K+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return nu=le,te(le+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(K){if(K=K||0,isNaN(K))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return te($(B(K))+" M"),this},d.GState=Bh,d.setGState=function(K){(K=typeof K=="string"?pt[Ft[K]]:Hc(null,K)).equals(Bt)||(te("/"+K.id+" gs"),Bt=K)};var Hc=function(K,le){if(!K||!Ft[K]){var Se=!1;for(var Ee in pt)if(pt.hasOwnProperty(Ee)&&pt[Ee].equals(le)){Se=!0;break}if(Se)le=pt[Ee];else{var Oe="GS"+(Object.keys(pt).length+1).toString(10);pt[Oe]=le,le.id=Oe}return K&&(Ft[K]=le.id),Me.publish("addGState",le),le}};d.addGState=function(K,le){return Hc(K,le),this},d.saveGraphicsState=function(){return te("q"),ct.push({key:ke,size:fe,color:Yo}),this},d.restoreGraphicsState=function(){te("Q");var K=ct.pop();return ke=K.key,fe=K.size,Yo=K.color,Bt=null,this},d.setCurrentTransformationMatrix=function(K){return te(K.toString()+" cm"),this},d.comment=function(K){return te("#"+K),this};var Ma=function(K,le){var Se=K||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Se},set:function(Qe){isNaN(Qe)||(Se=parseFloat(Qe))}});var Ee=le||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ee},set:function(Qe){isNaN(Qe)||(Ee=parseFloat(Qe))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(Qe){Oe=Qe.toString()}}),this},iu=function(K,le,Se,Ee){Ma.call(this,K,le),this.type="rect";var Oe=Se||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(dt){isNaN(dt)||(Oe=parseFloat(dt))}});var Qe=Ee||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Qe},set:function(dt){isNaN(dt)||(Qe=parseFloat(dt))}}),this},su=function(){this.page=xt,this.currentPage=U,this.pages=Q.slice(0),this.pagesContext=vt.slice(0),this.x=Ue,this.y=Le,this.matrix=Ve,this.width=Jo(U),this.height=ro(U),this.outputDestination=Z,this.id="",this.objectNumber=-1};su.prototype.restore=function(){xt=this.page,U=this.currentPage,vt=this.pagesContext,Q=this.pages,Ue=this.x,Le=this.y,Ve=this.matrix,ou(U,this.width),au(U,this.height),Z=this.outputDestination};var Vc=function(K,le,Se,Ee,Oe){De.push(new su),xt=U=0,Q=[],Ue=K,Le=le,Ve=Oe,vi([Se,Ee])},kf=function(K){if(We[K])De.pop().restore();else{var le=new su,Se="Xo"+(Object.keys(Ce).length+1).toString(10);le.id=Se,We[K]=Se,Ce[Se]=le,Me.publish("addFormObject",le),De.pop().restore()}};for(var La in d.beginFormObject=function(K,le,Se,Ee,Oe){return Vc(K,le,Se,Ee,Oe),this},d.endFormObject=function(K){return kf(K),this},d.doFormObject=function(K,le){var Se=Ce[We[K]];return te("q"),te(le.toString()+" cm"),te("/"+Se.id+" Do"),te("Q"),this},d.getFormObject=function(K){var le=Ce[We[K]];return{x:le.x,y:le.y,width:le.width,height:le.height,matrix:le.matrix}},d.save=function(K,le){return K=K||"generated.pdf",(le=le||{}).returnPromise=le.returnPromise||!1,le.returnPromise===!1?(ua(Dn(kn()),K),typeof ua.unload=="function"&&qt.setTimeout&&setTimeout(ua.unload,911),this):new Promise(function(Se,Ee){try{var Oe=ua(Dn(kn()),K);typeof ua.unload=="function"&&qt.setTimeout&&setTimeout(ua.unload,911),Se(Oe)}catch(Qe){Ee(Qe.message)}})},Dt.API)Dt.API.hasOwnProperty(La)&&(La==="events"&&Dt.API.events.length?function(K,le){var Se,Ee,Oe;for(Oe=le.length-1;Oe!==-1;Oe--)Se=le[Oe][0],Ee=le[Oe][1],K.subscribe.apply(K,[Se].concat(typeof Ee=="function"?[Ee]:Ee))}(Me,Dt.API.events):d[La]=Dt.API[La]);var Jo=d.getPageWidth=function(K){return(vt[K=K||U].mediaBox.topRightX-vt[K].mediaBox.bottomLeftX)/je},ou=d.setPageWidth=function(K,le){vt[K].mediaBox.topRightX=le*je+vt[K].mediaBox.bottomLeftX},ro=d.getPageHeight=function(K){return(vt[K=K||U].mediaBox.topRightY-vt[K].mediaBox.bottomLeftY)/je},au=d.setPageHeight=function(K,le){vt[K].mediaBox.topRightY=le*je+vt[K].mediaBox.bottomLeftY};return d.internal={pdfEscape:Vr,getStyle:Dc,getFont:wf,getFontSize:re,getCharSpace:Sf,getTextColor:_f,getLineHeight:$c,getLineHeightFactor:Wc,getLineWidth:Ra,write:se,getHorizontalCoordinate:is,getVerticalCoordinate:As,getCoordinateString:xf,getVerticalCoordinateString:to,collections:{},newObject:Ae,newAdditionalObject:Et,newObjectDeferred:ze,newObjectDeferredBegin:lt,getFilters:It,putStream:Nt,events:Me,scaleFactor:je,pageSize:{getWidth:function(){return Jo(U)},setWidth:function(K){ou(U,K)},getHeight:function(){return ro(U)},setHeight:function(K){au(U,K)}},encryptionOptions:c,encryption:Qr,getEncryptor:Js,output:Ss,getNumberOfPages:Fi,pages:Q,out:te,f2:H,f3:q,getPageInfo:Cs,getPageInfoByObjId:Wt,getCurrentPageInfo:Zs,getPDFVersion:b,Point:Ma,Rectangle:iu,Matrix:Fe,hasHotfix:ks},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return Jo(U)},set:function(K){ou(U,K)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return ro(U)},set:function(K){au(U,K)},enumerable:!0,configurable:!0}),Fn.call(d,ie),ke="F1",or(l,e),Me.publish("initialized"),d}ll.prototype.lsbFirstWord=function(r){return String.fromCharCode(r>>0&255,r>>8&255,r>>16&255,r>>24&255)},ll.prototype.toHexString=function(r){return r.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ll.prototype.hexToBytes=function(r){for(var t=[],e=0;e<r.length;e+=2)t.push(String.fromCharCode(parseInt(r.substr(e,2),16)));return t.join("")},ll.prototype.processOwnerPassword=function(r,t){return Y0(X0(t).substr(0,5),r)},ll.prototype.encryptor=function(r,t){var e=X0(this.encryptionKey+String.fromCharCode(255&r,r>>8&255,r>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return Y0(e,n)}},Bh.prototype.equals=function(r){var t,e="id,objectNumber,equals";if(!r||br(r)!==br(this))return!1;var n=0;for(t in this)if(!(e.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!r.hasOwnProperty(t)||this[t]!==r[t])return!1;n++}for(t in r)r.hasOwnProperty(t)&&e.indexOf(t)<0&&n--;return n===0},Dt.API={events:[]},Dt.version="2.5.2";var $r=Dt.API,d1=1,Pa=function(r){return r.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},rl=function(r){return r.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Yt=function(r){return r.toFixed(2)},yo=function(r){return r.toFixed(5)};$r.__acroform__={};var si=function(r,t){r.prototype=Object.create(t.prototype),r.prototype.constructor=r},P2=function(r){return r*d1},us=function(r){var t=new x5,e=Rt.internal.getHeight(r)||0,n=Rt.internal.getWidth(r)||0;return t.BBox=[0,0,Number(Yt(n)),Number(Yt(e))],t},I7=$r.__acroform__.setBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return r|=1<<t},M7=$r.__acroform__.clearBit=function(r,t){if(r=r||0,t=t||0,isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return r&=~(1<<t)},L7=$r.__acroform__.getBit=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return r&1<<t?1:0},Yr=$r.__acroform__.getBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return L7(r,t-1)},Jr=$r.__acroform__.setBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return I7(r,t-1)},Zr=$r.__acroform__.clearBitForPdf=function(r,t){if(isNaN(r)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return M7(r,t-1)},O7=$r.__acroform__.calculateCoordinates=function(r,t){var e=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,l=r[0],i=r[1],s=r[2],u=r[3],a={};return a.lowerLeft_X=e(l)||0,a.lowerLeft_Y=n(i+u)||0,a.upperRight_X=e(l+s)||0,a.upperRight_Y=n(i)||0,[Number(Yt(a.lowerLeft_X)),Number(Yt(a.lowerLeft_Y)),Number(Yt(a.upperRight_X)),Number(Yt(a.upperRight_Y))]},F7=function(r){if(r.appearanceStreamContent)return r.appearanceStreamContent;if(r.V||r.DV){var t=[],e=r._V||r.DV,n=J0(r,e),l=r.scope.internal.getFont(r.fontName,r.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(r.scope.__private__.encodeColorString(r.color)),t.push("/"+l+" "+Yt(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=us(r);return i.scope=r.scope,i.stream=t.join(`
`),i}},J0=function(r,t){var e=r.fontSize===0?r.maxFontSize:r.fontSize,n={text:"",fontSize:""},l=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");l=r.multiline?l.map(function(q){return q.split(`
`)}):l.map(function(q){return[q]});var i=e,s=Rt.internal.getHeight(r)||0;s=s<0?-s:s;var u=Rt.internal.getWidth(r)||0;u=u<0?-u:u;var a=function(q,B,A){if(q+1<l.length){var P=B+" "+l[q+1][0];return Ud(P,r,A).width<=u-4}return!1};i++;e:for(;i>0;){t="",i--;var o,c,f=Ud("3",r,i).height,h=r.multiline?s-i:(s-f)/2,d=h+=2,y=0,b=0,m=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Ud(t,r,i=12).width+", FieldWidth:"+u+`
`;break}for(var g="",p=0,v=0;v<l.length;v++)if(l.hasOwnProperty(v)){var C=!1;if(l[v].length!==1&&m!==l[v].length-1){if((f+2)*(p+2)+2>s)continue e;g+=l[v][m],C=!0,b=v,v--}else{g=(g+=l[v][m]+" ").substr(g.length-1)==" "?g.substr(0,g.length-1):g;var j=parseInt(v),L=a(j,g,i),$=v>=l.length-1;if(L&&!$){g+=" ",m=0;continue}if(L||$){if($)b=j;else if(r.multiline&&(f+2)*(p+2)+2>s)continue e}else{if(!r.multiline||(f+2)*(p+2)+2>s)continue e;b=j}}for(var M="",z=y;z<=b;z++){var H=l[z];if(r.multiline){if(z===b){M+=H[m]+" ",m=(m+1)%H.length;continue}if(z===y){M+=H[H.length-1]+" ";continue}}M+=H[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,c=Ud(M,r,i).width,r.textAlign){case"right":o=u-c-2;break;case"center":o=(u-c)/2;break;case"left":default:o=2}t+=Yt(o)+" "+Yt(d)+` Td
`,t+="("+Pa(M)+`) Tj
`,t+=-Yt(o)+` 0 Td
`,d=-(i+2),c=0,y=C?b:b+1,p++,g=""}break}return n.text=t,n.fontSize=i,n},Ud=function(r,t,e){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),l=t.scope.getStringUnitWidth(r,{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(e),charSpace:0})*parseFloat(e)*1.5,width:l}},B7={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},D7=function(r,t){var e={type:"reference",object:r};t.internal.getPageInfo(r.page).pageContext.annotations.find(function(n){return n.type===e.type&&n.object===e.object})===void 0&&t.internal.getPageInfo(r.page).pageContext.annotations.push(e)},z7=function(r,t){for(var e in r)if(r.hasOwnProperty(e)){var n=e,l=r[e];t.internal.newObjectDeferredBegin(l.objId,!0),br(l)==="object"&&typeof l.putStream=="function"&&l.putStream(),delete r[n]}},U7=function(r,t){if(t.scope=r,r.internal!==void 0&&(r.internal.acroformPlugin===void 0||r.internal.acroformPlugin.isInitialized===!1)){if(ts.FieldNum=0,r.internal.acroformPlugin=JSON.parse(JSON.stringify(B7)),r.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");d1=r.internal.scaleFactor,r.internal.acroformPlugin.acroFormDictionaryRoot=new _5,r.internal.acroformPlugin.acroFormDictionaryRoot.scope=r,r.internal.acroformPlugin.acroFormDictionaryRoot._eventID=r.internal.events.subscribe("postPutResources",function(){(function(e){e.internal.events.unsubscribe(e.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete e.internal.acroformPlugin.acroFormDictionaryRoot._eventID,e.internal.acroformPlugin.printedOut=!0})(r)}),r.internal.events.subscribe("buildDocument",function(){(function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var l in n)if(n.hasOwnProperty(l)){var i=n[l];i.objId=void 0,i.hasAnnotation&&D7(i,e)}})(r)}),r.internal.events.subscribe("putCatalog",function(){(function(e){if(e.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(r)}),r.internal.events.subscribe("postPutPages",function(e){(function(n,l){var i=!n;for(var s in n||(l.internal.newObjectDeferredBegin(l.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),l.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||l.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var u=n[s],a=[],o=u.Rect;if(u.Rect&&(u.Rect=O7(u.Rect,l)),l.internal.newObjectDeferredBegin(u.objId,!0),u.DA=Rt.createDefaultAppearanceStream(u),br(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(a=u.getKeyValueListForStream()),u.Rect=o,u.hasAppearanceStream&&!u.appearanceStreamContent){var c=F7(u);a.push({key:"AP",value:"<</N "+c+">>"}),l.internal.acroformPlugin.xForms.push(c)}if(u.appearanceStreamContent){var f="";for(var h in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(h)){var d=u.appearanceStreamContent[h];if(f+="/"+h+" ",f+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var s in d)if(d.hasOwnProperty(s)){var y=d[s];typeof y=="function"&&(y=y.call(l,u)),f+="/"+s+" "+y+" ",l.internal.acroformPlugin.xForms.indexOf(y)>=0||l.internal.acroformPlugin.xForms.push(y)}}else typeof(y=d)=="function"&&(y=y.call(l,u)),f+="/"+s+" "+y,l.internal.acroformPlugin.xForms.indexOf(y)>=0||l.internal.acroformPlugin.xForms.push(y);f+=">>"}a.push({key:"AP",value:`<<
`+f+">>"})}l.internal.putStream({additionalKeyValues:a,objectId:u.objId}),l.internal.out("endobj")}i&&z7(l.internal.acroformPlugin.xForms,l)})(e,r)}),r.internal.acroformPlugin.isInitialized=!0}},w5=$r.__acroform__.arrayToPdfArray=function(r,t,e){var n=function(s){return s};if(Array.isArray(r)){for(var l="[",i=0;i<r.length;i++)switch(i!==0&&(l+=" "),br(r[i])){case"boolean":case"number":case"object":l+=r[i].toString();break;case"string":r[i].substr(0,1)!=="/"?(t!==void 0&&e&&(n=e.internal.getEncryptor(t)),l+="("+Pa(n(r[i].toString()))+")"):l+=r[i].toString()}return l+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Rp=function(r,t,e){var n=function(l){return l};return t!==void 0&&e&&(n=e.internal.getEncryptor(t)),(r=r||"").toString(),r="("+Pa(n(r))+")"},ps=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(r){this._objId=r}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ps.prototype.toString=function(){return this.objId+" 0 R"},ps.prototype.putStream=function(){var r=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:r,objectId:this.objId}),this.scope.internal.out("endobj")},ps.prototype.getKeyValueListForStream=function(){var r=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var e in t)if(Object.getOwnPropertyDescriptor(this,t[e]).configurable===!1){var n=t[e],l=this[n];l&&(Array.isArray(l)?r.push({key:n,value:w5(l,this.objId,this.scope)}):l instanceof ps?(l.scope=this.scope,r.push({key:n,value:l.objId+" 0 R"})):typeof l!="function"&&r.push({key:n,value:l}))}return r};var x5=function(){ps.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var r,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(e){r=e.trim()},get:function(){return r||null}})};si(x5,ps);var _5=function(){ps.call(this);var r,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(r){var e=function(n){return n};return this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),"("+Pa(e(r))+")"}},set:function(e){r=e}})};si(_5,ps);var ts=function r(){ps.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute F supplied.');t=g}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yr(t,3)},set:function(g){g?this.F=Jr(t,3):this.F=Zr(t,3)}});var e=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return e},set:function(g){if(isNaN(g))throw new Error('Invalid value "'+g+'" for attribute Ff supplied.');e=g}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(g){n=g!==void 0?g:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(g){n[0]=g}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(g){n[1]=g}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(g){n[2]=g}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(g){n[3]=g}});var l="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return l},set:function(g){switch(g){case"/Btn":case"/Tx":case"/Ch":case"/Sig":l=g;break;default:throw new Error('Invalid value "'+g+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Dh)return;i="FieldObject"+r.FieldNum++}var g=function(p){return p};return this.scope&&(g=this.scope.internal.getEncryptor(this.objId)),"("+Pa(g(i))+")"},set:function(g){i=g.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(g){i=g}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(g){s=g}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(g){u=g}});var a=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return a},set:function(g){a=g}});var o=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return o===void 0?50/d1:o},set:function(g){o=g}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(g){c=g}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Dh||this instanceof va))return Rp(f,this.objId,this.scope)},set:function(g){g=g.toString(),f=g}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof mn?h:Rp(h,this.objId,this.scope)},set:function(g){g=g.toString(),h=this instanceof mn?g:g.substr(0,1)==="("?rl(g.substr(1,g.length-2)):rl(g)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mn?rl(h.substr(1,h.length-1)):h},set:function(g){g=g.toString(),h=this instanceof mn?"/"+g:g}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(g){this.V=g}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof mn?d:Rp(d,this.objId,this.scope)},set:function(g){g=g.toString(),d=this instanceof mn?g:g.substr(0,1)==="("?rl(g.substr(1,g.length-2)):rl(g)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mn?rl(d.substr(1,d.length-1)):d},set:function(g){g=g.toString(),d=this instanceof mn?"/"+g:g}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,b=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return b},set:function(g){g=!!g,b=g}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(g){y=g}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,1)},set:function(g){g?this.Ff=Jr(this.Ff,1):this.Ff=Zr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,2)},set:function(g){g?this.Ff=Jr(this.Ff,2):this.Ff=Zr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,3)},set:function(g){g?this.Ff=Jr(this.Ff,3):this.Ff=Zr(this.Ff,3)}});var m=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(m!==null)return m},set:function(g){if([0,1,2].indexOf(g)===-1)throw new Error('Invalid value "'+g+'" for attribute Q supplied.');m=g}}),Object.defineProperty(this,"textAlign",{get:function(){var g;switch(m){case 0:default:g="left";break;case 1:g="center";break;case 2:g="right"}return g},configurable:!0,enumerable:!0,set:function(g){switch(g){case"right":case 2:m=2;break;case"center":case 1:m=1;break;case"left":case 0:default:m=0}}})};si(ts,ps);var Pl=function(){ts.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var r=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return r},set:function(e){r=e}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return w5(t,this.objId,this.scope)},set:function(e){var n,l;l=[],typeof(n=e)=="string"&&(l=function(i,s,u){u||(u=1);for(var a,o=[];a=s.exec(i);)o.push(a[u]);return o}(n,/\((.*?)\)/g)),t=l}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();t.indexOf(e)!==-1&&(t.splice(t.indexOf(e),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,18)},set:function(e){e?this.Ff=Jr(this.Ff,18):this.Ff=Zr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,19)},set:function(e){this.combo===!0&&(e?this.Ff=Jr(this.Ff,19):this.Ff=Zr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,20)},set:function(e){e?(this.Ff=Jr(this.Ff,20),t.sort()):this.Ff=Zr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,22)},set:function(e){e?this.Ff=Jr(this.Ff,22):this.Ff=Zr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(e){e?this.Ff=Jr(this.Ff,23):this.Ff=Zr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,27)},set:function(e){e?this.Ff=Jr(this.Ff,27):this.Ff=Zr(this.Ff,27)}}),this.hasAppearanceStream=!1};si(Pl,ts);var Nl=function(){Pl.call(this),this.fontName="helvetica",this.combo=!1};si(Nl,Pl);var Rl=function(){Nl.call(this),this.combo=!0};si(Rl,Nl);var oh=function(){Rl.call(this),this.edit=!0};si(oh,Rl);var mn=function(){ts.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,15)},set:function(e){e?this.Ff=Jr(this.Ff,15):this.Ff=Zr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,16)},set:function(e){e?this.Ff=Jr(this.Ff,16):this.Ff=Zr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,17)},set:function(e){e?this.Ff=Jr(this.Ff,17):this.Ff=Zr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(e){e?this.Ff=Jr(this.Ff,26):this.Ff=Zr(this.Ff,26)}});var r,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(i){return i};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,l=[];for(n in l.push("<<"),t)l.push("/"+n+" ("+Pa(e(t[n]))+")");return l.push(">>"),l.join(`
`)}},set:function(e){br(e)==="object"&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){typeof e=="string"&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(e){r=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(e){r="/"+e}})};si(mn,ts);var ah=function(){mn.call(this),this.pushButton=!0};si(ah,mn);var Il=function(){mn.call(this),this.radio=!0,this.pushButton=!1;var r=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t!==void 0?t:[]}})};si(Il,mn);var Dh=function(){var r,t;ts.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return r},set:function(l){r=l}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(l){t=l}});var e,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var l=function(u){return u};this.scope&&(l=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+Pa(l(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(l){br(l)==="object"&&(n=l)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(l){typeof l=="string"&&(n.CA=l)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(l){e=l}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(l){e="/"+l}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};si(Dh,ts),Il.prototype.setAppearance=function(r){if(!("createAppearanceStream"in r)||!("getCA"in r))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var e=this.Kids[t];e.appearanceStreamContent=r.createAppearanceStream(e.optionName),e.caption=r.getCA()}},Il.prototype.createOption=function(r){var t=new Dh;return t.Parent=this,t.optionName=r,this.Kids.push(t),$7.call(this.scope,t),t};var lh=function(){mn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Rt.CheckBox.createAppearanceStream()};si(lh,mn);var va=function(){ts.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,13)},set:function(t){t?this.Ff=Jr(this.Ff,13):this.Ff=Zr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,21)},set:function(t){t?this.Ff=Jr(this.Ff,21):this.Ff=Zr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,23)},set:function(t){t?this.Ff=Jr(this.Ff,23):this.Ff=Zr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,24)},set:function(t){t?this.Ff=Jr(this.Ff,24):this.Ff=Zr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,25)},set:function(t){t?this.Ff=Jr(this.Ff,25):this.Ff=Zr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,26)},set:function(t){t?this.Ff=Jr(this.Ff,26):this.Ff=Zr(this.Ff,26)}});var r=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return r},set:function(t){r=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return r},set:function(t){Number.isInteger(t)&&(r=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};si(va,ts);var uh=function(){va.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yr(this.Ff,14)},set:function(r){r?this.Ff=Jr(this.Ff,14):this.Ff=Zr(this.Ff,14)}}),this.password=!0};si(uh,va);var Rt={CheckBox:{createAppearanceStream:function(){return{N:{On:Rt.CheckBox.YesNormal},D:{On:Rt.CheckBox.YesPushDown,Off:Rt.CheckBox.OffPushDown}}},YesPushDown:function(r){var t=us(r);t.scope=r.scope;var e=[],n=r.scope.internal.getFont(r.fontName,r.fontStyle).id,l=r.scope.__private__.encodeColorString(r.color),i=J0(r,r.caption);return e.push("0.749023 g"),e.push("0 0 "+Yt(Rt.internal.getWidth(r))+" "+Yt(Rt.internal.getHeight(r))+" re"),e.push("f"),e.push("BMC"),e.push("q"),e.push("0 0 1 rg"),e.push("/"+n+" "+Yt(i.fontSize)+" Tf "+l),e.push("BT"),e.push(i.text),e.push("ET"),e.push("Q"),e.push("EMC"),t.stream=e.join(`
`),t},YesNormal:function(r){var t=us(r);t.scope=r.scope;var e=r.scope.internal.getFont(r.fontName,r.fontStyle).id,n=r.scope.__private__.encodeColorString(r.color),l=[],i=Rt.internal.getHeight(r),s=Rt.internal.getWidth(r),u=J0(r,r.caption);return l.push("1 g"),l.push("0 0 "+Yt(s)+" "+Yt(i)+" re"),l.push("f"),l.push("q"),l.push("0 0 1 rg"),l.push("0 0 "+Yt(s-1)+" "+Yt(i-1)+" re"),l.push("W"),l.push("n"),l.push("0 g"),l.push("BT"),l.push("/"+e+" "+Yt(u.fontSize)+" Tf "+n),l.push(u.text),l.push("ET"),l.push("Q"),t.stream=l.join(`
`),t},OffPushDown:function(r){var t=us(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Yt(Rt.internal.getWidth(r))+" "+Yt(Rt.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(r){var t={D:{Off:Rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[r]=Rt.RadioButton.Circle.YesNormal,t.D[r]=Rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(r){var t=us(r);t.scope=r.scope;var e=[],n=Rt.internal.getWidth(r)<=Rt.internal.getHeight(r)?Rt.internal.getWidth(r)/4:Rt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var l=Rt.internal.Bezier_C,i=Number((n*l).toFixed(5));return e.push("q"),e.push("1 0 0 1 "+yo(Rt.internal.getWidth(r)/2)+" "+yo(Rt.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),e.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),e.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),e.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=us(r);t.scope=r.scope;var e=[],n=Rt.internal.getWidth(r)<=Rt.internal.getHeight(r)?Rt.internal.getWidth(r)/4:Rt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var l=Number((2*n).toFixed(5)),i=Number((l*Rt.internal.Bezier_C).toFixed(5)),s=Number((n*Rt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+yo(Rt.internal.getWidth(r)/2)+" "+yo(Rt.internal.getHeight(r)/2)+" cm"),e.push(l+" 0 m"),e.push(l+" "+i+" "+i+" "+l+" 0 "+l+" c"),e.push("-"+i+" "+l+" -"+l+" "+i+" -"+l+" 0 c"),e.push("-"+l+" -"+i+" -"+i+" -"+l+" 0 -"+l+" c"),e.push(i+" -"+l+" "+l+" -"+i+" "+l+" 0 c"),e.push("f"),e.push("Q"),e.push("0 g"),e.push("q"),e.push("1 0 0 1 "+yo(Rt.internal.getWidth(r)/2)+" "+yo(Rt.internal.getHeight(r)/2)+" cm"),e.push(n+" 0 m"),e.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),e.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),e.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),e.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t},OffPushDown:function(r){var t=us(r);t.scope=r.scope;var e=[],n=Rt.internal.getWidth(r)<=Rt.internal.getHeight(r)?Rt.internal.getWidth(r)/4:Rt.internal.getHeight(r)/4;n=Number((.9*n).toFixed(5));var l=Number((2*n).toFixed(5)),i=Number((l*Rt.internal.Bezier_C).toFixed(5));return e.push("0.749023 g"),e.push("q"),e.push("1 0 0 1 "+yo(Rt.internal.getWidth(r)/2)+" "+yo(Rt.internal.getHeight(r)/2)+" cm"),e.push(l+" 0 m"),e.push(l+" "+i+" "+i+" "+l+" 0 "+l+" c"),e.push("-"+i+" "+l+" -"+l+" "+i+" -"+l+" 0 c"),e.push("-"+l+" -"+i+" -"+i+" -"+l+" 0 -"+l+" c"),e.push(i+" -"+l+" "+l+" -"+i+" "+l+" 0 c"),e.push("f"),e.push("Q"),t.stream=e.join(`
`),t}},Cross:{createAppearanceStream:function(r){var t={D:{Off:Rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[r]=Rt.RadioButton.Cross.YesNormal,t.D[r]=Rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(r){var t=us(r);t.scope=r.scope;var e=[],n=Rt.internal.calculateCross(r);return e.push("q"),e.push("1 1 "+Yt(Rt.internal.getWidth(r)-2)+" "+Yt(Rt.internal.getHeight(r)-2)+" re"),e.push("W"),e.push("n"),e.push(Yt(n.x1.x)+" "+Yt(n.x1.y)+" m"),e.push(Yt(n.x2.x)+" "+Yt(n.x2.y)+" l"),e.push(Yt(n.x4.x)+" "+Yt(n.x4.y)+" m"),e.push(Yt(n.x3.x)+" "+Yt(n.x3.y)+" l"),e.push("s"),e.push("Q"),t.stream=e.join(`
`),t},YesPushDown:function(r){var t=us(r);t.scope=r.scope;var e=Rt.internal.calculateCross(r),n=[];return n.push("0.749023 g"),n.push("0 0 "+Yt(Rt.internal.getWidth(r))+" "+Yt(Rt.internal.getHeight(r))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Yt(Rt.internal.getWidth(r)-2)+" "+Yt(Rt.internal.getHeight(r)-2)+" re"),n.push("W"),n.push("n"),n.push(Yt(e.x1.x)+" "+Yt(e.x1.y)+" m"),n.push(Yt(e.x2.x)+" "+Yt(e.x2.y)+" l"),n.push(Yt(e.x4.x)+" "+Yt(e.x4.y)+" m"),n.push(Yt(e.x3.x)+" "+Yt(e.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(r){var t=us(r);t.scope=r.scope;var e=[];return e.push("0.749023 g"),e.push("0 0 "+Yt(Rt.internal.getWidth(r))+" "+Yt(Rt.internal.getHeight(r))+" re"),e.push("f"),t.stream=e.join(`
`),t}}},createDefaultAppearanceStream:function(r){var t=r.scope.internal.getFont(r.fontName,r.fontStyle).id,e=r.scope.__private__.encodeColorString(r.color);return"/"+t+" "+r.fontSize+" Tf "+e}};Rt.internal={Bezier_C:.551915024494,calculateCross:function(r){var t=Rt.internal.getWidth(r),e=Rt.internal.getHeight(r),n=Math.min(t,e);return{x1:{x:(t-n)/2,y:(e-n)/2+n},x2:{x:(t-n)/2+n,y:(e-n)/2},x3:{x:(t-n)/2,y:(e-n)/2},x4:{x:(t-n)/2+n,y:(e-n)/2+n}}}},Rt.internal.getWidth=function(r){var t=0;return br(r)==="object"&&(t=P2(r.Rect[2])),t},Rt.internal.getHeight=function(r){var t=0;return br(r)==="object"&&(t=P2(r.Rect[3])),t};var $7=$r.addField=function(r){if(U7(this,r),!(r instanceof ts))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=r).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),r.page=r.scope.internal.getCurrentPageInfo().pageNumber,this};$r.AcroFormChoiceField=Pl,$r.AcroFormListBox=Nl,$r.AcroFormComboBox=Rl,$r.AcroFormEditBox=oh,$r.AcroFormButton=mn,$r.AcroFormPushButton=ah,$r.AcroFormRadioButton=Il,$r.AcroFormCheckBox=lh,$r.AcroFormTextField=va,$r.AcroFormPasswordField=uh,$r.AcroFormAppearance=Rt,$r.AcroForm={ChoiceField:Pl,ListBox:Nl,ComboBox:Rl,EditBox:oh,Button:mn,PushButton:ah,RadioButton:Il,CheckBox:lh,TextField:va,PasswordField:uh,Appearance:Rt},Dt.AcroForm={ChoiceField:Pl,ListBox:Nl,ComboBox:Rl,EditBox:oh,Button:mn,PushButton:ah,RadioButton:Il,CheckBox:lh,TextField:va,PasswordField:uh,Appearance:Rt};Dt.AcroForm;function S5(r){return r.reduce(function(t,e,n){return t[e]=n,t},{})}(function(r){r.__addimage__={};var t="UNKNOWN",e={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=r.__addimage__.getImageFileTypeByImageData=function(q,B){var A,P,k,w,S,x=t;if((B=B||t)==="RGBA"||q.data!==void 0&&q.data instanceof Uint8ClampedArray&&"height"in q&&"width"in q)return"RGBA";if(L(q))for(S in e)for(k=e[S],A=0;A<k.length;A+=1){for(w=!0,P=0;P<k[A].length;P+=1)if(k[A][P]!==void 0&&k[A][P]!==q[P]){w=!1;break}if(w===!0){x=S;break}}else for(S in e)for(k=e[S],A=0;A<k.length;A+=1){for(w=!0,P=0;P<k[A].length;P+=1)if(k[A][P]!==void 0&&k[A][P]!==q.charCodeAt(P)){w=!1;break}if(w===!0){x=S;break}}return x===t&&B!==t&&(x=B),x},l=function q(B){for(var A=this.internal.write,P=this.internal.putStream,k=(0,this.internal.getFilters)();k.indexOf("FlateEncode")!==-1;)k.splice(k.indexOf("FlateEncode"),1);B.objectId=this.internal.newObject();var w=[];if(w.push({key:"Type",value:"/XObject"}),w.push({key:"Subtype",value:"/Image"}),w.push({key:"Width",value:B.width}),w.push({key:"Height",value:B.height}),B.colorSpace===m.INDEXED?w.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(B.palette.length/3-1)+" "+("sMask"in B&&B.sMask!==void 0?B.objectId+2:B.objectId+1)+" 0 R]"}):(w.push({key:"ColorSpace",value:"/"+B.colorSpace}),B.colorSpace===m.DEVICE_CMYK&&w.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),w.push({key:"BitsPerComponent",value:B.bitsPerComponent}),"decodeParameters"in B&&B.decodeParameters!==void 0&&w.push({key:"DecodeParms",value:"<<"+B.decodeParameters+">>"}),"transparency"in B&&Array.isArray(B.transparency)){for(var S="",x=0,_=B.transparency.length;x<_;x++)S+=B.transparency[x]+" "+B.transparency[x]+" ";w.push({key:"Mask",value:"["+S+"]"})}B.sMask!==void 0&&w.push({key:"SMask",value:B.objectId+1+" 0 R"});var E=B.filter!==void 0?["/"+B.filter]:void 0;if(P({data:B.data,additionalKeyValues:w,alreadyAppliedFilters:E,objectId:B.objectId}),A("endobj"),"sMask"in B&&B.sMask!==void 0){var D="/Predictor "+B.predictor+" /Colors 1 /BitsPerComponent "+B.bitsPerComponent+" /Columns "+B.width,N={width:B.width,height:B.height,colorSpace:"DeviceGray",bitsPerComponent:B.bitsPerComponent,decodeParameters:D,data:B.sMask};"filter"in B&&(N.filter=B.filter),q.call(this,N)}if(B.colorSpace===m.INDEXED){var U=this.internal.newObject();P({data:M(new Uint8Array(B.palette)),objectId:U}),A("endobj")}},i=function(){var q=this.internal.collections.addImage_images;for(var B in q)l.call(this,q[B])},s=function(){var q,B=this.internal.collections.addImage_images,A=this.internal.write;for(var P in B)A("/I"+(q=B[P]).index,q.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},a=function(){var q=this.internal.collections.addImage_images;return u.call(this),q},o=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(q){return typeof r["process"+q.toUpperCase()]=="function"},f=function(q){return br(q)==="object"&&q.nodeType===1},h=function(q,B){if(q.nodeName==="IMG"&&q.hasAttribute("src")){var A=""+q.getAttribute("src");if(A.indexOf("data:image/")===0)return ac(unescape(A).split("base64,").pop());var P=r.loadFile(A,!0);if(P!==void 0)return P}if(q.nodeName==="CANVAS"){if(q.width===0||q.height===0)throw new Error("Given canvas must have data. Canvas width: "+q.width+", height: "+q.height);var k;switch(B){case"PNG":k="image/png";break;case"WEBP":k="image/webp";break;case"JPEG":case"JPG":default:k="image/jpeg"}return ac(q.toDataURL(k,1).split("base64,").pop())}},d=function(q){var B=this.internal.collections.addImage_images;if(B){for(var A in B)if(q===B[A].alias)return B[A]}},y=function(q,B,A){return q||B||(q=-96,B=-96),q<0&&(q=-1*A.width*72/q/this.internal.scaleFactor),B<0&&(B=-1*A.height*72/B/this.internal.scaleFactor),q===0&&(q=B*A.width/A.height),B===0&&(B=q*A.height/A.width),[q,B]},b=function(q,B,A,P,k,w){var S=y.call(this,A,P,k),x=this.internal.getCoordinateString,_=this.internal.getVerticalCoordinateString,E=a.call(this);if(A=S[0],P=S[1],E[k.index]=k,w){w*=Math.PI/180;var D=Math.cos(w),N=Math.sin(w),U=function(J){return J.toFixed(4)},V=[U(D),U(N),U(-1*N),U(D),0,0,"cm"]}this.internal.write("q"),w?(this.internal.write([1,"0","0",1,x(q),_(B+P),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([x(A),"0","0",x(P),"0","0","cm"].join(" "))):this.internal.write([x(A),"0","0",x(P),x(q),_(B+P),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+k.index+" Do"),this.internal.write("Q")},m=r.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};r.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var g=r.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},p=r.__addimage__.sHashCode=function(q){var B,A,P=0;if(typeof q=="string")for(A=q.length,B=0;B<A;B++)P=(P<<5)-P+q.charCodeAt(B),P|=0;else if(L(q))for(A=q.byteLength/2,B=0;B<A;B++)P=(P<<5)-P+q[B],P|=0;return P},v=r.__addimage__.validateStringAsBase64=function(q){(q=q||"").toString().trim();var B=!0;return q.length===0&&(B=!1),q.length%4!=0&&(B=!1),/^[A-Za-z0-9+/]+$/.test(q.substr(0,q.length-2))===!1&&(B=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(q.substr(-2))===!1&&(B=!1),B},C=r.__addimage__.extractImageFromDataUrl=function(q){var B=(q=q||"").split("base64,"),A=null;if(B.length===2){var P=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(B[0]);Array.isArray(P)&&(A={mimeType:P[1],charset:P[2],data:B[1]})}return A},j=r.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};r.__addimage__.isArrayBuffer=function(q){return j()&&q instanceof ArrayBuffer};var L=r.__addimage__.isArrayBufferView=function(q){return j()&&typeof Uint32Array<"u"&&(q instanceof Int8Array||q instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&q instanceof Uint8ClampedArray||q instanceof Int16Array||q instanceof Uint16Array||q instanceof Int32Array||q instanceof Uint32Array||q instanceof Float32Array||q instanceof Float64Array)},$=r.__addimage__.binaryStringToUint8Array=function(q){for(var B=q.length,A=new Uint8Array(B),P=0;P<B;P++)A[P]=q.charCodeAt(P);return A},M=r.__addimage__.arrayBufferToBinaryString=function(q){for(var B="",A=L(q)?q:new Uint8Array(q),P=0;P<A.length;P+=8192)B+=String.fromCharCode.apply(null,A.subarray(P,P+8192));return B};r.addImage=function(){var q,B,A,P,k,w,S,x,_;if(typeof arguments[1]=="number"?(B=t,A=arguments[1],P=arguments[2],k=arguments[3],w=arguments[4],S=arguments[5],x=arguments[6],_=arguments[7]):(B=arguments[1],A=arguments[2],P=arguments[3],k=arguments[4],w=arguments[5],S=arguments[6],x=arguments[7],_=arguments[8]),br(q=arguments[0])==="object"&&!f(q)&&"imageData"in q){var E=q;q=E.imageData,B=E.format||B||t,A=E.x||A||0,P=E.y||P||0,k=E.w||E.width||k,w=E.h||E.height||w,S=E.alias||S,x=E.compression||x,_=E.rotation||E.angle||_}var D=this.internal.getFilters();if(x===void 0&&D.indexOf("FlateEncode")!==-1&&(x="SLOW"),isNaN(A)||isNaN(P))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var N=z.call(this,q,B,S,x);return b.call(this,A,P,k,w,N,_),this};var z=function(q,B,A,P){var k,w,S;if(typeof q=="string"&&n(q)===t){q=unescape(q);var x=H(q,!1);(x!==""||(x=r.loadFile(q,!0))!==void 0)&&(q=x)}if(f(q)&&(q=h(q,B)),B=n(q,B),!c(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(((S=A)==null||S.length===0)&&(A=function(_){return typeof _=="string"||L(_)?p(_):L(_.data)?p(_.data):null}(q)),(k=d.call(this,A))||(j()&&(q instanceof Uint8Array||B==="RGBA"||(w=q,q=$(q))),k=this["process"+B.toUpperCase()](q,o.call(this),A,function(_){return _&&typeof _=="string"&&(_=_.toUpperCase()),_ in r.image_compression?_:g.NONE}(P),w)),!k)throw new Error("An unknown error occurred whilst processing the image.");return k},H=r.__addimage__.convertBase64ToBinaryString=function(q,B){var A;B=typeof B!="boolean"||B;var P,k="";if(typeof q=="string"){P=(A=C(q))!==null?A.data:q;try{k=ac(P)}catch(w){if(B)throw v(P)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+w.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return k};r.getImageProperties=function(q){var B,A,P="";if(f(q)&&(q=h(q)),typeof q=="string"&&n(q)===t&&((P=H(q,!1))===""&&(P=r.loadFile(q)||""),q=P),A=n(q),!c(A))throw new Error("addImage does not support files of type '"+A+"', please ensure that a plugin for '"+A+"' support is added.");if(!j()||q instanceof Uint8Array||(q=$(q)),!(B=this["process"+A.toUpperCase()](q)))throw new Error("An unknown error occurred whilst processing the image");return B.fileType=A,B}})(Dt.API),function(r){var t=function(e){if(e!==void 0&&e!="")return!0};Dt.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),r.events.push(["putPage",function(e){for(var n,l,i,s=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,a=this.internal.getPageInfoByObjId(e.objId),o=e.pageContext.annotations,c=!1,f=0;f<o.length&&!c;f++)switch((n=o[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var h=0;h<o.length;h++){n=o[h];var d=this.internal.pdfEscape,y=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var b=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),g=this.internal.getEncryptor(b.objId),p=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(l="/Rect ["+s(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+d(g(n.contents))+")",i+=" /Popup "+m.objId+" 0 R",i+=" /P "+a.objId+" 0 R",i+=" /T ("+d(g(p))+") >>",b.content=i;var v=b.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(l="/Rect ["+s(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+v,n.open&&(i+=" /Open true"),i+=" >>",m.content=i,this.internal.write(b.objId,"0 R",m.objId,"0 R");break;case"freetext":l="/Rect ["+s(n.bounds.x)+" "+u(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var C=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+l+"/Contents ("+d(y(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(l="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /A <</S /URI /URI ("+d(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+l+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var L=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+L+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),r.createAnnotation=function(e){var n=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":n.pageContext.annotations.push(e)}},r.link=function(e,n,l,i,s){var u=this.internal.getCurrentPageInfo(),a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:a(e),y:o(n),w:a(e+l),h:o(n+i)},options:s,type:"link"})},r.textWithLink=function(e,n,l,i){var s,u,a=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){u=i.maxWidth;var c=this.splitTextToSize(e,u).length;s=Math.ceil(o*c)}else u=a,s=o;return this.text(e,n,l,i),l+=.2*o,i.align==="center"&&(n-=a/2),i.align==="right"&&(n-=a),this.link(n,l-o,u,s,i),a},r.getTextWidth=function(e){var n=this.internal.getFontSize();return this.getStringUnitWidth(e)*n/this.internal.scaleFactor}}(Dt.API),function(r){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},e={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},l=[1570,1571,1573,1575];r.__arabicParser__={};var i=r.__arabicParser__.isInArabicSubstitutionA=function(b){return t[b.charCodeAt(0)]!==void 0},s=r.__arabicParser__.isArabicLetter=function(b){return typeof b=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(b)},u=r.__arabicParser__.isArabicEndLetter=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length<=2},a=r.__arabicParser__.isArabicAlfLetter=function(b){return s(b)&&l.indexOf(b.charCodeAt(0))>=0};r.__arabicParser__.arabicLetterHasIsolatedForm=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length>=1};var o=r.__arabicParser__.arabicLetterHasFinalForm=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length>=2};r.__arabicParser__.arabicLetterHasInitialForm=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length>=3};var c=r.__arabicParser__.arabicLetterHasMedialForm=function(b){return s(b)&&i(b)&&t[b.charCodeAt(0)].length==4},f=r.__arabicParser__.resolveLigatures=function(b){var m=0,g=e,p="",v=0;for(m=0;m<b.length;m+=1)g[b.charCodeAt(m)]!==void 0?(v++,typeof(g=g[b.charCodeAt(m)])=="number"&&(p+=String.fromCharCode(g),g=e,v=0),m===b.length-1&&(g=e,p+=b.charAt(m-(v-1)),m-=v-1,v=0)):(g=e,p+=b.charAt(m-v),m-=v,v=0);return p};r.__arabicParser__.isArabicDiacritic=function(b){return b!==void 0&&n[b.charCodeAt(0)]!==void 0};var h=r.__arabicParser__.getCorrectForm=function(b,m,g){return s(b)?i(b)===!1?-1:!o(b)||!s(m)&&!s(g)||!s(g)&&u(m)||u(b)&&!s(m)||u(b)&&a(m)||u(b)&&u(m)?0:c(b)&&s(m)&&!u(m)&&s(g)&&o(g)?3:u(b)||!s(g)?1:2:-1},d=function(b){var m=0,g=0,p=0,v="",C="",j="",L=(b=b||"").split("\\s+"),$=[];for(m=0;m<L.length;m+=1){for($.push(""),g=0;g<L[m].length;g+=1)v=L[m][g],C=L[m][g-1],j=L[m][g+1],s(v)?(p=h(v,C,j),$[m]+=p!==-1?String.fromCharCode(t[v.charCodeAt(0)][p]):v):$[m]+=v;$[m]=f($[m])}return $.join(" ")},y=r.__arabicParser__.processArabic=r.processArabic=function(){var b,m=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,g=[];if(Array.isArray(m)){var p=0;for(g=[],p=0;p<m.length;p+=1)Array.isArray(m[p])?g.push([d(m[p][0]),m[p][1],m[p][2]]):g.push([d(m[p])]);b=g}else b=d(m);return typeof arguments[0]=="string"?b:(arguments[0].text=b,arguments[0])};r.events.push(["preProcessText",y])}(Dt.API),Dt.API.autoPrint=function(r){var t;switch((r=r||{}).variant=r.variant||"non-conform",r.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(r){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(u){e=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var l=300;Object.defineProperty(this,"height",{get:function(){return l},set:function(u){l=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=l+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(u){i=u}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(u){s=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,n){var l;if((e=e||"2d")!=="2d")return null;for(l in n)this.pdf.context2d.hasOwnProperty(l)&&(this.pdf.context2d[l]=n[l]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},r.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Dt.API),function(r){var t={left:0,top:0,bottom:0,right:0},e=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),l.call(this))},l=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var a=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return a},set:function(b){a=b}});var o=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return o},set:function(b){o=b}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(b){c=b}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(b){f=b}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(b){h=b}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(b){d=b}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(b){y=b}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},r.setHeaderFunction=function(a){return n.call(this),this.internal.__cell__.headerFunction=typeof a=="function"?a:void 0,this},r.getTextDimensions=function(a,o){n.call(this);var c=(o=o||{}).fontSize||this.getFontSize(),f=o.font||this.getFont(),h=o.scaleFactor||this.internal.scaleFactor,d=0,y=0,b=0,m=this;if(!Array.isArray(a)&&typeof a!="string"){if(typeof a!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");a=String(a)}var g=o.maxWidth;g>0?typeof a=="string"?a=this.splitTextToSize(a,g):Object.prototype.toString.call(a)==="[object Array]"&&(a=a.reduce(function(v,C){return v.concat(m.splitTextToSize(C,g))},[])):a=Array.isArray(a)?a:[a];for(var p=0;p<a.length;p++)d<(b=this.getStringUnitWidth(a[p],{font:f})*c)&&(d=b);return d!==0&&(y=a.length),{w:d/=h,h:Math.max((y*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/h,0)}},r.cellAddPage=function(){n.call(this),this.addPage();var a=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(a.left,a.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=r.cell=function(){var a;a=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var o=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,h=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return o.lineNumber!==void 0&&(o.lineNumber===a.lineNumber?(a.x=(o.x||0)+(o.width||0),a.y=o.y||0):o.y+o.height+a.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),a.y=f.top,d&&h&&(this.printHeaderRow(a.lineNumber,!0),a.y+=h[0].height)):a.y=o.y+o.height||a.y),a.text[0]!==void 0&&(this.rect(a.x,a.y,a.width,a.height,e===!0?"FD":void 0),a.align==="right"?this.text(a.text,a.x+a.width-c,a.y+c,{align:"right",baseline:"top"}):a.align==="center"?this.text(a.text,a.x+a.width/2,a.y+c,{align:"center",baseline:"top",maxWidth:a.width-c-c}):this.text(a.text,a.x+c,a.y+c,{align:"left",baseline:"top",maxWidth:a.width-c-c})),this.internal.__cell__.lastCell=a,this};r.table=function(a,o,c,f,h){if(n.call(this),!c)throw new Error("No data for PDF table.");var d,y,b,m,g=[],p=[],v=[],C={},j={},L=[],$=[],M=(h=h||{}).autoSize||!1,z=h.printHeaders!==!1,H=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,q=h.margins||Object.assign({width:this.getPageWidth()},t),B=typeof h.padding=="number"?h.padding:3,A=h.headerBackgroundColor||"#c8c8c8",P=h.headerTextColor||"#000";if(l.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=q,this.internal.__cell__.table_font_size=H,this.internal.__cell__.padding=B,this.internal.__cell__.headerBackgroundColor=A,this.internal.__cell__.headerTextColor=P,this.setFontSize(H),f==null)p=g=Object.keys(c[0]),v=g.map(function(){return"left"});else if(Array.isArray(f)&&br(f[0])==="object")for(g=f.map(function(E){return E.name}),p=f.map(function(E){return E.prompt||E.name||""}),v=f.map(function(E){return E.align||"left"}),d=0;d<f.length;d+=1)j[f[d].name]=f[d].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(p=g=f,v=g.map(function(){return"left"}));if(M||Array.isArray(f)&&typeof f[0]=="string")for(d=0;d<g.length;d+=1){for(C[m=g[d]]=c.map(function(E){return E[m]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(p[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=C[m],this.setFont(void 0,"normal"),b=0;b<y.length;b+=1)L.push(this.getTextDimensions(y[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[m]=Math.max.apply(null,L)+B+B,L=[]}if(z){var k={};for(d=0;d<g.length;d+=1)k[g[d]]={},k[g[d]].text=p[d],k[g[d]].align=v[d];var w=u.call(this,k,j);$=g.map(function(E){return new i(a,o,j[E],w,k[E].text,void 0,k[E].align)}),this.setTableHeaderRow($),this.printHeaderRow(1,!1)}var S=f.reduce(function(E,D){return E[D.name]=D.align,E},{});for(d=0;d<c.length;d+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:d,data:c[d]},this);var x=u.call(this,c[d],j);for(b=0;b<g.length;b+=1){var _=c[d][g[b]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:d,col:b,data:_},this),s.call(this,new i(a,o,j[g[b]],x,_,d+2,S[g[b]]))}}return this.internal.__cell__.table_x=a,this.internal.__cell__.table_y=o,this};var u=function(a,o){var c=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(a).map(function(d){var y=a[d];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,o[d]-c-c)},this).map(function(d){return this.getLineHeightFactor()*d.length*f/h+c+c},this).reduce(function(d,y){return Math.max(d,y)},0)};r.setTableHeaderRow=function(a){n.call(this),this.internal.__cell__.tableHeaderRow=a},r.printHeaderRow=function(a,o){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(e=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){c=this.internal.__cell__.tableHeaderRow[d].clone(),o&&(c.y=this.internal.__cell__.margins.top||0,h.push(c)),c.lineNumber=a;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,c),this.setTextColor(y)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),e=!1}}(Dt.API);var k5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},C5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Z0=S5(C5),A5=[100,200,300,400,500,600,700,800,900],q7=S5(A5);function Q0(r){var t=r.family.replace(/"|'/g,"").toLowerCase(),e=function(i){return k5[i=i||"normal"]?i:"normal"}(r.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(r.weight),l=function(i){return typeof Z0[i=i||"normal"]=="number"?i:"normal"}(r.stretch);return{family:t,style:e,weight:n,stretch:l,src:r.src||[],ref:r.ref||{name:t,style:[l,e,n].join(" ")}}}function N2(r,t,e,n){var l;for(l=e;l>=0&&l<t.length;l+=n)if(r[t[l]])return r[t[l]];for(l=e;l>=0&&l<t.length;l-=n)if(r[t[l]])return r[t[l]]}var W7={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},R2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function I2(r){return[r.stretch,r.style,r.weight,r.family].join(" ")}function H7(r,t,e){for(var n=(e=e||{}).defaultFontFamily||"times",l=Object.assign({},W7,e.genericFontFamilies||{}),i=null,s=null,u=0;u<t.length;++u)if(l[(i=Q0(t[u])).family]&&(i.family=l[i.family]),r.hasOwnProperty(i.family)){s=r[i.family];break}if(!(s=s||r[n]))throw new Error("Could not find a font-family for the rule '"+I2(i)+"' and default family '"+n+"'.");if(s=function(a,o){if(o[a])return o[a];var c=Z0[a],f=c<=Z0.normal?-1:1,h=N2(o,C5,c,f);if(!h)throw new Error("Could not find a matching font-stretch value for "+a);return h}(i.stretch,s),s=function(a,o){if(o[a])return o[a];for(var c=k5[a],f=0;f<c.length;++f)if(o[c[f]])return o[c[f]];throw new Error("Could not find a matching font-style for "+a)}(i.style,s),!(s=function(a,o){if(o[a])return o[a];if(a===400&&o[500])return o[500];if(a===500&&o[400])return o[400];var c=q7[a],f=N2(o,A5,c,a<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+a);return f}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+I2(i)+"'.");return s}function M2(r){return r.trimLeft()}function V7(r,t){for(var e=0;e<r.length;){if(r.charAt(e)===t)return[r.substring(0,e),r.substring(e+1)];e+=1}return null}function G7(r){var t=r.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],r.substring(t[0].length)]}var $d,L2,O2,Ip=["times"];(function(r){var t,e,n,l,i,s,u,a,o,c=function(N){return N=N||{},this.isStrokeTransparent=N.isStrokeTransparent||!1,this.strokeOpacity=N.strokeOpacity||1,this.strokeStyle=N.strokeStyle||"#000000",this.fillStyle=N.fillStyle||"#000000",this.isFillTransparent=N.isFillTransparent||!1,this.fillOpacity=N.fillOpacity||1,this.font=N.font||"10px sans-serif",this.textBaseline=N.textBaseline||"alphabetic",this.textAlign=N.textAlign||"left",this.lineWidth=N.lineWidth||1,this.lineJoin=N.lineJoin||"miter",this.lineCap=N.lineCap||"butt",this.path=N.path||[],this.transform=N.transform!==void 0?N.transform.clone():new a,this.globalCompositeOperation=N.globalCompositeOperation||"normal",this.globalAlpha=N.globalAlpha||1,this.clip_path=N.clip_path||[],this.currentPoint=N.currentPoint||new s,this.miterLimit=N.miterLimit||10,this.lastPoint=N.lastPoint||new s,this.lineDashOffset=N.lineDashOffset||0,this.lineDash=N.lineDash||[],this.margin=N.margin||[0,0,0,0],this.prevPageLastElemOffset=N.prevPageLastElemOffset||0,this.ignoreClearRect=typeof N.ignoreClearRect!="boolean"||N.ignoreClearRect,this};r.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,e=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,l=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,u=this.internal.Rectangle,a=this.internal.Matrix,o=new c}]);var f=function(N){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=N;Object.defineProperty(this,"pdf",{get:function(){return U}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ue){V=!!ue}});var J=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return J},set:function(ue){J=!!ue}});var F=0;Object.defineProperty(this,"posX",{get:function(){return F},set:function(ue){isNaN(ue)||(F=ue)}});var Y=0;Object.defineProperty(this,"posY",{get:function(){return Y},set:function(ue){isNaN(ue)||(Y=ue)}}),Object.defineProperty(this,"margin",{get:function(){return o.margin},set:function(ue){var te;typeof ue=="number"?te=[ue,ue,ue,ue]:((te=new Array(4))[0]=ue[0],te[1]=ue.length>=2?ue[1]:te[0],te[2]=ue.length>=3?ue[2]:te[0],te[3]=ue.length>=4?ue[3]:te[1]),o.margin=te}});var O=!1;Object.defineProperty(this,"autoPaging",{get:function(){return O},set:function(ue){O=ue}});var T=0;Object.defineProperty(this,"lastBreak",{get:function(){return T},set:function(ue){T=ue}});var G=[];Object.defineProperty(this,"pageBreaks",{get:function(){return G},set:function(ue){G=ue}}),Object.defineProperty(this,"ctx",{get:function(){return o},set:function(ue){ue instanceof c&&(o=ue)}}),Object.defineProperty(this,"path",{get:function(){return o.path},set:function(ue){o.path=ue}});var Q=[];Object.defineProperty(this,"ctxStack",{get:function(){return Q},set:function(ue){Q=ue}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ue){var te;te=h(ue),this.ctx.fillStyle=te.style,this.ctx.isFillTransparent=te.a===0,this.ctx.fillOpacity=te.a,this.pdf.setFillColor(te.r,te.g,te.b,{a:te.a}),this.pdf.setTextColor(te.r,te.g,te.b,{a:te.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ue){var te=h(ue);this.ctx.strokeStyle=te.style,this.ctx.isStrokeTransparent=te.a===0,this.ctx.strokeOpacity=te.a,te.a===0?this.pdf.setDrawColor(255,255,255):(te.a,this.pdf.setDrawColor(te.r,te.g,te.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ue){["butt","round","square"].indexOf(ue)!==-1&&(this.ctx.lineCap=ue,this.pdf.setLineCap(ue))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ue){isNaN(ue)||(this.ctx.lineWidth=ue,this.pdf.setLineWidth(ue))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ue){["bevel","round","miter"].indexOf(ue)!==-1&&(this.ctx.lineJoin=ue,this.pdf.setLineJoin(ue))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ue){isNaN(ue)||(this.ctx.miterLimit=ue,this.pdf.setMiterLimit(ue))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ue){this.ctx.textBaseline=ue}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ue){["right","end","center","left","start"].indexOf(ue)!==-1&&(this.ctx.textAlign=ue)}});var ne=null;function Z(ue,te){if(ne===null){var se=function(pe){var ie=[];return Object.keys(pe).forEach(function(fe){pe[fe].forEach(function(be){var re=null;switch(be){case"bold":re={family:fe,weight:"bold"};break;case"italic":re={family:fe,style:"italic"};break;case"bolditalic":re={family:fe,weight:"bold",style:"italic"};break;case"":case"normal":re={family:fe}}re!==null&&(re.ref={name:fe,style:be},ie.push(re))})}),ie}(ue.getFontList());ne=function(pe){for(var ie={},fe=0;fe<pe.length;++fe){var be=Q0(pe[fe]),re=be.family,ve=be.stretch,_e=be.style,Re=be.weight;ie[re]=ie[re]||{},ie[re][ve]=ie[re][ve]||{},ie[re][ve][_e]=ie[re][ve][_e]||{},ie[re][ve][_e][Re]=be}return ie}(se.concat(te))}return ne}var oe=null;Object.defineProperty(this,"fontFaces",{get:function(){return oe},set:function(ue){ne=null,oe=ue}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ue){var te;if(this.ctx.font=ue,(te=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ue))!==null){var se=te[1],pe=(te[2],te[3]),ie=te[4],fe=(te[5],te[6]),be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ie)[2];ie=Math.floor(be==="px"?parseFloat(ie)*this.pdf.internal.scaleFactor:be==="em"?parseFloat(ie)*this.pdf.getFontSize():parseFloat(ie)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ie);var re=function(et){var ke,je,Ue=[],Le=et.trim();if(Le==="")return Ip;if(Le in R2)return[R2[Le]];for(;Le!=="";){switch(je=null,ke=(Le=M2(Le)).charAt(0)){case'"':case"'":je=V7(Le.substring(1),ke);break;default:je=G7(Le)}if(je===null||(Ue.push(je[0]),(Le=M2(je[1]))!==""&&Le.charAt(0)!==","))return Ip;Le=Le.replace(/^,/,"")}return Ue}(fe);if(this.fontFaces){var ve=H7(Z(this.pdf,this.fontFaces),re.map(function(et){return{family:et,stretch:"normal",weight:pe,style:se}}));this.pdf.setFont(ve.ref.name,ve.ref.style)}else{var _e="";(pe==="bold"||parseInt(pe,10)>=700||se==="bold")&&(_e="bold"),se==="italic"&&(_e+="italic"),_e.length===0&&(_e="normal");for(var Re="",Ge={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ze=0;Ze<re.length;Ze++){if(this.pdf.internal.getFont(re[Ze],_e,{noFallback:!0,disableWarning:!0})!==void 0){Re=re[Ze];break}if(_e==="bolditalic"&&this.pdf.internal.getFont(re[Ze],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Re=re[Ze],_e="bold";else if(this.pdf.internal.getFont(re[Ze],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Re=re[Ze],_e="normal";break}}if(Re===""){for(var Ye=0;Ye<re.length;Ye++)if(Ge[re[Ye]]){Re=Ge[re[Ye]];break}}Re=Re===""?"Times":Re,this.pdf.setFont(Re,_e)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ue){this.ctx.globalCompositeOperation=ue}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ue){this.ctx.globalAlpha=ue}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ue){this.ctx.lineDashOffset=ue,D.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ue){this.ctx.lineDash=ue,D.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ue){this.ctx.ignoreClearRect=!!ue}})};f.prototype.setLineDash=function(N){this.lineDash=N},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){C.call(this,"fill",!1)},f.prototype.stroke=function(){C.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(N,U){if(isNaN(N)||isNaN(U))throw _r.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new s(N,U));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(N,U)},f.prototype.closePath=function(){var N=new s(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&br(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){N=new s(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(N.x,N.y)},f.prototype.lineTo=function(N,U){if(isNaN(N)||isNaN(U))throw _r.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new s(N,U));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new s(V.x,V.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},f.prototype.quadraticCurveTo=function(N,U,V,J){if(isNaN(V)||isNaN(J)||isNaN(N)||isNaN(U))throw _r.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var F=this.ctx.transform.applyToPoint(new s(V,J)),Y=this.ctx.transform.applyToPoint(new s(N,U));this.path.push({type:"qct",x1:Y.x,y1:Y.y,x:F.x,y:F.y}),this.ctx.lastPoint=new s(F.x,F.y)},f.prototype.bezierCurveTo=function(N,U,V,J,F,Y){if(isNaN(F)||isNaN(Y)||isNaN(N)||isNaN(U)||isNaN(V)||isNaN(J))throw _r.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var O=this.ctx.transform.applyToPoint(new s(F,Y)),T=this.ctx.transform.applyToPoint(new s(N,U)),G=this.ctx.transform.applyToPoint(new s(V,J));this.path.push({type:"bct",x1:T.x,y1:T.y,x2:G.x,y2:G.y,x:O.x,y:O.y}),this.ctx.lastPoint=new s(O.x,O.y)},f.prototype.arc=function(N,U,V,J,F,Y){if(isNaN(N)||isNaN(U)||isNaN(V)||isNaN(J)||isNaN(F))throw _r.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Y=!!Y,!this.ctx.transform.isIdentity){var O=this.ctx.transform.applyToPoint(new s(N,U));N=O.x,U=O.y;var T=this.ctx.transform.applyToPoint(new s(0,V)),G=this.ctx.transform.applyToPoint(new s(0,0));V=Math.sqrt(Math.pow(T.x-G.x,2)+Math.pow(T.y-G.y,2))}Math.abs(F-J)>=2*Math.PI&&(J=0,F=2*Math.PI),this.path.push({type:"arc",x:N,y:U,radius:V,startAngle:J,endAngle:F,counterclockwise:Y})},f.prototype.arcTo=function(N,U,V,J,F){throw new Error("arcTo not implemented.")},f.prototype.rect=function(N,U,V,J){if(isNaN(N)||isNaN(U)||isNaN(V)||isNaN(J))throw _r.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(N,U),this.lineTo(N+V,U),this.lineTo(N+V,U+J),this.lineTo(N,U+J),this.lineTo(N,U),this.lineTo(N+V,U),this.lineTo(N,U)},f.prototype.fillRect=function(N,U,V,J){if(isNaN(N)||isNaN(U)||isNaN(V)||isNaN(J))throw _r.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var F={};this.lineCap!=="butt"&&(F.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(F.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(N,U,V,J),this.fill(),F.hasOwnProperty("lineCap")&&(this.lineCap=F.lineCap),F.hasOwnProperty("lineJoin")&&(this.lineJoin=F.lineJoin)}},f.prototype.strokeRect=function(N,U,V,J){if(isNaN(N)||isNaN(U)||isNaN(V)||isNaN(J))throw _r.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(N,U,V,J),this.stroke())},f.prototype.clearRect=function(N,U,V,J){if(isNaN(N)||isNaN(U)||isNaN(V)||isNaN(J))throw _r.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(N,U,V,J))},f.prototype.save=function(N){N=typeof N!="boolean"||N;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),N){this.ctx.fontSize=this.pdf.internal.getFontSize();var J=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=J}},f.prototype.restore=function(N){N=typeof N!="boolean"||N;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(U),N&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(N){var U,V,J,F;if(N.isCanvasGradient===!0&&(N=N.getColor()),!N)return{r:0,g:0,b:0,a:0,style:N};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(N))U=0,V=0,J=0,F=0;else{var Y=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(N);if(Y!==null)U=parseInt(Y[1]),V=parseInt(Y[2]),J=parseInt(Y[3]),F=1;else if((Y=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(N))!==null)U=parseInt(Y[1]),V=parseInt(Y[2]),J=parseInt(Y[3]),F=parseFloat(Y[4]);else{if(F=1,typeof N=="string"&&N.charAt(0)!=="#"){var O=new b5(N);N=O.ok?O.toHex():"#000000"}N.length===4?(U=N.substring(1,2),U+=U,V=N.substring(2,3),V+=V,J=N.substring(3,4),J+=J):(U=N.substring(1,3),V=N.substring(3,5),J=N.substring(5,7)),U=parseInt(U,16),V=parseInt(V,16),J=parseInt(J,16)}}return{r:U,g:V,b:J,a:F,style:N}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(N,U,V,J){if(isNaN(U)||isNaN(V)||typeof N!="string")throw _r.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(J=isNaN(J)?void 0:J,!d.call(this)){var F=x(this.ctx.transform.rotation),Y=this.ctx.transform.scaleX;B.call(this,{text:N,x:U,y:V,scale:Y,angle:F,align:this.textAlign,maxWidth:J})}},f.prototype.strokeText=function(N,U,V,J){if(isNaN(U)||isNaN(V)||typeof N!="string")throw _r.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){J=isNaN(J)?void 0:J;var F=x(this.ctx.transform.rotation),Y=this.ctx.transform.scaleX;B.call(this,{text:N,x:U,y:V,scale:Y,renderingMode:"stroke",angle:F,align:this.textAlign,maxWidth:J})}},f.prototype.measureText=function(N){if(typeof N!="string")throw _r.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,V=this.pdf.internal.scaleFactor,J=U.internal.getFontSize(),F=U.getStringUnitWidth(N)*J/U.internal.scaleFactor,Y=function(O){var T=(O=O||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return T}}),this};return new Y({width:F*=Math.round(96*V/72*1e4)/1e4})},f.prototype.scale=function(N,U){if(isNaN(N)||isNaN(U))throw _r.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new a(N,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.rotate=function(N){if(isNaN(N))throw _r.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new a(Math.cos(N),Math.sin(N),-Math.sin(N),Math.cos(N),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},f.prototype.translate=function(N,U){if(isNaN(N)||isNaN(U))throw _r.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new a(1,0,0,1,N,U);this.ctx.transform=this.ctx.transform.multiply(V)},f.prototype.transform=function(N,U,V,J,F,Y){if(isNaN(N)||isNaN(U)||isNaN(V)||isNaN(J)||isNaN(F)||isNaN(Y))throw _r.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var O=new a(N,U,V,J,F,Y);this.ctx.transform=this.ctx.transform.multiply(O)},f.prototype.setTransform=function(N,U,V,J,F,Y){N=isNaN(N)?1:N,U=isNaN(U)?0:U,V=isNaN(V)?0:V,J=isNaN(J)?1:J,F=isNaN(F)?0:F,Y=isNaN(Y)?0:Y,this.ctx.transform=new a(N,U,V,J,F,Y)};var b=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(N,U,V,J,F,Y,O,T,G){var Q=this.pdf.getImageProperties(N),ne=1,Z=1,oe=1,ue=1;J!==void 0&&T!==void 0&&(oe=T/J,ue=G/F,ne=Q.width/J*T/J,Z=Q.height/F*G/F),Y===void 0&&(Y=U,O=V,U=0,V=0),J!==void 0&&T===void 0&&(T=J,G=F),J===void 0&&T===void 0&&(T=Q.width,G=Q.height);for(var te,se=this.ctx.transform.decompose(),pe=x(se.rotate.shx),ie=new a,fe=(ie=(ie=(ie=ie.multiply(se.translate)).multiply(se.skew)).multiply(se.scale)).applyToRectangle(new u(Y-U*oe,O-V*ue,J*ne,F*Z)),be=m.call(this,fe),re=[],ve=0;ve<be.length;ve+=1)re.indexOf(be[ve])===-1&&re.push(be[ve]);if(v(re),this.autoPaging)for(var _e=re[0],Re=re[re.length-1],Ge=_e;Ge<Re+1;Ge++){this.pdf.setPage(Ge);var Ze=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ye=Ge===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ke=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],je=Ge===1?0:et+(Ge-2)*ke;if(this.ctx.clip_path.length!==0){var Ue=this.path;te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=p(te,this.posX+this.margin[3],-je+Ye+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Ue}var Le=JSON.parse(JSON.stringify(fe));Le=p([Le],this.posX+this.margin[3],-je+Ye+this.ctx.prevPageLastElemOffset)[0];var Ve=(Ge>_e||Ge<Re)&&b.call(this);Ve&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ze,ke,null).clip().discardPath()),this.pdf.addImage(N,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,pe),Ve&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(N,"JPEG",fe.x,fe.y,fe.w,fe.h,null,null,pe)};var m=function(N,U,V){var J=[];U=U||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var F=this.posY+this.ctx.prevPageLastElemOffset;switch(N.type){default:case"mt":case"lt":J.push(Math.floor((N.y+F)/V)+1);break;case"arc":J.push(Math.floor((N.y+F-N.radius)/V)+1),J.push(Math.floor((N.y+F+N.radius)/V)+1);break;case"qct":var Y=_(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x,N.y);J.push(Math.floor((Y.y+F)/V)+1),J.push(Math.floor((Y.y+Y.h+F)/V)+1);break;case"bct":var O=E(this.ctx.lastPoint.x,this.ctx.lastPoint.y,N.x1,N.y1,N.x2,N.y2,N.x,N.y);J.push(Math.floor((O.y+F)/V)+1),J.push(Math.floor((O.y+O.h+F)/V)+1);break;case"rect":J.push(Math.floor((N.y+F)/V)+1),J.push(Math.floor((N.y+N.h+F)/V)+1)}for(var T=0;T<J.length;T+=1)for(;this.pdf.internal.getNumberOfPages()<J[T];)g.call(this);return J},g=function(){var N=this.fillStyle,U=this.strokeStyle,V=this.font,J=this.lineCap,F=this.lineWidth,Y=this.lineJoin;this.pdf.addPage(),this.fillStyle=N,this.strokeStyle=U,this.font=V,this.lineCap=J,this.lineWidth=F,this.lineJoin=Y},p=function(N,U,V){for(var J=0;J<N.length;J++)switch(N[J].type){case"bct":N[J].x2+=U,N[J].y2+=V;case"qct":N[J].x1+=U,N[J].y1+=V;case"mt":case"lt":case"arc":default:N[J].x+=U,N[J].y+=V}return N},v=function(N){return N.sort(function(U,V){return U-V})},C=function(N,U){for(var V,J,F=this.fillStyle,Y=this.strokeStyle,O=this.lineCap,T=this.lineWidth,G=Math.abs(T*this.ctx.transform.scaleX),Q=this.lineJoin,ne=JSON.parse(JSON.stringify(this.path)),Z=JSON.parse(JSON.stringify(this.path)),oe=[],ue=0;ue<Z.length;ue++)if(Z[ue].x!==void 0)for(var te=m.call(this,Z[ue]),se=0;se<te.length;se+=1)oe.indexOf(te[se])===-1&&oe.push(te[se]);for(var pe=0;pe<oe.length;pe++)for(;this.pdf.internal.getNumberOfPages()<oe[pe];)g.call(this);if(v(oe),this.autoPaging)for(var ie=oe[0],fe=oe[oe.length-1],be=ie;be<fe+1;be++){this.pdf.setPage(be),this.fillStyle=F,this.strokeStyle=Y,this.lineCap=O,this.lineWidth=G,this.lineJoin=Q;var re=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],ve=be===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Re=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=be===1?0:_e+(be-2)*Re;if(this.ctx.clip_path.length!==0){var Ze=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=p(V,this.posX+this.margin[3],-Ge+ve+this.ctx.prevPageLastElemOffset),j.call(this,N,!0),this.path=Ze}if(J=JSON.parse(JSON.stringify(ne)),this.path=p(J,this.posX+this.margin[3],-Ge+ve+this.ctx.prevPageLastElemOffset),U===!1||be===0){var Ye=(be>ie||be<fe)&&b.call(this);Ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],re,Re,null).clip().discardPath()),j.call(this,N,U),Ye&&this.pdf.restoreGraphicsState()}this.lineWidth=T}else this.lineWidth=G,j.call(this,N,U),this.lineWidth=T;this.path=ne},j=function(N,U){if((N!=="stroke"||U||!y.call(this))&&(N==="stroke"||U||!d.call(this))){for(var V,J,F=[],Y=this.path,O=0;O<Y.length;O++){var T=Y[O];switch(T.type){case"begin":F.push({begin:!0});break;case"close":F.push({close:!0});break;case"mt":F.push({start:T,deltas:[],abs:[]});break;case"lt":var G=F.length;if(Y[O-1]&&!isNaN(Y[O-1].x)&&(V=[T.x-Y[O-1].x,T.y-Y[O-1].y],G>0)){for(;G>=0;G--)if(F[G-1].close!==!0&&F[G-1].begin!==!0){F[G-1].deltas.push(V),F[G-1].abs.push(T);break}}break;case"bct":V=[T.x1-Y[O-1].x,T.y1-Y[O-1].y,T.x2-Y[O-1].x,T.y2-Y[O-1].y,T.x-Y[O-1].x,T.y-Y[O-1].y],F[F.length-1].deltas.push(V);break;case"qct":var Q=Y[O-1].x+2/3*(T.x1-Y[O-1].x),ne=Y[O-1].y+2/3*(T.y1-Y[O-1].y),Z=T.x+2/3*(T.x1-T.x),oe=T.y+2/3*(T.y1-T.y),ue=T.x,te=T.y;V=[Q-Y[O-1].x,ne-Y[O-1].y,Z-Y[O-1].x,oe-Y[O-1].y,ue-Y[O-1].x,te-Y[O-1].y],F[F.length-1].deltas.push(V);break;case"arc":F.push({deltas:[],abs:[],arc:!0}),Array.isArray(F[F.length-1].abs)&&F[F.length-1].abs.push(T)}}J=U?null:N==="stroke"?"stroke":"fill";for(var se=!1,pe=0;pe<F.length;pe++)if(F[pe].arc)for(var ie=F[pe].abs,fe=0;fe<ie.length;fe++){var be=ie[fe];be.type==="arc"?M.call(this,be.x,be.y,be.radius,be.startAngle,be.endAngle,be.counterclockwise,void 0,U,!se):A.call(this,be.x,be.y),se=!0}else if(F[pe].close===!0)this.pdf.internal.out("h"),se=!1;else if(F[pe].begin!==!0){var re=F[pe].start.x,ve=F[pe].start.y;P.call(this,F[pe].deltas,re,ve),se=!0}J&&z.call(this,J),U&&H.call(this)}},L=function(N){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return N-V;case"top":return N+U-V;case"hanging":return N+U-2*V;case"middle":return N+U/2-V;case"ideographic":return N;case"alphabetic":default:return N}},$=function(N){return N+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var N=function(){};return N.colorStops=[],N.addColorStop=function(U,V){this.colorStops.push([U,V])},N.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},N.isCanvasGradient=!0,N},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(N,U,V,J,F,Y,O,T,G){for(var Q=w.call(this,V,J,F,Y),ne=0;ne<Q.length;ne++){var Z=Q[ne];ne===0&&(G?q.call(this,Z.x1+N,Z.y1+U):A.call(this,Z.x1+N,Z.y1+U)),k.call(this,N,U,Z.x2,Z.y2,Z.x3,Z.y3,Z.x4,Z.y4)}T?H.call(this):z.call(this,O)},z=function(N){switch(N){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},H=function(){this.pdf.clip(),this.pdf.discardPath()},q=function(N,U){this.pdf.internal.out(e(N)+" "+n(U)+" m")},B=function(N){var U;switch(N.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var V=this.pdf.getTextDimensions(N.text),J=L.call(this,N.y),F=$.call(this,J)-V.h,Y=this.ctx.transform.applyToPoint(new s(N.x,J)),O=this.ctx.transform.decompose(),T=new a;T=(T=(T=T.multiply(O.translate)).multiply(O.skew)).multiply(O.scale);for(var G,Q,ne,Z=this.ctx.transform.applyToRectangle(new u(N.x,J,V.w,V.h)),oe=T.applyToRectangle(new u(N.x,F,V.w,V.h)),ue=m.call(this,oe),te=[],se=0;se<ue.length;se+=1)te.indexOf(ue[se])===-1&&te.push(ue[se]);if(v(te),this.autoPaging)for(var pe=te[0],ie=te[te.length-1],fe=pe;fe<ie+1;fe++){this.pdf.setPage(fe);var be=fe===1?this.posY+this.margin[0]:this.margin[0],re=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ve=this.pdf.internal.pageSize.height-this.margin[2],_e=ve-this.margin[0],Re=this.pdf.internal.pageSize.width-this.margin[1],Ge=Re-this.margin[3],Ze=fe===1?0:re+(fe-2)*_e;if(this.ctx.clip_path.length!==0){var Ye=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=p(G,this.posX+this.margin[3],-1*Ze+be),j.call(this,"fill",!0),this.path=Ye}var et=p([JSON.parse(JSON.stringify(oe))],this.posX+this.margin[3],-Ze+be+this.ctx.prevPageLastElemOffset)[0];N.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*N.scale),ne=this.lineWidth,this.lineWidth=ne*N.scale);var ke=this.autoPaging!=="text";if(ke||et.y+et.h<=ve){if(ke||et.y>=be&&et.x<=Re){var je=ke?N.text:this.pdf.splitTextToSize(N.text,N.maxWidth||Re-et.x)[0],Ue=p([JSON.parse(JSON.stringify(Z))],this.posX+this.margin[3],-Ze+be+this.ctx.prevPageLastElemOffset)[0],Le=ke&&(fe>pe||fe<ie)&&b.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,_e,null).clip().discardPath()),this.pdf.text(je,Ue.x,Ue.y,{angle:N.angle,align:U,renderingMode:N.renderingMode}),Le&&this.pdf.restoreGraphicsState()}}else et.y<ve&&(this.ctx.prevPageLastElemOffset+=ve-et.y);N.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ne)}else N.scale>=.01&&(Q=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Q*N.scale),ne=this.lineWidth,this.lineWidth=ne*N.scale),this.pdf.text(N.text,Y.x+this.posX,Y.y+this.posY,{angle:N.angle,align:U,renderingMode:N.renderingMode,maxWidth:N.maxWidth}),N.scale>=.01&&(this.pdf.setFontSize(Q),this.lineWidth=ne)},A=function(N,U,V,J){V=V||0,J=J||0,this.pdf.internal.out(e(N+V)+" "+n(U+J)+" l")},P=function(N,U,V){return this.pdf.lines(N,U,V,null,null)},k=function(N,U,V,J,F,Y,O,T){this.pdf.internal.out([t(l(V+N)),t(i(J+U)),t(l(F+N)),t(i(Y+U)),t(l(O+N)),t(i(T+U)),"c"].join(" "))},w=function(N,U,V,J){for(var F=2*Math.PI,Y=Math.PI/2;U>V;)U-=F;var O=Math.abs(V-U);O<F&&J&&(O=F-O);for(var T=[],G=J?-1:1,Q=U;O>1e-5;){var ne=Q+G*Math.min(O,Y);T.push(S.call(this,N,Q,ne)),O-=Math.abs(ne-Q),Q=ne}return T},S=function(N,U,V){var J=(V-U)/2,F=N*Math.cos(J),Y=N*Math.sin(J),O=F,T=-Y,G=O*O+T*T,Q=G+O*F+T*Y,ne=4/3*(Math.sqrt(2*G*Q)-Q)/(O*Y-T*F),Z=O-ne*T,oe=T+ne*O,ue=Z,te=-oe,se=J+U,pe=Math.cos(se),ie=Math.sin(se);return{x1:N*Math.cos(U),y1:N*Math.sin(U),x2:Z*pe-oe*ie,y2:Z*ie+oe*pe,x3:ue*pe-te*ie,y3:ue*ie+te*pe,x4:N*Math.cos(V),y4:N*Math.sin(V)}},x=function(N){return 180*N/Math.PI},_=function(N,U,V,J,F,Y){var O=N+.5*(V-N),T=U+.5*(J-U),G=F+.5*(V-F),Q=Y+.5*(J-Y),ne=Math.min(N,F,O,G),Z=Math.max(N,F,O,G),oe=Math.min(U,Y,T,Q),ue=Math.max(U,Y,T,Q);return new u(ne,oe,Z-ne,ue-oe)},E=function(N,U,V,J,F,Y,O,T){var G,Q,ne,Z,oe,ue,te,se,pe,ie,fe,be,re,ve,_e=V-N,Re=J-U,Ge=F-V,Ze=Y-J,Ye=O-F,et=T-Y;for(Q=0;Q<41;Q++)pe=(te=(ne=N+(G=Q/40)*_e)+G*((oe=V+G*Ge)-ne))+G*(oe+G*(F+G*Ye-oe)-te),ie=(se=(Z=U+G*Re)+G*((ue=J+G*Ze)-Z))+G*(ue+G*(Y+G*et-ue)-se),Q==0?(fe=pe,be=ie,re=pe,ve=ie):(fe=Math.min(fe,pe),be=Math.min(be,ie),re=Math.max(re,pe),ve=Math.max(ve,ie));return new u(Math.round(fe),Math.round(be),Math.round(re-fe),Math.round(ve-be))},D=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var N,U,V=(N=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:N,lineDashOffset:U}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Dt.API),function(r){var t=function(i){var s,u,a,o,c,f,h,d,y,b;for(u=[],a=0,o=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;o>a;a+=4)(c=(i.charCodeAt(a)<<24)+(i.charCodeAt(a+1)<<16)+(i.charCodeAt(a+2)<<8)+i.charCodeAt(a+3))!==0?(f=(c=((c=((c=((c=(c-(b=c%85))/85)-(y=c%85))/85)-(d=c%85))/85)-(h=c%85))/85)%85,u.push(f+33,h+33,d+33,y+33,b+33)):u.push(122);return function(m,g){for(var p=g;p>0;p--)m.pop()}(u,s.length),String.fromCharCode.apply(String,u)+"~>"},e=function(i){var s,u,a,o,c,f=String,h="length",d=255,y="charCodeAt",b="slice",m="replace";for(i[b](-2),i=i[b](0,-2)[m](/\s/g,"")[m]("z","!!!!!"),a=[],o=0,c=(i+=s="uuuuu"[b](i[h]%5||5))[h];c>o;o+=5)u=52200625*(i[y](o)-33)+614125*(i[y](o+1)-33)+7225*(i[y](o+2)-33)+85*(i[y](o+3)-33)+(i[y](o+4)-33),a.push(d&u>>24,d&u>>16,d&u>>8,d&u);return function(g,p){for(var v=p;v>0;v--)g.pop()}(a,s[h]),f.fromCharCode.apply(f,a)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var u="",a=0;a<i.length;a+=2)u+=String.fromCharCode("0x"+(i[a]+i[a+1]));return u},l=function(i){for(var s=new Uint8Array(i.length),u=i.length;u--;)s[u]=i.charCodeAt(u);return i=(s=G0(s)).reduce(function(a,o){return a+String.fromCharCode(o)},"")};r.processDataByFilters=function(i,s){var u=0,a=i||"",o=[];for(typeof(s=s||[])=="string"&&(s=[s]),u=0;u<s.length;u+=1)switch(s[u]){case"ASCII85Decode":case"/ASCII85Decode":a=e(a),o.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":a=t(a),o.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":a=n(a),o.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":a=a.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",o.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":a=l(a),o.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[u]+'" is not implemented')}return{data:a,reverseChain:o.reverse().join(" ")}}}(Dt.API),function(r){r.loadFile=function(t,e,n){return function(l,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var u=void 0;try{u=function(a,o,c){var f=new XMLHttpRequest,h=0,d=function(y){var b=y.length,m=[],g=String.fromCharCode;for(h=0;h<b;h+=1)m.push(g(255&y.charCodeAt(h)));return m.join("")};if(f.open("GET",a,!o),f.overrideMimeType("text/plain; charset=x-user-defined"),o===!1&&(f.onload=function(){f.status===200?c(d(this.responseText)):c(void 0)}),f.send(null),o&&f.status===200)return d(f.responseText)}(l,i,s)}catch{}return u}(t,e,n)},r.loadImageFile=r.loadFile}(Dt.API),function(r){function t(){return(qt.html2canvas?Promise.resolve(qt.html2canvas):Ks(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function e(){return(qt.DOMPurify?Promise.resolve(qt.DOMPurify):Ks(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var u=br(s);return u==="undefined"?"undefined":u==="string"||s instanceof String?"string":u==="number"||s instanceof Number?"number":u==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":u==="object"?"object":"unknown"},l=function(s,u){var a=document.createElement(s);for(var o in u.className&&(a.className=u.className),u.innerHTML&&u.dompurify&&(a.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)a.style[o]=u.style[o];return a},i=function s(u){var a=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),o=s.convert(Promise.resolve(),a);return o=(o=o.setProgress(1,s,1,[s])).set(u)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,u){return s.__proto__=u||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,u){return this.then(function(){switch(u=u||function(a){switch(n(a)){case"string":return"string";case"element":return a.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(e).then(function(a){return this.set({src:l("div",{innerHTML:s,dompurify:a})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function a(o,c){for(var f=o.nodeType===3?document.createTextNode(o.nodeValue):o.cloneNode(!1),h=o.firstChild;h;h=h.nextSibling)c!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||f.appendChild(a(h,c));return o.nodeType===1&&(o.nodeName==="CANVAS"?(f.width=o.width,f.height=o.height,f.getContext("2d").drawImage(o,0,0)):o.nodeName!=="TEXTAREA"&&o.nodeName!=="SELECT"||(f.value=o.value),f.addEventListener("load",function(){f.scrollTop=o.scrollTop,f.scrollLeft=o.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=l("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=l("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(l("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(u){var a=Object.assign({},this.opt.html2canvas);return delete a.onrendered,u(this.prop.container,a)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(u){var a=this.opt.jsPDF,o=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,a.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,a.context2d.posX=this.opt.x,a.context2d.posY=this.opt.y,a.context2d.margin=this.opt.margin,a.context2d.fontFaces=o,o)for(var h=0;h<o.length;++h){var d=o[h],y=d.src.find(function(b){return b.format==="truetype"});y&&a.addFont(y.url,d.ref.name,d.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,a.context2d.save(!0),u(this.prop.container,f)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,u,a){return(a=a||"pdf").toLowerCase()==="img"||a.toLowerCase()==="image"?this.outputImg(s,u):this.outputPdf(s,u)},i.prototype.outputPdf=function(s,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,u)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var u=Object.keys(s||{}).map(function(a){if(a in i.template.prop)return function(){this.prop[a]=s[a]};switch(a){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[a]=s[a]}}},this);return this.then(function(){return this.thenList(u)})},i.prototype.get=function(s,u){return this.then(function(){var a=s in i.template.prop?this.prop[s]:this.opt[s];return u?u(a):a})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function u(a,o){return Math.floor(a*o/72*96)}return this.then(function(){(s=s||Dt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:u(s.inner.width,s.k),height:u(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,u,a,o){return s!=null&&(this.progress.val=s),u!=null&&(this.progress.state=u),a!=null&&(this.progress.n=a),o!=null&&(this.progress.stack=o),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,u,a,o){return this.setProgress(s?this.progress.val+s:null,u||null,a?this.progress.n+a:null,o?this.progress.stack.concat(o):null)},i.prototype.then=function(s,u){var a=this;return this.thenCore(s,u,function(o,c){return a.updateProgress(null,null,1,[o]),Promise.prototype.then.call(this,function(f){return a.updateProgress(null,o),f}).then(o,c).then(function(f){return a.updateProgress(1),f})})},i.prototype.thenCore=function(s,u,a){a=a||Promise.prototype.then,s&&(s=s.bind(this)),u&&(u=u.bind(this));var o=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),c=a.call(o,s,u);return i.convert(c,this.__proto__)},i.prototype.thenExternal=function(s,u){return Promise.prototype.then.call(this,s,u)},i.prototype.thenList=function(s){var u=this;return s.forEach(function(a){u=u.thenCore(a)}),u},i.prototype.catch=function(s){s&&(s=s.bind(this));var u=Promise.prototype.catch.call(this,s);return i.convert(u,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,Dt.getPageSize=function(s,u,a){if(br(s)==="object"){var o=s;s=o.orientation,u=o.unit||u,a=o.format||a}u=u||"mm",a=a||"a4",s=(""+(s||"P")).toLowerCase();var c,f=(""+a).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+u}var d,y=0,b=0;if(h.hasOwnProperty(f))y=h[f][1]/c,b=h[f][0]/c;else try{y=a[1],b=a[0]}catch{throw new Error("Invalid format: "+a)}if(s==="p"||s==="portrait")s="p",b>y&&(d=b,b=y,y=d);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",y>b&&(d=b,b=y,y=d)}return{width:b,height:y,unit:u,k:c,orientation:s}},r.html=function(s,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Q0):null;var a=new i(u);return u.worker?a:a.from(s).doCallback()}}(Dt.API),Dt.API.addJS=function(r){return O2=r,this.internal.events.subscribe("postPutResources",function(){$d=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+($d+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),L2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+O2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){$d!==void 0&&L2!==void 0&&this.internal.out("/Names <</JavaScript "+$d+" 0 R>>")}),this},function(r){var t;r.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var l=e.outline.render().split(/\r\n/),i=0;i<l.length;i++){var s=l[i],u=n.exec(s);if(u!=null){var a=u[1];e.internal.newObjectDeferredBegin(a,!1)}e.internal.write(s)}if(this.outline.createNamedDestinations){var o=this.internal.pages.length,c=[];for(i=0;i<o;i++){var f=e.internal.newObject();c.push(f);var h=e.internal.getPageInfo(i+1);e.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var d=e.internal.newObject();for(e.internal.write("<< /Names [ "),i=0;i<c.length;i++)e.internal.write("(page_"+(i+1)+")"+c[i]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+d+" 0 R"),e.internal.write(">>","endobj")}}]),r.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),r.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(n,l,i){var s={title:l,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(n){n.id=e.internal.newObjectDeferred();for(var l=0;l<n.children.length;l++)this.genIds_r(n.children[l])},e.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},e.outline.renderItems=function(n){for(var l=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var u=this.count=this.count_r({count:0},s);if(u>0&&this.line("/Count "+u),s.options&&s.options.pageNumber){var a=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+a.objId+" 0 R /XYZ 0 "+l(0)+" 0]")}this.objEnd()}for(var o=0;o<n.children.length;o++)this.renderItems(n.children[o])},e.outline.line=function(n){this.ctx.val+=n+`\r
`},e.outline.makeRef=function(n){return n.id+" 0 R"},e.outline.makeString=function(n){return"("+e.internal.pdfEscape(n)+")"},e.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},e.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},e.outline.count_r=function(n,l){for(var i=0;i<l.children.length;i++)n.count++,this.count_r(n,l.children[i]);return n.count}}])}(Dt.API),function(r){var t=[192,193,194,195,196,197,198,199];r.processJPEG=function(e,n,l,i,s,u){var a,o=this.decode.DCT_DECODE,c=null;if(typeof e=="string"||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=s||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(a=function(f){for(var h,d=256*f.charCodeAt(4)+f.charCodeAt(5),y=f.length,b={width:0,height:0,numcomponents:1},m=4;m<y;m+=2){if(m+=d,t.indexOf(f.charCodeAt(m+1))!==-1){h=256*f.charCodeAt(m+5)+f.charCodeAt(m+6),b={width:256*f.charCodeAt(m+7)+f.charCodeAt(m+8),height:h,numcomponents:f.charCodeAt(m+9)};break}d=256*f.charCodeAt(m+2)+f.charCodeAt(m+3)}return b}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}c={data:e,width:a.width,height:a.height,colorSpace:u,bitsPerComponent:8,filter:o,index:n,alias:l}}return c}}(Dt.API);var nl,qd,F2,B2,D2,K7=function(){var r,t,e;function n(i){var s,u,a,o,c,f,h,d,y,b,m,g,p,v;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(s=this.readUInt32(),y=(function(){var C,j;for(j=[],C=0;C<4;++C)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),o=this.readUInt16()||100,f.delay=1e3*c/o,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,s-=4),i=(f!=null?f.data:void 0)||this.imgData,g=0;0<=s?g<s:g>s;0<=s?++g:--g)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(a=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>a)throw new Error("More transparent colors than palette size");if((b=a-this.transparency.indexed.length)>0)for(p=0;0<=b?p<b:p>b;0<=b?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":h=(m=this.read(s)).indexOf(0),d=String.fromCharCode.apply(String,m.slice(0,h)),this.text[d]=String.fromCharCode.apply(String,m.slice(h+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(v=this.colorType)===4||v===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,u;for(u=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)u.push(this.data[this.pos++]);return u},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*s),a=0,o=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function c(f,h,d,y){var b,m,g,p,v,C,j,L,$,M,z,H,q,B,A,P,k,w,S,x,_,E=Math.ceil((o.width-f)/d),D=Math.ceil((o.height-h)/y),N=o.width==E&&o.height==D;for(B=s*E,H=N?u:new Uint8Array(B*D),C=i.length,q=0,m=0;q<D&&a<C;){switch(i[a++]){case 0:for(p=k=0;k<B;p=k+=1)H[m++]=i[a++];break;case 1:for(p=w=0;w<B;p=w+=1)b=i[a++],v=p<s?0:H[m-s],H[m++]=(b+v)%256;break;case 2:for(p=S=0;S<B;p=S+=1)b=i[a++],g=(p-p%s)/s,A=q&&H[(q-1)*B+g*s+p%s],H[m++]=(A+b)%256;break;case 3:for(p=x=0;x<B;p=x+=1)b=i[a++],g=(p-p%s)/s,v=p<s?0:H[m-s],A=q&&H[(q-1)*B+g*s+p%s],H[m++]=(b+Math.floor((v+A)/2))%256;break;case 4:for(p=_=0;_<B;p=_+=1)b=i[a++],g=(p-p%s)/s,v=p<s?0:H[m-s],q===0?A=P=0:(A=H[(q-1)*B+g*s+p%s],P=g&&H[(q-1)*B+(g-1)*s+p%s]),j=v+A-P,L=Math.abs(j-v),M=Math.abs(j-A),z=Math.abs(j-P),$=L<=M&&L<=z?v:M<=z?A:P,H[m++]=(b+$)%256;break;default:throw new Error("Invalid filter algorithm: "+i[a-1])}if(!N){var U=((h+q*y)*o.width+f)*s,V=q*B;for(p=0;p<E;p+=1){for(var J=0;J<s;J+=1)u[U++]=H[V++];U+=(d-1)*s}}q++}}return i=A7(i),o.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),u},n.prototype.decodePalette=function(){var i,s,u,a,o,c,f,h,d;for(u=this.palette,c=this.transparency.indexed||[],o=new Uint8Array((c.length||0)+u.length),a=0,i=0,s=f=0,h=u.length;f<h;s=f+=3)o[a++]=u[s],o[a++]=u[s+1],o[a++]=u[s+2],o[a++]=(d=c[i++])!=null?d:255;return o},n.prototype.copyToImageData=function(i,s){var u,a,o,c,f,h,d,y,b,m,g;if(a=this.colors,b=null,u=this.hasAlphaChannel,this.palette.length&&(b=(g=this._decodedPalette)!=null?g:this._decodedPalette=this.decodePalette(),a=4,u=!0),y=(o=i.data||i).length,f=b||s,c=h=0,a===1)for(;c<y;)d=b?4*s[c/4]:h,m=f[d++],o[c++]=m,o[c++]=m,o[c++]=m,o[c++]=u?f[d++]:255,h=d;else for(;c<y;)d=b?4*s[c/4]:h,o[c++]=f[d++],o[c++]=f[d++],o[c++]=f[d++],o[c++]=u?f[d++]:255,h=d},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var l=function(){if(Object.prototype.toString.call(qt)==="[object Window]"){try{t=qt.document.createElement("canvas"),e=t.getContext("2d")}catch{return!1}return!0}return!1};return l(),r=function(i){var s;if(l()===!0)return e.width=i.width,e.height=i.height,e.clearRect(0,0,i.width,i.height),e.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,u,a,o,c,f,h,d;if(this.animation){for(d=[],u=c=0,f=(h=this.animation.frames).length;c<f;u=++c)s=h[u],a=i.createImageData(s.width,s.height),o=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(a,o),s.imageData=a,d.push(s.image=r(a));return d}},n.prototype.renderFrame=function(i,s){var u,a,o;return u=(a=this.animation.frames)[s],o=a[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(o!=null?o.disposeOp:void 0)===1?i.clearRect(o.xOffset,o.yOffset,o.width,o.height):(o!=null?o.disposeOp:void 0)===2&&i.putImageData(o.imageData,o.xOffset,o.yOffset),u.blendOp===0&&i.clearRect(u.xOffset,u.yOffset,u.width,u.height),i.drawImage(u.image,u.xOffset,u.yOffset)},n.prototype.animate=function(i){var s,u,a,o,c,f,h=this;return u=0,f=this.animation,o=f.numFrames,a=f.frames,c=f.numPlays,(s=function(){var d,y;if(d=u++%o,y=a[d],h.renderFrame(i,d),o>1&&u/o<c)return h.animation._timeout=setTimeout(s,y.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,u;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(u=s.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),s.putImageData(u,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function X7(r){var t=0;if(r[t++]!==71||r[t++]!==73||r[t++]!==70||r[t++]!==56||(r[t++]+1&253)!=56||r[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var e=r[t++]|r[t++]<<8,n=r[t++]|r[t++]<<8,l=r[t++],i=l>>7,s=1<<(7&l)+1;r[t++],r[t++];var u=null,a=null;i&&(u=t,a=s,t+=3*s);var o=!0,c=[],f=0,h=null,d=0,y=null;for(this.width=e,this.height=n;o&&t<r.length;)switch(r[t++]){case 33:switch(r[t++]){case 255:if(r[t]!==11||r[t+1]==78&&r[t+2]==69&&r[t+3]==84&&r[t+4]==83&&r[t+5]==67&&r[t+6]==65&&r[t+7]==80&&r[t+8]==69&&r[t+9]==50&&r[t+10]==46&&r[t+11]==48&&r[t+12]==3&&r[t+13]==1&&r[t+16]==0)t+=14,y=r[t++]|r[t++]<<8,t++;else for(t+=12;;){if(!((q=r[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}break;case 249:if(r[t++]!==4||r[t+4]!==0)throw new Error("Invalid graphics extension block.");var b=r[t++];f=r[t++]|r[t++]<<8,h=r[t++],!(1&b)&&(h=null),d=b>>2&7,t++;break;case 254:for(;;){if(!((q=r[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}break;default:throw new Error("Unknown graphic control label: 0x"+r[t-1].toString(16))}break;case 44:var m=r[t++]|r[t++]<<8,g=r[t++]|r[t++]<<8,p=r[t++]|r[t++]<<8,v=r[t++]|r[t++]<<8,C=r[t++],j=C>>6&1,L=1<<(7&C)+1,$=u,M=a,z=!1;C>>7&&(z=!0,$=t,M=L,t+=3*L);var H=t;for(t++;;){var q;if(!((q=r[t++])>=0))throw Error("Invalid block size");if(q===0)break;t+=q}c.push({x:m,y:g,width:p,height:v,has_local_palette:z,palette_offset:$,palette_size:M,data_offset:H,data_length:t-H,transparent_index:h,interlaced:!!j,delay:f,disposal:d});break;case 59:o=!1;break;default:throw new Error("Unknown gif block: 0x"+r[t-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return y},this.frameInfo=function(B){if(B<0||B>=c.length)throw new Error("Frame index out of range.");return c[B]},this.decodeAndBlitFrameBGRA=function(B,A){var P=this.frameInfo(B),k=P.width*P.height,w=new Uint8Array(k);z2(r,P.data_offset,w,k);var S=P.palette_offset,x=P.transparent_index;x===null&&(x=256);var _=P.width,E=e-_,D=_,N=4*(P.y*e+P.x),U=4*((P.y+P.height)*e+P.x),V=N,J=4*E;P.interlaced===!0&&(J+=4*e*7);for(var F=8,Y=0,O=w.length;Y<O;++Y){var T=w[Y];if(D===0&&(D=_,(V+=J)>=U&&(J=4*E+4*e*(F-1),V=N+(_+E)*(F<<1),F>>=1)),T===x)V+=4;else{var G=r[S+3*T],Q=r[S+3*T+1],ne=r[S+3*T+2];A[V++]=ne,A[V++]=Q,A[V++]=G,A[V++]=255}--D}},this.decodeAndBlitFrameRGBA=function(B,A){var P=this.frameInfo(B),k=P.width*P.height,w=new Uint8Array(k);z2(r,P.data_offset,w,k);var S=P.palette_offset,x=P.transparent_index;x===null&&(x=256);var _=P.width,E=e-_,D=_,N=4*(P.y*e+P.x),U=4*((P.y+P.height)*e+P.x),V=N,J=4*E;P.interlaced===!0&&(J+=4*e*7);for(var F=8,Y=0,O=w.length;Y<O;++Y){var T=w[Y];if(D===0&&(D=_,(V+=J)>=U&&(J=4*E+4*e*(F-1),V=N+(_+E)*(F<<1),F>>=1)),T===x)V+=4;else{var G=r[S+3*T],Q=r[S+3*T+1],ne=r[S+3*T+2];A[V++]=G,A[V++]=Q,A[V++]=ne,A[V++]=255}--D}}}function z2(r,t,e,n){for(var l=r[t++],i=1<<l,s=i+1,u=s+1,a=l+1,o=(1<<a)-1,c=0,f=0,h=0,d=r[t++],y=new Int32Array(4096),b=null;;){for(;c<16&&d!==0;)f|=r[t++]<<c,c+=8,d===1?d=r[t++]:--d;if(c<a)break;var m=f&o;if(f>>=a,c-=a,m!==i){if(m===s)break;for(var g=m<u?m:b,p=0,v=g;v>i;)v=y[v]>>8,++p;var C=v;if(h+p+(g!==m?1:0)>n)return void _r.log("Warning, gif stream longer than expected.");e[h++]=C;var j=h+=p;for(g!==m&&(e[h++]=C),v=g;p--;)v=y[v],e[--j]=255&v,v>>=8;b!==null&&u<4096&&(y[u++]=b<<8|C,u>=o+1&&a<12&&(++a,o=o<<1|1)),b=m}else u=s+1,o=(1<<(a=l+1))-1,b=null}return h!==n&&_r.log("Warning, gif stream shorter than expected."),e}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Mp(r){var t,e,n,l,i,s=Math.floor,u=new Array(64),a=new Array(64),o=new Array(64),c=new Array(64),f=new Array(65535),h=new Array(65535),d=new Array(64),y=new Array(64),b=[],m=0,g=7,p=new Array(64),v=new Array(64),C=new Array(64),j=new Array(256),L=new Array(2048),$=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],H=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],q=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],B=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],P=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],k=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function w(N,U){for(var V=0,J=0,F=new Array,Y=1;Y<=16;Y++){for(var O=1;O<=N[Y];O++)F[U[J]]=[],F[U[J]][0]=V,F[U[J]][1]=Y,J++,V++;V*=2}return F}function S(N){for(var U=N[0],V=N[1]-1;V>=0;)U&1<<V&&(m|=1<<g),V--,--g<0&&(m==255?(x(255),x(0)):x(m),g=7,m=0)}function x(N){b.push(N)}function _(N){x(N>>8&255),x(255&N)}function E(N,U,V,J,F){for(var Y,O=F[0],T=F[240],G=function(ie,fe){var be,re,ve,_e,Re,Ge,Ze,Ye,et,ke,je=0;for(et=0;et<8;++et){be=ie[je],re=ie[je+1],ve=ie[je+2],_e=ie[je+3],Re=ie[je+4],Ge=ie[je+5],Ze=ie[je+6];var Ue=be+(Ye=ie[je+7]),Le=be-Ye,Ve=re+Ze,He=re-Ze,ot=ve+Ge,ct=ve-Ge,bt=_e+Re,Lt=_e-Re,pt=Ue+bt,Ft=Ue-bt,Bt=Ve+ot,xt=Ve-ot;ie[je]=pt+Bt,ie[je+4]=pt-Bt;var vt=.707106781*(xt+Ft);ie[je+2]=Ft+vt,ie[je+6]=Ft-vt;var Me=.382683433*((pt=Lt+ct)-(xt=He+Le)),Je=.5411961*pt+Me,Ce=1.306562965*xt+Me,We=.707106781*(Bt=ct+He),De=Le+We,Fe=Le-We;ie[je+5]=Fe+Je,ie[je+3]=Fe-Je,ie[je+1]=De+Ce,ie[je+7]=De-Ce,je+=8}for(je=0,et=0;et<8;++et){be=ie[je],re=ie[je+8],ve=ie[je+16],_e=ie[je+24],Re=ie[je+32],Ge=ie[je+40],Ze=ie[je+48];var Ke=be+(Ye=ie[je+56]),st=be-Ye,we=re+Ze,Ae=re-Ze,ze=ve+Ge,lt=ve-Ge,Et=_e+Re,ht=_e-Re,jt=Ke+Et,Ct=Ke-Et,_t=we+ze,It=we-ze;ie[je]=jt+_t,ie[je+32]=jt-_t;var Nt=.707106781*(It+Ct);ie[je+16]=Ct+Nt,ie[je+48]=Ct-Nt;var $t=.382683433*((jt=ht+lt)-(It=Ae+st)),pr=.5411961*jt+$t,ar=1.306562965*It+$t,kr=.707106781*(_t=lt+Ae),Cr=st+kr,Wr=st-kr;ie[je+40]=Wr+pr,ie[je+24]=Wr-pr,ie[je+8]=Cr+ar,ie[je+56]=Cr-ar,je++}for(et=0;et<64;++et)ke=ie[et]*fe[et],d[et]=ke>0?ke+.5|0:ke-.5|0;return d}(N,U),Q=0;Q<64;++Q)y[$[Q]]=G[Q];var ne=y[0]-V;V=y[0],ne==0?S(J[0]):(S(J[h[Y=32767+ne]]),S(f[Y]));for(var Z=63;Z>0&&y[Z]==0;)Z--;if(Z==0)return S(O),V;for(var oe,ue=1;ue<=Z;){for(var te=ue;y[ue]==0&&ue<=Z;)++ue;var se=ue-te;if(se>=16){oe=se>>4;for(var pe=1;pe<=oe;++pe)S(T);se&=15}Y=32767+y[ue],S(F[(se<<4)+h[Y]]),S(f[Y]),ue++}return Z!=63&&S(O),V}function D(N){N=Math.min(Math.max(N,1),100),i!=N&&(function(U){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],J=0;J<64;J++){var F=s((V[J]*U+50)/100);F=Math.min(Math.max(F,1),255),u[$[J]]=F}for(var Y=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],O=0;O<64;O++){var T=s((Y[O]*U+50)/100);T=Math.min(Math.max(T,1),255),a[$[O]]=T}for(var G=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Q=0,ne=0;ne<8;ne++)for(var Z=0;Z<8;Z++)o[Q]=1/(u[$[Q]]*G[ne]*G[Z]*8),c[Q]=1/(a[$[Q]]*G[ne]*G[Z]*8),Q++}(N<50?Math.floor(5e3/N):Math.floor(200-2*N)),i=N)}this.encode=function(N,U){U&&D(U),b=new Array,m=0,g=7,_(65496),_(65504),_(16),x(74),x(70),x(73),x(70),x(0),x(1),x(1),x(0),_(1),_(1),x(0),x(0),function(){_(65499),_(132),x(0);for(var re=0;re<64;re++)x(u[re]);x(1);for(var ve=0;ve<64;ve++)x(a[ve])}(),function(re,ve){_(65472),_(17),x(8),_(ve),_(re),x(3),x(1),x(17),x(0),x(2),x(17),x(1),x(3),x(17),x(1)}(N.width,N.height),function(){_(65476),_(418),x(0);for(var re=0;re<16;re++)x(M[re+1]);for(var ve=0;ve<=11;ve++)x(z[ve]);x(16);for(var _e=0;_e<16;_e++)x(H[_e+1]);for(var Re=0;Re<=161;Re++)x(q[Re]);x(1);for(var Ge=0;Ge<16;Ge++)x(B[Ge+1]);for(var Ze=0;Ze<=11;Ze++)x(A[Ze]);x(17);for(var Ye=0;Ye<16;Ye++)x(P[Ye+1]);for(var et=0;et<=161;et++)x(k[et])}(),_(65498),_(12),x(3),x(1),x(0),x(2),x(17),x(3),x(17),x(0),x(63),x(0);var V=0,J=0,F=0;m=0,g=7,this.encode.displayName="_encode_";for(var Y,O,T,G,Q,ne,Z,oe,ue,te=N.data,se=N.width,pe=N.height,ie=4*se,fe=0;fe<pe;){for(Y=0;Y<ie;){for(Q=ie*fe+Y,Z=-1,oe=0,ue=0;ue<64;ue++)ne=Q+(oe=ue>>3)*ie+(Z=4*(7&ue)),fe+oe>=pe&&(ne-=ie*(fe+1+oe-pe)),Y+Z>=ie&&(ne-=Y+Z-ie+4),O=te[ne++],T=te[ne++],G=te[ne++],p[ue]=(L[O]+L[T+256>>0]+L[G+512>>0]>>16)-128,v[ue]=(L[O+768>>0]+L[T+1024>>0]+L[G+1280>>0]>>16)-128,C[ue]=(L[O+1280>>0]+L[T+1536>>0]+L[G+1792>>0]>>16)-128;V=E(p,o,V,t,n),J=E(v,c,J,e,l),F=E(C,c,F,e,l),Y+=32}fe+=8}if(g>=0){var be=[];be[1]=g+1,be[0]=(1<<g+1)-1,S(be)}return _(65497),new Uint8Array(b)},r=r||50,function(){for(var N=String.fromCharCode,U=0;U<256;U++)j[U]=N(U)}(),t=w(M,z),e=w(B,A),n=w(H,q),l=w(P,k),function(){for(var N=1,U=2,V=1;V<=15;V++){for(var J=N;J<U;J++)h[32767+J]=V,f[32767+J]=[],f[32767+J][1]=V,f[32767+J][0]=J;for(var F=-(U-1);F<=-N;F++)h[32767+F]=V,f[32767+F]=[],f[32767+F][1]=V,f[32767+F][0]=U-1+F;N<<=1,U<<=1}}(),function(){for(var N=0;N<256;N++)L[N]=19595*N,L[N+256>>0]=38470*N,L[N+512>>0]=7471*N+32768,L[N+768>>0]=-11059*N,L[N+1024>>0]=-21709*N,L[N+1280>>0]=32768*N+8421375,L[N+1536>>0]=-27439*N,L[N+1792>>0]=-5329*N}(),D(r)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Wi(r,t){if(this.pos=0,this.buffer=r,this.datav=new DataView(r.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function U2(r){function t(M){if(!M)throw Error("assert :P")}function e(M,z,H){for(var q=0;4>q;q++)if(M[z+q]!=H.charCodeAt(q))return!0;return!1}function n(M,z,H,q,B){for(var A=0;A<B;A++)M[z+A]=H[q+A]}function l(M,z,H,q){for(var B=0;B<q;B++)M[z+B]=H}function i(M){return new Int32Array(M)}function s(M,z){for(var H=[],q=0;q<M;q++)H.push(new z);return H}function u(M,z){var H=[];return function q(B,A,P){for(var k=P[A],w=0;w<k&&(B.push(P.length>A+1?[]:new z),!(P.length<A+1));w++)q(B[w],A+1,P)}(H,0,M),H}var a=function(){var M=this;function z(I,W){for(var X=1<<W-1>>>0;I&X;)X>>>=1;return X?(I&X-1)+X:I}function H(I,W,X,ee,ae){t(!(ee%X));do I[W+(ee-=X)]=ae;while(0<ee)}function q(I,W,X,ee,ae){if(t(2328>=ae),512>=ae)var ce=i(512);else if((ce=i(ae))==null)return 0;return function(de,he,ge,ye,Te,$e){var qe,Ie,it=he,Xe=1<<ge,Pe=i(16),Ne=i(16);for(t(Te!=0),t(ye!=null),t(de!=null),t(0<ge),Ie=0;Ie<Te;++Ie){if(15<ye[Ie])return 0;++Pe[ye[Ie]]}if(Pe[0]==Te)return 0;for(Ne[1]=0,qe=1;15>qe;++qe){if(Pe[qe]>1<<qe)return 0;Ne[qe+1]=Ne[qe]+Pe[qe]}for(Ie=0;Ie<Te;++Ie)qe=ye[Ie],0<ye[Ie]&&($e[Ne[qe]++]=Ie);if(Ne[15]==1)return(ye=new B).g=0,ye.value=$e[0],H(de,it,1,Xe,ye),Xe;var rt,ut=-1,nt=Xe-1,kt=0,yt=1,Ut=1,wt=1<<ge;for(Ie=0,qe=1,Te=2;qe<=ge;++qe,Te<<=1){if(yt+=Ut<<=1,0>(Ut-=Pe[qe]))return 0;for(;0<Pe[qe];--Pe[qe])(ye=new B).g=qe,ye.value=$e[Ie++],H(de,it+kt,Te,wt,ye),kt=z(kt,qe)}for(qe=ge+1,Te=2;15>=qe;++qe,Te<<=1){if(yt+=Ut<<=1,0>(Ut-=Pe[qe]))return 0;for(;0<Pe[qe];--Pe[qe]){if(ye=new B,(kt&nt)!=ut){for(it+=wt,rt=1<<(ut=qe)-ge;15>ut&&!(0>=(rt-=Pe[ut]));)++ut,rt<<=1;Xe+=wt=1<<(rt=ut-ge),de[he+(ut=kt&nt)].g=rt+ge,de[he+ut].value=it-he-ut}ye.g=qe-ge,ye.value=$e[Ie++],H(de,it+(kt>>ge),Te,wt,ye),kt=z(kt,qe)}}return yt!=2*Ne[15]-1?0:Xe}(I,W,X,ee,ae,ce)}function B(){this.value=this.g=0}function A(){this.value=this.g=0}function P(){this.G=s(5,B),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(yn,A)}function k(I,W,X,ee){t(I!=null),t(W!=null),t(2147483648>ee),I.Ca=254,I.I=0,I.b=-8,I.Ka=0,I.oa=W,I.pa=X,I.Jd=W,I.Yc=X+ee,I.Zc=4<=ee?X+ee-4+1:X,Y(I)}function w(I,W){for(var X=0;0<W--;)X|=T(I,128)<<W;return X}function S(I,W){var X=w(I,W);return O(I)?-X:X}function x(I,W,X,ee){var ae,ce=0;for(t(I!=null),t(W!=null),t(4294967288>ee),I.Sb=ee,I.Ra=0,I.u=0,I.h=0,4<ee&&(ee=4),ae=0;ae<ee;++ae)ce+=W[X+ae]<<8*ae;I.Ra=ce,I.bb=ee,I.oa=W,I.pa=X}function _(I){for(;8<=I.u&&I.bb<I.Sb;)I.Ra>>>=8,I.Ra+=I.oa[I.pa+I.bb]<<za-8>>>0,++I.bb,I.u-=8;V(I)&&(I.h=1,I.u=0)}function E(I,W){if(t(0<=W),!I.h&&W<=Da){var X=U(I)&Ba[W];return I.u+=W,_(I),X}return I.h=1,I.u=0}function D(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function N(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(I){return I.Ra>>>(I.u&za-1)>>>0}function V(I){return t(I.bb<=I.Sb),I.h||I.bb==I.Sb&&I.u>za}function J(I,W){I.u=W,I.h=V(I)}function F(I){I.u>=hu&&(t(I.u>=hu),_(I))}function Y(I){t(I!=null&&I.oa!=null),I.pa<I.Zc?(I.I=(I.oa[I.pa++]|I.I<<8)>>>0,I.b+=8):(t(I!=null&&I.oa!=null),I.pa<I.Yc?(I.b+=8,I.I=I.oa[I.pa++]|I.I<<8):I.Ka?I.b=0:(I.I<<=8,I.b+=8,I.Ka=1))}function O(I){return w(I,1)}function T(I,W){var X=I.Ca;0>I.b&&Y(I);var ee=I.b,ae=X*W>>>8,ce=(I.I>>>ee>ae)+0;for(ce?(X-=ae,I.I-=ae+1<<ee>>>0):X=ae+1,ee=X,ae=0;256<=ee;)ae+=8,ee>>=8;return ee=7^ae+Gn[ee],I.b-=ee,I.Ca=(X<<ee)-1,ce}function G(I,W,X){I[W+0]=X>>24&255,I[W+1]=X>>16&255,I[W+2]=X>>8&255,I[W+3]=X>>0&255}function Q(I,W){return I[W+0]<<0|I[W+1]<<8}function ne(I,W){return Q(I,W)|I[W+2]<<16}function Z(I,W){return Q(I,W)|Q(I,W+2)<<16}function oe(I,W){var X=1<<W;return t(I!=null),t(0<W),I.X=i(X),I.X==null?0:(I.Mb=32-W,I.Xa=W,1)}function ue(I,W){t(I!=null),t(W!=null),t(I.Xa==W.Xa),n(W.X,0,I.X,0,1<<W.Xa)}function te(){this.X=[],this.Xa=this.Mb=0}function se(I,W,X,ee){t(X!=null),t(ee!=null);var ae=X[0],ce=ee[0];return ae==0&&(ae=(I*ce+W/2)/W),ce==0&&(ce=(W*ae+I/2)/I),0>=ae||0>=ce?0:(X[0]=ae,ee[0]=ce,1)}function pe(I,W){return I+(1<<W)-1>>>W}function ie(I,W){return((4278255360&I)+(4278255360&W)>>>0&4278255360)+((16711935&I)+(16711935&W)>>>0&16711935)>>>0}function fe(I,W){M[W]=function(X,ee,ae,ce,de,he,ge){var ye;for(ye=0;ye<de;++ye){var Te=M[I](he[ge+ye-1],ae,ce+ye);he[ge+ye]=ie(X[ee+ye],Te)}}}function be(){this.ud=this.hd=this.jd=0}function re(I,W){return((4278124286&(I^W))>>>1)+(I&W)>>>0}function ve(I){return 0<=I&&256>I?I:0>I?0:255<I?255:void 0}function _e(I,W){return ve(I+(I-W+.5>>1))}function Re(I,W,X){return Math.abs(W-X)-Math.abs(I-X)}function Ge(I,W,X,ee,ae,ce,de){for(ee=ce[de-1],X=0;X<ae;++X)ce[de+X]=ee=ie(I[W+X],ee)}function Ze(I,W,X,ee,ae){var ce;for(ce=0;ce<X;++ce){var de=I[W+ce],he=de>>8&255,ge=16711935&(ge=(ge=16711935&de)+((he<<16)+he));ee[ae+ce]=(4278255360&de)+ge>>>0}}function Ye(I,W){W.jd=I>>0&255,W.hd=I>>8&255,W.ud=I>>16&255}function et(I,W,X,ee,ae,ce){var de;for(de=0;de<ee;++de){var he=W[X+de],ge=he>>>8,ye=he,Te=255&(Te=(Te=he>>>16)+((I.jd<<24>>24)*(ge<<24>>24)>>>5));ye=255&(ye=(ye=ye+((I.hd<<24>>24)*(ge<<24>>24)>>>5))+((I.ud<<24>>24)*(Te<<24>>24)>>>5)),ae[ce+de]=(4278255360&he)+(Te<<16)+ye}}function ke(I,W,X,ee,ae){M[W]=function(ce,de,he,ge,ye,Te,$e,qe,Ie){for(ge=$e;ge<qe;++ge)for($e=0;$e<Ie;++$e)ye[Te++]=ae(he[ee(ce[de++])])},M[I]=function(ce,de,he,ge,ye,Te,$e){var qe=8>>ce.b,Ie=ce.Ea,it=ce.K[0],Xe=ce.w;if(8>qe)for(ce=(1<<ce.b)-1,Xe=(1<<qe)-1;de<he;++de){var Pe,Ne=0;for(Pe=0;Pe<Ie;++Pe)Pe&ce||(Ne=ee(ge[ye++])),Te[$e++]=ae(it[Ne&Xe]),Ne>>=qe}else M["VP8LMapColor"+X](ge,ye,it,Xe,Te,$e,de,he,Ie)}}function je(I,W,X,ee,ae){for(X=W+X;W<X;){var ce=I[W++];ee[ae++]=ce>>16&255,ee[ae++]=ce>>8&255,ee[ae++]=ce>>0&255}}function Ue(I,W,X,ee,ae){for(X=W+X;W<X;){var ce=I[W++];ee[ae++]=ce>>16&255,ee[ae++]=ce>>8&255,ee[ae++]=ce>>0&255,ee[ae++]=ce>>24&255}}function Le(I,W,X,ee,ae){for(X=W+X;W<X;){var ce=(de=I[W++])>>16&240|de>>12&15,de=de>>0&240|de>>28&15;ee[ae++]=ce,ee[ae++]=de}}function Ve(I,W,X,ee,ae){for(X=W+X;W<X;){var ce=(de=I[W++])>>16&248|de>>13&7,de=de>>5&224|de>>3&31;ee[ae++]=ce,ee[ae++]=de}}function He(I,W,X,ee,ae){for(X=W+X;W<X;){var ce=I[W++];ee[ae++]=ce>>0&255,ee[ae++]=ce>>8&255,ee[ae++]=ce>>16&255}}function ot(I,W,X,ee,ae,ce){if(ce==0)for(X=W+X;W<X;)G(ee,((ce=I[W++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),ae+=32;else n(ee,ae,I,W,X)}function ct(I,W){M[W][0]=M[I+"0"],M[W][1]=M[I+"1"],M[W][2]=M[I+"2"],M[W][3]=M[I+"3"],M[W][4]=M[I+"4"],M[W][5]=M[I+"5"],M[W][6]=M[I+"6"],M[W][7]=M[I+"7"],M[W][8]=M[I+"8"],M[W][9]=M[I+"9"],M[W][10]=M[I+"10"],M[W][11]=M[I+"11"],M[W][12]=M[I+"12"],M[W][13]=M[I+"13"],M[W][14]=M[I+"0"],M[W][15]=M[I+"0"]}function bt(I){return I==jf||I==Tf||I==id||I==Pf}function Lt(){this.eb=[],this.size=this.A=this.fb=0}function pt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ft(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Lt,this.f.kb=new pt,this.sd=null}function Bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function xt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function vt(I){return alert("todo:WebPSamplerProcessPlane"),I.T}function Me(I,W){var X=I.T,ee=W.ba.f.RGBA,ae=ee.eb,ce=ee.fb+I.ka*ee.A,de=Ai[W.ba.S],he=I.y,ge=I.O,ye=I.f,Te=I.N,$e=I.ea,qe=I.W,Ie=W.cc,it=W.dc,Xe=W.Mc,Pe=W.Nc,Ne=I.ka,rt=I.ka+I.T,ut=I.U,nt=ut+1>>1;for(Ne==0?de(he,ge,null,null,ye,Te,$e,qe,ye,Te,$e,qe,ae,ce,null,null,ut):(de(W.ec,W.fc,he,ge,Ie,it,Xe,Pe,ye,Te,$e,qe,ae,ce-ee.A,ae,ce,ut),++X);Ne+2<rt;Ne+=2)Ie=ye,it=Te,Xe=$e,Pe=qe,Te+=I.Rc,qe+=I.Rc,ce+=2*ee.A,de(he,(ge+=2*I.fa)-I.fa,he,ge,Ie,it,Xe,Pe,ye,Te,$e,qe,ae,ce-ee.A,ae,ce,ut);return ge+=I.fa,I.j+rt<I.o?(n(W.ec,W.fc,he,ge,ut),n(W.cc,W.dc,ye,Te,nt),n(W.Mc,W.Nc,$e,qe,nt),X--):1&rt||de(he,ge,null,null,ye,Te,$e,qe,ye,Te,$e,qe,ae,ce+ee.A,null,null,ut),X}function Je(I,W,X){var ee=I.F,ae=[I.J];if(ee!=null){var ce=I.U,de=W.ba.S,he=de==nd||de==id;W=W.ba.f.RGBA;var ge=[0],ye=I.ka;ge[0]=I.T,I.Kb&&(ye==0?--ge[0]:(--ye,ae[0]-=I.width),I.j+I.ka+I.T==I.o&&(ge[0]=I.o-I.j-ye));var Te=W.eb;ye=W.fb+ye*W.A,I=Er(ee,ae[0],I.width,ce,ge,Te,ye+(he?0:3),W.A),t(X==ge),I&&bt(de)&&ki(Te,ye,he,ce,ge,W.A)}return 0}function Ce(I){var W=I.ma,X=W.ba.S,ee=11>X,ae=X==td||X==rd||X==nd||X==Ef||X==12||bt(X);if(W.memory=null,W.Ib=null,W.Jb=null,W.Nd=null,!cu(W.Oa,I,ae?11:12))return 0;if(ae&&bt(X)&&dt(),I.da)alert("todo:use_scaling");else{if(ee){if(W.Ib=vt,I.Kb){if(X=I.U+1>>1,W.memory=i(I.U+2*X),W.memory==null)return 0;W.ec=W.memory,W.fc=0,W.cc=W.ec,W.dc=W.fc+I.U,W.Mc=W.cc,W.Nc=W.dc+X,W.Ib=Me,dt()}}else alert("todo:EmitYUV");ae&&(W.Jb=Je,ee&&Oe())}if(ee&&!C1){for(I=0;256>I;++I)rw[I]=89858*(I-128)+od>>sd,sw[I]=-22014*(I-128)+od,iw[I]=-45773*(I-128),nw[I]=113618*(I-128)+od>>sd;for(I=vu;I<If;++I)W=76283*(I-16)+od>>sd,ow[I-vu]=li(W,255),aw[I-vu]=li(W+8>>4,15);C1=1}return 1}function We(I){var W=I.ma,X=I.U,ee=I.T;return t(!(1&I.ka)),0>=X||0>=ee?0:(X=W.Ib(I,W),W.Jb!=null&&W.Jb(I,W,X),W.Dc+=X,1)}function De(I){I.ma.memory=null}function Fe(I,W,X,ee){return E(I,8)!=47?0:(W[0]=E(I,14)+1,X[0]=E(I,14)+1,ee[0]=E(I,1),E(I,3)!=0?0:!I.h)}function Ke(I,W){if(4>I)return I+1;var X=I-2>>1;return(2+(1&I)<<X)+E(W,X)+1}function st(I,W){return 120<W?W-120:1<=(X=((X=$5[W-1])>>4)*I+(8-(15&X)))?X:1;var X}function we(I,W,X){var ee=U(X),ae=I[W+=255&ee].g-8;return 0<ae&&(J(X,X.u+8),ee=U(X),W+=I[W].value,W+=ee&(1<<ae)-1),J(X,X.u+I[W].g),I[W].value}function Ae(I,W,X){return X.g+=I.g,X.value+=I.value<<W>>>0,t(8>=X.g),I.g}function ze(I,W,X){var ee=I.xc;return t((W=ee==0?0:I.vc[I.md*(X>>ee)+(W>>ee)])<I.Wb),I.Ya[W]}function lt(I,W,X,ee){var ae=I.ab,ce=I.c*W,de=I.C;W=de+W;var he=X,ge=ee;for(ee=I.Ta,X=I.Ua;0<ae--;){var ye=I.gc[ae],Te=de,$e=W,qe=he,Ie=ge,it=(ge=ee,he=X,ye.Ea);switch(t(Te<$e),t($e<=ye.nc),ye.hc){case 2:Kc(qe,Ie,($e-Te)*it,ge,he);break;case 0:var Xe=Te,Pe=$e,Ne=ge,rt=he,ut=(wt=ye).Ea;Xe==0&&(Cf(qe,Ie,null,null,1,Ne,rt),Ge(qe,Ie+1,0,0,ut-1,Ne,rt+1),Ie+=ut,rt+=ut,++Xe);for(var nt=1<<wt.b,kt=nt-1,yt=pe(ut,wt.b),Ut=wt.K,wt=wt.w+(Xe>>wt.b)*yt;Xe<Pe;){var fr=Ut,mr=wt,dr=1;for(fu(qe,Ie,Ne,rt-ut,1,Ne,rt);dr<ut;){var sr=(dr&~kt)+nt;sr>ut&&(sr=ut),(0,no[fr[mr++]>>8&15])(qe,Ie+ +dr,Ne,rt+dr-ut,sr-dr,Ne,rt+dr),dr=sr}Ie+=ut,rt+=ut,++Xe&kt||(wt+=yt)}$e!=ye.nc&&n(ge,he-it,ge,he+($e-Te-1)*it,it);break;case 1:for(it=qe,Pe=Ie,ut=(qe=ye.Ea)-(rt=qe&~(Ne=(Ie=1<<ye.b)-1)),Xe=pe(qe,ye.b),nt=ye.K,ye=ye.w+(Te>>ye.b)*Xe;Te<$e;){for(kt=nt,yt=ye,Ut=new be,wt=Pe+rt,fr=Pe+qe;Pe<wt;)Ye(kt[yt++],Ut),Zo(Ut,it,Pe,Ie,ge,he),Pe+=Ie,he+=Ie;Pe<fr&&(Ye(kt[yt++],Ut),Zo(Ut,it,Pe,ut,ge,he),Pe+=ut,he+=ut),++Te&Ne||(ye+=Xe)}break;case 3:if(qe==ge&&Ie==he&&0<ye.b){for(Pe=ge,qe=it=he+($e-Te)*it-(rt=($e-Te)*pe(ye.Ea,ye.b)),Ie=ge,Ne=he,Xe=[],rt=(ut=rt)-1;0<=rt;--rt)Xe[rt]=Ie[Ne+rt];for(rt=ut-1;0<=rt;--rt)Pe[qe+rt]=Xe[rt];xi(ye,Te,$e,ge,it,ge,he)}else xi(ye,Te,$e,qe,Ie,ge,he)}he=ee,ge=X}ge!=X&&n(ee,X,he,ge,ce)}function Et(I,W){var X=I.V,ee=I.Ba+I.c*I.C,ae=W-I.C;if(t(W<=I.l.o),t(16>=ae),0<ae){var ce=I.l,de=I.Ta,he=I.Ua,ge=ce.width;if(lt(I,ae,X,ee),ae=he=[he],t((X=I.C)<(ee=W)),t(ce.v<ce.va),ee>ce.o&&(ee=ce.o),X<ce.j){var ye=ce.j-X;X=ce.j,ae[0]+=ye*ge}if(X>=ee?X=0:(ae[0]+=4*ce.v,ce.ka=X-ce.j,ce.U=ce.va-ce.v,ce.T=ee-X,X=1),X){if(he=he[0],11>(X=I.ca).S){var Te=X.f.RGBA,$e=(ee=X.S,ae=ce.U,ce=ce.T,ye=Te.eb,Te.A),qe=ce;for(Te=Te.fb+I.Ma*Te.A;0<qe--;){var Ie=de,it=he,Xe=ae,Pe=ye,Ne=Te;switch(ee){case ed:Kn(Ie,it,Xe,Pe,Ne);break;case td:zn(Ie,it,Xe,Pe,Ne);break;case jf:zn(Ie,it,Xe,Pe,Ne),ki(Pe,Ne,0,Xe,1,0);break;case g1:js(Ie,it,Xe,Pe,Ne);break;case rd:ot(Ie,it,Xe,Pe,Ne,1);break;case Tf:ot(Ie,it,Xe,Pe,Ne,1),ki(Pe,Ne,0,Xe,1,0);break;case nd:ot(Ie,it,Xe,Pe,Ne,0);break;case id:ot(Ie,it,Xe,Pe,Ne,0),ki(Pe,Ne,1,Xe,1,0);break;case Ef:io(Ie,it,Xe,Pe,Ne);break;case Pf:io(Ie,it,Xe,Pe,Ne),Ar(Pe,Ne,Xe,1,0);break;case b1:Es(Ie,it,Xe,Pe,Ne);break;default:t(0)}he+=ge,Te+=$e}I.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");t(I.Ma<=X.height)}}I.C=W,t(I.C<=I.i)}function ht(I){var W;if(0<I.ua)return 0;for(W=0;W<I.Wb;++W){var X=I.Ya[W].G,ee=I.Ya[W].H;if(0<X[1][ee[1]+0].g||0<X[2][ee[2]+0].g||0<X[3][ee[3]+0].g)return 0}return 1}function jt(I,W,X,ee,ae,ce){if(I.Z!=0){var de=I.qd,he=I.rd;for(t(lo[I.Z]!=null);W<X;++W)lo[I.Z](de,he,ee,ae,ee,ae,ce),de=ee,he=ae,ae+=ce;I.qd=de,I.rd=he}}function Ct(I,W){var X=I.l.ma,ee=X.Z==0||X.Z==1?I.l.j:I.C;if(ee=I.C<ee?ee:I.C,t(W<=I.l.o),W>ee){var ae=I.l.width,ce=X.ca,de=X.tb+ae*ee,he=I.V,ge=I.Ba+I.c*ee,ye=I.gc;t(I.ab==1),t(ye[0].hc==3),Xc(ye[0],ee,W,he,ge,ce,de),jt(X,ee,W,ce,de,ae)}I.C=I.Ma=W}function _t(I,W,X,ee,ae,ce,de){var he=I.$/ee,ge=I.$%ee,ye=I.m,Te=I.s,$e=X+I.$,qe=$e;ae=X+ee*ae;var Ie=X+ee*ce,it=280+Te.ua,Xe=I.Pb?he:16777216,Pe=0<Te.ua?Te.Wa:null,Ne=Te.wc,rt=$e<Ie?ze(Te,ge,he):null;t(I.C<ce),t(Ie<=ae);var ut=!1;e:for(;;){for(;ut||$e<Ie;){var nt=0;if(he>=Xe){var kt=$e-X;t((Xe=I).Pb),Xe.wd=Xe.m,Xe.xd=kt,0<Xe.s.ua&&ue(Xe.s.Wa,Xe.s.vb),Xe=he+W5}if(ge&Ne||(rt=ze(Te,ge,he)),t(rt!=null),rt.Qb&&(W[$e]=rt.qb,ut=!0),!ut)if(F(ye),rt.jc){nt=ye,kt=W;var yt=$e,Ut=rt.pd[U(nt)&yn-1];t(rt.jc),256>Ut.g?(J(nt,nt.u+Ut.g),kt[yt]=Ut.value,nt=0):(J(nt,nt.u+Ut.g-256),t(256<=Ut.value),nt=Ut.value),nt==0&&(ut=!0)}else nt=we(rt.G[0],rt.H[0],ye);if(ye.h)break;if(ut||256>nt){if(!ut)if(rt.nd)W[$e]=(rt.qb|nt<<8)>>>0;else{if(F(ye),ut=we(rt.G[1],rt.H[1],ye),F(ye),kt=we(rt.G[2],rt.H[2],ye),yt=we(rt.G[3],rt.H[3],ye),ye.h)break;W[$e]=(yt<<24|ut<<16|nt<<8|kt)>>>0}if(ut=!1,++$e,++ge>=ee&&(ge=0,++he,de!=null&&he<=ce&&!(he%16)&&de(I,he),Pe!=null))for(;qe<$e;)nt=W[qe++],Pe.X[(506832829*nt&4294967295)>>>Pe.Mb]=nt}else if(280>nt){if(nt=Ke(nt-256,ye),kt=we(rt.G[4],rt.H[4],ye),F(ye),kt=st(ee,kt=Ke(kt,ye)),ye.h)break;if($e-X<kt||ae-$e<nt)break e;for(yt=0;yt<nt;++yt)W[$e+yt]=W[$e+yt-kt];for($e+=nt,ge+=nt;ge>=ee;)ge-=ee,++he,de!=null&&he<=ce&&!(he%16)&&de(I,he);if(t($e<=ae),ge&Ne&&(rt=ze(Te,ge,he)),Pe!=null)for(;qe<$e;)nt=W[qe++],Pe.X[(506832829*nt&4294967295)>>>Pe.Mb]=nt}else{if(!(nt<it))break e;for(ut=nt-280,t(Pe!=null);qe<$e;)nt=W[qe++],Pe.X[(506832829*nt&4294967295)>>>Pe.Mb]=nt;nt=$e,t(!(ut>>>(kt=Pe).Xa)),W[nt]=kt.X[ut],ut=!0}ut||t(ye.h==V(ye))}if(I.Pb&&ye.h&&$e<ae)t(I.m.h),I.a=5,I.m=I.wd,I.$=I.xd,0<I.s.ua&&ue(I.s.vb,I.s.Wa);else{if(ye.h)break e;de!=null&&de(I,he>ce?ce:he),I.a=0,I.$=$e-X}return 1}return I.a=3,0}function It(I){t(I!=null),I.vc=null,I.yc=null,I.Ya=null;var W=I.Wa;W!=null&&(W.X=null),I.vb=null,t(I!=null)}function Nt(){var I=new kf;return I==null?null:(I.a=0,I.xb=w1,ct("Predictor","VP8LPredictors"),ct("Predictor","VP8LPredictors_C"),ct("PredictorAdd","VP8LPredictorsAdd"),ct("PredictorAdd","VP8LPredictorsAdd_C"),Kc=Ze,Zo=et,Kn=je,zn=Ue,io=Le,Es=Ve,js=He,M.VP8LMapColor32b=Ua,M.VP8LMapColor8b=Yc,I)}function $t(I,W,X,ee,ae){var ce=1,de=[I],he=[W],ge=ee.m,ye=ee.s,Te=null,$e=0;e:for(;;){if(X)for(;ce&&E(ge,1);){var qe=de,Ie=he,it=ee,Xe=1,Pe=it.m,Ne=it.gc[it.ab],rt=E(Pe,2);if(it.Oc&1<<rt)ce=0;else{switch(it.Oc|=1<<rt,Ne.hc=rt,Ne.Ea=qe[0],Ne.nc=Ie[0],Ne.K=[null],++it.ab,t(4>=it.ab),rt){case 0:case 1:Ne.b=E(Pe,3)+2,Xe=$t(pe(Ne.Ea,Ne.b),pe(Ne.nc,Ne.b),0,it,Ne.K),Ne.K=Ne.K[0];break;case 3:var ut,nt=E(Pe,8)+1,kt=16<nt?0:4<nt?1:2<nt?2:3;if(qe[0]=pe(Ne.Ea,kt),Ne.b=kt,ut=Xe=$t(nt,1,0,it,Ne.K)){var yt,Ut=nt,wt=Ne,fr=1<<(8>>wt.b),mr=i(fr);if(mr==null)ut=0;else{var dr=wt.K[0],sr=wt.w;for(mr[0]=wt.K[0][0],yt=1;yt<1*Ut;++yt)mr[yt]=ie(dr[sr+yt],mr[yt-1]);for(;yt<4*fr;++yt)mr[yt]=0;wt.K[0]=null,wt.K[0]=mr,ut=1}}Xe=ut;break;case 2:break;default:t(0)}ce=Xe}}if(de=de[0],he=he[0],ce&&E(ge,1)&&!(ce=1<=($e=E(ge,4))&&11>=$e)){ee.a=3;break e}var xr;if(xr=ce)t:{var wr,Qt,tn,Xn=ee,rn=de,Yn=he,gr=$e,ci=X,di=Xn.m,hn=Xn.s,vn=[null],$n=1,Ei=0,os=q5[gr];r:for(;;){if(ci&&E(di,1)){var fn=E(di,3)+2,Rs=pe(rn,fn),na=pe(Yn,fn),Va=Rs*na;if(!$t(Rs,na,0,Xn,vn))break r;for(vn=vn[0],hn.xc=fn,wr=0;wr<Va;++wr){var uo=vn[wr]>>8&65535;vn[wr]=uo,uo>=$n&&($n=uo+1)}}if(di.h)break r;for(Qt=0;5>Qt;++Qt){var Ur=y1[Qt];!Qt&&0<gr&&(Ur+=1<<gr),Ei<Ur&&(Ei=Ur)}var Mf=s($n*os,B),j1=$n,T1=s(j1,P);if(T1==null)var ld=null;else t(65536>=j1),ld=T1;var wu=i(Ei);if(ld==null||wu==null||Mf==null){Xn.a=1;break r}var ud=Mf;for(wr=tn=0;wr<$n;++wr){var Ui=ld[wr],Ga=Ui.G,Ka=Ui.H,P1=0,cd=1,N1=0;for(Qt=0;5>Qt;++Qt){Ur=y1[Qt],Ga[Qt]=ud,Ka[Qt]=tn,!Qt&&0<gr&&(Ur+=1<<gr);i:{var dd,Lf=Ur,hd=Xn,xu=wu,cw=ud,dw=tn,Of=0,co=hd.m,hw=E(co,1);if(l(xu,0,0,Lf),hw){var fw=E(co,1)+1,pw=E(co,1),R1=E(co,pw==0?1:8);xu[R1]=1,fw==2&&(xu[R1=E(co,8)]=1);var fd=1}else{var I1=i(19),M1=E(co,4)+4;if(19<M1){hd.a=3;var pd=0;break i}for(dd=0;dd<M1;++dd)I1[U5[dd]]=E(co,3);var Ff=void 0,_u=void 0,L1=hd,mw=I1,md=Lf,O1=xu,Bf=0,ho=L1.m,F1=8,B1=s(128,B);n:for(;q(B1,0,7,mw,19);){if(E(ho,1)){var gw=2+2*E(ho,3);if((Ff=2+E(ho,gw))>md)break n}else Ff=md;for(_u=0;_u<md&&Ff--;){F(ho);var D1=B1[0+(127&U(ho))];J(ho,ho.u+D1.g);var Xa=D1.value;if(16>Xa)O1[_u++]=Xa,Xa!=0&&(F1=Xa);else{var bw=Xa==16,z1=Xa-16,yw=D5[z1],U1=E(ho,B5[z1])+yw;if(_u+U1>md)break n;for(var vw=bw?F1:0;0<U1--;)O1[_u++]=vw}}Bf=1;break n}Bf||(L1.a=3),fd=Bf}(fd=fd&&!co.h)&&(Of=q(cw,dw,8,xu,Lf)),fd&&Of!=0?pd=Of:(hd.a=3,pd=0)}if(pd==0)break r;if(cd&&z5[Qt]==1&&(cd=ud[tn].g==0),P1+=ud[tn].g,tn+=pd,3>=Qt){var Su,Df=wu[0];for(Su=1;Su<Ur;++Su)wu[Su]>Df&&(Df=wu[Su]);N1+=Df}}if(Ui.nd=cd,Ui.Qb=0,cd&&(Ui.qb=(Ga[3][Ka[3]+0].value<<24|Ga[1][Ka[1]+0].value<<16|Ga[2][Ka[2]+0].value)>>>0,P1==0&&256>Ga[0][Ka[0]+0].value&&(Ui.Qb=1,Ui.qb+=Ga[0][Ka[0]+0].value<<8)),Ui.jc=!Ui.Qb&&6>N1,Ui.jc){var gd,Is=Ui;for(gd=0;gd<yn;++gd){var fo=gd,po=Is.pd[fo],bd=Is.G[0][Is.H[0]+fo];256<=bd.value?(po.g=bd.g+256,po.value=bd.value):(po.g=0,po.value=0,fo>>=Ae(bd,8,po),fo>>=Ae(Is.G[1][Is.H[1]+fo],16,po),fo>>=Ae(Is.G[2][Is.H[2]+fo],0,po),Ae(Is.G[3][Is.H[3]+fo],24,po))}}}hn.vc=vn,hn.Wb=$n,hn.Ya=ld,hn.yc=Mf,xr=1;break t}xr=0}if(!(ce=xr)){ee.a=3;break e}if(0<$e){if(ye.ua=1<<$e,!oe(ye.Wa,$e)){ee.a=1,ce=0;break e}}else ye.ua=0;var zf=ee,$1=de,ww=he,Uf=zf.s,$f=Uf.xc;if(zf.c=$1,zf.i=ww,Uf.md=pe($1,$f),Uf.wc=$f==0?-1:(1<<$f)-1,X){ee.xb=J5;break e}if((Te=i(de*he))==null){ee.a=1,ce=0;break e}ce=(ce=_t(ee,Te,0,de,he,he,null))&&!ge.h;break e}return ce?(ae!=null?ae[0]=Te:(t(Te==null),t(X)),ee.$=0,X||It(ye)):It(ye),ce}function pr(I,W){var X=I.c*I.i,ee=X+W+16*W;return t(I.c<=W),I.V=i(ee),I.V==null?(I.Ta=null,I.Ua=0,I.a=1,0):(I.Ta=I.V,I.Ua=I.Ba+X+W,1)}function ar(I,W){var X=I.C,ee=W-X,ae=I.V,ce=I.Ba+I.c*X;for(t(W<=I.l.o);0<ee;){var de=16<ee?16:ee,he=I.l.ma,ge=I.l.width,ye=ge*de,Te=he.ca,$e=he.tb+ge*X,qe=I.Ta,Ie=I.Ua;lt(I,de,ae,ce),Kr(qe,Ie,Te,$e,ye),jt(he,X,X+de,Te,$e,ge),ee-=de,ae+=de*I.c,X+=de}t(X==W),I.C=I.Ma=W}function kr(){this.ub=this.yd=this.td=this.Rb=0}function Cr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Wr(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function xe(){this.Yb=function(){var I=[];return function W(X,ee,ae){for(var ce=ae[ee],de=0;de<ce&&(X.push(ae.length>ee+1?[]:0),!(ae.length<ee+1));de++)W(X[de],ee+1,ae)}(I,0,[3,11]),I}()}function Be(){this.jb=i(3),this.Wc=u([4,8],xe),this.Xc=u([4,17],xe)}function tt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function at(){this.ld=this.La=this.dd=this.tc=0}function Tt(){this.Na=this.la=0}function mt(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function gt(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function er(){this.uc=this.M=this.Nb=0,this.wa=Array(new at),this.Y=0,this.ya=Array(new gt),this.aa=0,this.l=new Mt}function Gt(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Kt(){this.cb=this.a=0,this.sc="",this.m=new D,this.Od=new kr,this.Kc=new Cr,this.ed=new tt,this.Qa=new Wr,this.Ic=this.$c=this.Aa=0,this.D=new er,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,D),this.ia=0,this.pb=s(4,mt),this.Pa=new Be,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gt),this.Hd=0,this.rb=Array(new Tt),this.sb=0,this.wa=Array(new at),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new gt),this.L=this.aa=0,this.gd=u([4,2],at),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Mt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function lr(){var I=new Kt;return I!=null&&(I.a=0,I.sc="OK",I.cb=0,I.Xb=0,yu||(yu=Lr)),I}function zt(I,W,X){return I.a==0&&(I.a=W,I.sc=X,I.cb=0),0}function ur(I,W,X){return 3<=X&&I[W+0]==157&&I[W+1]==1&&I[W+2]==42}function vr(I,W){if(I==null)return 0;if(I.a=0,I.sc="OK",W==null)return zt(I,2,"null VP8Io passed to VP8GetHeaders()");var X=W.data,ee=W.w,ae=W.ha;if(4>ae)return zt(I,7,"Truncated header.");var ce=X[ee+0]|X[ee+1]<<8|X[ee+2]<<16,de=I.Od;if(de.Rb=!(1&ce),de.td=ce>>1&7,de.yd=ce>>4&1,de.ub=ce>>5,3<de.td)return zt(I,3,"Incorrect keyframe parameters.");if(!de.yd)return zt(I,4,"Frame not displayable.");ee+=3,ae-=3;var he=I.Kc;if(de.Rb){if(7>ae)return zt(I,7,"cannot parse picture header");if(!ur(X,ee,ae))return zt(I,3,"Bad code word");he.c=16383&(X[ee+4]<<8|X[ee+3]),he.Td=X[ee+4]>>6,he.i=16383&(X[ee+6]<<8|X[ee+5]),he.Ud=X[ee+6]>>6,ee+=7,ae-=7,I.za=he.c+15>>4,I.Ub=he.i+15>>4,W.width=he.c,W.height=he.i,W.Da=0,W.j=0,W.v=0,W.va=W.width,W.o=W.height,W.da=0,W.ib=W.width,W.hb=W.height,W.U=W.width,W.T=W.height,l((ce=I.Pa).jb,0,255,ce.jb.length),t((ce=I.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,l(ce.Zb,0,0,ce.Zb.length),l(ce.Lb,0,0,ce.Lb)}if(de.ub>ae)return zt(I,7,"bad partition length");k(ce=I.m,X,ee,de.ub),ee+=de.ub,ae-=de.ub,de.Rb&&(he.Ld=O(ce),he.Kd=O(ce)),he=I.Qa;var ge,ye=I.Pa;if(t(ce!=null),t(he!=null),he.Cb=O(ce),he.Cb){if(he.Bb=O(ce),O(ce)){for(he.Fb=O(ce),ge=0;4>ge;++ge)he.Zb[ge]=O(ce)?S(ce,7):0;for(ge=0;4>ge;++ge)he.Lb[ge]=O(ce)?S(ce,6):0}if(he.Bb)for(ge=0;3>ge;++ge)ye.jb[ge]=O(ce)?w(ce,8):255}else he.Bb=0;if(ce.Ka)return zt(I,3,"cannot parse segment header");if((he=I.ed).zd=O(ce),he.Tb=w(ce,6),he.wb=w(ce,3),he.Pc=O(ce),he.Pc&&O(ce)){for(ye=0;4>ye;++ye)O(ce)&&(he.vd[ye]=S(ce,6));for(ye=0;4>ye;++ye)O(ce)&&(he.od[ye]=S(ce,6))}if(I.L=he.Tb==0?0:he.zd?1:2,ce.Ka)return zt(I,3,"cannot parse filter header");var Te=ae;if(ae=ge=ee,ee=ge+Te,he=Te,I.Xb=(1<<w(I.m,2))-1,Te<3*(ye=I.Xb))X=7;else{for(ge+=3*ye,he-=3*ye,Te=0;Te<ye;++Te){var $e=X[ae+0]|X[ae+1]<<8|X[ae+2]<<16;$e>he&&($e=he),k(I.Jc[+Te],X,ge,$e),ge+=$e,he-=$e,ae+=3}k(I.Jc[+ye],X,ge,he),X=ge<ee?0:5}if(X!=0)return zt(I,X,"cannot parse partitions");for(X=w(ge=I.m,7),ae=O(ge)?S(ge,4):0,ee=O(ge)?S(ge,4):0,he=O(ge)?S(ge,4):0,ye=O(ge)?S(ge,4):0,ge=O(ge)?S(ge,4):0,Te=I.Qa,$e=0;4>$e;++$e){if(Te.Cb){var qe=Te.Zb[$e];Te.Fb||(qe+=X)}else{if(0<$e){I.pb[$e]=I.pb[0];continue}qe=X}var Ie=I.pb[$e];Ie.Sc[0]=Nf[li(qe+ae,127)],Ie.Sc[1]=Rf[li(qe+0,127)],Ie.Eb[0]=2*Nf[li(qe+ee,127)],Ie.Eb[1]=101581*Rf[li(qe+he,127)]>>16,8>Ie.Eb[1]&&(Ie.Eb[1]=8),Ie.Qc[0]=Nf[li(qe+ye,117)],Ie.Qc[1]=Rf[li(qe+ge,127)],Ie.lc=qe+ge}if(!de.Rb)return zt(I,4,"Not a key frame.");for(O(ce),de=I.Pa,X=0;4>X;++X){for(ae=0;8>ae;++ae)for(ee=0;3>ee;++ee)for(he=0;11>he;++he)ye=T(ce,X5[X][ae][ee][he])?w(ce,8):G5[X][ae][ee][he],de.Wc[X][ae].Yb[ee][he]=ye;for(ae=0;17>ae;++ae)de.Xc[X][ae]=de.Wc[X][Y5[ae]]}return I.kc=O(ce),I.kc&&(I.Bd=w(ce,8)),I.cb=1}function Lr(I,W,X,ee,ae,ce,de){var he=W[ae].Yb[X];for(X=0;16>ae;++ae){if(!T(I,he[X+0]))return ae;for(;!T(I,he[X+1]);)if(he=W[++ae].Yb[0],X=0,ae==16)return 16;var ge=W[ae+1].Yb;if(T(I,he[X+2])){var ye=I,Te=0;if(T(ye,(qe=he)[($e=X)+3]))if(T(ye,qe[$e+6])){for(he=0,$e=2*(Te=T(ye,qe[$e+8]))+(qe=T(ye,qe[$e+9+Te])),Te=0,qe=H5[$e];qe[he];++he)Te+=Te+T(ye,qe[he]);Te+=3+(8<<$e)}else T(ye,qe[$e+7])?(Te=7+2*T(ye,165),Te+=T(ye,145)):Te=5+T(ye,159);else Te=T(ye,qe[$e+4])?3+T(ye,qe[$e+5]):2;he=ge[2]}else Te=1,he=ge[1];ge=de+V5[ae],0>(ye=I).b&&Y(ye);var $e,qe=ye.b,Ie=($e=ye.Ca>>1)-(ye.I>>qe)>>31;--ye.b,ye.Ca+=Ie,ye.Ca|=1,ye.I-=($e+1&Ie)<<qe,ce[ge]=((Te^Ie)-Ie)*ee[(0<ae)+0]}return 16}function Hr(I){var W=I.rb[I.sb-1];W.la=0,W.Na=0,l(I.zc,0,0,I.zc.length),I.ja=0}function Fn(I,W){if(I==null)return 0;if(W==null)return zt(I,2,"NULL VP8Io parameter in VP8Decode().");if(!I.cb&&!vr(I,W))return 0;if(t(I.cb),W.ac==null||W.ac(W)){W.ob&&(I.L=0);var X=ad[I.L];if(I.L==2?(I.yb=0,I.zb=0):(I.yb=W.v-X>>4,I.zb=W.j-X>>4,0>I.yb&&(I.yb=0),0>I.zb&&(I.zb=0)),I.Va=W.o+15+X>>4,I.Hb=W.va+15+X>>4,I.Hb>I.za&&(I.Hb=I.za),I.Va>I.Ub&&(I.Va=I.Ub),0<I.L){var ee=I.ed;for(X=0;4>X;++X){var ae;if(I.Qa.Cb){var ce=I.Qa.Lb[X];I.Qa.Fb||(ce+=ee.Tb)}else ce=ee.Tb;for(ae=0;1>=ae;++ae){var de=I.gd[X][ae],he=ce;if(ee.Pc&&(he+=ee.vd[0],ae&&(he+=ee.od[0])),0<(he=0>he?0:63<he?63:he)){var ge=he;0<ee.wb&&(ge=4<ee.wb?ge>>2:ge>>1)>9-ee.wb&&(ge=9-ee.wb),1>ge&&(ge=1),de.dd=ge,de.tc=2*he+ge,de.ld=40<=he?2:15<=he?1:0}else de.tc=0;de.La=ae}}}X=0}else zt(I,6,"Frame setup failed"),X=I.a;if(X=X==0){if(X){I.$c=0,0<I.Aa||(I.Ic=uw);e:{X=I.Ic,ee=4*(ge=I.za);var ye=32*ge,Te=ge+1,$e=0<I.L?ge*(0<I.Aa?2:1):0,qe=(I.Aa==2?2:1)*ge;if((de=ee+832+(ae=3*(16*X+ad[I.L])/2*ye)+(ce=I.Fa!=null&&0<I.Fa.length?I.Kc.c*I.Kc.i:0))!=de)X=0;else{if(de>I.Vb){if(I.Vb=0,I.Ec=i(de),I.Fc=0,I.Ec==null){X=zt(I,1,"no memory during frame initialization.");break e}I.Vb=de}de=I.Ec,he=I.Fc,I.Ac=de,I.Bc=he,he+=ee,I.Gd=s(ye,Gt),I.Hd=0,I.rb=s(Te+1,Tt),I.sb=1,I.wa=$e?s($e,at):null,I.Y=0,I.D.Nb=0,I.D.wa=I.wa,I.D.Y=I.Y,0<I.Aa&&(I.D.Y+=ge),t(!0),I.oc=de,I.pc=he,he+=832,I.ya=s(qe,gt),I.aa=0,I.D.ya=I.ya,I.D.aa=I.aa,I.Aa==2&&(I.D.aa+=ge),I.R=16*ge,I.B=8*ge,ge=(ye=ad[I.L])*I.R,ye=ye/2*I.B,I.sa=de,I.ta=he+ge,I.qa=I.sa,I.ra=I.ta+16*X*I.R+ye,I.Ha=I.qa,I.Ia=I.ra+8*X*I.B+ye,I.$c=0,he+=ae,I.mb=ce?de:null,I.nb=ce?he:null,t(he+ce<=I.Fc+I.Vb),Hr(I),l(I.Ac,I.Bc,0,ee),X=1}}if(X){if(W.ka=0,W.y=I.sa,W.O=I.ta,W.f=I.qa,W.N=I.ra,W.ea=I.Ha,W.Vd=I.Ia,W.fa=I.R,W.Rc=I.B,W.F=null,W.J=0,!Zc){for(X=-255;255>=X;++X)an[255+X]=0>X?-X:X;for(X=-1020;1020>=X;++X)Ps[1020+X]=-128>X?-128:127<X?127:X;for(X=-112;112>=X;++X)bu[112+X]=-16>X?-16:15<X?15:X;for(X=-255;510>=X;++X)Ha[255+X]=0>X?0:255<X?255:X;Zc=1}$a=bn,Ts=rr,pu=ai,Un=Fi,_i=xs,Gr=or,qa=tu,Jc=Yo,mu=Sf,Qo=ru,ea=_f,so=Ia,ta=nu,Wa=Hc,ra=Wc,oo=is,gu=As,Si=xf,zi[0]=ns,zi[1]=wi,zi[2]=Zs,zi[3]=Qs,zi[4]=Dc,zi[5]=Na,zi[6]=zc,zi[7]=Zl,zi[8]=yf,zi[9]=bf,ao[0]=ks,ao[1]=Ys,ao[2]=kn,ao[3]=Dn,ao[4]=Qr,ao[5]=Js,ao[6]=Cs,Ns[0]=eo,Ns[1]=_s,Ns[2]=vf,Ns[3]=Ql,Ns[4]=Xo,Ns[5]=wf,Ns[6]=eu,X=1}else X=0}X&&(X=function(Ie,it){for(Ie.M=0;Ie.M<Ie.Va;++Ie.M){var Xe,Pe=Ie.Jc[Ie.M&Ie.Xb],Ne=Ie.m,rt=Ie;for(Xe=0;Xe<rt.za;++Xe){var ut=Ne,nt=rt,kt=nt.Ac,yt=nt.Bc+4*Xe,Ut=nt.zc,wt=nt.ya[nt.aa+Xe];if(nt.Qa.Bb?wt.$b=T(ut,nt.Pa.jb[0])?2+T(ut,nt.Pa.jb[2]):T(ut,nt.Pa.jb[1]):wt.$b=0,nt.kc&&(wt.Ad=T(ut,nt.Bd)),wt.Za=!T(ut,145)+0,wt.Za){var fr=wt.Ob,mr=0;for(nt=0;4>nt;++nt){var dr,sr=Ut[0+nt];for(dr=0;4>dr;++dr){sr=K5[kt[yt+dr]][sr];for(var xr=v1[T(ut,sr[0])];0<xr;)xr=v1[2*xr+T(ut,sr[xr])];sr=-xr,kt[yt+dr]=sr}n(fr,mr,kt,yt,4),mr+=4,Ut[0+nt]=sr}}else sr=T(ut,156)?T(ut,128)?1:3:T(ut,163)?2:0,wt.Ob[0]=sr,l(kt,yt,sr,4),l(Ut,0,sr,4);wt.Dd=T(ut,142)?T(ut,114)?T(ut,183)?1:3:2:0}if(rt.m.Ka)return zt(Ie,7,"Premature end-of-partition0 encountered.");for(;Ie.ja<Ie.za;++Ie.ja){if(rt=Pe,ut=(Ne=Ie).rb[Ne.sb-1],kt=Ne.rb[Ne.sb+Ne.ja],Xe=Ne.ya[Ne.aa+Ne.ja],yt=Ne.kc?Xe.Ad:0)ut.la=kt.la=0,Xe.Za||(ut.Na=kt.Na=0),Xe.Hc=0,Xe.Gc=0,Xe.ia=0;else{var wr,Qt;if(ut=kt,kt=rt,yt=Ne.Pa.Xc,Ut=Ne.ya[Ne.aa+Ne.ja],wt=Ne.pb[Ut.$b],nt=Ut.ad,fr=0,mr=Ne.rb[Ne.sb-1],sr=dr=0,l(nt,fr,0,384),Ut.Za)var tn=0,Xn=yt[3];else{xr=i(16);var rn=ut.Na+mr.Na;if(rn=yu(kt,yt[1],rn,wt.Eb,0,xr,0),ut.Na=mr.Na=(0<rn)+0,1<rn)$a(xr,0,nt,fr);else{var Yn=xr[0]+3>>3;for(xr=0;256>xr;xr+=16)nt[fr+xr]=Yn}tn=1,Xn=yt[0]}var gr=15&ut.la,ci=15&mr.la;for(xr=0;4>xr;++xr){var di=1&ci;for(Yn=Qt=0;4>Yn;++Yn)gr=gr>>1|(di=(rn=yu(kt,Xn,rn=di+(1&gr),wt.Sc,tn,nt,fr))>tn)<<7,Qt=Qt<<2|(3<rn?3:1<rn?2:nt[fr+0]!=0),fr+=16;gr>>=4,ci=ci>>1|di<<7,dr=(dr<<8|Qt)>>>0}for(Xn=gr,tn=ci>>4,wr=0;4>wr;wr+=2){for(Qt=0,gr=ut.la>>4+wr,ci=mr.la>>4+wr,xr=0;2>xr;++xr){for(di=1&ci,Yn=0;2>Yn;++Yn)rn=di+(1&gr),gr=gr>>1|(di=0<(rn=yu(kt,yt[2],rn,wt.Qc,0,nt,fr)))<<3,Qt=Qt<<2|(3<rn?3:1<rn?2:nt[fr+0]!=0),fr+=16;gr>>=2,ci=ci>>1|di<<5}sr|=Qt<<4*wr,Xn|=gr<<4<<wr,tn|=(240&ci)<<wr}ut.la=Xn,mr.la=tn,Ut.Hc=dr,Ut.Gc=sr,Ut.ia=43690&sr?0:wt.ia,yt=!(dr|sr)}if(0<Ne.L&&(Ne.wa[Ne.Y+Ne.ja]=Ne.gd[Xe.$b][Xe.Za],Ne.wa[Ne.Y+Ne.ja].La|=!yt),rt.Ka)return zt(Ie,7,"Premature end-of-file encountered.")}if(Hr(Ie),Ne=it,rt=1,Xe=(Pe=Ie).D,ut=0<Pe.L&&Pe.M>=Pe.zb&&Pe.M<=Pe.Va,Pe.Aa==0)e:{if(Xe.M=Pe.M,Xe.uc=ut,uu(Pe,Xe),rt=1,Xe=(Qt=Pe.D).Nb,ut=(sr=ad[Pe.L])*Pe.R,kt=sr/2*Pe.B,xr=16*Xe*Pe.R,Yn=8*Xe*Pe.B,yt=Pe.sa,Ut=Pe.ta-ut+xr,wt=Pe.qa,nt=Pe.ra-kt+Yn,fr=Pe.Ha,mr=Pe.Ia-kt+Yn,ci=(gr=Qt.M)==0,dr=gr>=Pe.Va-1,Pe.Aa==2&&uu(Pe,Qt),Qt.uc)for(di=(rn=Pe).D.M,t(rn.D.uc),Qt=rn.yb;Qt<rn.Hb;++Qt){tn=Qt,Xn=di;var hn=(vn=(Ur=rn).D).Nb;wr=Ur.R;var vn=vn.wa[vn.Y+tn],$n=Ur.sa,Ei=Ur.ta+16*hn*wr+16*tn,os=vn.dd,fn=vn.tc;if(fn!=0)if(t(3<=fn),Ur.L==1)0<tn&&oo($n,Ei,wr,fn+4),vn.La&&Si($n,Ei,wr,fn),0<Xn&&ra($n,Ei,wr,fn+4),vn.La&&gu($n,Ei,wr,fn);else{var Rs=Ur.B,na=Ur.qa,Va=Ur.ra+8*hn*Rs+8*tn,uo=Ur.Ha,Ur=Ur.Ia+8*hn*Rs+8*tn;hn=vn.ld,0<tn&&(Jc($n,Ei,wr,fn+4,os,hn),Qo(na,Va,uo,Ur,Rs,fn+4,os,hn)),vn.La&&(so($n,Ei,wr,fn,os,hn),Wa(na,Va,uo,Ur,Rs,fn,os,hn)),0<Xn&&(qa($n,Ei,wr,fn+4,os,hn),mu(na,Va,uo,Ur,Rs,fn+4,os,hn)),vn.La&&(ea($n,Ei,wr,fn,os,hn),ta(na,Va,uo,Ur,Rs,fn,os,hn))}}if(Pe.ia&&alert("todo:DitherRow"),Ne.put!=null){if(Qt=16*gr,gr=16*(gr+1),ci?(Ne.y=Pe.sa,Ne.O=Pe.ta+xr,Ne.f=Pe.qa,Ne.N=Pe.ra+Yn,Ne.ea=Pe.Ha,Ne.W=Pe.Ia+Yn):(Qt-=sr,Ne.y=yt,Ne.O=Ut,Ne.f=wt,Ne.N=nt,Ne.ea=fr,Ne.W=mr),dr||(gr-=sr),gr>Ne.o&&(gr=Ne.o),Ne.F=null,Ne.J=null,Pe.Fa!=null&&0<Pe.Fa.length&&Qt<gr&&(Ne.J=au(Pe,Ne,Qt,gr-Qt),Ne.F=Pe.mb,Ne.F==null&&Ne.F.length==0)){rt=zt(Pe,3,"Could not decode alpha data.");break e}Qt<Ne.j&&(sr=Ne.j-Qt,Qt=Ne.j,t(!(1&sr)),Ne.O+=Pe.R*sr,Ne.N+=Pe.B*(sr>>1),Ne.W+=Pe.B*(sr>>1),Ne.F!=null&&(Ne.J+=Ne.width*sr)),Qt<gr&&(Ne.O+=Ne.v,Ne.N+=Ne.v>>1,Ne.W+=Ne.v>>1,Ne.F!=null&&(Ne.J+=Ne.v),Ne.ka=Qt-Ne.j,Ne.U=Ne.va-Ne.v,Ne.T=gr-Qt,rt=Ne.put(Ne))}Xe+1!=Pe.Ic||dr||(n(Pe.sa,Pe.ta-ut,yt,Ut+16*Pe.R,ut),n(Pe.qa,Pe.ra-kt,wt,nt+8*Pe.B,kt),n(Pe.Ha,Pe.Ia-kt,fr,mr+8*Pe.B,kt))}if(!rt)return zt(Ie,6,"Output aborted.")}return 1}(I,W)),W.bc!=null&&W.bc(W),X&=1}return X?(I.cb=0,X):0}function on(I,W,X,ee,ae){ae=I[W+X+32*ee]+(ae>>3),I[W+X+32*ee]=-256&ae?0>ae?0:255:ae}function oi(I,W,X,ee,ae,ce){on(I,W,0,X,ee+ae),on(I,W,1,X,ee+ce),on(I,W,2,X,ee-ce),on(I,W,3,X,ee-ae)}function Vr(I){return(20091*I>>16)+I}function vi(I,W,X,ee){var ae,ce=0,de=i(16);for(ae=0;4>ae;++ae){var he=I[W+0]+I[W+8],ge=I[W+0]-I[W+8],ye=(35468*I[W+4]>>16)-Vr(I[W+12]),Te=Vr(I[W+4])+(35468*I[W+12]>>16);de[ce+0]=he+Te,de[ce+1]=ge+ye,de[ce+2]=ge-ye,de[ce+3]=he-Te,ce+=4,W++}for(ae=ce=0;4>ae;++ae)he=(I=de[ce+0]+4)+de[ce+8],ge=I-de[ce+8],ye=(35468*de[ce+4]>>16)-Vr(de[ce+12]),on(X,ee,0,0,he+(Te=Vr(de[ce+4])+(35468*de[ce+12]>>16))),on(X,ee,1,0,ge+ye),on(X,ee,2,0,ge-ye),on(X,ee,3,0,he-Te),ce++,ee+=32}function or(I,W,X,ee){var ae=I[W+0]+4,ce=35468*I[W+4]>>16,de=Vr(I[W+4]),he=35468*I[W+1]>>16;oi(X,ee,0,ae+de,I=Vr(I[W+1]),he),oi(X,ee,1,ae+ce,I,he),oi(X,ee,2,ae-ce,I,he),oi(X,ee,3,ae-de,I,he)}function rr(I,W,X,ee,ae){vi(I,W,X,ee),ae&&vi(I,W+16,X,ee+4)}function ai(I,W,X,ee){Ts(I,W+0,X,ee,1),Ts(I,W+32,X,ee+128,1)}function Fi(I,W,X,ee){var ae;for(I=I[W+0]+4,ae=0;4>ae;++ae)for(W=0;4>W;++W)on(X,ee,W,ae,I)}function xs(I,W,X,ee){I[W+0]&&Un(I,W+0,X,ee),I[W+16]&&Un(I,W+16,X,ee+4),I[W+32]&&Un(I,W+32,X,ee+128),I[W+48]&&Un(I,W+48,X,ee+128+4)}function bn(I,W,X,ee){var ae,ce=i(16);for(ae=0;4>ae;++ae){var de=I[W+0+ae]+I[W+12+ae],he=I[W+4+ae]+I[W+8+ae],ge=I[W+4+ae]-I[W+8+ae],ye=I[W+0+ae]-I[W+12+ae];ce[0+ae]=de+he,ce[8+ae]=de-he,ce[4+ae]=ye+ge,ce[12+ae]=ye-ge}for(ae=0;4>ae;++ae)de=(I=ce[0+4*ae]+3)+ce[3+4*ae],he=ce[1+4*ae]+ce[2+4*ae],ge=ce[1+4*ae]-ce[2+4*ae],ye=I-ce[3+4*ae],X[ee+0]=de+he>>3,X[ee+16]=ye+ge>>3,X[ee+32]=de-he>>3,X[ee+48]=ye-ge>>3,ee+=64}function Bn(I,W,X){var ee,ae=W-32,ce=ui,de=255-I[ae-1];for(ee=0;ee<X;++ee){var he,ge=ce,ye=de+I[W-1];for(he=0;he<X;++he)I[W+he]=ge[ye+I[ae+he]];W+=32}}function wi(I,W){Bn(I,W,4)}function _s(I,W){Bn(I,W,8)}function Ys(I,W){Bn(I,W,16)}function kn(I,W){var X;for(X=0;16>X;++X)n(I,W+32*X,I,W-32,16)}function Dn(I,W){var X;for(X=16;0<X;--X)l(I,W,I[W-1],16),W+=32}function Ss(I,W,X){var ee;for(ee=0;16>ee;++ee)l(W,X+32*ee,I,16)}function ks(I,W){var X,ee=16;for(X=0;16>X;++X)ee+=I[W-1+32*X]+I[W+X-32];Ss(ee>>5,I,W)}function Qr(I,W){var X,ee=8;for(X=0;16>X;++X)ee+=I[W-1+32*X];Ss(ee>>4,I,W)}function Js(I,W){var X,ee=8;for(X=0;16>X;++X)ee+=I[W+X-32];Ss(ee>>4,I,W)}function Cs(I,W){Ss(128,I,W)}function Wt(I,W,X){return I+2*W+X+2>>2}function Zs(I,W){var X,ee=W-32;for(ee=new Uint8Array([Wt(I[ee-1],I[ee+0],I[ee+1]),Wt(I[ee+0],I[ee+1],I[ee+2]),Wt(I[ee+1],I[ee+2],I[ee+3]),Wt(I[ee+2],I[ee+3],I[ee+4])]),X=0;4>X;++X)n(I,W+32*X,ee,0,ee.length)}function Qs(I,W){var X=I[W-1],ee=I[W-1+32],ae=I[W-1+64],ce=I[W-1+96];G(I,W+0,16843009*Wt(I[W-1-32],X,ee)),G(I,W+32,16843009*Wt(X,ee,ae)),G(I,W+64,16843009*Wt(ee,ae,ce)),G(I,W+96,16843009*Wt(ae,ce,ce))}function ns(I,W){var X,ee=4;for(X=0;4>X;++X)ee+=I[W+X-32]+I[W-1+32*X];for(ee>>=3,X=0;4>X;++X)l(I,W+32*X,ee,4)}function Dc(I,W){var X=I[W-1+0],ee=I[W-1+32],ae=I[W-1+64],ce=I[W-1-32],de=I[W+0-32],he=I[W+1-32],ge=I[W+2-32],ye=I[W+3-32];I[W+0+96]=Wt(ee,ae,I[W-1+96]),I[W+1+96]=I[W+0+64]=Wt(X,ee,ae),I[W+2+96]=I[W+1+64]=I[W+0+32]=Wt(ce,X,ee),I[W+3+96]=I[W+2+64]=I[W+1+32]=I[W+0+0]=Wt(de,ce,X),I[W+3+64]=I[W+2+32]=I[W+1+0]=Wt(he,de,ce),I[W+3+32]=I[W+2+0]=Wt(ge,he,de),I[W+3+0]=Wt(ye,ge,he)}function zc(I,W){var X=I[W+1-32],ee=I[W+2-32],ae=I[W+3-32],ce=I[W+4-32],de=I[W+5-32],he=I[W+6-32],ge=I[W+7-32];I[W+0+0]=Wt(I[W+0-32],X,ee),I[W+1+0]=I[W+0+32]=Wt(X,ee,ae),I[W+2+0]=I[W+1+32]=I[W+0+64]=Wt(ee,ae,ce),I[W+3+0]=I[W+2+32]=I[W+1+64]=I[W+0+96]=Wt(ae,ce,de),I[W+3+32]=I[W+2+64]=I[W+1+96]=Wt(ce,de,he),I[W+3+64]=I[W+2+96]=Wt(de,he,ge),I[W+3+96]=Wt(he,ge,ge)}function Na(I,W){var X=I[W-1+0],ee=I[W-1+32],ae=I[W-1+64],ce=I[W-1-32],de=I[W+0-32],he=I[W+1-32],ge=I[W+2-32],ye=I[W+3-32];I[W+0+0]=I[W+1+64]=ce+de+1>>1,I[W+1+0]=I[W+2+64]=de+he+1>>1,I[W+2+0]=I[W+3+64]=he+ge+1>>1,I[W+3+0]=ge+ye+1>>1,I[W+0+96]=Wt(ae,ee,X),I[W+0+64]=Wt(ee,X,ce),I[W+0+32]=I[W+1+96]=Wt(X,ce,de),I[W+1+32]=I[W+2+96]=Wt(ce,de,he),I[W+2+32]=I[W+3+96]=Wt(de,he,ge),I[W+3+32]=Wt(he,ge,ye)}function Zl(I,W){var X=I[W+0-32],ee=I[W+1-32],ae=I[W+2-32],ce=I[W+3-32],de=I[W+4-32],he=I[W+5-32],ge=I[W+6-32],ye=I[W+7-32];I[W+0+0]=X+ee+1>>1,I[W+1+0]=I[W+0+64]=ee+ae+1>>1,I[W+2+0]=I[W+1+64]=ae+ce+1>>1,I[W+3+0]=I[W+2+64]=ce+de+1>>1,I[W+0+32]=Wt(X,ee,ae),I[W+1+32]=I[W+0+96]=Wt(ee,ae,ce),I[W+2+32]=I[W+1+96]=Wt(ae,ce,de),I[W+3+32]=I[W+2+96]=Wt(ce,de,he),I[W+3+64]=Wt(de,he,ge),I[W+3+96]=Wt(he,ge,ye)}function bf(I,W){var X=I[W-1+0],ee=I[W-1+32],ae=I[W-1+64],ce=I[W-1+96];I[W+0+0]=X+ee+1>>1,I[W+2+0]=I[W+0+32]=ee+ae+1>>1,I[W+2+32]=I[W+0+64]=ae+ce+1>>1,I[W+1+0]=Wt(X,ee,ae),I[W+3+0]=I[W+1+32]=Wt(ee,ae,ce),I[W+3+32]=I[W+1+64]=Wt(ae,ce,ce),I[W+3+64]=I[W+2+64]=I[W+0+96]=I[W+1+96]=I[W+2+96]=I[W+3+96]=ce}function yf(I,W){var X=I[W-1+0],ee=I[W-1+32],ae=I[W-1+64],ce=I[W-1+96],de=I[W-1-32],he=I[W+0-32],ge=I[W+1-32],ye=I[W+2-32];I[W+0+0]=I[W+2+32]=X+de+1>>1,I[W+0+32]=I[W+2+64]=ee+X+1>>1,I[W+0+64]=I[W+2+96]=ae+ee+1>>1,I[W+0+96]=ce+ae+1>>1,I[W+3+0]=Wt(he,ge,ye),I[W+2+0]=Wt(de,he,ge),I[W+1+0]=I[W+3+32]=Wt(X,de,he),I[W+1+32]=I[W+3+64]=Wt(ee,X,de),I[W+1+64]=I[W+3+96]=Wt(ae,ee,X),I[W+1+96]=Wt(ce,ae,ee)}function vf(I,W){var X;for(X=0;8>X;++X)n(I,W+32*X,I,W-32,8)}function Ql(I,W){var X;for(X=0;8>X;++X)l(I,W,I[W-1],8),W+=32}function Ko(I,W,X){var ee;for(ee=0;8>ee;++ee)l(W,X+32*ee,I,8)}function eo(I,W){var X,ee=8;for(X=0;8>X;++X)ee+=I[W+X-32]+I[W-1+32*X];Ko(ee>>4,I,W)}function wf(I,W){var X,ee=4;for(X=0;8>X;++X)ee+=I[W+X-32];Ko(ee>>3,I,W)}function Xo(I,W){var X,ee=4;for(X=0;8>X;++X)ee+=I[W-1+32*X];Ko(ee>>3,I,W)}function eu(I,W){Ko(128,I,W)}function Ra(I,W,X){var ee=I[W-X],ae=I[W+0],ce=3*(ae-ee)+Af[1020+I[W-2*X]-I[W+X]],de=Qc[112+(ce+4>>3)];I[W-X]=ui[255+ee+Qc[112+(ce+3>>3)]],I[W+0]=ui[255+ae-de]}function Uc(I,W,X,ee){var ae=I[W+0],ce=I[W+X];return Ci[255+I[W-2*X]-I[W-X]]>ee||Ci[255+ce-ae]>ee}function $c(I,W,X,ee){return 4*Ci[255+I[W-X]-I[W+0]]+Ci[255+I[W-2*X]-I[W+X]]<=ee}function qc(I,W,X,ee,ae){var ce=I[W-3*X],de=I[W-2*X],he=I[W-X],ge=I[W+0],ye=I[W+X],Te=I[W+2*X],$e=I[W+3*X];return 4*Ci[255+he-ge]+Ci[255+de-ye]>ee?0:Ci[255+I[W-4*X]-ce]<=ae&&Ci[255+ce-de]<=ae&&Ci[255+de-he]<=ae&&Ci[255+$e-Te]<=ae&&Ci[255+Te-ye]<=ae&&Ci[255+ye-ge]<=ae}function Wc(I,W,X,ee){var ae=2*ee+1;for(ee=0;16>ee;++ee)$c(I,W+ee,X,ae)&&Ra(I,W+ee,X)}function is(I,W,X,ee){var ae=2*ee+1;for(ee=0;16>ee;++ee)$c(I,W+ee*X,1,ae)&&Ra(I,W+ee*X,1)}function As(I,W,X,ee){var ae;for(ae=3;0<ae;--ae)Wc(I,W+=4*X,X,ee)}function xf(I,W,X,ee){var ae;for(ae=3;0<ae;--ae)is(I,W+=4,X,ee)}function to(I,W,X,ee,ae,ce,de,he){for(ce=2*ce+1;0<ae--;){if(qc(I,W,X,ce,de))if(Uc(I,W,X,he))Ra(I,W,X);else{var ge=I,ye=W,Te=X,$e=ge[ye-2*Te],qe=ge[ye-Te],Ie=ge[ye+0],it=ge[ye+Te],Xe=ge[ye+2*Te],Pe=27*(rt=Af[1020+3*(Ie-qe)+Af[1020+$e-it]])+63>>7,Ne=18*rt+63>>7,rt=9*rt+63>>7;ge[ye-3*Te]=ui[255+ge[ye-3*Te]+rt],ge[ye-2*Te]=ui[255+$e+Ne],ge[ye-Te]=ui[255+qe+Pe],ge[ye+0]=ui[255+Ie-Pe],ge[ye+Te]=ui[255+it-Ne],ge[ye+2*Te]=ui[255+Xe-rt]}W+=ee}}function Bi(I,W,X,ee,ae,ce,de,he){for(ce=2*ce+1;0<ae--;){if(qc(I,W,X,ce,de))if(Uc(I,W,X,he))Ra(I,W,X);else{var ge=I,ye=W,Te=X,$e=ge[ye-Te],qe=ge[ye+0],Ie=ge[ye+Te],it=Qc[112+((Xe=3*(qe-$e))+4>>3)],Xe=Qc[112+(Xe+3>>3)],Pe=it+1>>1;ge[ye-2*Te]=ui[255+ge[ye-2*Te]+Pe],ge[ye-Te]=ui[255+$e+Xe],ge[ye+0]=ui[255+qe-it],ge[ye+Te]=ui[255+Ie-Pe]}W+=ee}}function tu(I,W,X,ee,ae,ce){to(I,W,X,1,16,ee,ae,ce)}function Yo(I,W,X,ee,ae,ce){to(I,W,1,X,16,ee,ae,ce)}function _f(I,W,X,ee,ae,ce){var de;for(de=3;0<de;--de)Bi(I,W+=4*X,X,1,16,ee,ae,ce)}function Ia(I,W,X,ee,ae,ce){var de;for(de=3;0<de;--de)Bi(I,W+=4,1,X,16,ee,ae,ce)}function Sf(I,W,X,ee,ae,ce,de,he){to(I,W,ae,1,8,ce,de,he),to(X,ee,ae,1,8,ce,de,he)}function ru(I,W,X,ee,ae,ce,de,he){to(I,W,1,ae,8,ce,de,he),to(X,ee,1,ae,8,ce,de,he)}function nu(I,W,X,ee,ae,ce,de,he){Bi(I,W+4*ae,ae,1,8,ce,de,he),Bi(X,ee+4*ae,ae,1,8,ce,de,he)}function Hc(I,W,X,ee,ae,ce,de,he){Bi(I,W+4,1,ae,8,ce,de,he),Bi(X,ee+4,1,ae,8,ce,de,he)}function Ma(){this.ba=new Ft,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new xt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function iu(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function su(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Vc(){this.ua=0,this.Wa=new te,this.vb=new te,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new P,this.yc=new B}function kf(){this.xb=this.a=0,this.l=new Mt,this.ca=new Ft,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new N,this.Pb=0,this.wd=new N,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Vc,this.ab=0,this.gc=s(4,su),this.Oc=0}function La(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Mt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Jo(I,W,X,ee,ae,ce,de){for(I=I==null?0:I[W+0],W=0;W<de;++W)ae[ce+W]=I+X[ee+W]&255,I=ae[ce+W]}function ou(I,W,X,ee,ae,ce,de){var he;if(I==null)Jo(null,null,X,ee,ae,ce,de);else for(he=0;he<de;++he)ae[ce+he]=I[W+he]+X[ee+he]&255}function ro(I,W,X,ee,ae,ce,de){if(I==null)Jo(null,null,X,ee,ae,ce,de);else{var he,ge=I[W+0],ye=ge,Te=ge;for(he=0;he<de;++he)ye=Te+(ge=I[W+he])-ye,Te=X[ee+he]+(-256&ye?0>ye?0:255:ye)&255,ye=ge,ae[ce+he]=Te}}function au(I,W,X,ee){var ae=W.width,ce=W.o;if(t(I!=null&&W!=null),0>X||0>=ee||X+ee>ce)return null;if(!I.Cc){if(I.ga==null){var de;if(I.ga=new La,(de=I.ga==null)||(de=W.width*W.o,t(I.Gb.length==0),I.Gb=i(de),I.Uc=0,I.Gb==null?de=0:(I.mb=I.Gb,I.nb=I.Uc,I.rc=null,de=1),de=!de),!de){de=I.ga;var he=I.Fa,ge=I.P,ye=I.qc,Te=I.mb,$e=I.nb,qe=ge+1,Ie=ye-1,it=de.l;if(t(he!=null&&Te!=null&&W!=null),lo[0]=null,lo[1]=Jo,lo[2]=ou,lo[3]=ro,de.ca=Te,de.tb=$e,de.c=W.width,de.i=W.height,t(0<de.c&&0<de.i),1>=ye)W=0;else if(de.$a=he[ge+0]>>0&3,de.Z=he[ge+0]>>2&3,de.Lc=he[ge+0]>>4&3,ge=he[ge+0]>>6&3,0>de.$a||1<de.$a||4<=de.Z||1<de.Lc||ge)W=0;else if(it.put=We,it.ac=Ce,it.bc=De,it.ma=de,it.width=W.width,it.height=W.height,it.Da=W.Da,it.v=W.v,it.va=W.va,it.j=W.j,it.o=W.o,de.$a)e:{t(de.$a==1),W=Nt();t:for(;;){if(W==null){W=0;break e}if(t(de!=null),de.mc=W,W.c=de.c,W.i=de.i,W.l=de.l,W.l.ma=de,W.l.width=de.c,W.l.height=de.i,W.a=0,x(W.m,he,qe,Ie),!$t(de.c,de.i,1,W,null)||(W.ab==1&&W.gc[0].hc==3&&ht(W.s)?(de.ic=1,he=W.c*W.i,W.Ta=null,W.Ua=0,W.V=i(he),W.Ba=0,W.V==null?(W.a=1,W=0):W=1):(de.ic=0,W=pr(W,de.c)),!W))break t;W=1;break e}de.mc=null,W=0}else W=Ie>=de.c*de.i;de=!W}if(de)return null;I.ga.Lc!=1?I.Ga=0:ee=ce-X}t(I.ga!=null),t(X+ee<=ce);e:{if(W=(he=I.ga).c,ce=he.l.o,he.$a==0){if(qe=I.rc,Ie=I.Vc,it=I.Fa,ge=I.P+1+X*W,ye=I.mb,Te=I.nb+X*W,t(ge<=I.P+I.qc),he.Z!=0)for(t(lo[he.Z]!=null),de=0;de<ee;++de)lo[he.Z](qe,Ie,it,ge,ye,Te,W),qe=ye,Ie=Te,Te+=W,ge+=W;else for(de=0;de<ee;++de)n(ye,Te,it,ge,W),qe=ye,Ie=Te,Te+=W,ge+=W;I.rc=qe,I.Vc=Ie}else{if(t(he.mc!=null),W=X+ee,t((de=he.mc)!=null),t(W<=de.i),de.C>=W)W=1;else if(he.ic||Oe(),he.ic){he=de.V,qe=de.Ba,Ie=de.c;var Xe=de.i,Pe=(it=1,ge=de.$/Ie,ye=de.$%Ie,Te=de.m,$e=de.s,de.$),Ne=Ie*Xe,rt=Ie*W,ut=$e.wc,nt=Pe<rt?ze($e,ye,ge):null;t(Pe<=Ne),t(W<=Xe),t(ht($e));t:for(;;){for(;!Te.h&&Pe<rt;){if(ye&ut||(nt=ze($e,ye,ge)),t(nt!=null),F(Te),256>(Xe=we(nt.G[0],nt.H[0],Te)))he[qe+Pe]=Xe,++Pe,++ye>=Ie&&(ye=0,++ge<=W&&!(ge%16)&&Ct(de,ge));else{if(!(280>Xe)){it=0;break t}Xe=Ke(Xe-256,Te);var kt,yt=we(nt.G[4],nt.H[4],Te);if(F(Te),!(Pe>=(yt=st(Ie,yt=Ke(yt,Te)))&&Ne-Pe>=Xe)){it=0;break t}for(kt=0;kt<Xe;++kt)he[qe+Pe+kt]=he[qe+Pe+kt-yt];for(Pe+=Xe,ye+=Xe;ye>=Ie;)ye-=Ie,++ge<=W&&!(ge%16)&&Ct(de,ge);Pe<rt&&ye&ut&&(nt=ze($e,ye,ge))}t(Te.h==V(Te))}Ct(de,ge>W?W:ge);break t}!it||Te.h&&Pe<Ne?(it=0,de.a=Te.h?5:3):de.$=Pe,W=it}else W=_t(de,de.V,de.Ba,de.c,de.i,W,ar);if(!W){ee=0;break e}}X+ee>=ce&&(I.Cc=1),ee=1}if(!ee)return null;if(I.Cc&&((ee=I.ga)!=null&&(ee.mc=null),I.ga=null,0<I.Ga))return alert("todo:WebPDequantizeLevels"),null}return I.nb+X*ae}function K(I,W,X,ee,ae,ce){for(;0<ae--;){var de,he=I,ge=W+(X?1:0),ye=I,Te=W+(X?0:3);for(de=0;de<ee;++de){var $e=ye[Te+4*de];$e!=255&&($e*=32897,he[ge+4*de+0]=he[ge+4*de+0]*$e>>23,he[ge+4*de+1]=he[ge+4*de+1]*$e>>23,he[ge+4*de+2]=he[ge+4*de+2]*$e>>23)}W+=ce}}function le(I,W,X,ee,ae){for(;0<ee--;){var ce;for(ce=0;ce<X;++ce){var de=I[W+2*ce+0],he=15&(ye=I[W+2*ce+1]),ge=4369*he,ye=(240&ye|ye>>4)*ge>>16;I[W+2*ce+0]=(240&de|de>>4)*ge>>16&240|(15&de|de<<4)*ge>>16>>4&15,I[W+2*ce+1]=240&ye|he}W+=ae}}function Se(I,W,X,ee,ae,ce,de,he){var ge,ye,Te=255;for(ye=0;ye<ae;++ye){for(ge=0;ge<ee;++ge){var $e=I[W+ge];ce[de+4*ge]=$e,Te&=$e}W+=X,de+=he}return Te!=255}function Ee(I,W,X,ee,ae){var ce;for(ce=0;ce<ae;++ce)X[ee+ce]=I[W+ce]>>8}function Oe(){ki=K,Ar=le,Er=Se,Kr=Ee}function Qe(I,W,X){M[I]=function(ee,ae,ce,de,he,ge,ye,Te,$e,qe,Ie,it,Xe,Pe,Ne,rt,ut){var nt,kt=ut-1>>1,yt=he[ge+0]|ye[Te+0]<<16,Ut=$e[qe+0]|Ie[it+0]<<16;t(ee!=null);var wt=3*yt+Ut+131074>>2;for(W(ee[ae+0],255&wt,wt>>16,Xe,Pe),ce!=null&&(wt=3*Ut+yt+131074>>2,W(ce[de+0],255&wt,wt>>16,Ne,rt)),nt=1;nt<=kt;++nt){var fr=he[ge+nt]|ye[Te+nt]<<16,mr=$e[qe+nt]|Ie[it+nt]<<16,dr=yt+fr+Ut+mr+524296,sr=dr+2*(fr+Ut)>>3;wt=sr+yt>>1,yt=(dr=dr+2*(yt+mr)>>3)+fr>>1,W(ee[ae+2*nt-1],255&wt,wt>>16,Xe,Pe+(2*nt-1)*X),W(ee[ae+2*nt-0],255&yt,yt>>16,Xe,Pe+(2*nt-0)*X),ce!=null&&(wt=dr+Ut>>1,yt=sr+mr>>1,W(ce[de+2*nt-1],255&wt,wt>>16,Ne,rt+(2*nt-1)*X),W(ce[de+2*nt+0],255&yt,yt>>16,Ne,rt+(2*nt+0)*X)),yt=fr,Ut=mr}1&ut||(wt=3*yt+Ut+131074>>2,W(ee[ae+ut-1],255&wt,wt>>16,Xe,Pe+(ut-1)*X),ce!=null&&(wt=3*Ut+yt+131074>>2,W(ce[de+ut-1],255&wt,wt>>16,Ne,rt+(ut-1)*X)))}}function dt(){Ai[ed]=Z5,Ai[td]=x1,Ai[g1]=Q5,Ai[rd]=_1,Ai[nd]=S1,Ai[Ef]=k1,Ai[b1]=ew,Ai[jf]=x1,Ai[Tf]=_1,Ai[id]=S1,Ai[Pf]=k1}function St(I){return I&-16384?0>I?0:255:I>>tw}function Ot(I,W){return St((19077*I>>8)+(26149*W>>8)-14234)}function Jt(I,W,X){return St((19077*I>>8)-(6419*W>>8)-(13320*X>>8)+8708)}function Xt(I,W){return St((19077*I>>8)+(33050*W>>8)-17685)}function cr(I,W,X,ee,ae){ee[ae+0]=Ot(I,X),ee[ae+1]=Jt(I,W,X),ee[ae+2]=Xt(I,W)}function Or(I,W,X,ee,ae){ee[ae+0]=Xt(I,W),ee[ae+1]=Jt(I,W,X),ee[ae+2]=Ot(I,X)}function zr(I,W,X,ee,ae){var ce=Jt(I,W,X);W=ce<<3&224|Xt(I,W)>>3,ee[ae+0]=248&Ot(I,X)|ce>>5,ee[ae+1]=W}function en(I,W,X,ee,ae){var ce=240&Xt(I,W)|15;ee[ae+0]=240&Ot(I,X)|Jt(I,W,X)>>4,ee[ae+1]=ce}function Cn(I,W,X,ee,ae){ee[ae+0]=255,cr(I,W,X,ee,ae+1)}function dn(I,W,X,ee,ae){Or(I,W,X,ee,ae),ee[ae+3]=255}function Di(I,W,X,ee,ae){cr(I,W,X,ee,ae),ee[ae+3]=255}function li(I,W){return 0>I?0:I>W?W:I}function ss(I,W,X){M[I]=function(ee,ae,ce,de,he,ge,ye,Te,$e){for(var qe=Te+(-2&$e)*X;Te!=qe;)W(ee[ae+0],ce[de+0],he[ge+0],ye,Te),W(ee[ae+1],ce[de+0],he[ge+0],ye,Te+X),ae+=2,++de,++ge,Te+=2*X;1&$e&&W(ee[ae+0],ce[de+0],he[ge+0],ye,Te)}}function Gc(I,W,X){return X==0?I==0?W==0?6:5:W==0?4:0:X}function lu(I,W,X,ee,ae){switch(I>>>30){case 3:Ts(W,X,ee,ae,0);break;case 2:Gr(W,X,ee,ae);break;case 1:Un(W,X,ee,ae)}}function uu(I,W){var X,ee,ae=W.M,ce=W.Nb,de=I.oc,he=I.pc+40,ge=I.oc,ye=I.pc+584,Te=I.oc,$e=I.pc+600;for(X=0;16>X;++X)de[he+32*X-1]=129;for(X=0;8>X;++X)ge[ye+32*X-1]=129,Te[$e+32*X-1]=129;for(0<ae?de[he-1-32]=ge[ye-1-32]=Te[$e-1-32]=129:(l(de,he-32-1,127,21),l(ge,ye-32-1,127,9),l(Te,$e-32-1,127,9)),ee=0;ee<I.za;++ee){var qe=W.ya[W.aa+ee];if(0<ee){for(X=-1;16>X;++X)n(de,he+32*X-4,de,he+32*X+12,4);for(X=-1;8>X;++X)n(ge,ye+32*X-4,ge,ye+32*X+4,4),n(Te,$e+32*X-4,Te,$e+32*X+4,4)}var Ie=I.Gd,it=I.Hd+ee,Xe=qe.ad,Pe=qe.Hc;if(0<ae&&(n(de,he-32,Ie[it].y,0,16),n(ge,ye-32,Ie[it].f,0,8),n(Te,$e-32,Ie[it].ea,0,8)),qe.Za){var Ne=de,rt=he-32+16;for(0<ae&&(ee>=I.za-1?l(Ne,rt,Ie[it].y[15],4):n(Ne,rt,Ie[it+1].y,0,4)),X=0;4>X;X++)Ne[rt+128+X]=Ne[rt+256+X]=Ne[rt+384+X]=Ne[rt+0+X];for(X=0;16>X;++X,Pe<<=2)Ne=de,rt=he+A1[X],zi[qe.Ob[X]](Ne,rt),lu(Pe,Xe,16*+X,Ne,rt)}else if(Ne=Gc(ee,ae,qe.Ob[0]),ao[Ne](de,he),Pe!=0)for(X=0;16>X;++X,Pe<<=2)lu(Pe,Xe,16*+X,de,he+A1[X]);for(X=qe.Gc,Ne=Gc(ee,ae,qe.Dd),Ns[Ne](ge,ye),Ns[Ne](Te,$e),Pe=Xe,Ne=ge,rt=ye,255&(qe=X>>0)&&(170&qe?pu(Pe,256,Ne,rt):_i(Pe,256,Ne,rt)),qe=Te,Pe=$e,255&(X>>=8)&&(170&X?pu(Xe,320,qe,Pe):_i(Xe,320,qe,Pe)),ae<I.Ub-1&&(n(Ie[it].y,0,de,he+480,16),n(Ie[it].f,0,ge,ye+224,8),n(Ie[it].ea,0,Te,$e+224,8)),X=8*ce*I.B,Ie=I.sa,it=I.ta+16*ee+16*ce*I.R,Xe=I.qa,qe=I.ra+8*ee+X,Pe=I.Ha,Ne=I.Ia+8*ee+X,X=0;16>X;++X)n(Ie,it+X*I.R,de,he+32*X,16);for(X=0;8>X;++X)n(Xe,qe+X*I.B,ge,ye+32*X,8),n(Pe,Ne+X*I.B,Te,$e+32*X,8)}}function Oa(I,W,X,ee,ae,ce,de,he,ge){var ye=[0],Te=[0],$e=0,qe=ge!=null?ge.kd:0,Ie=ge??new iu;if(I==null||12>X)return 7;Ie.data=I,Ie.w=W,Ie.ha=X,W=[W],X=[X],Ie.gb=[Ie.gb];e:{var it=W,Xe=X,Pe=Ie.gb;if(t(I!=null),t(Xe!=null),t(Pe!=null),Pe[0]=0,12<=Xe[0]&&!e(I,it[0],"RIFF")){if(e(I,it[0]+8,"WEBP")){Pe=3;break e}var Ne=Z(I,it[0]+4);if(12>Ne||4294967286<Ne){Pe=3;break e}if(qe&&Ne>Xe[0]-8){Pe=7;break e}Pe[0]=Ne,it[0]+=12,Xe[0]-=12}Pe=0}if(Pe!=0)return Pe;for(Ne=0<Ie.gb[0],X=X[0];;){e:{var rt=I;Xe=W,Pe=X;var ut=ye,nt=Te,kt=it=[0];if((wt=$e=[$e])[0]=0,8>Pe[0])Pe=7;else{if(!e(rt,Xe[0],"VP8X")){if(Z(rt,Xe[0]+4)!=10){Pe=3;break e}if(18>Pe[0]){Pe=7;break e}var yt=Z(rt,Xe[0]+8),Ut=1+ne(rt,Xe[0]+12);if(2147483648<=Ut*(rt=1+ne(rt,Xe[0]+15))){Pe=3;break e}kt!=null&&(kt[0]=yt),ut!=null&&(ut[0]=Ut),nt!=null&&(nt[0]=rt),Xe[0]+=18,Pe[0]-=18,wt[0]=1}Pe=0}}if($e=$e[0],it=it[0],Pe!=0)return Pe;if(Xe=!!(2&it),!Ne&&$e)return 3;if(ce!=null&&(ce[0]=!!(16&it)),de!=null&&(de[0]=Xe),he!=null&&(he[0]=0),de=ye[0],it=Te[0],$e&&Xe&&ge==null){Pe=0;break}if(4>X){Pe=7;break}if(Ne&&$e||!Ne&&!$e&&!e(I,W[0],"ALPH")){X=[X],Ie.na=[Ie.na],Ie.P=[Ie.P],Ie.Sa=[Ie.Sa];e:{yt=I,Pe=W,Ne=X;var wt=Ie.gb;ut=Ie.na,nt=Ie.P,kt=Ie.Sa,Ut=22,t(yt!=null),t(Ne!=null),rt=Pe[0];var fr=Ne[0];for(t(ut!=null),t(kt!=null),ut[0]=null,nt[0]=null,kt[0]=0;;){if(Pe[0]=rt,Ne[0]=fr,8>fr){Pe=7;break e}var mr=Z(yt,rt+4);if(4294967286<mr){Pe=3;break e}var dr=8+mr+1&-2;if(Ut+=dr,0<wt&&Ut>wt){Pe=3;break e}if(!e(yt,rt,"VP8 ")||!e(yt,rt,"VP8L")){Pe=0;break e}if(fr[0]<dr){Pe=7;break e}e(yt,rt,"ALPH")||(ut[0]=yt,nt[0]=rt+8,kt[0]=mr),rt+=dr,fr-=dr}}if(X=X[0],Ie.na=Ie.na[0],Ie.P=Ie.P[0],Ie.Sa=Ie.Sa[0],Pe!=0)break}X=[X],Ie.Ja=[Ie.Ja],Ie.xa=[Ie.xa];e:if(wt=I,Pe=W,Ne=X,ut=Ie.gb[0],nt=Ie.Ja,kt=Ie.xa,yt=Pe[0],rt=!e(wt,yt,"VP8 "),Ut=!e(wt,yt,"VP8L"),t(wt!=null),t(Ne!=null),t(nt!=null),t(kt!=null),8>Ne[0])Pe=7;else{if(rt||Ut){if(wt=Z(wt,yt+4),12<=ut&&wt>ut-12){Pe=3;break e}if(qe&&wt>Ne[0]-8){Pe=7;break e}nt[0]=wt,Pe[0]+=8,Ne[0]-=8,kt[0]=Ut}else kt[0]=5<=Ne[0]&&wt[yt+0]==47&&!(wt[yt+4]>>5),nt[0]=Ne[0];Pe=0}if(X=X[0],Ie.Ja=Ie.Ja[0],Ie.xa=Ie.xa[0],W=W[0],Pe!=0)break;if(4294967286<Ie.Ja)return 3;if(he==null||Xe||(he[0]=Ie.xa?2:1),de=[de],it=[it],Ie.xa){if(5>X){Pe=7;break}he=de,qe=it,Xe=ce,I==null||5>X?I=0:5<=X&&I[W+0]==47&&!(I[W+4]>>5)?(Ne=[0],wt=[0],ut=[0],x(nt=new N,I,W,X),Fe(nt,Ne,wt,ut)?(he!=null&&(he[0]=Ne[0]),qe!=null&&(qe[0]=wt[0]),Xe!=null&&(Xe[0]=ut[0]),I=1):I=0):I=0}else{if(10>X){Pe=7;break}he=it,I==null||10>X||!ur(I,W+3,X-3)?I=0:(qe=I[W+0]|I[W+1]<<8|I[W+2]<<16,Xe=16383&(I[W+7]<<8|I[W+6]),I=16383&(I[W+9]<<8|I[W+8]),1&qe||3<(qe>>1&7)||!(qe>>4&1)||qe>>5>=Ie.Ja||!Xe||!I?I=0:(de&&(de[0]=Xe),he&&(he[0]=I),I=1))}if(!I||(de=de[0],it=it[0],$e&&(ye[0]!=de||Te[0]!=it)))return 3;ge!=null&&(ge[0]=Ie,ge.offset=W-ge.w,t(4294967286>W-ge.w),t(ge.offset==ge.ha-X));break}return Pe==0||Pe==7&&$e&&ge==null?(ce!=null&&(ce[0]|=Ie.na!=null&&0<Ie.na.length),ee!=null&&(ee[0]=de),ae!=null&&(ae[0]=it),0):Pe}function cu(I,W,X){var ee=W.width,ae=W.height,ce=0,de=0,he=ee,ge=ae;if(W.Da=I!=null&&0<I.Da,W.Da&&(he=I.cd,ge=I.bd,ce=I.v,de=I.j,11>X||(ce&=-2,de&=-2),0>ce||0>de||0>=he||0>=ge||ce+he>ee||de+ge>ae))return 0;if(W.v=ce,W.j=de,W.va=ce+he,W.o=de+ge,W.U=he,W.T=ge,W.da=I!=null&&0<I.da,W.da){if(!se(he,ge,X=[I.ib],ce=[I.hb]))return 0;W.ib=X[0],W.hb=ce[0]}return W.ob=I!=null&&I.ob,W.Kb=I==null||!I.Sd,W.da&&(W.ob=W.ib<3*ee/4&&W.hb<3*ae/4,W.Kb=0),1}function du(I){if(I==null)return 2;if(11>I.S){var W=I.f.RGBA;W.fb+=(I.height-1)*W.A,W.A=-W.A}else W=I.f.kb,I=I.height,W.O+=(I-1)*W.fa,W.fa=-W.fa,W.N+=(I-1>>1)*W.Ab,W.Ab=-W.Ab,W.W+=(I-1>>1)*W.Db,W.Db=-W.Db,W.F!=null&&(W.J+=(I-1)*W.lb,W.lb=-W.lb);return 0}function Fa(I,W,X,ee){if(ee==null||0>=I||0>=W)return 2;if(X!=null){if(X.Da){var ae=X.cd,ce=X.bd,de=-2&X.v,he=-2&X.j;if(0>de||0>he||0>=ae||0>=ce||de+ae>I||he+ce>W)return 2;I=ae,W=ce}if(X.da){if(!se(I,W,ae=[X.ib],ce=[X.hb]))return 2;I=ae[0],W=ce[0]}}ee.width=I,ee.height=W;e:{var ge=ee.width,ye=ee.height;if(I=ee.S,0>=ge||0>=ye||!(I>=ed&&13>I))I=2;else{if(0>=ee.Rd&&ee.sd==null){de=ce=ae=W=0;var Te=(he=ge*E1[I])*ye;if(11>I||(ce=(ye+1)/2*(W=(ge+1)/2),I==12&&(de=(ae=ge)*ye)),(ye=i(Te+2*ce+de))==null){I=1;break e}ee.sd=ye,11>I?((ge=ee.f.RGBA).eb=ye,ge.fb=0,ge.A=he,ge.size=Te):((ge=ee.f.kb).y=ye,ge.O=0,ge.fa=he,ge.Fd=Te,ge.f=ye,ge.N=0+Te,ge.Ab=W,ge.Cd=ce,ge.ea=ye,ge.W=0+Te+ce,ge.Db=W,ge.Ed=ce,I==12&&(ge.F=ye,ge.J=0+Te+2*ce),ge.Tc=de,ge.lb=ae)}if(W=1,ae=ee.S,ce=ee.width,de=ee.height,ae>=ed&&13>ae)if(11>ae)I=ee.f.RGBA,W&=(he=Math.abs(I.A))*(de-1)+ce<=I.size,W&=he>=ce*E1[ae],W&=I.eb!=null;else{I=ee.f.kb,he=(ce+1)/2,Te=(de+1)/2,ge=Math.abs(I.fa),ye=Math.abs(I.Ab);var $e=Math.abs(I.Db),qe=Math.abs(I.lb),Ie=qe*(de-1)+ce;W&=ge*(de-1)+ce<=I.Fd,W&=ye*(Te-1)+he<=I.Cd,W=(W&=$e*(Te-1)+he<=I.Ed)&ge>=ce&ye>=he&$e>=he,W&=I.y!=null,W&=I.f!=null,W&=I.ea!=null,ae==12&&(W&=qe>=ce,W&=Ie<=I.Tc,W&=I.F!=null)}else W=0;I=W?0:2}}return I!=0||X!=null&&X.fd&&(I=du(ee)),I}var yn=64,Ba=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Da=24,za=32,hu=8,Gn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];fe("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(I){return I},M.Predictor2=function(I,W,X){return W[X+0]},M.Predictor3=function(I,W,X){return W[X+1]},M.Predictor4=function(I,W,X){return W[X-1]},M.Predictor5=function(I,W,X){return re(re(I,W[X+1]),W[X+0])},M.Predictor6=function(I,W,X){return re(I,W[X-1])},M.Predictor7=function(I,W,X){return re(I,W[X+0])},M.Predictor8=function(I,W,X){return re(W[X-1],W[X+0])},M.Predictor9=function(I,W,X){return re(W[X+0],W[X+1])},M.Predictor10=function(I,W,X){return re(re(I,W[X-1]),re(W[X+0],W[X+1]))},M.Predictor11=function(I,W,X){var ee=W[X+0];return 0>=Re(ee>>24&255,I>>24&255,(W=W[X-1])>>24&255)+Re(ee>>16&255,I>>16&255,W>>16&255)+Re(ee>>8&255,I>>8&255,W>>8&255)+Re(255&ee,255&I,255&W)?ee:I},M.Predictor12=function(I,W,X){var ee=W[X+0];return(ve((I>>24&255)+(ee>>24&255)-((W=W[X-1])>>24&255))<<24|ve((I>>16&255)+(ee>>16&255)-(W>>16&255))<<16|ve((I>>8&255)+(ee>>8&255)-(W>>8&255))<<8|ve((255&I)+(255&ee)-(255&W)))>>>0},M.Predictor13=function(I,W,X){var ee=W[X-1];return(_e((I=re(I,W[X+0]))>>24&255,ee>>24&255)<<24|_e(I>>16&255,ee>>16&255)<<16|_e(I>>8&255,ee>>8&255)<<8|_e(I>>0&255,ee>>0&255))>>>0};var Cf=M.PredictorAdd0;M.PredictorAdd1=Ge,fe("Predictor2","PredictorAdd2"),fe("Predictor3","PredictorAdd3"),fe("Predictor4","PredictorAdd4"),fe("Predictor5","PredictorAdd5"),fe("Predictor6","PredictorAdd6"),fe("Predictor7","PredictorAdd7"),fe("Predictor8","PredictorAdd8"),fe("Predictor9","PredictorAdd9"),fe("Predictor10","PredictorAdd10"),fe("Predictor11","PredictorAdd11"),fe("Predictor12","PredictorAdd12"),fe("Predictor13","PredictorAdd13");var fu=M.PredictorAdd2;ke("ColorIndexInverseTransform","MapARGB","32b",function(I){return I>>8&255},function(I){return I}),ke("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(I){return I},function(I){return I>>8&255});var Kc,xi=M.ColorIndexInverseTransform,Ua=M.MapARGB,Xc=M.VP8LColorIndexInverseTransformAlpha,Yc=M.MapAlpha,no=M.VP8LPredictorsAdd=[];no.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var Zo,Kn,zn,io,Es,js,$a,Ts,Gr,pu,Un,_i,qa,Jc,mu,Qo,ea,so,ta,Wa,ra,oo,gu,Si,ki,Ar,Er,Kr,an=i(511),Ps=i(2041),bu=i(225),Ha=i(767),Zc=0,Af=Ps,Qc=bu,ui=Ha,Ci=an,ed=0,td=1,g1=2,rd=3,nd=4,Ef=5,b1=6,jf=7,Tf=8,id=9,Pf=10,B5=[2,3,7],D5=[3,3,11],y1=[280,256,256,256,40],z5=[0,1,1,1,0],U5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],$5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],q5=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],W5=8,Nf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Rf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],yu=null,H5=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],V5=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],v1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],G5=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],K5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],X5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Y5=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ao=[],zi=[],Ns=[],J5=1,w1=2,lo=[],Ai=[];Qe("UpsampleRgbLinePair",cr,3),Qe("UpsampleBgrLinePair",Or,3),Qe("UpsampleRgbaLinePair",Di,4),Qe("UpsampleBgraLinePair",dn,4),Qe("UpsampleArgbLinePair",Cn,4),Qe("UpsampleRgba4444LinePair",en,2),Qe("UpsampleRgb565LinePair",zr,2);var Z5=M.UpsampleRgbLinePair,Q5=M.UpsampleBgrLinePair,x1=M.UpsampleRgbaLinePair,_1=M.UpsampleBgraLinePair,S1=M.UpsampleArgbLinePair,k1=M.UpsampleRgba4444LinePair,ew=M.UpsampleRgb565LinePair,sd=16,od=1<<sd-1,vu=-227,If=482,tw=6,C1=0,rw=i(256),nw=i(256),iw=i(256),sw=i(256),ow=i(If-vu),aw=i(If-vu);ss("YuvToRgbRow",cr,3),ss("YuvToBgrRow",Or,3),ss("YuvToRgbaRow",Di,4),ss("YuvToBgraRow",dn,4),ss("YuvToArgbRow",Cn,4),ss("YuvToRgba4444Row",en,2),ss("YuvToRgb565Row",zr,2);var A1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ad=[0,2,8],lw=[8,7,6,4,4,2,2,2,1,1,1,1],uw=1;this.WebPDecodeRGBA=function(I,W,X,ee,ae){var ce=td,de=new Ma,he=new Ft;de.ba=he,he.S=ce,he.width=[he.width],he.height=[he.height];var ge=he.width,ye=he.height,Te=new Bt;if(Te==null||I==null)var $e=2;else t(Te!=null),$e=Oa(I,W,X,Te.width,Te.height,Te.Pd,Te.Qd,Te.format,null);if($e!=0?ge=0:(ge!=null&&(ge[0]=Te.width[0]),ye!=null&&(ye[0]=Te.height[0]),ge=1),ge){he.width=he.width[0],he.height=he.height[0],ee!=null&&(ee[0]=he.width),ae!=null&&(ae[0]=he.height);e:{if(ee=new Mt,(ae=new iu).data=I,ae.w=W,ae.ha=X,ae.kd=1,W=[0],t(ae!=null),((I=Oa(ae.data,ae.w,ae.ha,null,null,null,W,null,ae))==0||I==7)&&W[0]&&(I=4),(W=I)==0){if(t(de!=null),ee.data=ae.data,ee.w=ae.w+ae.offset,ee.ha=ae.ha-ae.offset,ee.put=We,ee.ac=Ce,ee.bc=De,ee.ma=de,ae.xa){if((I=Nt())==null){de=1;break e}if(function(qe,Ie){var it=[0],Xe=[0],Pe=[0];t:for(;;){if(qe==null)return 0;if(Ie==null)return qe.a=2,0;if(qe.l=Ie,qe.a=0,x(qe.m,Ie.data,Ie.w,Ie.ha),!Fe(qe.m,it,Xe,Pe)){qe.a=3;break t}if(qe.xb=w1,Ie.width=it[0],Ie.height=Xe[0],!$t(it[0],Xe[0],1,qe,null))break t;return 1}return t(qe.a!=0),0}(I,ee)){if(ee=(W=Fa(ee.width,ee.height,de.Oa,de.ba))==0){t:{ee=I;r:for(;;){if(ee==null){ee=0;break t}if(t(ee.s.yc!=null),t(ee.s.Ya!=null),t(0<ee.s.Wb),t((X=ee.l)!=null),t((ae=X.ma)!=null),ee.xb!=0){if(ee.ca=ae.ba,ee.tb=ae.tb,t(ee.ca!=null),!cu(ae.Oa,X,rd)){ee.a=2;break r}if(!pr(ee,X.width)||X.da)break r;if((X.da||bt(ee.ca.S))&&Oe(),11>ee.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ee.ca.f.kb.F!=null&&Oe()),ee.Pb&&0<ee.s.ua&&ee.s.vb.X==null&&!oe(ee.s.vb,ee.s.Wa.Xa)){ee.a=1;break r}ee.xb=0}if(!_t(ee,ee.V,ee.Ba,ee.c,ee.i,X.o,Et))break r;ae.Dc=ee.Ma,ee=1;break t}t(ee.a!=0),ee=0}ee=!ee}ee&&(W=I.a)}else W=I.a}else{if((I=new lr)==null){de=1;break e}if(I.Fa=ae.na,I.P=ae.P,I.qc=ae.Sa,vr(I,ee)){if((W=Fa(ee.width,ee.height,de.Oa,de.ba))==0){if(I.Aa=0,X=de.Oa,t((ae=I)!=null),X!=null){if(0<(ge=0>(ge=X.Md)?0:100<ge?255:255*ge/100)){for(ye=Te=0;4>ye;++ye)12>($e=ae.pb[ye]).lc&&($e.ia=ge*lw[0>$e.lc?0:$e.lc]>>3),Te|=$e.ia;Te&&(alert("todo:VP8InitRandom"),ae.ia=1)}ae.Ga=X.Id,100<ae.Ga?ae.Ga=100:0>ae.Ga&&(ae.Ga=0)}Fn(I,ee)||(W=I.a)}}else W=I.a}W==0&&de.Oa!=null&&de.Oa.fd&&(W=du(de.ba))}de=W}ce=de!=0?null:11>ce?he.f.RGBA.eb:he.f.kb.y}else ce=null;return ce};var E1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function o(M,z){for(var H="",q=0;q<4;q++)H+=String.fromCharCode(M[z++]);return H}function c(M,z){return(M[z+0]<<0|M[z+1]<<8|M[z+2]<<16)>>>0}function f(M,z){return(M[z+0]<<0|M[z+1]<<8|M[z+2]<<16|M[z+3]<<24)>>>0}new a;var h=[0],d=[0],y=[],b=new a,m=r,g=function(M,z){var H={},q=0,B=!1,A=0,P=0;if(H.frames=[],!function(U,V,J,F){for(var Y=0;Y<F;Y++)if(U[V+Y]!=J.charCodeAt(Y))return!0;return!1}(M,z,"RIFF",4)){var k,w;for(f(M,z+=4),z+=8;z<M.length;){var S=o(M,z),x=f(M,z+=4);z+=4;var _=x+(1&x);switch(S){case"VP8 ":case"VP8L":H.frames[q]===void 0&&(H.frames[q]={}),(N=H.frames[q]).src_off=B?P:z-8,N.src_size=A+x+8,q++,B&&(B=!1,A=0,P=0);break;case"VP8X":(N=H.header={}).feature_flags=M[z];var E=z+4;N.canvas_width=1+c(M,E),E+=3,N.canvas_height=1+c(M,E),E+=3;break;case"ALPH":B=!0,A=_+8,P=z-8;break;case"ANIM":(N=H.header).bgcolor=f(M,z),E=z+4,N.loop_count=(k=M)[(w=E)+0]<<0|k[w+1]<<8,E+=2;break;case"ANMF":var D,N;(N=H.frames[q]={}).offset_x=2*c(M,z),z+=3,N.offset_y=2*c(M,z),z+=3,N.width=1+c(M,z),z+=3,N.height=1+c(M,z),z+=3,N.duration=c(M,z),z+=3,D=M[z++],N.dispose=1&D,N.blend=D>>1&1}S!="ANMF"&&(z+=_)}return H}}(m,0);g.response=m,g.rgbaoutput=!0,g.dataurl=!1;var p=g.header?g.header:null,v=g.frames?g.frames:null;if(p){p.loop_counter=p.loop_count,h=[p.canvas_height],d=[p.canvas_width];for(var C=0;C<v.length&&v[C].blend!=0;C++);}var j=v[0],L=b.WebPDecodeRGBA(m,j.src_off,j.src_size,d,h);j.rgba=L,j.imgwidth=d[0],j.imgheight=h[0];for(var $=0;$<d[0]*h[0]*4;$++)y[$]=L[$];return this.width=d,this.height=h,this.data=y,this}(function(r){var t=function(){return typeof G0=="function"},e=function(h,d,y,b){var m=4,g=s;switch(b){case r.image_compression.FAST:m=1,g=i;break;case r.image_compression.MEDIUM:m=6,g=u;break;case r.image_compression.SLOW:m=9,g=a}h=n(h,d,y,g);var p=G0(h,{level:m});return r.__addimage__.arrayBufferToBinaryString(p)},n=function(h,d,y,b){for(var m,g,p,v=h.length/d,C=new Uint8Array(h.length+v),j=c(),L=0;L<v;L+=1){if(p=L*d,m=h.subarray(p,p+d),b)C.set(b(m,y,g),p+L);else{for(var $,M=j.length,z=[];$<M;$+=1)z[$]=j[$](m,y,g);var H=f(z.concat());C.set(z[H],p+L)}g=m}return C},l=function(h){var d=Array.apply([],h);return d.unshift(0),d},i=function(h,d){var y,b=[],m=h.length;b[0]=1;for(var g=0;g<m;g+=1)y=h[g-d]||0,b[g+1]=h[g]-y+256&255;return b},s=function(h,d,y){var b,m=[],g=h.length;m[0]=2;for(var p=0;p<g;p+=1)b=y&&y[p]||0,m[p+1]=h[p]-b+256&255;return m},u=function(h,d,y){var b,m,g=[],p=h.length;g[0]=3;for(var v=0;v<p;v+=1)b=h[v-d]||0,m=y&&y[v]||0,g[v+1]=h[v]+256-(b+m>>>1)&255;return g},a=function(h,d,y){var b,m,g,p,v=[],C=h.length;v[0]=4;for(var j=0;j<C;j+=1)b=h[j-d]||0,m=y&&y[j]||0,g=y&&y[j-d]||0,p=o(b,m,g),v[j+1]=h[j]-p+256&255;return v},o=function(h,d,y){if(h===d&&d===y)return h;var b=Math.abs(d-y),m=Math.abs(h-y),g=Math.abs(h+d-y-y);return b<=m&&b<=g?h:m<=g?d:y},c=function(){return[l,i,s,u,a]},f=function(h){var d=h.map(function(y){return y.reduce(function(b,m){return b+Math.abs(m)},0)});return d.indexOf(Math.min.apply(null,d))};r.processPNG=function(h,d,y,b){var m,g,p,v,C,j,L,$,M,z,H,q,B,A,P,k=this.decode.FLATE_DECODE,w="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(p=new K7(h)).imgData,g=p.bits,m=p.colorSpace,C=p.colors,[4,6].indexOf(p.colorType)!==-1){if(p.bits===8){M=($=p.pixelBitlength==32?new Uint32Array(p.decodePixels().buffer):p.pixelBitlength==16?new Uint16Array(p.decodePixels().buffer):new Uint8Array(p.decodePixels().buffer)).length,H=new Uint8Array(M*p.colors),z=new Uint8Array(M);var S,x=p.pixelBitlength-p.bits;for(A=0,P=0;A<M;A++){for(B=$[A],S=0;S<x;)H[P++]=B>>>S&255,S+=p.bits;z[A]=B>>>S&255}}if(p.bits===16){M=($=new Uint32Array(p.decodePixels().buffer)).length,H=new Uint8Array(M*(32/p.pixelBitlength)*p.colors),z=new Uint8Array(M*(32/p.pixelBitlength)),q=p.colors>1,A=0,P=0;for(var _=0;A<M;)B=$[A++],H[P++]=B>>>0&255,q&&(H[P++]=B>>>16&255,B=$[A++],H[P++]=B>>>0&255),z[_++]=B>>>16&255;g=8}b!==r.image_compression.NONE&&t()?(h=e(H,p.width*p.colors,p.colors,b),L=e(z,p.width,1,b)):(h=H,L=z,k=void 0)}if(p.colorType===3&&(m=this.color_spaces.INDEXED,j=p.palette,p.transparency.indexed)){var E=p.transparency.indexed,D=0;for(A=0,M=E.length;A<M;++A)D+=E[A];if((D/=255)===M-1&&E.indexOf(0)!==-1)v=[E.indexOf(0)];else if(D!==M){for($=p.decodePixels(),z=new Uint8Array($.length),A=0,M=$.length;A<M;A++)z[A]=E[$[A]];L=e(z,p.width,1)}}var N=function(U){var V;switch(U){case r.image_compression.FAST:V=11;break;case r.image_compression.MEDIUM:V=13;break;case r.image_compression.SLOW:V=14;break;default:V=12}return V}(b);return k===this.decode.FLATE_DECODE&&(w="/Predictor "+N+" "),w+="/Colors "+C+" /BitsPerComponent "+g+" /Columns "+p.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(L&&this.__addimage__.isArrayBuffer(L)||this.__addimage__.isArrayBufferView(L))&&(L=this.__addimage__.arrayBufferToBinaryString(L)),{alias:y,data:h,index:d,filter:k,decodeParameters:w,transparency:v,palette:j,sMask:L,predictor:N,width:p.width,height:p.height,bitsPerComponent:g,colorSpace:m}}}})(Dt.API),function(r){r.processGIF89A=function(t,e,n,l){var i=new X7(t),s=i.width,u=i.height,a=[];i.decodeAndBlitFrameRGBA(0,a);var o={data:a,width:s,height:u},c=new Mp(100).encode(o,100);return r.processJPEG.call(this,c,e,n,l)},r.processGIF87A=r.processGIF89A}(Dt.API),Wi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var r=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(r);for(var t=0;t<r;t++){var e=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:l,green:n,blue:e,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Wi.prototype.parseBGR=function(){this.pos=this.offset;try{var r="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[r]()}catch(e){_r.log("bit decode error:"+e)}},Wi.prototype.bit1=function(){var r,t=Math.ceil(this.width/8),e=t%4;for(r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,l=0;l<t;l++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*l*4,u=0;u<8&&8*l+u<this.width;u++){var a=this.palette[i>>7-u&1];this.data[s+4*u]=a.blue,this.data[s+4*u+1]=a.green,this.data[s+4*u+2]=a.red,this.data[s+4*u+3]=255}e!==0&&(this.pos+=4-e)}},Wi.prototype.bit4=function(){for(var r=Math.ceil(this.width/2),t=r%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,l=0;l<r;l++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*l*4,u=i>>4,a=15&i,o=this.palette[u];if(this.data[s]=o.blue,this.data[s+1]=o.green,this.data[s+2]=o.red,this.data[s+3]=255,2*l+1>=this.width)break;o=this.palette[a],this.data[s+4]=o.blue,this.data[s+4+1]=o.green,this.data[s+4+2]=o.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},Wi.prototype.bit8=function(){for(var r=this.width%4,t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var l=this.datav.getUint8(this.pos++,!0),i=e*this.width*4+4*n;if(l<this.palette.length){var s=this.palette[l];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}r!==0&&(this.pos+=4-r)}},Wi.prototype.bit15=function(){for(var r=this.width%3,t=parseInt("11111",2),e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,l=0;l<this.width;l++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,u=(i>>5&t)/t*255|0,a=(i>>10&t)/t*255|0,o=i>>15?255:0,c=n*this.width*4+4*l;this.data[c]=a,this.data[c+1]=u,this.data[c+2]=s,this.data[c+3]=o}this.pos+=r}},Wi.prototype.bit16=function(){for(var r=this.width%3,t=parseInt("11111",2),e=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var l=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&t)/t*255|0,a=(s>>5&e)/e*255|0,o=(s>>11)/t*255|0,c=l*this.width*4+4*i;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=u,this.data[c+3]=255}this.pos+=r}},Wi.prototype.bit24=function(){for(var r=this.height-1;r>=0;r--){for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*e;this.data[s]=i,this.data[s+1]=l,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Wi.prototype.bit32=function(){for(var r=this.height-1;r>=0;r--)for(var t=this.bottom_up?r:this.height-1-r,e=0;e<this.width;e++){var n=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*e;this.data[u]=i,this.data[u+1]=l,this.data[u+2]=n,this.data[u+3]=s}},Wi.prototype.getData=function(){return this.data},function(r){r.processBMP=function(t,e,n,l){var i=new Wi(t,!1),s=i.width,u=i.height,a={data:i.getData(),width:s,height:u},o=new Mp(100).encode(a,100);return r.processJPEG.call(this,o,e,n,l)}}(Dt.API),U2.prototype.getData=function(){return this.data},function(r){r.processWEBP=function(t,e,n,l){var i=new U2(t),s=i.width,u=i.height,a={data:i.getData(),width:s,height:u},o=new Mp(100).encode(a,100);return r.processJPEG.call(this,o,e,n,l)}}(Dt.API),Dt.API.processRGBA=function(r,t,e){for(var n=r.data,l=n.length,i=new Uint8Array(l/4*3),s=new Uint8Array(l/4),u=0,a=0,o=0;o<l;o+=4){var c=n[o],f=n[o+1],h=n[o+2],d=n[o+3];i[u++]=c,i[u++]=f,i[u++]=h,s[a++]=d}var y=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:y,index:t,alias:e,colorSpace:"DeviceRGB",bitsPerComponent:8,width:r.width,height:r.height}},Dt.API.setLanguage=function(r){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[r]!==void 0&&(this.internal.languageSettings.languageCode=r,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},nl=Dt.API,qd=nl.getCharWidthsArray=function(r,t){var e,n,l=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:l.metadata.Unicode.widths,a=u.fof?u.fof:1,o=t.kerning?t.kerning:l.metadata.Unicode.kerning,c=o.fof?o.fof:1,f=t.doKerning!==!1,h=0,d=r.length,y=0,b=u[0]||a,m=[];for(e=0;e<d;e++)n=r.charCodeAt(e),typeof l.metadata.widthOfString=="function"?m.push((l.metadata.widthOfGlyph(l.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(h=f&&br(o[n])==="object"&&!isNaN(parseInt(o[n][y],10))?o[n][y]/c:0,m.push((u[n]||b)/a+h)),y=n;return m},F2=nl.getStringUnitWidth=function(r,t){var e=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),l=t.charSpace||this.internal.getCharSpace();return nl.processArabic&&(r=nl.processArabic(r)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(r,e,l)/e:qd.apply(this,arguments).reduce(function(i,s){return i+s},0)},B2=function(r,t,e,n){for(var l=[],i=0,s=r.length,u=0;i!==s&&u+t[i]<e;)u+=t[i],i++;l.push(r.slice(0,i));var a=i;for(u=0;i!==s;)u+t[i]>n&&(l.push(r.slice(a,i)),u=0,a=i),u+=t[i],i++;return a!==i&&l.push(r.slice(a,i)),l},D2=function(r,t,e){e||(e={});var n,l,i,s,u,a,o,c=[],f=[c],h=e.textIndent||0,d=0,y=0,b=r.split(" "),m=qd.apply(this,[" ",e])[0];if(a=e.lineIndent===-1?b[0].length+2:e.lineIndent||0){var g=Array(a).join(" "),p=[];b.map(function(C){(C=C.split(/\s*\n/)).length>1?p=p.concat(C.map(function(j,L){return(L&&j.length?`
`:"")+j})):p.push(C[0])}),b=p,a=F2.apply(this,[g,e])}for(i=0,s=b.length;i<s;i++){var v=0;if(n=b[i],a&&n[0]==`
`&&(n=n.substr(1),v=1),h+d+(y=(l=qd.apply(this,[n,e])).reduce(function(C,j){return C+j},0))>t||v){if(y>t){for(u=B2.apply(this,[n,l,t-(h+d),t]),c.push(u.shift()),c=[u.pop()];u.length;)f.push([u.shift()]);y=l.slice(n.length-(c[0]?c[0].length:0)).reduce(function(C,j){return C+j},0)}else c=[n];f.push(c),h=y+a,d=m}else c.push(n),h+=d+y,d=m}return o=a?function(C,j){return(j?g:"")+C.join(" ")}:function(C){return C.join(" ")},f.map(o)},nl.splitTextToSize=function(r,t,e){var n,l=(e=e||{}).fontSize||this.internal.getFontSize(),i=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var f=this.internal.getFont(c.fontName,c.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,e);n=Array.isArray(r)?r:String(r).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/l;i.textIndent=e.textIndent?1*e.textIndent*this.internal.scaleFactor/l:0,i.lineIndent=e.lineIndent;var u,a,o=[];for(u=0,a=n.length;u<a;u++)o=o.concat(D2.apply(this,[n[u],s,i]));return o},function(r){r.__fontmetrics__=r.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",e={},n={},l=0;l<t.length;l++)e[t[l]]="0123456789abcdef"[l],n["0123456789abcdef"[l]]=t[l];var i=function(f){return"0x"+parseInt(f,10).toString(16)},s=r.__fontmetrics__.compress=function(f){var h,d,y,b,m=["{"];for(var g in f){if(h=f[g],isNaN(parseInt(g,10))?d="'"+g+"'":(g=parseInt(g,10),d=(d=i(g).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof h=="number")h<0?(y=i(h).slice(3),b="-"):(y=i(h).slice(2),b=""),y=b+y.slice(0,-1)+n[y.slice(-1)];else{if(br(h)!=="object")throw new Error("Don't know what to do with value type "+br(h)+".");y=s(h)}m.push(d+y)}return m.push("}"),m.join("")},u=r.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,d,y,b,m={},g=1,p=m,v=[],C="",j="",L=f.length-1,$=1;$<L;$+=1)(b=f[$])=="'"?h?(y=h.join(""),h=void 0):h=[]:h?h.push(b):b=="{"?(v.push([p,y]),p={},y=void 0):b=="}"?((d=v.pop())[0][d[1]]=p,y=void 0,p=d[0]):b=="-"?g=-1:y===void 0?e.hasOwnProperty(b)?(C+=e[b],y=parseInt(C,16)*g,g=1,C=""):C+=b:e.hasOwnProperty(b)?(j+=e[b],p[y]=parseInt(j,16)*g,g=1,y=void 0,j=""):j+=b;return m},a={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},o={Unicode:{Courier:a,"Courier-Bold":a,"Courier-BoldOblique":a,"Courier-Oblique":a,Helvetica:a,"Helvetica-Bold":a,"Helvetica-BoldOblique":a,"Helvetica-Oblique":a,"Times-Roman":a,"Times-Bold":a,"Times-BoldItalic":a,"Times-Italic":a}},c={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};r.events.push(["addFont",function(f){var h=f.font,d=c.Unicode[h.postScriptName];d&&(h.metadata.Unicode={},h.metadata.Unicode.widths=d.widths,h.metadata.Unicode.kerning=d.kerning);var y=o.Unicode[h.postScriptName];y&&(h.metadata.Unicode.encoding=y,h.encoding=y.codePages[0])}])}(Dt.API),function(r){var t=function(e){for(var n=e.length,l=new Uint8Array(n),i=0;i<n;i++)l[i]=e.charCodeAt(i);return l};r.API.events.push(["addFont",function(e){var n=void 0,l=e.font,i=e.instance;if(!l.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");if(typeof(n=i.existsFileInVFS(l.postScriptName)===!1?i.loadFile(l.postScriptName):i.getFileFromVFS(l.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+l.postScriptName+"').");(function(s,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(ac(u)),s.metadata=r.API.TTFFont.open(u),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(l,n)}}])}(Dt),function(r){function t(){return(qt.canvg?Promise.resolve(qt.canvg):Ks(()=>import("./index.es-QoFaHshe.js"),[])).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Dt.API.addSvgAsImage=function(e,n,l,i,s,u,a,o){if(isNaN(n)||isNaN(l))throw _r.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw _r.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=i,c.height=s;var f=c.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,c.width,c.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return t().then(function(y){return y.fromString(f,e,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(h)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),n,l,i,s,a,o)})}}(),Dt.API.putTotalPages=function(r){var t,e=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(r,"g"),e=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(r,this.internal.getFont()),"g"),e=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var l=0;l<this.internal.pages[n].length;l++)this.internal.pages[n][l]=this.internal.pages[n][l].replace(t,e);return this},Dt.API.viewerPreferences=function(r,t){var e;r=r||{},t=t||!1;var n,l,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(s),a=[],o=0,c=0,f=0;function h(y,b){var m,g=!1;for(m=0;m<y.length;m+=1)y[m]===b&&(g=!0);return g}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),e=this.internal.viewerpreferences.configuration,r==="reset"||t===!0){var d=u.length;for(f=0;f<d;f+=1)e[u[f]].value=e[u[f]].defaultValue,e[u[f]].explicitSet=!1}if(br(r)==="object"){for(l in r)if(i=r[l],h(u,l)&&i!==void 0){if(e[l].type==="boolean"&&typeof i=="boolean")e[l].value=i;else if(e[l].type==="name"&&h(e[l].valueSet,i))e[l].value=i;else if(e[l].type==="integer"&&Number.isInteger(i))e[l].value=i;else if(e[l].type==="array"){for(o=0;o<i.length;o+=1)if(n=!0,i[o].length===1&&typeof i[o][0]=="number")a.push(String(i[o]-1));else if(i[o].length>1){for(c=0;c<i[o].length;c+=1)typeof i[o][c]!="number"&&(n=!1);n===!0&&a.push([i[o][0]-1,i[o][1]-1].join(" "))}e[l].value="["+a.join(" ")+"]"}else e[l].value=e[l].defaultValue;e[l].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,b=[];for(y in e)e[y].explicitSet===!0&&(e[y].type==="name"?b.push("/"+y+" /"+e[y].value):b.push("/"+y+" "+e[y].value));b.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+b.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=e,this},function(r){var t=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',l=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),o=i.length+s.length+u.length+l.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+o+" >>"),this.internal.write("stream"),this.internal.write(l+i+s+u+a),this.internal.write("endstream"),this.internal.write("endobj")},e=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};r.addMetadata=function(n,l){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:l||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",e),this.internal.events.subscribe("postPutResources",t)),this}}(Dt.API),function(r){var t=r.API,e=t.pdfEscape16=function(i,s){for(var u,a=s.metadata.Unicode.widths,o=["","0","00","000","0000"],c=[""],f=0,h=i.length;f<h;++f){if(u=s.metadata.characterToGlyph(i.charCodeAt(f)),s.metadata.glyIdsUsed.push(u),s.metadata.toUnicode[u]=i.charCodeAt(f),a.indexOf(u)==-1&&(a.push(u),a.push([parseInt(s.metadata.widthOfGlyph(u),10)])),u=="0")return c.join("");u=u.toString(16),c.push(o[4-u.length],u)}return c.join("")},n=function(i){var s,u,a,o,c,f,h;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,a=[],f=0,h=(u=Object.keys(i).sort(function(d,y){return d-y})).length;f<h;f++)s=u[f],a.length>=100&&(c+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar`,a=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(o=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),a.push("<"+s+"><"+o+">"));return a.length&&(c+=`
`+a.length+` beginbfchar
`+a.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var u=s.font,a=s.out,o=s.newObject,c=s.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="Identity-H"){for(var f=u.metadata.Unicode.widths,h=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),d="",y=0;y<h.length;y++)d+=String.fromCharCode(h[y]);var b=o();c({data:d,addLength1:!0,objectId:b}),a("endobj");var m=o();c({data:n(u.metadata.toUnicode),addLength1:!0,objectId:m}),a("endobj");var g=o();a("<<"),a("/Type /FontDescriptor"),a("/FontName /"+ul(u.fontName)),a("/FontFile2 "+b+" 0 R"),a("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),a("/Flags "+u.metadata.flags),a("/StemV "+u.metadata.stemV),a("/ItalicAngle "+u.metadata.italicAngle),a("/Ascent "+u.metadata.ascender),a("/Descent "+u.metadata.decender),a("/CapHeight "+u.metadata.capHeight),a(">>"),a("endobj");var p=o();a("<<"),a("/Type /Font"),a("/BaseFont /"+ul(u.fontName)),a("/FontDescriptor "+g+" 0 R"),a("/W "+r.API.PDFObject.convert(f)),a("/CIDToGIDMap /Identity"),a("/DW 1000"),a("/Subtype /CIDFontType2"),a("/CIDSystemInfo"),a("<<"),a("/Supplement 0"),a("/Registry (Adobe)"),a("/Ordering ("+u.encoding+")"),a(">>"),a(">>"),a("endobj"),u.objectNumber=o(),a("<<"),a("/Type /Font"),a("/Subtype /Type0"),a("/ToUnicode "+m+" 0 R"),a("/BaseFont /"+ul(u.fontName)),a("/Encoding /"+u.encoding),a("/DescendantFonts ["+p+" 0 R]"),a(">>"),a("endobj"),u.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var u=s.font,a=s.out,o=s.newObject,c=s.putStream;if(u.metadata instanceof r.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var f=u.metadata.rawData,h="",d=0;d<f.length;d++)h+=String.fromCharCode(f[d]);var y=o();c({data:h,addLength1:!0,objectId:y}),a("endobj");var b=o();c({data:n(u.metadata.toUnicode),addLength1:!0,objectId:b}),a("endobj");var m=o();a("<<"),a("/Descent "+u.metadata.decender),a("/CapHeight "+u.metadata.capHeight),a("/StemV "+u.metadata.stemV),a("/Type /FontDescriptor"),a("/FontFile2 "+y+" 0 R"),a("/Flags 96"),a("/FontBBox "+r.API.PDFObject.convert(u.metadata.bbox)),a("/FontName /"+ul(u.fontName)),a("/ItalicAngle "+u.metadata.italicAngle),a("/Ascent "+u.metadata.ascender),a(">>"),a("endobj"),u.objectNumber=o();for(var g=0;g<u.metadata.hmtx.widths.length;g++)u.metadata.hmtx.widths[g]=parseInt(u.metadata.hmtx.widths[g]*(1e3/u.metadata.head.unitsPerEm));a("<</Subtype/TrueType/Type/Font/ToUnicode "+b+" 0 R/BaseFont/"+ul(u.fontName)+"/FontDescriptor "+m+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+r.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),a("endobj"),u.isAlreadyPutted=!0}})(i)}]);var l=function(i){var s,u=i.text||"",a=i.x,o=i.y,c=i.options||{},f=i.mutex||{},h=f.pdfEscape,d=f.activeFontKey,y=f.fonts,b=d,m="",g=0,p="",v=y[b].encoding;if(y[b].encoding!=="Identity-H")return{text:u,x:a,y:o,options:c,mutex:f};for(p=u,b=d,Array.isArray(u)&&(p=u[0]),g=0;g<p.length;g+=1)y[b].metadata.hasOwnProperty("cmap")&&(s=y[b].metadata.cmap.unicode.codeMap[p[g].charCodeAt(0)]),s||p[g].charCodeAt(0)<256&&y[b].metadata.hasOwnProperty("Unicode")?m+=p[g]:m+="";var C="";return parseInt(b.slice(1))<14||v==="WinAnsiEncoding"?C=h(m,b).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):v==="Identity-H"&&(C=e(m,y[b])),f.isHex=!0,{text:C,x:a,y:o,options:c,mutex:f}};t.events.push(["postProcessText",function(i){var s=i.text||"",u=[],a={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var o=0;for(o=0;o<s.length;o+=1)Array.isArray(s[o])&&s[o].length===3?u.push([l(Object.assign({},a,{text:s[o][0]})).text,s[o][1],s[o][2]]):u.push(l(Object.assign({},a,{text:s[o]})).text);i.text=u}else i.text=l(Object.assign({},a,{text:s})).text}])}(Dt),function(r){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};r.existsFileInVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0},r.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},r.getFileFromVFS=function(e){return t.call(this),this.internal.vFS[e]!==void 0?this.internal.vFS[e]:null}}(Dt.API),function(r){r.__bidiEngine__=r.prototype.__bidiEngine__=function(n){var l,i,s,u,a,o,c,f=t,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},b={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},m=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],g=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),p=!1,v=0;this.__bidiEngine__={};var C=function(q){var B=q.charCodeAt(),A=B>>8,P=b[A];return P!==void 0?f[256*P+(255&B)]:A===252||A===253?"AL":g.test(A)?"L":A===8?"R":"N"},j=function(q){for(var B,A=0;A<q.length;A++){if((B=C(q.charAt(A)))==="L")return!1;if(B==="R")return!0}return!1},L=function(q,B,A,P){var k,w,S,x,_=B[P];switch(_){case"L":case"R":p=!1;break;case"N":case"AN":break;case"EN":p&&(_="AN");break;case"AL":p=!0,_="R";break;case"WS":_="N";break;case"CS":P<1||P+1>=B.length||(k=A[P-1])!=="EN"&&k!=="AN"||(w=B[P+1])!=="EN"&&w!=="AN"?_="N":p&&(w="AN"),_=w===k?w:"N";break;case"ES":_=(k=P>0?A[P-1]:"B")==="EN"&&P+1<B.length&&B[P+1]==="EN"?"EN":"N";break;case"ET":if(P>0&&A[P-1]==="EN"){_="EN";break}if(p){_="N";break}for(S=P+1,x=B.length;S<x&&B[S]==="ET";)S++;_=S<x&&B[S]==="EN"?"EN":"N";break;case"NSM":if(s&&!u){for(x=B.length,S=P+1;S<x&&B[S]==="NSM";)S++;if(S<x){var E=q[P],D=E>=1425&&E<=2303||E===64286;if(k=B[S],D&&(k==="R"||k==="AL")){_="R";break}}}_=P<1||(k=B[P-1])==="B"?"N":A[P-1];break;case"B":p=!1,l=!0,_=v;break;case"S":i=!0,_="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":p=!1;break;case"BN":_="N"}return _},$=function(q,B,A){var P=q.split("");return A&&M(P,A,{hiLevel:v}),P.reverse(),B&&B.reverse(),P.join("")},M=function(q,B,A){var P,k,w,S,x,_=-1,E=q.length,D=0,N=[],U=v?d:h,V=[];for(p=!1,l=!1,i=!1,k=0;k<E;k++)V[k]=C(q[k]);for(w=0;w<E;w++){if(x=D,N[w]=L(q,V,N,w),P=240&(D=U[x][y[N[w]]]),D&=15,B[w]=S=U[D][5],P>0)if(P===16){for(k=_;k<w;k++)B[k]=1;_=-1}else _=-1;if(U[D][6])_===-1&&(_=w);else if(_>-1){for(k=_;k<w;k++)B[k]=S;_=-1}V[w]==="B"&&(B[w]=0),A.hiLevel|=S}i&&function(J,F,Y){for(var O=0;O<Y;O++)if(J[O]==="S"){F[O]=v;for(var T=O-1;T>=0&&J[T]==="WS";T--)F[T]=v}}(V,B,E)},z=function(q,B,A,P,k){if(!(k.hiLevel<q)){if(q===1&&v===1&&!l)return B.reverse(),void(A&&A.reverse());for(var w,S,x,_,E=B.length,D=0;D<E;){if(P[D]>=q){for(x=D+1;x<E&&P[x]>=q;)x++;for(_=D,S=x-1;_<S;_++,S--)w=B[_],B[_]=B[S],B[S]=w,A&&(w=A[_],A[_]=A[S],A[S]=w);D=x}D++}}},H=function(q,B,A){var P=q.split(""),k={hiLevel:v};return A||(A=[]),M(P,A,k),function(w,S,x){if(x.hiLevel!==0&&c)for(var _,E=0;E<w.length;E++)S[E]===1&&(_=m.indexOf(w[E]))>=0&&(w[E]=m[_+1])}(P,A,k),z(2,P,B,A,k),z(1,P,B,A,k),P.join("")};return this.__bidiEngine__.doBidiReorder=function(q,B,A){if(function(k,w){if(w)for(var S=0;S<k.length;S++)w[S]=S;u===void 0&&(u=j(k)),o===void 0&&(o=j(k))}(q,B),s||!a||o)if(s&&a&&u^o)v=u?1:0,q=$(q,B,A);else if(!s&&a&&o)v=u?1:0,q=H(q,B,A),q=$(q,B);else if(!s||u||a||o){if(s&&!a&&u^o)q=$(q,B),u?(v=0,q=H(q,B,A)):(v=1,q=H(q,B,A),q=$(q,B));else if(s&&u&&!a&&o)v=1,q=H(q,B,A),q=$(q,B);else if(!s&&!a&&u^o){var P=c;u?(v=1,q=H(q,B,A),v=0,c=!1,q=H(q,B,A),c=P):(v=0,q=H(q,B,A),q=$(q,B),v=1,c=!1,q=H(q,B,A),c=P,q=$(q,B))}}else v=0,q=H(q,B,A);else v=u?1:0,q=H(q,B,A);return q},this.__bidiEngine__.setOptions=function(q){q&&(s=q.isInputVisual,a=q.isOutputVisual,u=q.isInputRtl,o=q.isOutputRtl,c=q.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],e=new r.__bidiEngine__({isInputVisual:!0});r.API.events.push(["postProcessText",function(n){var l=n.text,i=(n.x,n.y,n.options||{}),s=(n.mutex,i.lang,[]);if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,e.setOptions(i),Object.prototype.toString.call(l)==="[object Array]"){var u=0;for(s=[],u=0;u<l.length;u+=1)Object.prototype.toString.call(l[u])==="[object Array]"?s.push([e.doBidiReorder(l[u][0]),l[u][1],l[u][2]]):s.push([e.doBidiReorder(l[u])]);n.text=s}else n.text=e.doBidiReorder(l);e.setOptions({isInputVisual:!0})}])}(Dt),Dt.API.TTFFont=function(){function r(t){var e;if(this.rawData=t,e=this.contents=new $o(t),this.contents.pos=4,e.readString(4)==="ttcf")throw new Error("TTCF not supported.");e.pos=0,this.parse(),this.subset=new cS(this),this.registerTTF()}return r.open=function(t){return new r(t)},r.prototype.parse=function(){return this.directory=new Y7(this.contents),this.head=new Z7(this),this.name=new nS(this),this.cmap=new E5(this),this.toUnicode={},this.hhea=new Q7(this),this.maxp=new iS(this),this.hmtx=new sS(this),this.post=new tS(this),this.os2=new eS(this),this.loca=new uS(this),this.glyf=new oS(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},r.prototype.registerTTF=function(){var t,e,n,l,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,u,a,o;for(o=[],s=0,u=(a=this.bbox).length;s<u;s++)t=a[s],o.push(Math.round(t*this.scaleFactor));return o}).call(this),this.stemV=0,this.post.exists?(n=255&(l=this.post.italic_angle),32768&(e=l>>16)&&(e=-(1+(65535^e))),this.italicAngle=+(e+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},r.prototype.characterToGlyph=function(t){var e;return((e=this.cmap.unicode)!=null?e.codeMap[t]:void 0)||0},r.prototype.widthOfGlyph=function(t){var e;return e=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*e},r.prototype.widthOfString=function(t,e,n){var l,i,s,u;for(s=0,i=0,u=(t=""+t).length;0<=u?i<u:i>u;i=0<=u?++i:--i)l=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(l))+n*(1e3/e)||0;return s*(e/1e3)},r.prototype.lineHeight=function(t,e){var n;return e==null&&(e=!1),n=e?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},r}();var rs,$o=function(){function r(t){this.data=t??[],this.pos=0,this.length=this.data.length}return r.prototype.readByte=function(){return this.data[this.pos++]},r.prototype.writeByte=function(t){return this.data[this.pos++]=t},r.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},r.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},r.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},r.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},r.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},r.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},r.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},r.prototype.readString=function(t){var e,n;for(n=[],e=0;0<=t?e<t:e>t;e=0<=t?++e:--e)n[e]=String.fromCharCode(this.readByte());return n.join("")},r.prototype.writeString=function(t){var e,n,l;for(l=[],e=0,n=t.length;0<=n?e<n:e>n;e=0<=n?++e:--e)l.push(this.writeByte(t.charCodeAt(e)));return l},r.prototype.readShort=function(){return this.readInt16()},r.prototype.writeShort=function(t){return this.writeInt16(t)},r.prototype.readLongLong=function(){var t,e,n,l,i,s,u,a;return t=this.readByte(),e=this.readByte(),n=this.readByte(),l=this.readByte(),i=this.readByte(),s=this.readByte(),u=this.readByte(),a=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^e)+1099511627776*(255^n)+4294967296*(255^l)+16777216*(255^i)+65536*(255^s)+256*(255^u)+(255^a)+1):72057594037927940*t+281474976710656*e+1099511627776*n+4294967296*l+16777216*i+65536*s+256*u+a},r.prototype.writeLongLong=function(t){var e,n;return e=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(e>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},r.prototype.readInt=function(){return this.readInt32()},r.prototype.writeInt=function(t){return this.writeInt32(t)},r.prototype.read=function(t){var e,n;for(e=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)e.push(this.readByte());return e},r.prototype.write=function(t){var e,n,l,i;for(i=[],n=0,l=t.length;n<l;n++)e=t[n],i.push(this.writeByte(e));return i},r}(),Y7=function(){var r;function t(e){var n,l,i;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},l=0,i=this.tableCount;0<=i?l<i:l>i;l=0<=i?++l:--l)n={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(e){var n,l,i,s,u,a,o,c,f,h,d,y,b;for(b in d=Object.keys(e).length,a=Math.log(2),f=16*Math.floor(Math.log(d)/a),s=Math.floor(f/a),c=16*d-f,(l=new $o).writeInt(this.scalarType),l.writeShort(d),l.writeShort(f),l.writeShort(s),l.writeShort(c),i=16*d,o=l.pos+i,u=null,y=[],e)for(h=e[b],l.writeString(b),l.writeInt(r(h)),l.writeInt(o),l.writeInt(h.length),y=y.concat(h),b==="head"&&(u=o),o+=h.length;o%4;)y.push(0),o++;return l.write(y),n=2981146554-r(l.data),l.pos=u+8,l.writeUInt32(n),l.data},r=function(e){var n,l,i,s;for(e=j5.call(e);e.length%4;)e.push(0);for(i=new $o(e),l=0,n=0,s=e.length;n<s;n=n+=4)l+=i.readUInt32();return 4294967295&l},t}(),J7={}.hasOwnProperty,ws=function(r,t){for(var e in t)J7.call(t,e)&&(r[e]=t[e]);function n(){this.constructor=r}return n.prototype=t.prototype,r.prototype=new n,r.__super__=t.prototype,r};rs=function(){function r(t){var e;this.file=t,e=this.file.directory.tables[this.tag],this.exists=!!e,e&&(this.offset=e.offset,this.length=e.length,this.parse(this.file.contents))}return r.prototype.parse=function(){},r.prototype.encode=function(){},r.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},r}();var Z7=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ws(t,rs),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var n;return(n=new $o).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(e),n.writeShort(this.glyphDataFormat),n.data},t}(),$2=function(){function r(t,e){var n,l,i,s,u,a,o,c,f,h,d,y,b,m,g,p,v;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=e+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(a=0;a<256;++a)this.codeMap[a]=t.readByte();break;case 4:for(d=t.readUInt16(),h=d/2,t.pos+=6,i=function(){var C,j;for(j=[],a=C=0;0<=h?C<h:C>h;a=0<=h?++C:--C)j.push(t.readUInt16());return j}(),t.pos+=2,b=function(){var C,j;for(j=[],a=C=0;0<=h?C<h:C>h;a=0<=h?++C:--C)j.push(t.readUInt16());return j}(),o=function(){var C,j;for(j=[],a=C=0;0<=h?C<h:C>h;a=0<=h?++C:--C)j.push(t.readUInt16());return j}(),c=function(){var C,j;for(j=[],a=C=0;0<=h?C<h:C>h;a=0<=h?++C:--C)j.push(t.readUInt16());return j}(),l=(this.length-t.pos+this.offset)/2,u=function(){var C,j;for(j=[],a=C=0;0<=l?C<l:C>l;a=0<=l?++C:--C)j.push(t.readUInt16());return j}(),a=g=0,v=i.length;g<v;a=++g)for(m=i[a],n=p=y=b[a];y<=m?p<=m:p>=m;n=y<=m?++p:--p)c[a]===0?s=n+o[a]:(s=u[c[a]/2+(n-y)-(h-a)]||0)!==0&&(s+=o[a]),this.codeMap[n]=65535&s}t.pos=f}return r.encode=function(t,e){var n,l,i,s,u,a,o,c,f,h,d,y,b,m,g,p,v,C,j,L,$,M,z,H,q,B,A,P,k,w,S,x,_,E,D,N,U,V,J,F,Y,O,T,G,Q,ne;switch(P=new $o,s=Object.keys(t).sort(function(Z,oe){return Z-oe}),e){case"macroman":for(b=0,m=function(){var Z=[];for(y=0;y<256;++y)Z.push(0);return Z}(),p={0:0},i={},k=0,_=s.length;k<_;k++)p[T=t[l=s[k]]]==null&&(p[T]=++b),i[l]={old:t[l],new:p[t[l]]},m[l]=p[t[l]];return P.writeUInt16(1),P.writeUInt16(0),P.writeUInt32(12),P.writeUInt16(0),P.writeUInt16(262),P.writeUInt16(0),P.write(m),{charMap:i,subtable:P.data,maxGlyphID:b+1};case"unicode":for(B=[],f=[],v=0,p={},n={},g=o=null,w=0,E=s.length;w<E;w++)p[j=t[l=s[w]]]==null&&(p[j]=++v),n[l]={old:j,new:p[j]},u=p[j]-l,g!=null&&u===o||(g&&f.push(g),B.push(l),o=u),g=l;for(g&&f.push(g),f.push(65535),B.push(65535),H=2*(z=B.length),M=2*Math.pow(Math.log(z)/Math.LN2,2),h=Math.log(M/2)/Math.LN2,$=2*z-M,a=[],L=[],d=[],y=S=0,D=B.length;S<D;y=++S){if(q=B[y],c=f[y],q===65535){a.push(0),L.push(0);break}if(q-(A=n[q].new)>=32768)for(a.push(0),L.push(2*(d.length+z-y)),l=x=q;q<=c?x<=c:x>=c;l=q<=c?++x:--x)d.push(n[l].new);else a.push(A-q),L.push(0)}for(P.writeUInt16(3),P.writeUInt16(1),P.writeUInt32(12),P.writeUInt16(4),P.writeUInt16(16+8*z+2*d.length),P.writeUInt16(0),P.writeUInt16(H),P.writeUInt16(M),P.writeUInt16(h),P.writeUInt16($),Y=0,N=f.length;Y<N;Y++)l=f[Y],P.writeUInt16(l);for(P.writeUInt16(0),O=0,U=B.length;O<U;O++)l=B[O],P.writeUInt16(l);for(G=0,V=a.length;G<V;G++)u=a[G],P.writeUInt16(u);for(Q=0,J=L.length;Q<J;Q++)C=L[Q],P.writeUInt16(C);for(ne=0,F=d.length;ne<F;ne++)b=d[ne],P.writeUInt16(b);return{charMap:n,subtable:P.data,maxGlyphID:v+1}}},r}(),E5=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ws(t,rs),t.prototype.tag="cmap",t.prototype.parse=function(e){var n,l,i;for(e.pos=this.offset,this.version=e.readUInt16(),i=e.readUInt16(),this.tables=[],this.unicode=null,l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)n=new $2(e,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},t.encode=function(e,n){var l,i;return n==null&&(n="macroman"),l=$2.encode(e,n),(i=new $o).writeUInt16(0),i.writeUInt16(1),l.table=i.data.concat(l.subtable),l},t}(),Q7=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ws(t,rs),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),eS=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ws(t,rs),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var n,l;for(l=[],n=0;n<10;++n)l.push(e.readByte());return l}(),this.charRange=function(){var n,l;for(l=[],n=0;n<4;++n)l.push(e.readInt());return l}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var n,l;for(l=[],n=0;n<2;n=++n)l.push(e.readInt());return l}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),tS=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ws(t,rs),t.prototype.tag="post",t.prototype.parse=function(e){var n,l,i;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:break;case 131072:var s;for(l=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=l?s<l:s>l;s=0<=l?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],i=[];e.pos<this.offset+this.length;)n=e.readByte(),i.push(this.names.push(e.readString(n)));return i;case 151552:return l=e.readUInt16(),this.offsets=e.read(l);case 196608:break;case 262144:return this.map=(function(){var u,a,o;for(o=[],s=u=0,a=this.file.maxp.numGlyphs;0<=a?u<a:u>a;s=0<=a?++u:--u)o.push(e.readUInt32());return o}).call(this)}},t}(),rS=function(r,t){this.raw=r,this.length=r.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},nS=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ws(t,rs),t.prototype.tag="name",t.prototype.parse=function(e){var n,l,i,s,u,a,o,c,f,h,d;for(e.pos=this.offset,e.readShort(),n=e.readShort(),a=e.readShort(),l=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)l.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+a+e.readShort()});for(o={},s=f=0,h=l.length;f<h;s=++f)i=l[s],e.pos=i.offset,c=e.readString(i.length),u=new rS(c,i),o[d=i.nameID]==null&&(o[d]=[]),o[i.nameID].push(u);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},t}(),iS=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ws(t,rs),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),sS=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ws(t,rs),t.prototype.tag="hmtx",t.prototype.parse=function(e){var n,l,i,s,u,a,o;for(e.pos=this.offset,this.metrics=[],n=0,a=this.file.hhea.numberOfMetrics;0<=a?n<a:n>a;n=0<=a?++n:--n)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,f;for(f=[],n=c=0;0<=i?c<i:c>i;n=0<=i?++c:--c)f.push(e.readInt16());return f}(),this.widths=(function(){var c,f,h,d;for(d=[],c=0,f=(h=this.metrics).length;c<f;c++)s=h[c],d.push(s.advance);return d}).call(this),l=this.widths[this.widths.length-1],o=[],n=u=0;0<=i?u<i:u>i;n=0<=i?++u:--u)o.push(this.widths.push(l));return o},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),j5=[].slice,oS=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ws(t,rs),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var n,l,i,s,u,a,o,c,f,h;return e in this.cache?this.cache[e]:(s=this.file.loca,n=this.file.contents,l=s.indexOf(e),(i=s.lengthOf(e))===0?this.cache[e]=null:(n.pos=this.offset+l,u=(a=new $o(n.read(i))).readShort(),c=a.readShort(),h=a.readShort(),o=a.readShort(),f=a.readShort(),this.cache[e]=u===-1?new lS(a,c,h,o,f):new aS(a,u,c,h,o,f),this.cache[e]))},t.prototype.encode=function(e,n,l){var i,s,u,a,o;for(u=[],s=[],a=0,o=n.length;a<o;a++)i=e[n[a]],s.push(u.length),i&&(u=u.concat(i.encode(l)));return s.push(u.length),{table:u,offsets:s}},t}(),aS=function(){function r(t,e,n,l,i,s){this.raw=t,this.numberOfContours=e,this.xMin=n,this.yMin=l,this.xMax=i,this.yMax=s,this.compound=!1}return r.prototype.encode=function(){return this.raw.data},r}(),lS=function(){function r(t,e,n,l,i){var s,u;for(this.raw=t,this.xMin=e,this.yMin=n,this.xMax=l,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;u=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&u;)s.pos+=1&u?4:2,128&u?s.pos+=8:64&u?s.pos+=4:8&u&&(s.pos+=2)}return r.prototype.encode=function(){var t,e,n;for(e=new $o(j5.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)e.pos=this.glyphOffsets[t];return e.data},r}(),uS=function(r){function t(){return t.__super__.constructor.apply(this,arguments)}return ws(t,rs),t.prototype.tag="loca",t.prototype.parse=function(e){var n,l;return e.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],l=0,i=this.length;l<i;l+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],l=0,i=this.length;l<i;l+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,n){for(var l=new Uint32Array(this.offsets.length),i=0,s=0,u=0;u<l.length;++u)if(l[u]=i,s<n.length&&n[s]==u){++s,l[u]=i;var a=this.offsets[u],o=this.offsets[u+1]-a;o>0&&(i+=o)}for(var c=new Array(4*l.length),f=0;f<l.length;++f)c[4*f+3]=255&l[f],c[4*f+2]=(65280&l[f])>>8,c[4*f+1]=(16711680&l[f])>>16,c[4*f]=(4278190080&l[f])>>24;return c},t}(),cS=function(){function r(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return r.prototype.generateCmap=function(){var t,e,n,l,i;for(e in l=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[e],t[e]=l[n];return t},r.prototype.glyphsFor=function(t){var e,n,l,i,s,u,a;for(l={},s=0,u=t.length;s<u;s++)l[i=t[s]]=this.font.glyf.glyphFor(i);for(i in e=[],l)(n=l[i])!=null&&n.compound&&e.push.apply(e,n.glyphIDs);if(e.length>0)for(i in a=this.glyphsFor(e))n=a[i],l[i]=n;return l},r.prototype.encode=function(t,e){var n,l,i,s,u,a,o,c,f,h,d,y,b,m,g;for(l in n=E5.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),d={0:0},g=n.charMap)d[(a=g[l]).old]=a.new;for(y in h=n.maxGlyphID,s)y in d||(d[y]=h++);return c=function(p){var v,C;for(v in C={},p)C[p[v]]=v;return C}(d),f=Object.keys(c).sort(function(p,v){return p-v}),b=function(){var p,v,C;for(C=[],p=0,v=f.length;p<v;p++)u=f[p],C.push(c[u]);return C}(),i=this.font.glyf.encode(s,b,d),o=this.font.loca.encode(i.offsets,b),m={cmap:this.font.cmap.raw(),glyf:i.table,loca:o,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(e)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},r}();Dt.API.PDFObject=function(){var r;function t(){}return r=function(e,n){return(Array(n+1).join("0")+e).slice(-n)},t.convert=function(e){var n,l,i,s;if(Array.isArray(e))return"["+function(){var u,a,o;for(o=[],u=0,a=e.length;u<a;u++)n=e[u],o.push(t.convert(n));return o}().join(" ")+"]";if(typeof e=="string")return"/"+e;if(e!=null&&e.isString)return"("+e+")";if(e instanceof Date)return"(D:"+r(e.getUTCFullYear(),4)+r(e.getUTCMonth(),2)+r(e.getUTCDate(),2)+r(e.getUTCHours(),2)+r(e.getUTCMinutes(),2)+r(e.getUTCSeconds(),2)+"Z)";if({}.toString.call(e)==="[object Object]"){for(l in i=["<<"],e)s=e[l],i.push("/"+l+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+e},t}();const dS=async()=>{try{const{data:r,error:t}=await At.from("sanitation_areas").select("*").order("display_order",{ascending:!0});if(t)throw t;return r||[]}catch(r){return console.error("Error fetching areas:",r),[]}},h1=async r=>{try{console.log("sortAreasByDisplayOrder called with:",r);const{data:t,error:e}=await At.from("sanitation_areas").select("name, display_order").in("name",r).order("display_order",{ascending:!0});if(console.log("Query result - data:",t,"error:",e),e)throw e;if(!t||t.length===0)return console.log("No areas found in master data, returning original order:",r),r;const n=t.map(l=>l.name);return console.log("sortAreasByDisplayOrder returning:",n),n}catch(t){return console.error("Error sorting areas:",t),r}},T5=async r=>{try{const{data:t,error:e}=await At.from("sanitation_bagian").select(`
        *,
        sanitation_areas!inner(name)
      `).eq("sanitation_areas.name",r).order("display_order",{ascending:!0});if(e)throw e;return t||[]}catch(t){return console.error("Error fetching bagian by area name:",t),[]}},hS=async r=>{try{const{data:t,error:e}=await At.from("sanitation_bagian").select(`
        *,
        sanitation_areas(name, display_order)
      `);if(e)throw e;const n=t==null?void 0:t.filter(s=>{let u=s.line_numbers||[];if(typeof u=="string")try{u=JSON.parse(u)}catch{return console.error("Failed to parse line_numbers for:",s.name),!1}return Array.isArray(u)&&u.includes(r)}),l={};n==null||n.forEach(s=>{var c,f;const u=((c=s.sanitation_areas)==null?void 0:c.name)||"Unknown",a=((f=s.sanitation_areas)==null?void 0:f.display_order)||999;let o=s.line_numbers||[];if(typeof o=="string")try{o=JSON.parse(o)}catch{o=[]}l[u]||(l[u]={bagian:[],areaOrder:a}),l[u].bagian.push({id:s.id,area_id:s.area_id,name:s.name,keterangan:s.keterangan,line_numbers:o,display_order:s.display_order})});const i={};return Object.entries(l).sort(([,s],[,u])=>s.areaOrder-u.areaOrder).forEach(([s,u])=>{u.bagian.sort((a,o)=>a.display_order-o.display_order),i[s]=u.bagian}),i}catch(t){return console.error("Error fetching bagian for line:",t),{}}},q2=r=>{const t=r.split(",")[1],e=atob(t),n=new Uint8Array(e.length);for(let l=0;l<e.length;l++)n[l]=e.charCodeAt(l);return n.buffer},P5=r=>{const t=new Date(r),e=new Date(t.getFullYear(),0,4),n=e.getDay()||7,l=new Date(e);l.setDate(e.getDate()-n+1);const i=t.getDay()||7,s=new Date(t);s.setDate(t.getDate()-i+1);const u=s.getTime()-l.getTime(),a=Math.floor(u/(7*24*60*60*1e3))+1,o=t.getDate().toString().padStart(2,"0"),c=(t.getMonth()+1).toString().padStart(2,"0"),f=t.getFullYear();return`Week ${a} (Tgl.${o}/${c}/${f})`},N5=r=>{const t=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],e=new Date(r),n=e.getDate().toString().padStart(2,"0"),l=t[e.getMonth()],i=e.getFullYear();return`${n} ${l} ${i}`},R5=async r=>{try{const{data:t,error:e}=await At.from("supervisors").select("supervisor_name").eq("plant",r).single();return e?(console.error("Error fetching supervisor:",e),"Unknown"):(t==null?void 0:t.supervisor_name)||"Unknown"}catch(t){return console.error("Error in getSupervisorName:",t),"Unknown"}},I5=r=>{const t=r.match(/Plant-(\d+)/);return t?t[1]:"1"},M5=async r=>{try{const t=await dS(),e={};return t.forEach(n=>{e[n.name]=n.display_order}),r.sort((n,l)=>{const i=e[n]??999,s=e[l]??999;return i-s})}catch(t){return console.error("Error sorting areas:",t),r.sort()}},Lp=new Map,fS=r=>{let t=0;for(let e=0;e<r.length;e++){const n=r.charCodeAt(e);t=(t<<5)-t+n,t=t&t}return t.toString(36)},zh=(r,t=300,e=300)=>new Promise(n=>{const l=`${fS(r)}_${t}_${e}`;if(Lp.has(l)){n(Lp.get(l));return}const i=new Image;i.onload=()=>{const s=document.createElement("canvas"),u=s.getContext("2d");if(!u){n(r);return}s.width=t,s.height=e,u.imageSmoothingEnabled=!0,u.imageSmoothingQuality="high",u.drawImage(i,0,0,t,e);const a=s.toDataURL("image/jpeg",.92);Lp.set(l,a),n(a)},i.onerror=()=>n(r),i.src=r}),W2=async r=>{var t;try{if(r.length===0)return alert("Tidak ada data untuk diekspor"),!1;console.log("Loading full records with photos for export...");const e=r.filter(m=>m.id).map(m=>Fh(m.id)),l=(await Promise.all(e)).filter(m=>m&&m.photoBeforeUri&&m.photoAfterUri);if(l.length===0)return alert("Tidak ada data dengan foto lengkap untuk diekspor"),!1;console.log("Loaded",l.length,"records with complete photos");const i=l.reduce((m,g)=>{const p=`${g.tanggal}_${g.plant}`;return m[p]||(m[p]={date:g.tanggal,plant:g.plant,records:[]}),m[p].records.push(g),m},{}),s=new Jl.Workbook;s.creator="Sanitation App",s.created=new Date;for(const m of Object.values(i)){const g=`${m.plant}_${m.date}`.replace(/[^\w\s]/gi,"_").substring(0,31),p=s.addWorksheet(g);p.columns=[{header:"No.",key:"no",width:6.4},{header:"Line",key:"line",width:7.4},{header:"Bagian",key:"bagian",width:16},{header:"Foto sebelum sanitasi",key:"fotoBefore",width:39.6},{header:"Foto setelah sanitasi",key:"fotoAfter",width:39.6},{header:"Keterangan",key:"keterangan",width:28.5}],p.mergeCells("A1:E2");const v=p.getCell("A1");v.value=`PT INDOFOOD CBP SUKSES MAKMUR Tbk
NDHO - CENTRAL QUALITY ASSURANCE`,v.font={bold:!0,size:12},v.alignment={horizontal:"center",vertical:"middle",wrapText:!0},v.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},p.mergeCells("F1:F2");const C=p.getCell("F1");C.value=`Kode Form : CQA - 69
No.Terbitan : 1.0`,C.font={size:12},C.alignment={horizontal:"left",vertical:"middle",wrapText:!0,indent:1},C.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},p.mergeCells("A4:F4");const j=p.getCell("A4");j.value="LAPORAN PELAKSANAAN SANITASI",j.font={bold:!0,size:12},j.alignment={horizontal:"center",vertical:"middle"};let L=6;const $=m.records.reduce((P,k)=>(P[k.area]||(P[k.area]=[]),P[k.area].push(k),P),{});let M=!0;const z=await M5(Object.keys($));for(const P of z){let k=$[P];try{const _=await T5(P),E={};_.forEach(D=>{E[D.name]=D.display_order}),k=k.sort((D,N)=>{const U=E[D.bagian]??999,V=E[N.bagian]??999;return U-V})}catch(_){console.error("Error sorting bagian:",_)}M&&(p.getCell(`A${L}`).value="Pabrik",p.getCell(`A${L}`).font={size:12},p.getCell(`B${L}`).value=`: ${m.plant}`,p.getCell(`B${L}`).font={size:12,bold:!0}),p.getCell(`A${L+1}`).value="Area",p.getCell(`A${L+1}`).font={size:12},p.getCell(`B${L+1}`).value=`: ${P}`,p.getCell(`B${L+1}`).font={size:12,bold:!0,color:{argb:"FF000000"}};const w=P5(m.date);p.getCell(`F${L+1}`).value=w,p.getCell(`F${L+1}`).font={size:12,bold:!0,color:{argb:"FF0000FF"}},p.getCell(`F${L+1}`).alignment={horizontal:"right"},L+=3;const S=p.getRow(L);S.values=["No.","Line","Bagian","Foto sebelum sanitasi","Foto setelah sanitasi","Keterangan"],S.font={bold:!0,size:12},S.alignment={horizontal:"center",vertical:"middle",wrapText:!0},S.eachCell(_=>{_.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),L++;let x=1;for(const _ of k){const E=p.getRow(L);E.values=[x,_.line,_.bagian,"","",null];const D=p.getCell(`F${L}`),N=[{text:_.keterangan,font:{color:{argb:"FF000000"},size:12}}];D.value={richText:N},D.alignment={wrapText:!0,vertical:"middle"},E.height=219.8,E.eachCell((U,V)=>{U.border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}},U.alignment={horizontal:V===1||V===2?"center":"left",vertical:"middle",wrapText:!0},U.font={size:12}});try{if(_.photoBeforeUri){const U=await zh(_.photoBeforeUri,300,300),V=q2(U),J=s.addImage({buffer:V,extension:"jpeg"});p.addImage(J,{tl:{col:3.22,row:L-.96},ext:{width:265,height:265},editAs:"oneCell"})}if(_.photoAfterUri){const U=await zh(_.photoAfterUri,300,300),V=q2(U),J=s.addImage({buffer:V,extension:"jpeg"});p.addImage(J,{tl:{col:4.22,row:L-.96},ext:{width:265,height:265},editAs:"oneCell"})}}catch(U){console.error("Error adding images:",U)}L++,x++}L+=0,M=!1}L+=2;const H=await R5(m.plant),q=I5(m.plant),B=((t=l[0])==null?void 0:t.created_by)||"Anonymous",A=N5(m.date);p.getCell(`A${L}`).value=`Cikarang Barat, ${A}`,p.getCell(`A${L}`).font={size:12},L+=2,p.getCell(`A${L}`).value="Dibuat oleh,",p.getCell(`A${L}`).font={size:12},p.getCell(`E${L}`).value="Mengetahui,",p.getCell(`E${L}`).font={size:12},p.getCell(`E${L}`).alignment={horizontal:"right"},L+=4,p.getCell(`A${L}`).value=B,p.getCell(`A${L}`).font={size:12,bold:!0,underline:!0},p.getCell(`A${L+1}`).value="QC Proc. Field",p.getCell(`A${L+1}`).font={size:12},p.getCell(`E${L}`).value=H,p.getCell(`E${L}`).font={size:12,bold:!0,underline:!0},p.getCell(`E${L}`).alignment={horizontal:"right"},p.getCell(`E${L+1}`).value=`QC Proc. Spv ${q}`,p.getCell(`E${L+1}`).font={size:12},p.getCell(`E${L+1}`).alignment={horizontal:"right"},L+=3,p.getCell(`A${L}`).value="CC :",p.getCell(`A${L}`).font={size:12},p.getCell(`A${L+1}`).value="- File",p.getCell(`A${L+1}`).font={size:12},p.getCell(`A${L+2}`).value="- BPDQCM",p.getCell(`A${L+2}`).font={size:12},p.getCell(`A${L+3}`).value=`- PM ${q}`,p.getCell(`A${L+3}`).font={size:12},p.getCell(`A${L+4}`).value="- CQA",p.getCell(`A${L+4}`).font={size:12}}const u=l[0],a=((u==null?void 0:u.plant)||"Unknown").replace(/[^\w-]/g,""),o=(u!=null&&u.line?`Line-${u.line}`:"Line-Unknown").replace(/[^\w-]/g,""),c=new Date().toISOString().split("T")[0],f=`Laporan_Sanitasi_${a}_${o}_${c}.xlsx`,h=await s.xlsx.writeBuffer(),d=new Blob([h],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),y=document.createElement("a"),b=URL.createObjectURL(d);return y.href=b,y.download=f,y.style.display="none",document.body.appendChild(y),y.click(),document.body.removeChild(y),URL.revokeObjectURL(b),!0}catch(e){return console.error("Excel export error:",e),!1}},H2=async r=>{var t;try{if(r.length===0)return alert("Tidak ada data untuk diekspor"),!1;console.log("Loading full records with photos for PDF export...");const e=r.filter(g=>g.id).map(g=>Fh(g.id)),l=(await Promise.all(e)).filter(g=>g&&g.photoBeforeUri&&g.photoAfterUri);if(l.length===0)return alert("Tidak ada data dengan foto lengkap untuk diekspor"),!1;console.log("Loaded",l.length,"records with complete photos for PDF");const i=new Dt("p","mm","a4"),s=i.internal.pageSize.getWidth(),u=i.internal.pageSize.getHeight(),a=10,o=l.reduce((g,p)=>{const v=`${p.tanggal}_${p.plant}`;return g[v]||(g[v]={date:p.tanggal,plant:p.plant,records:[]}),g[v].records.push(p),g},{});let c=!0;for(const g of Object.values(o)){c||i.addPage(),c=!1;let p=a;const v=s-2*a;i.setDrawColor(0,0,0),i.setLineWidth(.2),i.rect(a,p,v-50,15),i.rect(s-a-50,p,50,15),i.setFontSize(11),i.setFont("helvetica","bold");const C=a+(v-50)/2;i.text("PT INDOFOOD CBP SUKSES MAKMUR Tbk",C,p+6,{align:"center"}),i.text("NDHO - CENTRAL QUALITY ASSURANCE",C,p+11,{align:"center"}),i.setFontSize(9),i.setFont("helvetica","normal"),i.text("Kode Form : CQA - 69",s-a-48,p+6),i.text("No.Terbitan : 1.0",s-a-48,p+11),p+=25,i.setFontSize(11),i.setFont("helvetica","bold"),i.text("LAPORAN PELAKSANAAN SANITASI",s/2,p,{align:"center"}),p+=15;const j=g.records.reduce((B,A)=>(B[A.area]||(B[A.area]=[]),B[A.area].push(A),B),{});let L=!0;const $=await M5(Object.keys(j));for(const B of $){let A=j[B];try{const U=await T5(B),V={};U.forEach(J=>{V[J.name]=J.display_order}),A=A.sort((J,F)=>{const Y=V[J.bagian]??999,O=V[F.bagian]??999;return Y-O})}catch(U){console.error("Error sorting bagian:",U)}const P=50,k=12,S=15+k+P+10;p+S>u-30&&(i.addPage(),p=a+15),L&&(i.setFontSize(10),i.setFont("helvetica","bold"),i.setTextColor(0,0,0),i.text(`Pabrik : ${g.plant}`,a,p)),i.setFontSize(10),i.setFont("helvetica","bold"),i.setTextColor(0,0,0),i.text(`Area : ${B}`,a,p+5),i.setTextColor(0,0,255);const x=P5(g.date);i.text(x,s-a,p+5,{align:"right"}),i.setTextColor(0,0,0),p+=15;const _=[15,15,20,55,55,30];i.setFontSize(8),i.setFont("helvetica","bold");let E=a;["No.","Line","Bagian","Foto sebelum sanitasi","Foto setelah sanitasi","Keterangan"].forEach((U,V)=>{const J=i.splitTextToSize(U,_[V]-4);i.text(J,E+_[V]/2,p+8,{align:"center"}),E+=_[V]}),E=a;for(let U=0;U<=_.length;U++)i.line(E,p,E,p+k),U<_.length&&(E+=_[U]);i.line(a,p,a+_.reduce((U,V)=>U+V,0),p),i.line(a,p+k,a+_.reduce((U,V)=>U+V,0),p+k),p+=k;let N=1;for(const U of A){N>1&&p+50>u-30&&(i.addPage(),p=a+15),i.setFillColor(255,255,255),i.rect(a,p,_.reduce((Y,O)=>Y+O,0),50,"F"),i.setFont("helvetica","normal"),i.setFontSize(8),E=a,i.text(N.toString(),E+_[0]/2,p+8,{align:"center"}),E+=_[0],i.text(U.line.toString(),E+_[1]/2,p+8,{align:"center"}),E+=_[1];const J=i.splitTextToSize(U.bagian,_[2]-4);i.text(J,E+2,p+8),E+=_[2];try{if(U.photoBeforeUri){const Y=await zh(U.photoBeforeUri,300,300),O=50,T=45,G=E+(_[3]-O)/2,Q=p+(50-T)/2;i.addImage(Y,"JPEG",G,Q,O,T)}if(E+=_[3],U.photoAfterUri){const Y=await zh(U.photoAfterUri,300,300),O=50,T=45,G=E+(_[4]-O)/2,Q=p+(50-T)/2;i.addImage(Y,"JPEG",G,Q,O,T)}E+=_[4]}catch(Y){console.error("Error adding images to PDF:",Y),E+=_[4]}i.setFontSize(6);const F=i.splitTextToSize(U.keterangan,_[5]-4);i.text(F,E+2,p+8),i.setFontSize(8),i.setTextColor(0,0,0),E=a;for(let Y=0;Y<=_.length;Y++)i.line(E,p,E,p+50),Y<_.length&&(E+=_[Y]);i.line(a,p,a+_.reduce((Y,O)=>Y+O,0),p),i.line(a,p+50,a+_.reduce((Y,O)=>Y+O,0),p+50),p+=50,N++}p+=10,L=!1}p+=10;const M=await R5(g.plant),z=I5(g.plant),H=((t=l[0])==null?void 0:t.created_by)||"Anonymous",q=N5(g.date);p+60>u-30&&(i.addPage(),p=a+15),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`Cikarang Barat, ${q}`,a,p),p+=10,i.setFontSize(10),i.setFont("helvetica","normal"),i.text("Dibuat oleh,",a,p),i.text("Mengetahui,",s-a-50,p),p+=20,i.setFont("helvetica","bold"),i.text(H,a,p),i.text(M,s-a-50,p),p+=5,i.setFont("helvetica","normal"),i.text("QC Proc. Field",a,p),i.text(`QC Proc. Spv ${z}`,s-a-50,p),p+=10,i.setFont("helvetica","normal"),i.text("CC :",a,p),p+=5,i.text("- File",a,p),p+=5,i.text("- BPDQCM",a,p),p+=5,i.text(`- PM ${z}`,a,p),p+=5,i.text("- CQA",a,p)}const f=i.getNumberOfPages();for(let g=1;g<=f;g++)i.setPage(g),i.setFontSize(8),i.setTextColor(128,128,128),i.text(`Halaman ${g} dari ${f}`,s-a,u-10,{align:"right"});const h=l[0],d=((h==null?void 0:h.plant)||"Unknown").replace(/[^\w-]/g,""),y=(h!=null&&h.line?`Line-${h.line}`:"Line-Unknown").replace(/[^\w-]/g,""),b=new Date().toISOString().split("T")[0],m=`Laporan_Sanitasi_${d}_${y}_${b}.pdf`;return i.save(m),!0}catch(e){return console.error("PDF export error:",e),!1}};async function pS(){try{console.log("Starting status update: DRAFT -> COMPLETED");const{data:r,error:t}=await At.from("sanitation_records").update({status:"completed"}).eq("status","draft").select("id");if(t)throw console.error("Error updating draft records:",t),t;const{data:e,error:n}=await At.from("sanitation_records").update({status:"completed"}).eq("status","DRAFT").select("id");if(n)throw console.error("Error updating DRAFT records:",n),n;const l=((r==null?void 0:r.length)||0)+((e==null?void 0:e.length)||0);return console.log(`Successfully updated ${l} records from DRAFT to COMPLETED`),{success:!0,updated:l,draftUpdated:(r==null?void 0:r.length)||0,upperDraftUpdated:(e==null?void 0:e.length)||0}}catch(r){return console.error("Failed to update status:",r),{success:!1,error:r}}}async function V2(){try{const{data:r,error:t}=await At.from("sanitation_records").select("status");if(t)throw console.error("Error fetching status counts:",t),t;const e={};return r==null||r.forEach(n=>{const l=n.status||"unknown";e[l]=(e[l]||0)+1}),console.log("Status counts:",e),e}catch(r){return console.error("Failed to get status counts:",r),{}}}function mS(){const[r,t]=me.useState([]),[e,n]=me.useState([]),[l,i]=me.useState(""),[s,u]=me.useState(""),[a,o]=me.useState(new Set),[c,f]=me.useState(!0),[h,d]=me.useState(!1),[y,b]=me.useState(!1),{selectedPlant:m,setSelectedLine:g,currentUser:p,isLoading:v}=Lc(),C=On();me.useEffect(()=>{if(!v){if(!p){C("/");return}if(!m){C("/plant-selection");return}return o5().then(()=>{j()}),()=>{console.log("[RECORDS SCREEN] Cleanup: aborting pending requests"),Ca.abort(),Ca.reset()}}},[p,m,C,v]),me.useEffect(()=>{L()},[r,l,s]);const j=async()=>{if(m)try{f(!0);const U=await h7(m);t(U)}catch(U){console.error("Load records error:",U)}finally{f(!1)}},L=()=>{let U=r;l&&(U=U.filter(V=>V.tanggal===l)),s&&(U=U.filter(V=>V.line===s)),n(U)},$=async U=>{const V=_(U),J=V.length;if(window.confirm(`Apakah Anda yakin ingin menghapus ${J} record pada tanggal ${U}?

Tindakan ini tidak dapat dibatalkan!`))try{f(!0);for(const F of V)F.id&&await Cp(F.id);alert(`Berhasil menghapus ${J} record pada tanggal ${U}`),await j()}catch(F){console.error("Error deleting records by date:",F),alert("Gagal menghapus beberapa record")}finally{f(!1)}},M=async()=>{if(!s){alert("Silakan pilih Line terlebih dahulu");return}const U=e.length;if(U===0){alert("Tidak ada data untuk dihapus");return}if(window.confirm(`PERHATIAN!

Anda akan menghapus SEMUA DATA (${U} records) untuk Line ${s}.

Tindakan ini TIDAK DAPAT DIBATALKAN!

Apakah Anda yakin?`)&&window.confirm(`Konfirmasi terakhir!

Yakin ingin menghapus ${U} records?`))try{f(!0);for(const V of e)V.id&&await Cp(V.id);alert(`Berhasil menghapus ${U} records dari Line ${s}`),await j()}catch(V){console.error("Error deleting all data:",V),alert("Gagal menghapus beberapa record")}finally{f(!1)}},z=async U=>{if(window.confirm("Apakah Anda yakin ingin menghapus record ini?"))try{await Cp(U),j()}catch{alert("Gagal menghapus record")}},H=()=>{b(!0)},q=U=>{g(U),b(!1),C("/create-record")},B=U=>{const J=w().findIndex(F=>F.area===U.area&&F.bagian===U.bagian);g(U.line),localStorage.setItem("editBagianIndex",J.toString()),localStorage.setItem("editRecordData",JSON.stringify({area:U.area,bagian:U.bagian,photoBeforeUri:U.photoBeforeUri,photoAfterUri:U.photoAfterUri,keterangan:U.keterangan,tanggal:U.tanggal,foto_sebelum_timestamp:U.foto_sebelum_timestamp,foto_sesudah_timestamp:U.foto_sesudah_timestamp})),C("/create-record")},A=async U=>{if(e.length===0){alert("Tidak ada data untuk diekspor");return}d(!0);try{const V=U==="excel"?await W2(e):await H2(e);alert(V?`Data berhasil diekspor ke ${U.toUpperCase()}`:`Gagal mengekspor data ke ${U.toUpperCase()}`)}catch{alert(`Gagal mengekspor data ke ${U.toUpperCase()}`)}finally{d(!1)}},P=async(U,V)=>{const J=_(U);if(J.length===0){alert("Tidak ada data untuk diekspor pada tanggal ini");return}d(!0);try{const F=V==="excel"?await W2(J):await H2(J);alert(F?`Data tanggal ${U} berhasil diekspor ke ${V.toUpperCase()}`:`Gagal mengekspor data tanggal ${U} ke ${V.toUpperCase()}`)}catch{alert(`Gagal mengekspor data tanggal ${U} ke ${V.toUpperCase()}`)}finally{d(!1)}},k=async()=>{if(window.confirm("Apakah Anda yakin ingin mengubah semua status DRAFT menjadi COMPLETED?"))try{f(!0);const U=await V2();console.log("Status sebelum update:",U);const V=await pS();if(V.success){alert(`Berhasil mengubah ${V.updated} record dari DRAFT menjadi COMPLETED`),await j();const J=await V2();console.log("Status setelah update:",J)}else alert("Gagal mengubah status")}catch(U){console.error("Error updating status:",U),alert("Terjadi kesalahan saat mengubah status")}finally{f(!1)}},w=()=>{const U=[];let V=0;return sh.forEach(J=>{($0[J]||[]).forEach(Y=>{U.push({area:J,bagian:Y,index:V}),V++})}),U},S=()=>{let U=0;return sh.forEach(V=>{const J=$0[V]||[];U+=J.length}),U},x=U=>{const V=e.filter(F=>F.tanggal===U),J=new Map;return V.forEach(F=>{const Y=`${F.area}-${F.bagian}`,O=J.get(Y);(!O||F.updated_at&&(!O.updated_at||F.updated_at>O.updated_at)||!F.updated_at&&F.created_at&&(!O.created_at||F.created_at>O.created_at))&&J.set(Y,F)}),Array.from(J.values()).filter(F=>N(F)).length},_=U=>e.filter(V=>V.tanggal===U),E=()=>[...new Set(e.map(V=>V.tanggal))].sort((V,J)=>new Date(J).getTime()-new Date(V).getTime()),D=U=>{const V=new Set(a);V.has(U)?V.delete(U):V.add(U),o(V)},N=U=>U.foto_sebelum_timestamp&&U.foto_sesudah_timestamp;return v?R.jsx("div",{className:"container",children:R.jsx("div",{className:"loading",children:R.jsx("div",{className:"spinner"})})}):!p||!m?null:R.jsxs("div",{className:"container",children:[R.jsx("button",{className:"back-button",onClick:()=>C("/plant-selection"),children:R.jsx(Oi,{size:24})}),R.jsxs("button",{className:"add-data-button",onClick:H,children:[R.jsx(Tl,{size:20}),R.jsx("span",{children:"Tambah Data"})]}),y&&R.jsx("div",{className:"popup-overlay",children:R.jsxs("div",{className:"popup-content",children:[R.jsxs("div",{className:"popup-header",children:[R.jsx("h3",{children:"Pilih Line"}),R.jsx("button",{onClick:()=>b(!1),children:R.jsx(ii,{size:24})})]}),R.jsx("div",{className:"popup-body",children:($l[m]||[]).map(U=>R.jsxs("button",{className:"line-option",onClick:()=>q(U.toString()),children:["Line ",U]},U))})]})}),R.jsxs("div",{className:"card",style:{display:"flex",flexDirection:"column",maxHeight:"calc(100vh - 8rem)",overflow:"hidden"},children:[R.jsx("div",{className:"header",style:{flexShrink:0},children:R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[R.jsxs("div",{children:[R.jsx("h1",{className:"title",children:"Sanitation Records"}),R.jsx("p",{className:"subtitle",style:{textAlign:"left"},children:m})]}),tr.hasPermission("view_admin_panel")&&R.jsxs("button",{onClick:()=>C("/admin"),style:{padding:"0.5rem 1rem",background:"#6366F1",color:"white",border:"none",borderRadius:"0.5rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem",fontWeight:"500"},children:[R.jsx(Lv,{size:18}),"Admin Panel"]})]})}),R.jsxs("div",{style:{marginBottom:"2rem",flexShrink:0},children:[tr.hasPermission("delete_record")&&s&&R.jsx("div",{style:{marginBottom:"1rem"},children:R.jsxs("button",{onClick:M,disabled:c||e.length===0,style:{width:"100%",padding:"0.75rem",background:"#DC2626",color:"white",border:"none",borderRadius:"0.5rem",fontSize:"0.875rem",fontWeight:"600",cursor:c||e.length===0?"not-allowed":"pointer",opacity:c||e.length===0?.5:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"background 0.2s"},onMouseEnter:U=>{!c&&e.length>0&&(U.currentTarget.style.background="#B91C1C")},onMouseLeave:U=>{U.currentTarget.style.background="#DC2626"},children:[R.jsx(Mn,{size:16}),"Delete All Data for Line ",s," (",e.length," records)"]})}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"Filter by Date"}),R.jsx("label",{style:{display:"block",fontSize:"12px",color:"#718096",marginBottom:"4px"},children:"Pilih Tanggal"}),R.jsx("input",{type:"date",className:"input",value:l,onChange:U=>i(U.target.value)})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"Filter by Line"}),R.jsxs("select",{className:"select",value:s,onChange:U=>u(U.target.value),children:[R.jsx("option",{value:"",children:"Pilih Line"}),($l[m]||[]).map(U=>R.jsxs("option",{value:U.toString(),children:["Line ",U]},U))]})]})]}),R.jsxs("div",{className:"export-buttons",children:[R.jsxs("button",{className:"export-button excel",onClick:()=>A("excel"),disabled:h||e.length===0||!s,children:[R.jsx(Iu,{size:16}),"Export Excel"]}),R.jsxs("button",{className:"export-button pdf",onClick:()=>A("pdf"),disabled:h||e.length===0||!s,children:[R.jsx(Iu,{size:16}),"Export PDF"]}),tr.hasPermission("save_all_draft_to_completed")&&R.jsxs("button",{className:"export-button",onClick:k,disabled:c,style:{backgroundColor:"#10b981",border:"2px solid #059669"},children:[R.jsx(Iu,{size:16}),"Update DRAFT  COMPLETED"]})]}),R.jsx("div",{style:{flex:1,overflowY:"auto",overflowX:"hidden"},children:c?R.jsx("div",{className:"loading",children:R.jsx("div",{className:"spinner"})}):s?R.jsxs("div",{className:"records-grid",children:[E().map(U=>{const V=_(U),J=x(U),F=S(),Y=J===F,O=a.has(U);return R.jsxs("div",{className:"record-card",children:[R.jsxs("div",{className:"record-header clickable-header",onClick:()=>D(U),children:[R.jsxs("div",{children:[R.jsx("div",{className:"record-date",children:U}),R.jsx("div",{className:"record-plant",children:m}),R.jsxs("div",{style:{color:Y?"#10B981":"#EF4444",fontSize:"0.875rem",fontWeight:"600",marginTop:"0.5rem"},children:["Selesai: ",J,"/",F," bagian"]})]}),R.jsx("div",{style:{fontSize:"1.5rem",color:"#6B7280",transform:O?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})]}),R.jsxs("div",{className:"date-export-buttons",children:[R.jsxs("button",{className:"date-export-button excel",onClick:T=>{T.stopPropagation(),P(U,"excel")},disabled:h||V.length===0,title:`Export Excel untuk tanggal ${U}`,children:[R.jsx(Iu,{size:14}),"Excel"]}),R.jsxs("button",{className:"date-export-button pdf",onClick:T=>{T.stopPropagation(),P(U,"pdf")},disabled:h||V.length===0,title:`Export PDF untuk tanggal ${U}`,children:[R.jsx(Iu,{size:14}),"PDF"]}),tr.hasPermission("delete_record")&&R.jsxs("button",{className:"date-export-button",onClick:T=>{T.stopPropagation(),$(U)},disabled:c||V.length===0,title:`Delete semua data tanggal ${U}`,style:{background:"#DC2626",color:"white"},onMouseEnter:T=>{!c&&V.length>0&&(T.currentTarget.style.background="#B91C1C")},onMouseLeave:T=>{T.currentTarget.style.background="#DC2626"},children:[R.jsx(Mn,{size:14}),"Delete"]})]}),O&&R.jsx("div",{style:{marginTop:"1rem"},children:sh.map(T=>{const G=V.filter(Q=>Q.area===T);return G.length===0?null:R.jsxs("div",{style:{marginBottom:"1rem"},children:[R.jsx("div",{style:{fontWeight:"700",fontSize:"0.875rem",color:"#374151",marginBottom:"0.5rem",padding:"0.5rem",background:"#E5E7EB",borderRadius:"0.375rem"},children:T}),G.map(Q=>R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"#F8FAFC",borderRadius:"0.5rem",marginBottom:"0.5rem",marginLeft:"1rem"},children:[R.jsxs("div",{style:{flex:1},children:[R.jsxs("div",{style:{fontWeight:"600",fontSize:"0.875rem"},children:["Line ",Q.line," - ",Q.bagian]}),R.jsx("div",{style:{color:"#6B7280",fontSize:"0.75rem",marginTop:"0.25rem"},children:Q.keterangan.length>50?`${Q.keterangan.substring(0,50)}...`:Q.keterangan})]}),R.jsxs("div",{className:"record-actions",children:[R.jsx("button",{className:"action-button",onClick:()=>B(Q),title:"Update Record",children:R.jsx($u,{size:16,color:"#3B82F6"})}),R.jsx("button",{className:"action-button",onClick:()=>Q.id&&z(Q.id),title:"Delete Record",children:R.jsx(Mn,{size:16,color:"#EF4444"})})]})]},Q.id))]},T)})})]},U)}),e.length===0&&!c&&R.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"#6B7280"},children:["Belum ada record sanitation untuk ",m,s&&` Line ${s}`,l&&` pada tanggal ${l}`]})]}):R.jsx("div",{style:{textAlign:"center",padding:"2rem",color:"#6B7280"},children:"Silakan pilih Line terlebih dahulu untuk melihat records"})})]})]})}class f1{constructor(){Ms(this,"stream",null);Ms(this,"video",null)}async startCamera(t){try{this.video=t;const e={video:{facingMode:{ideal:"environment"},width:{ideal:1280,max:1920},height:{ideal:720,max:1080}}};return this.stream=await navigator.mediaDevices.getUserMedia(e),t.srcObject=this.stream,new Promise(n=>{let l=!1;const i=()=>{t.removeEventListener("loadedmetadata",s),t.removeEventListener("error",u)},s=async()=>{if(!l){i();try{await t.play(),console.log("Video started playing successfully"),l=!0,n(!0)}catch(a){console.error("Error playing video:",a),l=!0,n(!1)}}},u=()=>{l||(i(),console.error("Video error occurred"),l=!0,n(!1))};setTimeout(()=>{l||(i(),console.error("Video not ready after timeout"),l=!0,n(!1))},5e3),t.addEventListener("loadedmetadata",s),t.addEventListener("error",u)})}catch(e){return console.error("Error starting camera:",e),!1}}async capturePhoto(){if(console.log("Starting photo capture..."),!this.video)return console.error("Video element not available"),null;console.log("Video readyState:",this.video.readyState),console.log("Video dimensions:",this.video.videoWidth,"x",this.video.videoHeight);let t=0;const e=10;for(;this.video.readyState<2&&t<e;)console.log(`Waiting for video to be ready, attempt ${t+1}`),await new Promise(n=>setTimeout(n,500)),t++;if(this.video.readyState<2)return console.error("Video still not ready after waiting"),null;try{const n=document.createElement("canvas"),l=n.getContext("2d");if(!l)return console.error("Could not get canvas context"),null;const i=this.video.videoWidth,s=this.video.videoHeight;console.log("Video actual dimensions:",i,"x",s);const u=800;let a,o,c,f,h,d;if(i===0||s===0){const b=this.video.clientWidth||640,m=this.video.clientHeight||480;console.log("Using client dimensions:",b,"x",m);const g=Math.min(b,m);a=g,o=g,c=(b-g)/2,f=(m-g)/2,h=Math.min(g,u),d=Math.min(g,u)}else{const b=Math.min(i,s);a=b,o=b,c=(i-b)/2,f=(s-b)/2,h=Math.min(b,u),d=Math.min(b,u)}n.width=h,n.height=d,l.drawImage(this.video,c,f,a,o,0,0,h,d);const y=n.toDataURL("image/jpeg",.7);return y==="data:,"||y.length<100?(console.error("Canvas appears to be empty or invalid"),null):(console.log("Photo captured successfully, size:",y.length),y)}catch(n){return console.error("Error capturing photo:",n),null}}stopCamera(){console.log("Stopping camera..."),this.stream&&(this.stream.getTracks().forEach(t=>{t.stop(),console.log("Track stopped:",t.kind)}),this.stream=null),this.video&&(this.video.srcObject=null,this.video=null)}async processUploadedImage(t){try{return new Promise(e=>{const n=new FileReader;n.onload=l=>{var s;const i=new Image;i.onload=()=>{try{const u=document.createElement("canvas"),a=u.getContext("2d");if(!a){e(null);return}const o=1024,c=Math.min(i.width,i.height),f=(i.width-c)/2,h=(i.height-c)/2,d=Math.min(c,o);u.width=d,u.height=d,a.drawImage(i,f,h,c,c,0,0,d,d);const y=u.toDataURL("image/jpeg",.85);e(y)}catch(u){console.error("Error processing image:",u),e(null)}},i.onerror=()=>{e(null)},i.src=(s=l.target)==null?void 0:s.result},n.onerror=()=>{e(null)},n.readAsDataURL(t)})}catch(e){return console.error("Error reading file:",e),null}}async switchCamera(){if(!this.video)return!1;try{this.stopCamera();const t={video:{facingMode:{ideal:"user"},width:{ideal:1280},height:{ideal:720}}};return this.stream=await navigator.mediaDevices.getUserMedia(t),this.video.srcObject=this.stream,await this.video.play(),!0}catch(t){return console.error("Error switching camera:",t),!1}}async addTimestampToImage(t,e,n){try{return new Promise(l=>{const i=new Image;i.onload=()=>{try{const s=document.createElement("canvas"),u=s.getContext("2d");if(!u){l(null);return}s.width=i.width,s.height=i.height,u.drawImage(i,0,0);const a=e&&n?new Date(`${e}T${n}`):new Date,o=a.getDate().toString().padStart(2,"0"),c=(a.getMonth()+1).toString().padStart(2,"0"),f=a.getFullYear(),h=a.getHours().toString().padStart(2,"0"),d=a.getMinutes().toString().padStart(2,"0"),y=a.getSeconds().toString().padStart(2,"0"),b=`${o}/${c}/${f}, ${h}.${d}.${y}`,m=Math.max(24,Math.min(48,s.width/20));u.font=`bold ${m}px Arial`;const g=16,p=g,v=s.height-g;u.fillStyle="#FFFFFF",u.textAlign="left",u.textBaseline="bottom",u.fillText(b,p,v);const C=s.toDataURL("image/jpeg",.8);l(C)}catch(s){console.error("Error adding timestamp:",s),l(null)}},i.onerror=()=>{l(null)},i.src=t})}catch(l){return console.error("Error adding timestamp to image:",l),null}}}const em=()=>{var c,f,h,d,y;const t=new Intl.DateTimeFormat("en-CA",{timeZone:"Asia/Jakarta",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}).formatToParts(new Date),e=((c=t.find(b=>b.type==="year"))==null?void 0:c.value)||"",n=((f=t.find(b=>b.type==="month"))==null?void 0:f.value)||"",l=((h=t.find(b=>b.type==="day"))==null?void 0:h.value)||"",i=((d=t.find(b=>b.type==="hour"))==null?void 0:d.value)||"",s=((y=t.find(b=>b.type==="minute"))==null?void 0:y.value)||"",u=`${e}-${n}-${l}`,a=`${i}:${s}`,o=new Date(`${u}T${a}:00+07:00`);return{date:u,time:a,datetime:o}},gS=()=>em().date;function bS(){var vt;const{selectedPlant:r,selectedLine:t,setSelectedLine:e,currentUser:n,isLoading:l}=Lc(),i=On(),[s,u]=me.useState(t||""),[a,o]=me.useState(""),[c,f]=me.useState(""),[h,d]=me.useState(""),[y,b]=me.useState(""),[m,g]=me.useState(""),[p,v]=me.useState(""),[C,j]=me.useState(""),[L,$]=me.useState(""),[M,z]=me.useState(""),[H,q]=me.useState(""),[B,A]=me.useState(""),[P,k]=me.useState(gS()),[w,S]=me.useState(!1),[x,_]=me.useState("before"),[E,D]=me.useState(!1),[N,U]=me.useState(""),[V,J]=me.useState(!1),[F,Y]=me.useState([]),[O,T]=me.useState(null),[G,Q]=me.useState([]),[ne,Z]=me.useState({}),[oe,ue]=me.useState({}),[te,se]=me.useState(!1),pe=me.useRef(null),ie=me.useRef(new f1),fe=me.useRef(null),be=me.useRef(null);me.useEffect(()=>{if(l)return;if(!n){i("/");return}if(!r){i("/plant-selection");return}o5();const Me=localStorage.getItem("editBagianIndex"),Je=localStorage.getItem("editRecordData");if(Me&&Je){const Ce=parseInt(Me),We=JSON.parse(Je);je(Ce),o(We.area),f(We.bagian),d(We.photoBeforeUri||""),v("camera");const De=We.foto_sebelum_timestamp||"";if(De){const Ke=new Date(De);b(Ke.toISOString().split("T")[0]),g(Ke.toTimeString().slice(0,5))}j(We.photoAfterUri||""),q("camera");const Fe=We.foto_sesudah_timestamp||"";if(Fe){const Ke=new Date(Fe);$(Ke.toISOString().split("T")[0]),z(Ke.toTimeString().slice(0,5))}A(We.keterangan||""),We.tanggal&&k(We.tanggal),localStorage.removeItem("editBagianIndex"),localStorage.removeItem("editRecordData")}re()},[n,r,i,P,s]),me.useEffect(()=>{a&&c&&ve()},[a,c]),me.useEffect(()=>{(async()=>{if(!s){console.log("[DYNAMIC_DATA] No line selected yet");return}try{console.log("[DYNAMIC_DATA] Loading data for line:",s);const Je=await hS(s);if(console.log("[DYNAMIC_DATA] Bagian by area fetched:",Je),Object.keys(Je).length>0){const Ce=Object.keys(Je);console.log("[DYNAMIC_DATA] Setting dynamic data - Areas:",Ce),se(!0),Q(Ce),Z(Je);const We={};Object.values(Je).flat().forEach(De=>{We[De.name]=De.keterangan}),ue(We),console.log("[DYNAMIC_DATA] Dynamic data loaded successfully. Use dynamic: true")}else console.log("[DYNAMIC_DATA] No bagian found for line:",s),se(!1)}catch(Je){console.error("[DYNAMIC_DATA] Error loading dynamic data:",Je),se(!1)}})()},[s]);const re=async()=>{if(!(!r||!s||!P))try{console.log("[LOAD_META] Fetching metadata:",{selectedPlant:r,line:s,tanggal:P});const Me=await d7(r,s,P);console.log("[LOAD_META] Metadata fetched:",Me.length,"records"),Y(Me)}catch(Me){console.error("[LOAD_META] Error:",Me)}},ve=async()=>{if(!(!r||!s||!a||!c||!P))try{const Me=F.find(Je=>Je.area===a&&Je.bagian===c);if(Me&&Me.id){console.log("[LOAD_EXISTING] Found metadata, fetching full record:",Me.id);const Je=await Fh(Me.id);if(Je){d(Je.photoBeforeUri||Je.foto_sebelum||""),v("camera");const Ce=Je.foto_sebelum_timestamp||"";if(Ce){const De=new Date(Ce);b(De.toISOString().split("T")[0]),g(De.toTimeString().slice(0,5))}j(Je.photoAfterUri||Je.foto_sesudah||""),q("camera");const We=Je.foto_sesudah_timestamp||"";if(We){const De=new Date(We);$(De.toISOString().split("T")[0]),z(De.toTimeString().slice(0,5))}A(Je.keterangan||Ge()[c]||"")}}else d(""),v(""),b(""),g(""),j(""),q(""),$(""),z(""),A(Ge()[c]||"")}catch(Me){console.error("[LOAD_EXISTING] Error:",Me)}},_e=()=>{const Me=te?G:sh;return console.log("[GET_ACTIVE] getActiveAreas - useDynamic:",te,"result:",Me),Me},Re=()=>{const Me=te?ne:$0;return console.log("[GET_ACTIVE] getActiveBagianByArea - useDynamic:",te,"keys:",Object.keys(Me)),Me},Ge=()=>te?oe:s7,Ze=()=>{let Me=0;const Je=_e(),Ce=Re();return Je.forEach(We=>{const De=te?Ce[We]||[]:Ce[We]||[];Me+=De.length}),Me},Ye=()=>{let Me=0;const Je=_e(),Ce=Re();for(const We of Je){const De=te?Ce[We]||[]:Ce[We]||[];for(const Fe of De){const Ke=te?Fe.name:Fe;if(We===a&&Ke===c)return Me;Me++}}return-1},et=()=>{const Me=[];let Je=0;const Ce=_e(),We=Re();return Ce.forEach(De=>{(te?We[De]||[]:We[De]||[]).forEach(Ke=>{const st=te?Ke.name:Ke;Me.push({area:De,bagian:st,index:Je}),Je++})}),Me},ke=()=>{const Me=new Set,Je=new Set;return et().forEach((We,De)=>{const Fe=F.find(Ke=>Ke.area===We.area&&Ke.bagian===We.bagian);if(Fe){const Ke=!!Fe.foto_sebelum_timestamp,st=!!Fe.foto_sesudah_timestamp;Fe.status==="completed"&&Ke&&st||Ke&&st?Me.add((De+1).toString()):(Ke||st)&&Je.add((De+1).toString())}}),{completedSet:Me,partialSet:Je}},je=Me=>{const Je=et();if(Me>=0&&Me<Je.length){const Ce=Je[Me];o(Ce.area),f(Ce.bagian)}},Ue=Me=>{const Je=et(),Ce=Ye();let We;Me==="prev"?We=Ce>0?Ce-1:Je.length-1:We=Ce<Je.length-1?Ce+1:0;const De=Je[We];o(De.area),f(De.bagian)},Le=Me=>{o(Me),f(""),d(""),j(""),A("")},Ve=Me=>{f(Me)},He=Me=>{u(Me),e(Me),J(!1),o(""),f(""),d(""),j(""),A("")},ot=async Me=>{U(""),_(Me),S(!0),setTimeout(async()=>{pe.current?(console.log("Starting camera..."),await ie.current.startCamera(pe.current)?console.log("Camera started successfully"):(U("Tidak dapat mengakses kamera. Pastikan browser memiliki izin kamera dan refresh halaman."),setTimeout(()=>S(!1),2e3))):(U("Video element tidak tersedia"),setTimeout(()=>S(!1),2e3))},100)},ct=async()=>{console.log("Take picture button clicked"),D(!0),U("");try{if(!pe.current){U("Kamera tidak siap"),D(!1);return}console.log("Attempting to capture photo...");const Me=await ie.current.capturePhoto();if(Me){console.log("Photo captured successfully");const{date:Je,time:Ce}=em();x==="before"?(d(Me),b(Je),g(Ce),v("camera")):(j(Me),$(Je),z(Ce),q("camera")),bt()}else console.error("Photo capture returned null"),U("Gagal mengambil foto. Tunggu sebentar dan coba lagi.")}catch(Me){console.error("Take picture error:",Me),U("Terjadi kesalahan saat mengambil foto. Coba lagi.")}finally{D(!1)}},bt=()=>{console.log("Closing camera..."),ie.current.stopCamera(),S(!1),D(!1),U("")},Lt=Me=>{Me==="before"?(d(""),b(""),g(""),v("")):(j(""),$(""),z(""),q("")),ot(Me)},pt=Me=>{Me==="before"?(d(""),b(""),g(""),v("")):(j(""),$(""),z(""),q(""))},Ft=async(Me,Je)=>{var We;const Ce=(We=Me.target.files)==null?void 0:We[0];if(Ce){if(!Ce.type.startsWith("image/")){alert("File harus berupa gambar");return}try{const De=await ie.current.processUploadedImage(Ce);if(De){const{date:Fe,time:Ke}=em();Je==="before"?(d(De),b(Fe),g(Ke),v("upload")):(j(De),$(Fe),z(Ke),q("upload"))}else alert("Gagal memproses gambar. Coba lagi.")}catch(De){console.error("Upload error:",De),alert("Terjadi kesalahan saat upload gambar.")}Me.target.value=""}},Bt=async Me=>{if(Me.preventDefault(),console.log("[SAVE] Starting save process..."),console.log("[SAVE] Form data:",{selectedPlant:r,line:s,area:a,bagian:c,tanggal:P,hasPhotoBefore:!!h,hasPhotoAfter:!!C,keteranganLength:B.length}),!r||!s||!a||!c){console.error("[SAVE] Missing required fields:",{selectedPlant:!!r,line:!!s,area:!!a,bagian:!!c}),alert("Plant, Line, Area, dan Bagian harus diisi");return}try{console.log("[SAVE] Checking for existing record...");const Je=F.find(we=>we.area===a&&we.bagian===c),Ce=Je?{id:Je.id}:null;console.log("[SAVE] Existing record found:",!!Ce);let We=h,De=C;const Fe=Ce?await Fh(Ce.id):null,Ke=!Fe||Fe.photoBeforeUri!==h&&Fe.foto_sebelum!==h,st=!Fe||Fe.photoAfterUri!==C&&Fe.foto_sesudah!==C;if(h&&Ke&&p==="camera"?We=await ie.current.addTimestampToImage(h,void 0,void 0)||h:h&&Ke&&(We=h),C&&st&&H==="camera"?De=await ie.current.addTimestampToImage(C,void 0,void 0)||C:C&&st&&(De=C),Ce&&Ce.id){console.log("[SAVE] Updating existing record:",Ce.id);const we=y&&m?new Date(`${y}T${m}:00`).toISOString():"",Ae=L&&M?new Date(`${L}T${M}:00`).toISOString():"";await _2(Ce.id,{photoBeforeUri:We,foto_sebelum_timestamp:we,photoAfterUri:De,foto_sesudah_timestamp:Ae,keterangan:B,status:"draft"}),console.log("[SAVE] Record updated successfully")}else{console.log("[SAVE] Creating new record");const we=y&&m?new Date(`${y}T${m}:00`).toISOString():"",Ae=L&&M?new Date(`${L}T${M}:00`).toISOString():"",ze={plant:r,line:s,area:a,bagian:c,photoBeforeUri:We,foto_sebelum_timestamp:we,photoAfterUri:De,foto_sesudah_timestamp:Ae,keterangan:B,tanggal:P,status:"draft",createdAt:new Date().toISOString()};console.log("[SAVE] Record object prepared:",ze);const lt=await c7(ze);console.log("[SAVE] Record created successfully with ID:",lt)}e(s),console.log("[SAVE] Reloading metadata..."),await re(),console.log("[SAVE] Save process completed successfully"),alert("Record berhasil disimpan sementara"),Ue("next")}catch(Je){console.error("[SAVE] Save record error:",Je),console.error("[SAVE] Error details:",{message:Je instanceof Error?Je.message:"Unknown error",stack:Je instanceof Error?Je.stack:void 0,name:Je instanceof Error?Je.name:void 0});const Ce=Je instanceof Error?Je.message:"Unknown error";alert(`Gagal menyimpan record: ${Ce}

Silakan cek console untuk detail lebih lanjut.`)}},xt=async()=>{console.log("[SAVE_ALL] Starting save all process...");const Me=F.filter(Ce=>Ce.status==="draft"),Je=F.filter(Ce=>!Ce.foto_sebelum_timestamp||!Ce.foto_sesudah_timestamp);if(!(Je.length>0&&!confirm(`Perhatian: Ada ${Je.length} bagian dengan foto yang belum lengkap.

Tetap simpan semua data?`))){if(Me.length===0){alert("Tidak ada draft record untuk disimpan.");return}try{let Ce=0,We=0;for(const De of Me)if(De.id)try{await _2(De.id,{status:"completed"}),Ce++}catch(Fe){console.error("[SAVE_ALL] Failed to update record:",De.id,Fe),We++}We>0?alert(`${Ce} record berhasil disimpan, ${We} record gagal disimpan.`):alert(`${Ce} record berhasil disimpan ke Sanitation Records`),await re()}catch(Ce){console.error("[SAVE_ALL] Save all records error:",Ce);const We=Ce instanceof Error?Ce.message:"Unknown error";alert(`Gagal menyimpan semua record: ${We}`)}}};return l?R.jsx("div",{className:"container",children:R.jsx("div",{className:"loading",children:R.jsx("div",{className:"spinner"})})}):!n||!r?null:w?R.jsxs("div",{className:"camera-container",children:[N&&R.jsx("div",{className:"camera-error",children:N}),R.jsxs("div",{style:{position:"absolute",top:"1rem",left:"50%",transform:"translateX(-50%)",color:"white",fontSize:"1.125rem",fontWeight:"600",zIndex:10},children:["Foto ",x==="before"?"Sebelum":"Setelah"," Sanitasi"]}),R.jsx("video",{ref:pe,className:"camera-video",autoPlay:!0,playsInline:!0,muted:!0}),R.jsxs("div",{className:"camera-overlay",children:[R.jsx("button",{className:"capture-button",onClick:ct,disabled:E||!!N,children:R.jsx("div",{className:`capture-button-inner ${E?"capturing":""}`})}),E&&R.jsx("div",{style:{color:"white",marginTop:"0.5rem"},children:"Mengambil foto..."}),R.jsx("button",{className:"cancel-button",onClick:bt,children:"Batal"})]})]}):R.jsxs("div",{className:"container",children:[R.jsx("button",{className:"back-button",onClick:()=>i("/records"),children:R.jsx(Oi,{size:24})}),V&&R.jsx("div",{className:"popup-overlay",children:R.jsxs("div",{className:"popup-content",children:[R.jsxs("div",{className:"popup-header",children:[R.jsx("h3",{children:"Pilih Line"}),R.jsx("button",{onClick:()=>J(!1),children:R.jsx(ii,{size:24})})]}),R.jsx("div",{className:"popup-body",children:($l[r]||[]).map(Me=>R.jsxs("button",{className:"line-option",onClick:()=>He(Me.toString()),children:["Line ",Me]},Me))})]})}),R.jsxs("div",{className:"card",children:[R.jsxs("div",{className:"header",children:[R.jsx("h1",{className:"title",children:"Create Record"}),R.jsx("p",{className:"subtitle",children:r}),R.jsxs("div",{className:"form-group",style:{marginTop:"1rem"},children:[R.jsx("label",{className:"label",children:"Tanggal"}),R.jsx("input",{type:"date",className:"input",value:P,onChange:Me=>k(Me.target.value),required:!0})]}),s&&R.jsxs("div",{className:"grid-progress-container",children:[R.jsxs("div",{className:"progress-summary",children:[R.jsxs("span",{style:{color:F.filter(Me=>Me.foto_sebelum_timestamp&&Me.foto_sesudah_timestamp).length===Ze()?"#10B981":"#EF4444"},children:["Selesai: ",F.filter(Me=>Me.foto_sebelum_timestamp&&Me.foto_sesudah_timestamp).length,"/",Ze()," bagian"]}),F.filter(Me=>Me.status==="draft").length>0&&R.jsxs("span",{style:{color:"#F59E0B",fontSize:"0.875rem",marginTop:"0.25rem",display:"block"},children:["Draft: ",F.filter(Me=>Me.status==="draft").length," bagian"]})]}),R.jsx("div",{className:"progress-grid",children:Array.from({length:Ze()},(Me,Je)=>{const Ce=(Je+1).toString(),{completedSet:We,partialSet:De}=ke(),Fe=We.has(Ce),Ke=De.has(Ce),st=Ye()===Je;return R.jsxs("div",{className:`progress-box ${Fe?"completed":""} ${Ke?"partial":""} ${st?"current":""} clickable`,onClick:()=>je(Je),children:[Ce,Fe&&R.jsx("span",{className:"checkmark",children:""}),Ke&&R.jsx("span",{className:"partial-icon",children:""})]},Ce)})})]})]}),R.jsxs("form",{onSubmit:Bt,children:[s&&R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"Line"}),R.jsx("div",{className:"selected-line-readonly",children:R.jsxs("span",{children:["Line ",s]})})]}),s&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"Area"}),R.jsxs("select",{className:"select",value:a,onChange:Me=>Le(Me.target.value),required:!0,children:[R.jsx("option",{value:"",children:"Pilih Area"}),_e().map(Me=>R.jsx("option",{value:Me,children:Me},Me))]})]}),a&&R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"Bagian"}),R.jsxs("select",{className:"select",value:c,onChange:Me=>Ve(Me.target.value),required:!0,children:[R.jsx("option",{value:"",children:"Pilih Bagian"}),(vt=Re()[a])==null?void 0:vt.map(Me=>{const Je=te?Me.name:Me;return R.jsx("option",{value:Je,children:Je},Je)})]})]}),a&&c&&R.jsxs("div",{className:"navigation-buttons",children:[R.jsxs("button",{type:"button",className:"nav-button",onClick:()=>Ue("prev"),children:[R.jsx(Nv,{size:16}),"Sebelumnya"]}),R.jsxs("div",{className:"bagian-indicator",children:[Ye()+1,"/",Ze()]}),R.jsxs("button",{type:"button",className:"nav-button",onClick:()=>Ue("next"),children:["Selanjutnya",R.jsx(Rv,{size:16})]})]}),R.jsxs("div",{className:"photo-section",children:[R.jsx("label",{className:"label",children:"Foto Sebelum Sanitasi"}),R.jsxs("div",{className:"photo-status",children:[R.jsx("p",{style:{fontSize:"0.875rem",color:"#6B7280",marginBottom:"0.5rem"},children:"Ambil foto kondisi sebelum sanitasi"}),R.jsx("span",{className:`photo-indicator ${h?"taken":"not-taken"}`,children:h?" Foto sudah diambil":" Foto belum diambil"})]}),h&&R.jsxs("div",{style:{padding:"1rem",background:"#F3F4F6",borderRadius:"0.5rem",marginTop:"0.5rem"},children:[p==="camera"&&R.jsx("div",{style:{marginBottom:"1rem"},children:R.jsx("p",{style:{fontSize:"0.875rem",color:"#6B7280",padding:"0.75rem",background:"white",borderRadius:"0.375rem"},children:" Foto dari kamera - Timestamp otomatis dari sistem"})}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsxs("button",{type:"button",className:"preview-button",onClick:()=>T(h),style:{flex:1},children:[R.jsx(ys,{size:16}),"Preview"]}),R.jsxs("button",{type:"button",className:"retake-button",onClick:()=>Lt("before"),style:{flex:1},children:[R.jsx(ma,{size:16}),"Ambil Ulang"]}),R.jsxs("button",{type:"button",className:"retake-button",onClick:()=>{var Me;pt("before"),(Me=fe.current)==null||Me.click()},style:{flex:1,background:"#3B82F6"},children:[R.jsx(jo,{size:16}),"Upload Ulang"]})]})]}),!h&&R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsxs("button",{type:"button",className:"photo-button",onClick:()=>ot("before"),style:{flex:1},children:[R.jsx(ma,{size:20}),"Ambil Foto"]}),R.jsxs("label",{className:"photo-button",style:{flex:1,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[R.jsx(jo,{size:20}),"Upload Foto",R.jsx("input",{ref:fe,type:"file",accept:"image/*",onChange:Me=>Ft(Me,"before"),style:{display:"none"}})]})]})]}),R.jsxs("div",{className:"photo-section",children:[R.jsx("label",{className:"label",children:"Foto Setelah Sanitasi"}),R.jsxs("div",{className:"photo-status",children:[R.jsx("p",{style:{fontSize:"0.875rem",color:"#6B7280",marginBottom:"0.5rem"},children:"Ambil foto kondisi setelah sanitasi"}),R.jsx("span",{className:`photo-indicator ${C?"taken":"not-taken"}`,children:C?" Foto sudah diambil":" Foto belum diambil"})]}),C&&R.jsxs("div",{style:{padding:"1rem",background:"#F3F4F6",borderRadius:"0.5rem",marginTop:"0.5rem"},children:[H==="camera"&&R.jsx("div",{style:{marginBottom:"1rem"},children:R.jsx("p",{style:{fontSize:"0.875rem",color:"#6B7280",padding:"0.75rem",background:"white",borderRadius:"0.375rem"},children:" Foto dari kamera - Timestamp otomatis dari sistem"})}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsxs("button",{type:"button",className:"preview-button",onClick:()=>T(C),style:{flex:1},children:[R.jsx(ys,{size:16}),"Preview"]}),R.jsxs("button",{type:"button",className:"retake-button",onClick:()=>Lt("after"),style:{flex:1},children:[R.jsx(ma,{size:16}),"Ambil Ulang"]}),R.jsxs("button",{type:"button",className:"retake-button",onClick:()=>{var Me;pt("after"),(Me=be.current)==null||Me.click()},style:{flex:1,background:"#3B82F6"},children:[R.jsx(jo,{size:16}),"Upload Ulang"]})]})]}),!C&&R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsxs("button",{type:"button",className:"photo-button",onClick:()=>ot("after"),style:{flex:1},children:[R.jsx(ma,{size:20}),"Ambil Foto"]}),R.jsxs("label",{className:"photo-button",style:{flex:1,cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[R.jsx(jo,{size:20}),"Upload Foto",R.jsx("input",{ref:be,type:"file",accept:"image/*",onChange:Me=>Ft(Me,"after"),style:{display:"none"}})]})]})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"Keterangan"}),R.jsx("textarea",{className:"input textarea",value:B,onChange:Me=>A(Me.target.value),placeholder:"Masukkan keterangan",required:!0})]}),R.jsx("button",{type:"submit",className:"button button-secondary",disabled:!s||!a||!c,children:"Simpan Sementara"}),R.jsx("button",{type:"button",className:"button button-primary",onClick:xt,style:{marginTop:"1rem"},children:F.filter(Me=>Me.status==="draft").length>0?`Simpan Semua (${F.filter(Me=>Me.status==="draft").length} Draft)`:"Simpan Semua"})]})]})]}),O&&R.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"1rem"},onClick:()=>T(null),children:[R.jsx("button",{onClick:()=>T(null),style:{position:"absolute",top:"1rem",right:"1rem",background:"rgba(255, 255, 255, 0.9)",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",zIndex:1e4},children:R.jsx(ii,{size:24,color:"#374151"})}),R.jsx("img",{src:O,alt:"Preview",style:{maxWidth:"90%",maxHeight:"90%",objectFit:"contain",borderRadius:"0.5rem"},onClick:Me=>Me.stopPropagation()})]})]})}const yS=()=>[["nik","password","full_name","role","menus","plants"],...[["12345","password123","John Doe","qc_field","sanitasi_besar","Plant-1"],["67890","pass456","Jane Smith","supervisor",'"sanitasi_besar,kliping"','"Plant-1,Plant-2"'],["11223","admin789","Admin User","admin",'"sanitasi_besar,kliping,monitoring_area,audit_internal"','"Plant-1,Plant-2,Plant-3"']]].map(n=>n.join(",")).join(`
`),vS=()=>{const r=yS(),t=new Blob([r],{type:"text/csv;charset=utf-8;"}),e=document.createElement("a"),n=URL.createObjectURL(t);e.setAttribute("href",n),e.setAttribute("download","template_user_import.csv"),e.style.visibility="hidden",document.body.appendChild(e),e.click(),document.body.removeChild(e)},G2=r=>{const t=[];let e="",n=!1;for(let l=0;l<r.length;l++){const i=r[l];i==='"'?n=!n:i===","&&!n?(t.push(e.trim()),e=""):e+=i}return t.push(e.trim()),t},wS=r=>{var h,d,y,b,m,g;const t=r.split(`
`).filter(p=>p.trim());if(t.length<2)throw new Error("CSV file kosong atau tidak valid");const n=G2(t[0]).map(p=>p.trim().toLowerCase()),l=["nik","password","full_name","role","menus","plants"];for(const p of l)if(!n.includes(p))throw new Error(`Header '${p}' tidak ditemukan dalam CSV`);const i=n.indexOf("nik"),s=n.indexOf("password"),u=n.indexOf("full_name"),a=n.indexOf("role"),o=n.indexOf("menus"),c=n.indexOf("plants"),f=[];for(let p=1;p<t.length;p++){const v=t[p].trim();if(!v)continue;const C=G2(v);if(C.length<6)throw new Error(`Baris ${p+1}: Data tidak lengkap (NIK, password, nama, dan role wajib diisi)`);const j=((h=C[i])==null?void 0:h.trim())||"",L=((d=C[s])==null?void 0:d.trim())||"",$=((y=C[u])==null?void 0:y.trim())||"",M=(b=C[a])==null?void 0:b.trim(),z=((m=C[o])==null?void 0:m.trim())||"",H=((g=C[c])==null?void 0:g.trim())||"";if(!j||!L||!$||!M)throw new Error(`Baris ${p+1}: Data tidak lengkap (NIK, password, nama, dan role wajib diisi)`);if(!["admin","supervisor","qc_field","manajer"].includes(M))throw new Error(`Baris ${p+1}: Role '${M}' tidak valid. Role harus: admin, supervisor, qc_field, atau manajer`);f.push({nik:j,password:L,full_name:$,role:M,menus:z,plants:H})}return f},xS=r=>{const t=[],e=new Set;return r.forEach((n,l)=>{const i=l+2;e.has(n.nik)&&t.push(`Baris ${i}: NIK '${n.nik}' duplikat`),e.add(n.nik),n.nik.length<3&&t.push(`Baris ${i}: NIK minimal 3 karakter`),n.password.length<6&&t.push(`Baris ${i}: Password minimal 6 karakter`),n.full_name.length<3&&t.push(`Baris ${i}: Nama lengkap minimal 3 karakter`)}),t};function _S(){const r=On(),[t,e]=me.useState([]),[n,l]=me.useState([]),[i,s]=me.useState(!1),[u,a]=me.useState(null),[o,c]=me.useState(!0),[f,h]=me.useState(!1),[d,y]=me.useState([]),[b,m]=me.useState([]),[g,p]=me.useState(""),[v,C]=me.useState("all"),[j,L]=me.useState("all"),[$]=me.useState("created_at"),[M]=me.useState("desc"),[z,H]=me.useState(new Set),[q,B]=me.useState(!1),[A,P]=me.useState(1),[k,w]=me.useState(10),[S,x]=me.useState({username:"",password:"",full_name:"",role:"qc_field",permissions:[],allowed_menus:[],allowed_plants:[]}),[_,E]=me.useState({permissions:[],allowed_menus:[],allowed_plants:[],updatePermissions:!1,updateMenus:!1,updatePlants:!1});me.useEffect(()=>{if(!tr.getCurrentUser()||!tr.hasPermission("view_admin_panel")){alert("Anda tidak memiliki akses ke halaman ini"),r("/records");return}D()},[r]);const D=async()=>{c(!0);const[re,ve]=await Promise.all([tr.getAllUsers(),tr.getPermissionDefinitions()]);e(re),l(ve),c(!1)},N=async()=>{if(!S.username||!S.password||!S.full_name){alert("Semua field harus diisi");return}await tr.createUser(S)?(alert("User berhasil ditambahkan"),s(!1),x({username:"",password:"",full_name:"",role:"qc_field",permissions:[],allowed_menus:[],allowed_plants:[]}),D()):alert("Gagal menambahkan user")},U=async()=>{if(!u)return;await tr.updateUser(u.id,{full_name:S.full_name,role:S.role,is_active:u.is_active,permissions:S.permissions,allowed_menus:S.allowed_menus,allowed_plants:S.allowed_plants})?(alert("User berhasil diupdate"),a(null),x({username:"",password:"",full_name:"",role:"qc_field",permissions:[],allowed_menus:[],allowed_plants:[]}),D()):alert("Gagal mengupdate user")},V=async(re,ve)=>{if(!confirm(`Hapus user ${ve}?`))return;await tr.deleteUser(re)?(alert("User berhasil dihapus"),D()):alert("Gagal menghapus user")},J=async re=>{await tr.updateUser(re.id,{is_active:!re.is_active})&&(alert(`User ${re.is_active?"dinonaktifkan":"diaktifkan"}`),D())},F=re=>{a(re),x({username:re.username,password:"",full_name:re.full_name,role:re.role,permissions:re.permissions,allowed_menus:re.allowed_menus||[],allowed_plants:re.allowed_plants||[]}),s(!0)},Y=()=>{a(null),s(!1),x({username:"",password:"",full_name:"",role:"qc_field",permissions:[],allowed_menus:[],allowed_plants:[]})},O=re=>{x(ve=>({...ve,permissions:ve.permissions.includes(re)?ve.permissions.filter(_e=>_e!==re):[...ve.permissions,re]}))},T=re=>{switch(re){case"admin":return"Admin";case"supervisor":return"Supervisor";case"qc_field":return"QC Field";case"manajer":return"Manager";default:return re}},G=n.reduce((re,ve)=>(re[ve.category]||(re[ve.category]=[]),re[ve.category].push(ve),re),{}),Q=re=>{var Re;const ve=(Re=re.target.files)==null?void 0:Re[0];if(!ve)return;m([]),y([]);const _e=new FileReader;_e.onload=Ge=>{var Ze;try{const Ye=(Ze=Ge.target)==null?void 0:Ze.result,et=wS(Ye),ke=xS(et);ke.length>0?m(ke):y(et)}catch(Ye){m([Ye instanceof Error?Ye.message:"Error parsing CSV"])}},_e.readAsText(ve)},ne=async()=>{if(d.length===0){alert("Tidak ada data untuk diimport");return}if(b.length>0){alert("Perbaiki error terlebih dahulu sebelum import");return}let re=0,ve=0;for(const _e of d){const Re=_e.menus?_e.menus.split(",").map(Ye=>Ye.trim()):[],Ge=_e.plants?_e.plants.split(",").map(Ye=>Ye.trim()):[];await tr.createUser({username:_e.nik,password:_e.password,full_name:_e.full_name,role:_e.role,permissions:[],allowed_menus:Re,allowed_plants:Ge})?re++:ve++}alert(`Import selesai!
Berhasil: ${re}
Gagal: ${ve}`),h(!1),y([]),m([]),D()},Z=()=>{z.size===fe.length?H(new Set):H(new Set(fe.map(re=>re.id)))},oe=re=>{const ve=new Set(z);ve.has(re)?ve.delete(re):ve.add(re),H(ve)},ue=async()=>{if(z.size===0){alert("Pilih minimal 1 user untuk update");return}if(!_.updatePermissions&&!_.updateMenus&&!_.updatePlants){alert("Pilih minimal 1 jenis update (Permissions, Menus, atau Plants)");return}if(!window.confirm(`Update ${z.size} user yang dipilih?`))return;let ve=0,_e=0;for(const Re of Array.from(z)){const Ge={};_.updatePermissions&&(Ge.permissions=_.permissions),_.updateMenus&&(Ge.allowed_menus=_.allowed_menus),_.updatePlants&&(Ge.allowed_plants=_.allowed_plants),await tr.updateUser(Re,Ge)?ve++:_e++}alert(`Bulk update selesai!
Berhasil: ${ve}
Gagal: ${_e}`),B(!1),H(new Set),E({permissions:[],allowed_menus:[],allowed_plants:[],updatePermissions:!1,updateMenus:!1,updatePlants:!1}),D()},te=t.filter(re=>{const ve=re.username.toLowerCase().includes(g.toLowerCase())||re.full_name.toLowerCase().includes(g.toLowerCase()),_e=v==="all"||re.role===v,Re=j==="all"||(j==="active"?re.is_active:!re.is_active);return ve&&_e&&Re}).sort((re,ve)=>{let _e=re[$],Re=ve[$];return typeof _e=="string"&&(_e=_e.toLowerCase()),typeof Re=="string"&&(Re=Re.toLowerCase()),_e<Re?M==="asc"?-1:1:_e>Re?M==="asc"?1:-1:0}),se=Math.ceil(te.length/k),pe=(A-1)*k,ie=pe+k,fe=te.slice(pe,ie);me.useEffect(()=>{P(1)},[g,v,j,$,M]);const be=re=>{re>=1&&re<=se&&(P(re),H(new Set))};return o?R.jsx("div",{className:"container",style:{padding:"2rem",textAlign:"center"},children:R.jsx("p",{children:"Loading..."})}):R.jsxs("div",{className:"container",style:{padding:"0.5rem"},children:[R.jsx("button",{className:"back-button",onClick:()=>r("/records"),style:{margin:"0.5rem"},children:R.jsx(Oi,{size:24})}),R.jsxs("div",{className:"card",style:{padding:"1rem"},children:[R.jsxs("div",{className:"header",children:[R.jsx("h1",{className:"title",style:{fontSize:"1.5rem"},children:"Admin Panel"}),R.jsx("p",{className:"subtitle",children:"Kelola Users dan Permissions"})]}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1rem",flexWrap:"wrap"},children:[R.jsxs("button",{className:"button button-primary",onClick:()=>s(!0),style:{fontSize:"0.875rem",padding:"0.625rem 1rem",flex:"1 1 auto",minWidth:"120px"},children:[R.jsx(I6,{size:18}),R.jsx("span",{className:"mobile-hide",children:"Tambah User"}),R.jsx("span",{className:"mobile-show",style:{display:"none"},children:"Tambah"})]}),R.jsxs("button",{className:"button",onClick:()=>r("/master-data"),style:{background:"#8B5CF6",color:"white",fontSize:"0.875rem",padding:"0.625rem 1rem",flex:"1 1 auto",minWidth:"100px"},children:[R.jsx($u,{size:18}),R.jsx("span",{className:"mobile-hide",children:"Master Data"}),R.jsx("span",{className:"mobile-show",style:{display:"none"},children:"Master"})]}),R.jsxs("button",{className:"button",onClick:()=>r("/audit-log"),style:{background:"#EF4444",color:"white",fontSize:"0.875rem",padding:"0.625rem 1rem",flex:"1 1 auto",minWidth:"100px"},children:[R.jsx(Mn,{size:18}),R.jsx("span",{className:"mobile-hide",children:"Audit Log"}),R.jsx("span",{className:"mobile-show",style:{display:"none"},children:"Audit"})]}),R.jsxs("button",{className:"button",onClick:()=>h(!0),style:{background:"#10B981",color:"white",fontSize:"0.875rem",padding:"0.625rem 1rem",flex:"1 1 auto",minWidth:"100px"},children:[R.jsx(jo,{size:18}),R.jsx("span",{className:"mobile-hide",children:"Import CSV"}),R.jsx("span",{className:"mobile-show",style:{display:"none"},children:"CSV"})]}),R.jsxs("button",{className:"button",onClick:vS,style:{background:"#3B82F6",color:"white",fontSize:"0.875rem",padding:"0.625rem 1rem",flex:"1 1 auto",minWidth:"100px"},children:[R.jsx(Iv,{size:18}),R.jsx("span",{className:"mobile-hide",children:"Template"})]}),z.size>0&&R.jsxs("button",{className:"button",onClick:()=>B(!0),style:{background:"#F59E0B",color:"white",fontSize:"0.875rem",padding:"0.625rem 1rem",flex:"1 1 auto",minWidth:"100px"},children:[R.jsx($u,{size:18}),"Bulk (",z.size,")"]})]}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.5rem",marginBottom:"1rem",padding:"0.75rem",background:"#F9FAFB",borderRadius:"0.5rem",border:"1px solid #E5E7EB"},children:[R.jsxs("div",{children:[R.jsx("label",{style:{fontSize:"0.7rem",fontWeight:"600",color:"#6B7280",marginBottom:"0.25rem",display:"block"},children:"Search"}),R.jsx("input",{type:"text",placeholder:"Cari NIK/Nama...",value:g,onChange:re=>p(re.target.value),style:{width:"100%",padding:"0.5rem",fontSize:"0.8rem",border:"1px solid #D1D5DB",borderRadius:"0.375rem"}})]}),R.jsxs("div",{children:[R.jsx("label",{style:{fontSize:"0.7rem",fontWeight:"600",color:"#6B7280",marginBottom:"0.25rem",display:"block"},children:"Role"}),R.jsxs("select",{value:v,onChange:re=>C(re.target.value),style:{width:"100%",padding:"0.5rem",fontSize:"0.8rem",border:"1px solid #D1D5DB",borderRadius:"0.375rem"},children:[R.jsx("option",{value:"all",children:"Semua"}),R.jsx("option",{value:"admin",children:"Admin"}),R.jsx("option",{value:"supervisor",children:"Supervisor"}),R.jsx("option",{value:"qc_field",children:"QC Field"}),R.jsx("option",{value:"manajer",children:"Manajer"})]})]}),R.jsxs("div",{children:[R.jsx("label",{style:{fontSize:"0.7rem",fontWeight:"600",color:"#6B7280",marginBottom:"0.25rem",display:"block"},children:"Status"}),R.jsxs("select",{value:j,onChange:re=>L(re.target.value),style:{width:"100%",padding:"0.5rem",fontSize:"0.8rem",border:"1px solid #D1D5DB",borderRadius:"0.375rem"},children:[R.jsx("option",{value:"all",children:"Semua"}),R.jsx("option",{value:"active",children:"Aktif"}),R.jsx("option",{value:"inactive",children:"Tidak Aktif"})]})]}),R.jsxs("div",{children:[R.jsx("label",{style:{fontSize:"0.7rem",fontWeight:"600",color:"#6B7280",marginBottom:"0.25rem",display:"block"},children:"Per Page"}),R.jsxs("select",{value:k,onChange:re=>w(Number(re.target.value)),style:{width:"100%",padding:"0.5rem",fontSize:"0.8rem",border:"1px solid #D1D5DB",borderRadius:"0.375rem"},children:[R.jsx("option",{value:5,children:"5"}),R.jsx("option",{value:10,children:"10"}),R.jsx("option",{value:25,children:"25"}),R.jsx("option",{value:50,children:"50"})]})]})]}),R.jsxs("div",{style:{marginBottom:"0.75rem",padding:"0.5rem 0.75rem",background:"#EFF6FF",borderRadius:"0.5rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"0.5rem"},children:[R.jsxs("span",{style:{fontSize:"0.8rem",fontWeight:"600",color:"#1E40AF"},children:[pe+1,"-",Math.min(ie,te.length)," dari ",te.length,z.size>0&&`  ${z.size} dipilih`]}),fe.length>0&&R.jsxs("button",{onClick:Z,style:{padding:"0.375rem 0.75rem",fontSize:"0.7rem",fontWeight:"600",background:z.size===fe.length?"#EF4444":"#3B82F6",color:"white",border:"none",borderRadius:"0.375rem",cursor:"pointer"},children:[z.size===fe.length?"Unselect":"Select"," All"]})]}),i&&R.jsx("div",{className:"popup-overlay",onClick:Y,children:R.jsxs("div",{className:"popup-content",onClick:re=>re.stopPropagation(),style:{maxWidth:"95vw",width:"600px",maxHeight:"90vh",overflowY:"auto",margin:"1rem"},children:[R.jsxs("div",{className:"popup-header",children:[R.jsx("h3",{style:{fontSize:"1.125rem"},children:u?"Edit User":"Tambah User Baru"}),R.jsx("button",{onClick:Y,children:R.jsx(ii,{size:24})})]}),R.jsxs("div",{className:"popup-body",style:{padding:"1rem"},children:[R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"NIK"}),R.jsx("input",{type:"text",className:"input",value:S.username,onChange:re=>x({...S,username:re.target.value}),disabled:!!u,placeholder:"Masukkan NIK",required:!0})]}),!u&&R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"Password"}),R.jsx("input",{type:"password",className:"input",value:S.password,onChange:re=>x({...S,password:re.target.value}),required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"Nama Lengkap"}),R.jsx("input",{type:"text",className:"input",value:S.full_name,onChange:re=>x({...S,full_name:re.target.value}),required:!0})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"Role"}),R.jsxs("select",{className:"select",value:S.role,onChange:re=>x({...S,role:re.target.value}),children:[R.jsx("option",{value:"qc_field",children:"QC Field"}),R.jsx("option",{value:"supervisor",children:"Supervisor"}),R.jsx("option",{value:"manajer",children:"Manager"}),R.jsx("option",{value:"admin",children:"Admin"})]})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",style:{marginBottom:"0.75rem"},children:"Permissions"}),R.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",border:"1px solid #E5E7EB",borderRadius:"0.375rem",padding:"0.5rem"},children:Object.entries(G).map(([re,ve])=>R.jsxs("div",{style:{marginBottom:"0.75rem"},children:[R.jsx("h4",{style:{fontSize:"0.8rem",fontWeight:"600",color:"#6366F1",marginBottom:"0.375rem"},children:re}),ve.map(_e=>R.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"0.375rem",cursor:"pointer",borderRadius:"0.375rem",marginBottom:"0.25rem",background:S.permissions.includes(_e.permission_name)?"#EEF2FF":"transparent",fontSize:"0.8rem"},children:[R.jsx("input",{type:"checkbox",checked:S.permissions.includes(_e.permission_name),onChange:()=>O(_e.permission_name),style:{marginRight:"0.5rem"}}),R.jsx("div",{children:R.jsx("div",{style:{fontSize:"0.8rem",fontWeight:"500"},children:_e.description})})]},_e.permission_name))]},re))})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",style:{marginBottom:"0.75rem"},children:"Menu Access"}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"0.5rem"},children:[{id:"sanitasi_besar",name:"Sanitasi Besar"},{id:"kliping",name:"Kliping"},{id:"monitoring_area",name:"Monitoring Area"},{id:"audit_internal",name:"Audit Internal"}].map(re=>R.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"0.5rem",cursor:"pointer",borderRadius:"0.375rem",background:S.allowed_menus.includes(re.id)?"#DCFCE7":"#F9FAFB",border:"2px solid "+(S.allowed_menus.includes(re.id)?"#22C55E":"#E5E7EB"),transition:"all 0.2s",userSelect:"none",fontSize:"0.8rem"},onClick:ve=>{ve.preventDefault();const _e=S.allowed_menus.includes(re.id)?S.allowed_menus.filter(Re=>Re!==re.id):[...S.allowed_menus,re.id];x({...S,allowed_menus:_e})},children:[R.jsx("input",{type:"checkbox",checked:S.allowed_menus.includes(re.id),onChange:()=>{},style:{marginRight:"0.5rem",width:"16px",height:"16px",cursor:"pointer"},readOnly:!0}),R.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"500",flex:1},children:re.name})]},re.id))})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",style:{marginBottom:"0.75rem"},children:"Plant Access"}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(100px, 1fr))",gap:"0.5rem"},children:["Plant-1","Plant-2","Plant-3"].map(re=>R.jsxs("label",{style:{display:"flex",alignItems:"center",padding:"0.5rem",cursor:"pointer",borderRadius:"0.375rem",background:S.allowed_plants.includes(re)?"#DBEAFE":"#F9FAFB",border:"2px solid "+(S.allowed_plants.includes(re)?"#3B82F6":"#E5E7EB"),transition:"all 0.2s",userSelect:"none",fontSize:"0.8rem"},onClick:ve=>{ve.preventDefault();const _e=S.allowed_plants.includes(re)?S.allowed_plants.filter(Re=>Re!==re):[...S.allowed_plants,re];x({...S,allowed_plants:_e})},children:[R.jsx("input",{type:"checkbox",checked:S.allowed_plants.includes(re),onChange:()=>{},style:{marginRight:"0.5rem",width:"16px",height:"16px",cursor:"pointer"},readOnly:!0}),R.jsx("span",{style:{fontSize:"0.8rem",fontWeight:"500",flex:1},children:re})]},re))})]}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1.5rem"},children:[R.jsxs("button",{className:"button button-primary",onClick:u?U:N,style:{flex:1},children:[R.jsx(rc,{size:20}),u?"Update":"Simpan"]}),R.jsx("button",{className:"button button-secondary",onClick:Y,style:{flex:1},children:"Batal"})]})]})]})}),R.jsx("div",{className:"mobile-show",style:{display:"none"},children:fe.map(re=>{var ve,_e;return R.jsxs("div",{style:{background:z.has(re.id)?"#EFF6FF":"white",border:"1px solid #E5E7EB",borderRadius:"0.5rem",padding:"1rem",marginBottom:"0.75rem"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"0.75rem"},children:[R.jsxs("div",{style:{flex:1},children:[R.jsx("div",{style:{fontSize:"1rem",fontWeight:"600",marginBottom:"0.25rem"},children:re.full_name}),R.jsxs("div",{style:{fontSize:"0.875rem",color:"#6B7280"},children:["NIK: ",re.username]})]}),R.jsx("input",{type:"checkbox",checked:z.has(re.id),onChange:()=>oe(re.id),style:{width:"20px",height:"20px",cursor:"pointer"}})]}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"0.75rem",flexWrap:"wrap"},children:[R.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"500",background:re.role==="admin"?"#FEE2E2":re.role==="supervisor"?"#DBEAFE":re.role==="manajer"?"#FEF3C7":"#F3F4F6",color:re.role==="admin"?"#991B1B":re.role==="supervisor"?"#1E40AF":re.role==="manajer"?"#92400E":"#374151"},children:T(re.role)}),R.jsx("button",{onClick:()=>J(re),style:{padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"500",border:"none",cursor:"pointer",background:re.is_active?"#D1FAE5":"#FEE2E2",color:re.is_active?"#065F46":"#991B1B"},children:re.is_active?"Aktif":"Non-aktif"})]}),R.jsxs("div",{style:{fontSize:"0.75rem",color:"#6B7280",marginBottom:"0.75rem"},children:[R.jsxs("div",{children:[re.permissions.length," permissions"]}),R.jsxs("div",{children:[((ve=re.allowed_menus)==null?void 0:ve.length)||0," menu, ",((_e=re.allowed_plants)==null?void 0:_e.length)||0," plant"]})]}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsxs("button",{onClick:()=>F(re),style:{flex:1,padding:"0.5rem",border:"none",borderRadius:"0.375rem",background:"#DBEAFE",color:"#1E40AF",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:[R.jsx($u,{size:16,style:{verticalAlign:"middle",marginRight:"0.25rem"}}),"Edit"]}),re.username!=="admin"&&R.jsxs("button",{onClick:()=>V(re.id,re.username),style:{flex:1,padding:"0.5rem",border:"none",borderRadius:"0.375rem",background:"#FEE2E2",color:"#991B1B",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:[R.jsx(Mn,{size:16,style:{verticalAlign:"middle",marginRight:"0.25rem"}}),"Hapus"]})]})]},re.id)})}),R.jsx("div",{className:"mobile-hide",style:{overflowX:"auto"},children:R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",minWidth:"800px"},children:[R.jsx("thead",{children:R.jsxs("tr",{style:{borderBottom:"2px solid #E5E7EB"},children:[R.jsx("th",{style:{padding:"0.75rem",textAlign:"center",fontSize:"0.875rem",fontWeight:"600",color:"#374151",width:"50px"},children:R.jsx("input",{type:"checkbox",checked:fe.length>0&&z.size===fe.length,onChange:Z,style:{width:"18px",height:"18px",cursor:"pointer"}})}),R.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"NIK"}),R.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Nama Lengkap"}),R.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Role"}),R.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Status"}),R.jsx("th",{style:{padding:"0.75rem",textAlign:"left",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Permissions"}),R.jsx("th",{style:{padding:"0.75rem",textAlign:"right",fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Aksi"})]})}),R.jsx("tbody",{children:fe.map(re=>{var ve,_e;return R.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB",background:z.has(re.id)?"#EFF6FF":"white"},children:[R.jsx("td",{style:{padding:"0.75rem",textAlign:"center"},children:R.jsx("input",{type:"checkbox",checked:z.has(re.id),onChange:()=>oe(re.id),style:{width:"18px",height:"18px",cursor:"pointer"}})}),R.jsx("td",{style:{padding:"0.75rem",fontSize:"0.875rem"},children:re.username}),R.jsx("td",{style:{padding:"0.75rem",fontSize:"0.875rem"},children:re.full_name}),R.jsx("td",{style:{padding:"0.75rem",fontSize:"0.875rem"},children:R.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"500",background:re.role==="admin"?"#FEE2E2":re.role==="supervisor"?"#DBEAFE":re.role==="manajer"?"#FEF3C7":"#F3F4F6",color:re.role==="admin"?"#991B1B":re.role==="supervisor"?"#1E40AF":re.role==="manajer"?"#92400E":"#374151"},children:T(re.role)})}),R.jsx("td",{style:{padding:"0.75rem",fontSize:"0.875rem"},children:R.jsx("button",{onClick:()=>J(re),style:{padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",fontWeight:"500",border:"none",cursor:"pointer",background:re.is_active?"#D1FAE5":"#FEE2E2",color:re.is_active?"#065F46":"#991B1B"},children:re.is_active?"Aktif":"Non-aktif"})}),R.jsxs("td",{style:{padding:"0.75rem",fontSize:"0.75rem",color:"#6B7280"},children:[R.jsxs("div",{children:[re.permissions.length," permissions"]}),R.jsxs("div",{style:{marginTop:"0.25rem"},children:[((ve=re.allowed_menus)==null?void 0:ve.length)||0," menu, ",((_e=re.allowed_plants)==null?void 0:_e.length)||0," plant"]})]}),R.jsx("td",{style:{padding:"0.75rem",textAlign:"right"},children:R.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[R.jsx("button",{onClick:()=>F(re),style:{padding:"0.5rem",border:"none",borderRadius:"0.375rem",background:"#DBEAFE",color:"#1E40AF",cursor:"pointer"},children:R.jsx($u,{size:16})}),re.username!=="admin"&&R.jsx("button",{onClick:()=>V(re.id,re.username),style:{padding:"0.5rem",border:"none",borderRadius:"0.375rem",background:"#FEE2E2",color:"#991B1B",cursor:"pointer"},children:R.jsx(Mn,{size:16})})]})})]},re.id)})})]})}),se>1&&R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1rem",padding:"0.75rem",background:"#F9FAFB",borderRadius:"0.5rem",flexWrap:"wrap",gap:"0.5rem"},children:[R.jsxs("button",{onClick:()=>be(A-1),disabled:A===1,style:{padding:"0.5rem 1rem",background:A===1?"#E5E7EB":"#3B82F6",color:A===1?"#9CA3AF":"white",border:"none",borderRadius:"0.375rem",cursor:A===1?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.875rem",fontWeight:"500"},children:[R.jsx(Nv,{size:16}),"Prev"]}),R.jsx("div",{style:{display:"flex",gap:"0.375rem",flexWrap:"wrap",justifyContent:"center"},children:Array.from({length:Math.min(5,se)},(re,ve)=>{let _e;return se<=5||A<=3?_e=ve+1:A>=se-2?_e=se-4+ve:_e=A-2+ve,R.jsx("button",{onClick:()=>be(_e),style:{padding:"0.5rem 0.75rem",background:A===_e?"#3B82F6":"white",color:A===_e?"white":"#374151",border:"1px solid "+(A===_e?"#3B82F6":"#D1D5DB"),borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.875rem",fontWeight:A===_e?"600":"400",minWidth:"36px"},children:_e},_e)})}),R.jsxs("button",{onClick:()=>be(A+1),disabled:A===se,style:{padding:"0.5rem 1rem",background:A===se?"#E5E7EB":"#3B82F6",color:A===se?"#9CA3AF":"white",border:"none",borderRadius:"0.375rem",cursor:A===se?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.875rem",fontWeight:"500"},children:["Next",R.jsx(Rv,{size:16})]})]}),f&&R.jsx("div",{className:"popup-overlay",onClick:()=>h(!1),children:R.jsxs("div",{className:"popup-content",onClick:re=>re.stopPropagation(),style:{maxWidth:"95vw",width:"800px",maxHeight:"90vh",overflowY:"auto",margin:"1rem"},children:[R.jsxs("div",{className:"popup-header",children:[R.jsx("h3",{children:"Import User dari CSV"}),R.jsx("button",{onClick:()=>h(!1),children:R.jsx(ii,{size:24})})]}),R.jsxs("div",{className:"popup-body",style:{padding:"1rem"},children:[R.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#EFF6FF",borderRadius:"0.5rem",border:"1px solid #BFDBFE"},children:[R.jsx("p",{style:{fontSize:"0.875rem",color:"#1E40AF",marginBottom:"0.5rem",fontWeight:"500"},children:"Format CSV:"}),R.jsx("p",{style:{fontSize:"0.75rem",color:"#1E40AF",fontFamily:"monospace"},children:"nik,password,full_name,role,menus,plants"}),R.jsx("p",{style:{fontSize:"0.75rem",color:"#1E40AF",marginTop:"0.5rem"},children:"Role: admin | supervisor | qc_field | manajer"}),R.jsx("p",{style:{fontSize:"0.75rem",color:"#1E40AF"},children:"Menus: sanitasi_besar,kliping,monitoring_area,audit_internal"}),R.jsx("p",{style:{fontSize:"0.75rem",color:"#1E40AF"},children:"Plants: Plant-1,Plant-2,Plant-3"})]}),R.jsxs("div",{className:"form-group",children:[R.jsx("label",{className:"label",children:"Pilih File CSV"}),R.jsx("input",{type:"file",accept:".csv",onChange:Q,className:"input"})]}),b.length>0&&R.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"#FEE2E2",borderRadius:"0.5rem",border:"1px solid #FCA5A5"},children:[R.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#991B1B",marginBottom:"0.5rem"},children:"Error Validasi:"}),b.map((re,ve)=>R.jsxs("p",{style:{fontSize:"0.75rem",color:"#991B1B",marginBottom:"0.25rem"},children:[" ",re]},ve))]}),d.length>0&&b.length===0&&R.jsxs("div",{style:{marginTop:"1rem"},children:[R.jsxs("p",{style:{fontSize:"0.875rem",fontWeight:"600",marginBottom:"0.5rem"},children:["Preview (",d.length," users):"]}),R.jsx("div",{style:{overflowX:"auto",maxHeight:"300px",border:"1px solid #E5E7EB",borderRadius:"0.5rem"},children:R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"0.75rem"},children:[R.jsx("thead",{style:{background:"#F9FAFB",position:"sticky",top:0},children:R.jsxs("tr",{children:[R.jsx("th",{style:{padding:"0.5rem",textAlign:"left",borderBottom:"1px solid #E5E7EB"},children:"NIK"}),R.jsx("th",{style:{padding:"0.5rem",textAlign:"left",borderBottom:"1px solid #E5E7EB"},children:"Nama"}),R.jsx("th",{style:{padding:"0.5rem",textAlign:"left",borderBottom:"1px solid #E5E7EB"},children:"Role"}),R.jsx("th",{style:{padding:"0.5rem",textAlign:"left",borderBottom:"1px solid #E5E7EB"},children:"Menus"}),R.jsx("th",{style:{padding:"0.5rem",textAlign:"left",borderBottom:"1px solid #E5E7EB"},children:"Plants"})]})}),R.jsx("tbody",{children:d.map((re,ve)=>R.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[R.jsx("td",{style:{padding:"0.5rem"},children:re.nik}),R.jsx("td",{style:{padding:"0.5rem"},children:re.full_name}),R.jsx("td",{style:{padding:"0.5rem"},children:T(re.role)}),R.jsx("td",{style:{padding:"0.5rem",fontSize:"0.625rem"},children:re.menus}),R.jsx("td",{style:{padding:"0.5rem",fontSize:"0.625rem"},children:re.plants})]},ve))})]})})]}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"1.5rem"},children:[R.jsxs("button",{className:"button button-primary",onClick:ne,disabled:d.length===0||b.length>0,style:{flex:1,opacity:d.length===0||b.length>0?.5:1},children:[R.jsx(jo,{size:20}),"Import ",d.length," Users"]}),R.jsx("button",{className:"button button-secondary",onClick:()=>{h(!1),y([]),m([])},style:{flex:1},children:"Batal"})]})]})]})}),q&&R.jsx("div",{className:"popup-overlay",onClick:()=>B(!1),children:R.jsxs("div",{className:"popup-content",onClick:re=>re.stopPropagation(),style:{maxWidth:"95vw",width:"700px",maxHeight:"90vh",overflowY:"auto",margin:"1rem"},children:[R.jsxs("div",{className:"popup-header",children:[R.jsxs("h3",{children:["Bulk Update ",z.size," Users"]}),R.jsx("button",{onClick:()=>B(!1),children:R.jsx(ii,{size:24})})]}),R.jsxs("div",{className:"popup-body",style:{padding:"1rem"},children:[R.jsx("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#FEF3C7",borderRadius:"0.5rem",border:"1px solid #FDE68A"},children:R.jsxs("p",{style:{fontSize:"0.875rem",color:"#92400E",fontWeight:"500"},children:["Update akan diterapkan ke ",z.size," user yang dipilih. Centang opsi yang ingin diupdate."]})}),R.jsxs("div",{style:{marginBottom:"1.5rem"},children:[R.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",cursor:"pointer"},children:[R.jsx("input",{type:"checkbox",checked:_.updatePermissions,onChange:re=>E({..._,updatePermissions:re.target.checked}),style:{width:"18px",height:"18px"}}),R.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Update Permissions"})]}),_.updatePermissions&&R.jsx("div",{style:{marginLeft:"2rem",marginBottom:"1rem",maxHeight:"200px",overflowY:"auto",border:"1px solid #E5E7EB",borderRadius:"0.375rem",padding:"0.5rem"},children:R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.5rem"},children:Object.entries(G).map(([re,ve])=>R.jsxs("div",{children:[R.jsx("p",{style:{fontSize:"0.7rem",fontWeight:"600",color:"#6B7280",marginBottom:"0.5rem",textTransform:"uppercase"},children:re}),ve.map(_e=>R.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",cursor:"pointer",fontSize:"0.75rem"},children:[R.jsx("input",{type:"checkbox",checked:_.permissions.includes(_e.permission_name),onChange:Re=>{Re.target.checked?E({..._,permissions:[..._.permissions,_e.permission_name]}):E({..._,permissions:_.permissions.filter(Ge=>Ge!==_e.permission_name)})}}),R.jsx("span",{style:{fontSize:"0.75rem"},children:_e.description})]},_e.permission_name))]},re))})})]}),R.jsxs("div",{style:{marginBottom:"1.5rem"},children:[R.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",cursor:"pointer"},children:[R.jsx("input",{type:"checkbox",checked:_.updateMenus,onChange:re=>E({..._,updateMenus:re.target.checked}),style:{width:"18px",height:"18px"}}),R.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Update Menu Access"})]}),_.updateMenus&&R.jsx("div",{style:{marginLeft:"2rem",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(150px, 1fr))",gap:"0.5rem"},children:["sanitasi_besar","kliping","monitoring_area","audit_internal"].map(re=>R.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:_.allowed_menus.includes(re)?"#D1FAE5":"#F3F4F6",borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.8rem"},children:[R.jsx("input",{type:"checkbox",checked:_.allowed_menus.includes(re),onChange:ve=>{ve.target.checked?E({..._,allowed_menus:[..._.allowed_menus,re]}):E({..._,allowed_menus:_.allowed_menus.filter(_e=>_e!==re)})}}),R.jsx("span",{style:{fontSize:"0.8rem"},children:re==="sanitasi_besar"?"Sanitasi Besar":re==="kliping"?"Kliping":re==="monitoring_area"?"Monitoring Area":"Audit Internal"})]},re))})]}),R.jsxs("div",{style:{marginBottom:"1.5rem"},children:[R.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",cursor:"pointer"},children:[R.jsx("input",{type:"checkbox",checked:_.updatePlants,onChange:re=>E({..._,updatePlants:re.target.checked}),style:{width:"18px",height:"18px"}}),R.jsx("span",{style:{fontSize:"0.875rem",fontWeight:"600",color:"#374151"},children:"Update Plant Access"})]}),_.updatePlants&&R.jsx("div",{style:{marginLeft:"2rem",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(100px, 1fr))",gap:"0.5rem"},children:["Plant-1","Plant-2","Plant-3"].map(re=>R.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",background:_.allowed_plants.includes(re)?"#DBEAFE":"#F3F4F6",borderRadius:"0.375rem",cursor:"pointer",fontSize:"0.8rem"},children:[R.jsx("input",{type:"checkbox",checked:_.allowed_plants.includes(re),onChange:ve=>{ve.target.checked?E({..._,allowed_plants:[..._.allowed_plants,re]}):E({..._,allowed_plants:_.allowed_plants.filter(_e=>_e!==re)})}}),R.jsx("span",{style:{fontSize:"0.8rem"},children:re})]},re))})]}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsxs("button",{className:"button button-primary",onClick:ue,disabled:!_.updatePermissions&&!_.updateMenus&&!_.updatePlants,style:{flex:1,opacity:!_.updatePermissions&&!_.updateMenus&&!_.updatePlants?.5:1},children:[R.jsx(rc,{size:20}),"Update ",z.size," Users"]}),R.jsx("button",{className:"button button-secondary",onClick:()=>B(!1),style:{flex:1},children:"Batal"})]})]})]})})]}),R.jsx("style",{children:`
        @media (max-width: 768px) {
          .mobile-hide {
            display: none !important;
          }
          .mobile-show {
            display: block !important;
          }
        }
        @media (min-width: 769px) {
          .mobile-hide {
            display: block !important;
          }
          .mobile-show {
            display: none !important;
          }
        }
      `})]})}function SS(){const r=On(),[t,e]=me.useState("areas"),[n,l]=me.useState([]),[i,s]=me.useState([]),[u,a]=me.useState([]),[o,c]=me.useState(!0),[f,h]=me.useState(null),[d,y]=me.useState(!1),[b,m]=me.useState(""),[g,p]=me.useState("all"),[v,C]=me.useState(""),[j,L]=me.useState(""),[$,M]=me.useState("display_order"),[z,H]=me.useState("asc"),[q,B]=me.useState(!1),[A,P]=me.useState({});me.useEffect(()=>{const T=tr.getCurrentUser();if(!(tr.hasPermission("view_admin_panel")||tr.hasPermission("manage_master_data")||(T==null?void 0:T.role)==="manajer"||(T==null?void 0:T.role)==="supervisor")){r("/menu");return}w()},[r,t]),me.useEffect(()=>{t==="areas"&&k()},[]);const k=async()=>{try{const{data:T,error:G}=await At.from("sanitation_areas").select("*").order("display_order",{ascending:!0});if(G)throw G;l(T||[])}catch(T){console.error("Error loading areas:",T)}},w=async()=>{c(!0);try{if(t==="areas")await k();else if(t==="bagian"){const{data:T,error:G}=await At.from("sanitation_bagian").select("*").order("display_order",{ascending:!0});if(G)throw G;const{data:Q}=await At.from("sanitation_areas").select("*"),ne=new Map((Q==null?void 0:Q.map(oe=>[oe.id,oe.name]))||[]),Z=(T==null?void 0:T.map(oe=>{let ue=oe.line_numbers||[];if(typeof ue=="string")try{ue=JSON.parse(ue)}catch{ue=[]}return Array.isArray(ue)||(ue=[]),{...oe,line_numbers:ue,area_name:ne.get(oe.area_id)||"Unknown"}}))||[];s(Z),l(Q||[])}else if(t==="supervisors"){const{data:T,error:G}=await At.from("supervisors").select("*").order("plant",{ascending:!0});if(G)throw G;a(T||[])}}catch(T){console.error("Error loading data:",T),alert("Gagal memuat data: "+T.message)}finally{c(!1)}},S=()=>{var T;y(!0),h(null),t==="areas"?P({name:"",display_order:n.length+1}):t==="bagian"?P({area_id:((T=n[0])==null?void 0:T.id)||"",name:"",keterangan:"",line_numbers:[],display_order:i.length+1}):t==="supervisors"&&P({plant:"Plant-1",supervisor_name:""})},x=T=>{if(h(T.id),t==="bagian"){let G=T.line_numbers||[];if(typeof G=="string")try{G=JSON.parse(G)}catch{G=[]}Array.isArray(G)||(G=[]),P({...T,line_numbers:G})}else P({...T});y(!0)},_=async()=>{try{let T="sanitation_areas";if(t==="bagian"&&(T="sanitation_bagian"),t==="supervisors"&&(T="supervisors"),f){const G={...A};delete G.id,delete G.area_name,delete G.created_at,delete G.updated_at;const{error:Q}=await At.from(T).update(G).eq("id",f);if(Q)throw Q;h(null)}else{const G={...A};delete G.id,delete G.area_name,delete G.created_at,delete G.updated_at;const{error:Q}=await At.from(T).insert([G]);if(Q)throw Q}y(!1),P({}),await w(),alert("Data berhasil disimpan")}catch(T){console.error("Error saving data:",T),alert("Gagal menyimpan data: "+T.message)}},E=async T=>{if(confirm("Yakin ingin menghapus data ini?"))try{let G="sanitation_areas";t==="bagian"&&(G="sanitation_bagian"),t==="supervisors"&&(G="supervisors");const{error:Q}=await At.from(G).delete().eq("id",T);if(Q)throw Q;await w(),alert("Data berhasil dihapus")}catch(G){console.error("Error deleting data:",G),alert("Gagal menghapus data: "+G.message)}},D=()=>{h(null),y(!1),P({})},N=()=>{m(""),p("all"),C(""),L(""),M("display_order"),H("asc")},U=()=>{let T=[...i];if(b){const G=b.toLowerCase();T=T.filter(Q=>{var ne,Z;if(g==="all"){const oe=Array.isArray(Q.line_numbers)?Q.line_numbers:[];return Q.name.toLowerCase().includes(G)||Q.keterangan.toLowerCase().includes(G)||((ne=Q.area_name)==null?void 0:ne.toLowerCase().includes(G))||oe.some(ue=>ue.includes(G))}else{if(g==="name")return Q.name.toLowerCase().includes(G);if(g==="keterangan")return Q.keterangan.toLowerCase().includes(G);if(g==="area")return(Z=Q.area_name)==null?void 0:Z.toLowerCase().includes(G)}return!0})}return v&&(T=T.filter(G=>G.area_id===v)),j&&(T=T.filter(G=>(Array.isArray(G.line_numbers)?G.line_numbers:[]).includes(j))),T.sort((G,Q)=>{let ne,Z;return $==="display_order"?(ne=G.display_order,Z=Q.display_order):$==="area_name"?(ne=G.area_name||"",Z=Q.area_name||""):(ne=G.name,Z=Q.name),typeof ne=="string"&&typeof Z=="string"?z==="asc"?ne.localeCompare(Z):Z.localeCompare(ne):z==="asc"?ne-Z:Z-ne}),T},V=T=>{$===T?H(z==="asc"?"desc":"asc"):(M(T),H("asc"))},J=()=>{const T=new Set;return i.forEach(G=>{(Array.isArray(G.line_numbers)?G.line_numbers:[]).forEach(ne=>T.add(ne))}),Array.from(T).sort((G,Q)=>{const ne=parseInt(G),Z=parseInt(Q);return!isNaN(ne)&&!isNaN(Z)?ne-Z:G.localeCompare(Q)})},F=()=>R.jsxs("div",{children:[R.jsx("div",{style:{marginBottom:"1rem"},children:R.jsxs("button",{onClick:S,style:{background:"#3B82F6",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[R.jsx(Tl,{size:20}),"Tambah Area"]})}),d&&R.jsxs("div",{style:{background:"#F3F4F6",padding:"1.5rem",borderRadius:"0.5rem",marginBottom:"1rem"},children:[R.jsx("h3",{style:{marginBottom:"1.5rem",fontSize:"1.125rem",fontWeight:"700"},children:f?"Edit Area":"Tambah Area Baru"}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[R.jsxs("div",{children:[R.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.875rem"},children:["Nama Area ",R.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),R.jsx("input",{type:"text",placeholder:"Contoh: Mixer, Cutter, Alkali Ingredient",value:A.name||"",onChange:T=>P({...A,name:T.target.value}),style:{padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #D1D5DB",width:"100%"}})]}),R.jsxs("div",{children:[R.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.875rem"},children:["Urutan Tampilan ",R.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"white",borderRadius:"0.5rem",border:"1px solid #D1D5DB"},children:[R.jsx("input",{type:"number",min:"1",value:A.display_order||"",onChange:T=>P({...A,display_order:parseInt(T.target.value)}),style:{padding:"0.5rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB",width:"100px",textAlign:"center",fontSize:"1rem",fontWeight:"600"}}),R.jsxs("div",{style:{flex:1},children:[R.jsx("p",{style:{fontSize:"0.875rem",color:"#4B5563",marginBottom:"0.25rem"},children:"Menentukan urutan tampilan area ini di tabel"}),R.jsxs("p",{style:{fontSize:"0.75rem",color:"#6B7280"},children:["Semakin kecil angka, semakin atas posisinya. Total area saat ini: ",n.length]})]})]})]}),R.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.5rem",paddingTop:"1rem",borderTop:"1px solid #D1D5DB"},children:[R.jsxs("button",{onClick:_,style:{background:"#10B981",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",fontSize:"0.875rem",flex:1},children:[R.jsx(rc,{size:18}),"Simpan"]}),R.jsxs("button",{onClick:D,style:{background:"#EF4444",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",fontSize:"0.875rem",flex:1},children:[R.jsx(ii,{size:18}),"Batal"]})]})]})]}),R.jsx("div",{style:{overflowY:"auto",maxHeight:"600px"},children:R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"white",borderRadius:"0.5rem",overflow:"hidden"},children:[R.jsx("thead",{style:{position:"sticky",top:0,background:"#F3F4F6",zIndex:10},children:R.jsxs("tr",{children:[R.jsx("th",{style:{padding:"1rem",textAlign:"left"},children:"Urutan"}),R.jsx("th",{style:{padding:"1rem",textAlign:"left"},children:"Nama Area"}),R.jsx("th",{style:{padding:"1rem",textAlign:"center"},children:"Aksi"})]})}),R.jsx("tbody",{children:n.map(T=>R.jsxs("tr",{style:{borderTop:"1px solid #E5E7EB"},children:[R.jsx("td",{style:{padding:"1rem"},children:T.display_order}),R.jsx("td",{style:{padding:"1rem"},children:T.name}),R.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:R.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[R.jsx("button",{onClick:()=>x(T),style:{background:"#3B82F6",color:"white",border:"none",borderRadius:"0.25rem",padding:"0.5rem",cursor:"pointer"},children:R.jsx(tc,{size:16})}),R.jsx("button",{onClick:()=>E(T.id),style:{background:"#EF4444",color:"white",border:"none",borderRadius:"0.25rem",padding:"0.5rem",cursor:"pointer"},children:R.jsx(Mn,{size:16})})]})})]},T.id))})]})})]}),Y=()=>{var Q;const T=U(),G=J();return R.jsxs("div",{children:[R.jsx("div",{style:{marginBottom:"1rem"},children:R.jsxs("button",{onClick:S,style:{background:"#3B82F6",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[R.jsx(Tl,{size:20}),"Tambah Bagian"]})}),R.jsxs("div",{style:{background:"white",padding:"1.25rem",borderRadius:"0.5rem",marginBottom:"1rem",border:"1px solid #E5E7EB"},children:[R.jsxs("div",{style:{display:"flex",gap:"0.75rem",alignItems:"center",marginBottom:"1rem"},children:[R.jsx(i2,{size:20,style:{color:"#6B7280"}}),R.jsx("h3",{style:{margin:0,fontSize:"1rem",fontWeight:"600"},children:"Pencarian & Filter"}),R.jsxs("button",{onClick:()=>B(!q),style:{marginLeft:"auto",background:"transparent",border:"1px solid #D1D5DB",borderRadius:"0.375rem",padding:"0.5rem 1rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.875rem"},children:[R.jsx(Mv,{size:16}),q?"Sembunyikan":"Filter Lanjutan"]})]}),R.jsxs("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",marginBottom:q?"1rem":0},children:[R.jsxs("div",{style:{flex:"1",minWidth:"250px",position:"relative"},children:[R.jsx(i2,{size:18,style:{position:"absolute",left:"0.75rem",top:"50%",transform:"translateY(-50%)",color:"#9CA3AF"}}),R.jsx("input",{type:"text",placeholder:"Ketik untuk mencari...",value:b,onChange:ne=>m(ne.target.value),style:{width:"100%",padding:"0.625rem 0.75rem 0.625rem 2.5rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB",fontSize:"0.875rem"}})]}),R.jsxs("select",{value:g,onChange:ne=>p(ne.target.value),style:{padding:"0.625rem 0.75rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB",minWidth:"140px",fontSize:"0.875rem",background:"white"},children:[R.jsx("option",{value:"all",children:" Semua Field"}),R.jsx("option",{value:"name",children:" Nama Bagian"}),R.jsx("option",{value:"keterangan",children:" Keterangan"}),R.jsx("option",{value:"area",children:" Area"})]}),R.jsx("button",{onClick:N,style:{padding:"0.625rem 1rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB",background:"white",cursor:"pointer",fontSize:"0.875rem",fontWeight:"500"},children:" Reset"})]}),q&&R.jsxs("div",{style:{paddingTop:"1rem",borderTop:"1px solid #E5E7EB",display:"flex",gap:"0.75rem",flexWrap:"wrap",alignItems:"center"},children:[R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.375rem"},children:[R.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#6B7280"},children:"Filter berdasarkan Area:"}),R.jsxs("select",{value:v,onChange:ne=>C(ne.target.value),style:{padding:"0.625rem 0.75rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB",minWidth:"180px",fontSize:"0.875rem",background:"white"},children:[R.jsx("option",{value:"",children:"Semua Area"}),n.map(ne=>R.jsx("option",{value:ne.id,children:ne.name},ne.id))]})]}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.375rem"},children:[R.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#6B7280"},children:"Filter berdasarkan Line:"}),R.jsxs("select",{value:j,onChange:ne=>L(ne.target.value),style:{padding:"0.625rem 0.75rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB",minWidth:"120px",fontSize:"0.875rem",background:"white"},children:[R.jsx("option",{value:"",children:"Semua Line"}),G.map(ne=>R.jsxs("option",{value:ne,children:["Line ",ne]},ne))]})]}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.375rem"},children:[R.jsx("label",{style:{fontSize:"0.75rem",fontWeight:"600",color:"#6B7280"},children:"Urutkan berdasarkan:"}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[R.jsxs("select",{value:$,onChange:ne=>M(ne.target.value),style:{padding:"0.625rem 0.75rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB",minWidth:"140px",fontSize:"0.875rem",background:"white"},children:[R.jsx("option",{value:"display_order",children:"Urutan"}),R.jsx("option",{value:"area_name",children:"Area"}),R.jsx("option",{value:"name",children:"Nama Bagian"})]}),R.jsx("button",{onClick:()=>H(z==="asc"?"desc":"asc"),style:{padding:"0.625rem 1rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB",background:z==="asc"?"#EFF6FF":"#FEF3C7",cursor:"pointer",fontSize:"0.875rem",fontWeight:"600",color:z==="asc"?"#1E40AF":"#92400E"},children:z==="asc"?" A-Z":" Z-A"})]})]}),R.jsxs("div",{style:{marginLeft:"auto",padding:"0.5rem 0.75rem",background:"#F3F4F6",borderRadius:"0.375rem",fontSize:"0.875rem",fontWeight:"500"},children:["Hasil: ",R.jsx("strong",{children:T.length})," dari ",i.length]})]})]}),d&&R.jsxs("div",{style:{background:"#F3F4F6",padding:"1.5rem",borderRadius:"0.5rem",marginBottom:"1rem"},children:[R.jsx("h3",{style:{marginBottom:"1.5rem",fontSize:"1.125rem",fontWeight:"700"},children:f?"Edit Bagian":"Tambah Bagian Baru"}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[R.jsxs("div",{children:[R.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.875rem"},children:["Area ",R.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),R.jsxs("select",{value:A.area_id||"",onChange:ne=>P({...A,area_id:ne.target.value}),style:{padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #D1D5DB",width:"100%"},children:[R.jsx("option",{value:"",children:"Pilih Area"}),n.map(ne=>R.jsx("option",{value:ne.id,children:ne.name},ne.id))]})]}),R.jsxs("div",{children:[R.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.875rem"},children:["Nama Bagian ",R.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),R.jsx("input",{type:"text",placeholder:"Contoh: Weighing Tank Alkali",value:A.name||"",onChange:ne=>P({...A,name:ne.target.value}),style:{padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #D1D5DB",width:"100%"}})]}),R.jsxs("div",{children:[R.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.875rem"},children:["Keterangan ",R.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),R.jsx("textarea",{placeholder:"Masukkan keterangan detail tentang bagian ini...",value:A.keterangan||"",onChange:ne=>P({...A,keterangan:ne.target.value}),rows:4,style:{padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #D1D5DB",fontFamily:"inherit",width:"100%",resize:"vertical"}})]}),R.jsxs("div",{children:[R.jsxs("label",{style:{display:"block",marginBottom:"0.75rem",fontWeight:"600",fontSize:"0.875rem"},children:["Berlaku untuk Line ",R.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(80px, 1fr))",gap:"0.5rem",padding:"1rem",background:"white",borderRadius:"0.5rem",border:"1px solid #D1D5DB",maxHeight:"250px",overflowY:"auto"},children:Array.from({length:33},(ne,Z)=>(Z+1).toString()).map(ne=>{var oe;const Z=((oe=A.line_numbers)==null?void 0:oe.includes(ne))||!1;return R.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem",borderRadius:"0.375rem",cursor:"pointer",background:Z?"#DBEAFE":"transparent",border:`1px solid ${Z?"#3B82F6":"#E5E7EB"}`,transition:"all 0.2s"},onMouseEnter:ue=>{Z||(ue.currentTarget.style.background="#F9FAFB")},onMouseLeave:ue=>{Z||(ue.currentTarget.style.background="transparent")},children:[R.jsx("input",{type:"checkbox",checked:Z,onChange:ue=>{const te=A.line_numbers||[],se=ue.target.checked?[...te,ne]:te.filter(pe=>pe!==ne);P({...A,line_numbers:se})},style:{width:"16px",height:"16px",cursor:"pointer"}}),R.jsx("span",{style:{fontSize:"0.875rem",fontWeight:Z?"600":"400",color:Z?"#1E40AF":"#4B5563"},children:ne})]},ne)})}),R.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#6B7280"},children:[((Q=A.line_numbers)==null?void 0:Q.length)||0," line dipilih"]})]}),R.jsxs("div",{children:[R.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.875rem"},children:["Urutan Tampilan ",R.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.75rem",background:"white",borderRadius:"0.5rem",border:"1px solid #D1D5DB"},children:[R.jsx("input",{type:"number",min:"1",value:A.display_order||"",onChange:ne=>P({...A,display_order:parseInt(ne.target.value)}),style:{padding:"0.5rem",borderRadius:"0.375rem",border:"1px solid #D1D5DB",width:"100px",textAlign:"center",fontSize:"1rem",fontWeight:"600"}}),R.jsxs("div",{style:{flex:1},children:[R.jsx("p",{style:{fontSize:"0.875rem",color:"#4B5563",marginBottom:"0.25rem"},children:"Menentukan urutan tampilan bagian ini di tabel"}),R.jsxs("p",{style:{fontSize:"0.75rem",color:"#6B7280"},children:["Semakin kecil angka, semakin atas posisinya. Total bagian saat ini: ",i.length]})]})]})]}),R.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.5rem",paddingTop:"1rem",borderTop:"1px solid #D1D5DB"},children:[R.jsxs("button",{onClick:_,style:{background:"#10B981",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",fontSize:"0.875rem",flex:1},children:[R.jsx(rc,{size:18}),"Simpan"]}),R.jsxs("button",{onClick:D,style:{background:"#EF4444",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",fontSize:"0.875rem",flex:1},children:[R.jsx(ii,{size:18}),"Batal"]})]})]})]}),R.jsx("div",{style:{overflowY:"auto",maxHeight:"500px",border:"1px solid #E5E7EB",borderRadius:"0.5rem"},children:R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"white"},children:[R.jsx("thead",{style:{position:"sticky",top:0,background:"#F9FAFB",zIndex:10},children:R.jsxs("tr",{children:[R.jsxs("th",{style:{padding:"1rem",textAlign:"left",minWidth:"80px",cursor:"pointer",borderBottom:"2px solid #E5E7EB",fontWeight:"600"},onClick:()=>V("display_order"),children:["Urutan ",$==="display_order"&&(z==="asc"?"":"")]}),R.jsxs("th",{style:{padding:"1rem",textAlign:"left",minWidth:"150px",cursor:"pointer",borderBottom:"2px solid #E5E7EB",fontWeight:"600"},onClick:()=>V("area_name"),children:["Area ",$==="area_name"&&(z==="asc"?"":"")]}),R.jsxs("th",{style:{padding:"1rem",textAlign:"left",minWidth:"200px",cursor:"pointer",borderBottom:"2px solid #E5E7EB",fontWeight:"600"},onClick:()=>V("name"),children:["Nama Bagian ",$==="name"&&(z==="asc"?"":"")]}),R.jsx("th",{style:{padding:"1rem",textAlign:"left",minWidth:"300px",borderBottom:"2px solid #E5E7EB",fontWeight:"600"},children:"Keterangan"}),R.jsx("th",{style:{padding:"1rem",textAlign:"left",minWidth:"120px",borderBottom:"2px solid #E5E7EB",fontWeight:"600"},children:"Line"}),R.jsx("th",{style:{padding:"1rem",textAlign:"center",minWidth:"150px",borderBottom:"2px solid #E5E7EB",fontWeight:"600"},children:"Aksi"})]})}),R.jsx("tbody",{children:T.length===0?R.jsx("tr",{children:R.jsx("td",{colSpan:6,style:{padding:"2rem",textAlign:"center",color:"#6B7280",fontSize:"0.875rem"},children:"Tidak ada data yang sesuai dengan filter"})}):T.map(ne=>R.jsxs("tr",{style:{borderBottom:"1px solid #E5E7EB"},children:[R.jsx("td",{style:{padding:"1rem"},children:ne.display_order}),R.jsx("td",{style:{padding:"1rem"},children:ne.area_name}),R.jsx("td",{style:{padding:"1rem"},children:ne.name}),R.jsxs("td",{style:{padding:"1rem",fontSize:"0.875rem",color:"#4B5563"},children:[ne.keterangan?ne.keterangan.substring(0,100):"-",ne.keterangan&&ne.keterangan.length>100&&"..."]}),R.jsx("td",{style:{padding:"1rem"},children:R.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.25rem"},children:(Array.isArray(ne.line_numbers)?ne.line_numbers:[]).map(Z=>R.jsx("span",{style:{padding:"0.25rem 0.5rem",borderRadius:"0.25rem",fontSize:"0.75rem",background:"#DBEAFE",color:"#1E40AF",fontWeight:"500"},children:Z},Z))})}),R.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:R.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[R.jsx("button",{onClick:()=>x(ne),style:{background:"#3B82F6",color:"white",border:"none",borderRadius:"0.25rem",padding:"0.5rem",cursor:"pointer"},children:R.jsx(tc,{size:16})}),R.jsx("button",{onClick:()=>E(ne.id),style:{background:"#EF4444",color:"white",border:"none",borderRadius:"0.25rem",padding:"0.5rem",cursor:"pointer"},children:R.jsx(Mn,{size:16})})]})})]},ne.id))})]})})]})};if(o)return R.jsx("div",{className:"container",style:{textAlign:"center",padding:"2rem"},children:R.jsx("p",{children:"Loading..."})});return R.jsxs("div",{className:"container",style:{padding:"1rem",maxWidth:"100vw",overflow:"hidden"},children:[R.jsxs("button",{onClick:()=>r("/plant-selection"),style:{background:"white",border:"1px solid #E5E7EB",borderRadius:"0.5rem",padding:"0.75rem 1rem",cursor:"pointer",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[R.jsx(Oi,{size:20}),R.jsx("span",{style:{fontWeight:"500"},children:"Kembali ke Pilih Plant"})]}),R.jsxs("div",{style:{background:"white",borderRadius:"1rem",padding:"2rem",maxWidth:"1400px",margin:"0 auto",boxShadow:"0 1px 3px rgba(0,0,0,0.1)"},children:[R.jsx("h1",{style:{fontSize:"1.5rem",fontWeight:"bold",marginBottom:"1.5rem",color:"#1F2937"},children:"Master Data Management"}),R.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"1.5rem",borderBottom:"2px solid #E5E7EB"},children:[R.jsx("button",{onClick:()=>{e("areas"),y(!1),h(null)},style:{padding:"0.75rem 1.5rem",background:t==="areas"?"#3B82F6":"transparent",color:t==="areas"?"white":"#6B7280",border:"none",borderRadius:"0.5rem 0.5rem 0 0",cursor:"pointer",fontWeight:t==="areas"?"600":"400",transition:"all 0.2s"},children:"Areas"}),R.jsx("button",{onClick:()=>{e("bagian"),y(!1),h(null)},style:{padding:"0.75rem 1.5rem",background:t==="bagian"?"#3B82F6":"transparent",color:t==="bagian"?"white":"#6B7280",border:"none",borderRadius:"0.5rem 0.5rem 0 0",cursor:"pointer",fontWeight:t==="bagian"?"600":"400",transition:"all 0.2s"},children:"Bagian"}),R.jsx("button",{onClick:()=>{e("supervisors"),y(!1),h(null)},style:{padding:"0.75rem 1.5rem",background:t==="supervisors"?"#3B82F6":"transparent",color:t==="supervisors"?"white":"#6B7280",border:"none",borderRadius:"0.5rem 0.5rem 0 0",cursor:"pointer",fontWeight:t==="supervisors"?"600":"400",transition:"all 0.2s"},children:"Supervisors"})]}),t==="areas"&&F(),t==="bagian"&&Y(),t==="supervisors"&&O()]})]});function O(){return R.jsxs("div",{children:[R.jsx("div",{style:{marginBottom:"1rem"},children:R.jsxs("button",{onClick:S,style:{background:"#3B82F6",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:[R.jsx(Tl,{size:20}),"Tambah Supervisor"]})}),d&&R.jsxs("div",{style:{background:"#F3F4F6",padding:"1.5rem",borderRadius:"0.5rem",marginBottom:"1rem"},children:[R.jsx("h3",{style:{marginBottom:"1.5rem",fontSize:"1.125rem",fontWeight:"700"},children:f?"Edit Supervisor":"Tambah Supervisor Baru"}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[R.jsxs("div",{children:[R.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.875rem"},children:["Plant ",R.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),R.jsxs("select",{value:A.plant||"",onChange:T=>P({...A,plant:T.target.value}),disabled:!!f,style:{padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #D1D5DB",width:"100%",background:f?"#F3F4F6":"white"},children:[R.jsx("option",{value:"Plant-1",children:"Plant-1"}),R.jsx("option",{value:"Plant-2",children:"Plant-2"}),R.jsx("option",{value:"Plant-3",children:"Plant-3"})]}),f&&R.jsx("p",{style:{marginTop:"0.5rem",fontSize:"0.75rem",color:"#6B7280"},children:"Plant tidak bisa diubah saat edit"})]}),R.jsxs("div",{children:[R.jsxs("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600",fontSize:"0.875rem"},children:["Nama Supervisor ",R.jsx("span",{style:{color:"#EF4444"},children:"*"})]}),R.jsx("input",{type:"text",placeholder:"Contoh: Budi Santoso",value:A.supervisor_name||"",onChange:T=>P({...A,supervisor_name:T.target.value}),style:{padding:"0.75rem",borderRadius:"0.5rem",border:"1px solid #D1D5DB",width:"100%"}})]}),R.jsxs("div",{style:{display:"flex",gap:"0.75rem",marginTop:"0.5rem",paddingTop:"1rem",borderTop:"1px solid #D1D5DB"},children:[R.jsxs("button",{onClick:_,style:{background:"#10B981",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",fontSize:"0.875rem",flex:1},children:[R.jsx(rc,{size:18}),"Simpan"]}),R.jsxs("button",{onClick:D,style:{background:"#EF4444",color:"white",border:"none",borderRadius:"0.5rem",padding:"0.75rem 1.5rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.5rem",fontWeight:"600",fontSize:"0.875rem",flex:1},children:[R.jsx(ii,{size:18}),"Batal"]})]})]})]}),R.jsx("div",{style:{overflowY:"auto",maxHeight:"600px"},children:R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",background:"white",borderRadius:"0.5rem",overflow:"hidden"},children:[R.jsx("thead",{style:{position:"sticky",top:0,background:"#F3F4F6",zIndex:10},children:R.jsxs("tr",{children:[R.jsx("th",{style:{padding:"1rem",textAlign:"left",width:"30%"},children:"Plant"}),R.jsx("th",{style:{padding:"1rem",textAlign:"left",width:"50%"},children:"Nama Supervisor"}),R.jsx("th",{style:{padding:"1rem",textAlign:"center",width:"20%"},children:"Aksi"})]})}),R.jsx("tbody",{children:u.map(T=>R.jsxs("tr",{style:{borderTop:"1px solid #E5E7EB"},children:[R.jsx("td",{style:{padding:"1rem",fontWeight:"600"},children:T.plant}),R.jsx("td",{style:{padding:"1rem"},children:T.supervisor_name}),R.jsx("td",{style:{padding:"1rem",textAlign:"center"},children:R.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"center"},children:[R.jsx("button",{onClick:()=>x(T),style:{background:"#3B82F6",color:"white",border:"none",borderRadius:"0.25rem",padding:"0.5rem",cursor:"pointer"},children:R.jsx(tc,{size:16})}),R.jsx("button",{onClick:()=>E(T.id),style:{background:"#EF4444",color:"white",border:"none",borderRadius:"0.25rem",padding:"0.5rem",cursor:"pointer"},children:R.jsx(Mn,{size:16})})]})})]},T.id))})]})})]})}}const kS=()=>{const r=On(),[t,e]=me.useState([]);me.useEffect(()=>{if(!tr.getCurrentUser()){r("/");return}const i=tr.getAllowedPlants();console.log("[PLANT SELECTION] Allowed plants from authService:",i),e(Array.isArray(i)?i:[])},[r]);const n=l=>{console.log("[PLANT SELECTION] Selected plant:",l),r("/kliping-records",{state:{plant:l}})};return t.length===0?null:R.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",padding:"20px",display:"flex",flexDirection:"column"},children:[R.jsx("button",{onClick:()=>r("/menu"),style:{background:"white",border:"none",borderRadius:"16px",padding:"12px",marginBottom:"20px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.1)",alignSelf:"flex-start"},children:R.jsx(Oi,{size:24,color:"#10b981"})}),R.jsx("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center"},children:R.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"48px",maxWidth:"600px",width:"100%",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[R.jsx("h1",{style:{fontSize:"36px",fontWeight:"700",color:"#1a202c",marginBottom:"12px",textAlign:"center"},children:"Pilih Plant"}),R.jsx("p",{style:{fontSize:"16px",color:"#718096",marginBottom:"40px",textAlign:"center"},children:"Pilih plant yang mau diinput"}),R.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:t.map(l=>R.jsx("button",{onClick:()=>n(l),style:{padding:"24px",borderRadius:"16px",border:"2px solid #e2e8f0",background:"white",fontSize:"20px",fontWeight:"600",color:"#2d3748",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"},onMouseEnter:i=>{i.currentTarget.style.transform="translateY(-4px)",i.currentTarget.style.boxShadow="0 8px 16px rgba(16, 185, 129, 0.2)",i.currentTarget.style.borderColor="#10b981"},onMouseLeave:i=>{i.currentTarget.style.transform="translateY(0)",i.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.05)",i.currentTarget.style.borderColor="#e2e8f0"},children:l},l))})]})})]})},CS=async(r,t=!1)=>{try{if(!t){const{data:l,error:i}=await At.from("kliping_records").select("id").eq("plant",r.plant).eq("tanggal",r.tanggal).eq("line",r.line).eq("regu",r.regu).eq("shift",r.shift).eq("id_unik",r.id_unik).eq("mesin",r.mesin).maybeSingle();if(i)return console.error("Error checking existing record:",i),{success:!1,error:i.message};if(l)return console.log("Record already exists, skipping:",{id_unik:r.id_unik,mesin:r.mesin}),{success:!0,id:l.id,skipped:!0}}const{data:e,error:n}=await At.from("kliping_records").insert([r]).select().single();return n?(console.error("Error inserting kliping record:",n),{success:!1,error:n.message}):{success:!0,id:e.id}}catch(e){return console.error("Error in insertKlipingRecord:",e),{success:!1,error:String(e)}}},AS=async r=>{try{console.log("[KLIPING] countKlipingPhotos called with filters:",r);const{data:t,error:e}=await At.rpc("count_kliping_photos",{p_plant:(r==null?void 0:r.plant)||null});if(e)return console.error("[KLIPING] Error counting photos:",e),{};console.log("[KLIPING] RPC returned data:",t),console.log("[KLIPING] Data length:",t==null?void 0:t.length);const n={};return t==null||t.forEach(l=>{console.log("[KLIPING] Raw row.tanggal type:",typeof l.tanggal,"value:",l.tanggal);const i=`${l.tanggal}_${l.line}_${l.regu}_${l.shift}_${l.pengamatan_ke}_${l.mesin}`;n[i]=l.photo_count,console.log("[KLIPING] Photo count key:",i,"=",l.photo_count)}),console.log("[KLIPING] Final counts object:",n),console.log("[KLIPING] Total keys in counts:",Object.keys(n).length),n}catch(t){return console.error("[KLIPING] Exception in countKlipingPhotos:",t),{}}},tm=async r=>{try{console.log("[KLIPING] Fetching records with filters:",r);let t=At.from("kliping_records").select("id, id_unik, plant, tanggal, line, regu, shift, flavor, pengamatan_ke, mesin, created_by, created_at, updated_at, is_complete, pengamatan_timestamp").order("tanggal",{ascending:!1}).order("created_at",{ascending:!1});r!=null&&r.plant&&(t=t.eq("plant",r.plant),console.log("[KLIPING] Filtering by plant:",r.plant)),r!=null&&r.startDate&&(t=t.gte("tanggal",r.startDate),console.log("[KLIPING] Filtering by startDate:",r.startDate)),r!=null&&r.endDate&&(t=t.lte("tanggal",r.endDate),console.log("[KLIPING] Filtering by endDate:",r.endDate)),r!=null&&r.line&&(t=t.eq("line",r.line),console.log("[KLIPING] Filtering by line:",r.line)),r!=null&&r.regu&&(t=t.eq("regu",r.regu),console.log("[KLIPING] Filtering by regu:",r.regu)),r!=null&&r.shift&&(t=t.eq("shift",r.shift),console.log("[KLIPING] Filtering by shift:",r.shift)),t=t.limit(1e4);const{data:e,error:n}=await t;return n?(console.error("[KLIPING] Error fetching records:",n),console.error("[KLIPING] Error details:",{message:n.message,details:n.details,hint:n.hint,code:n.code}),[]):(console.log("[KLIPING] Successfully fetched records:",(e==null?void 0:e.length)||0),console.log("[KLIPING] Sample data:",e==null?void 0:e[0]),e||[])}catch(t){return console.error("[KLIPING] Exception in getKlipingRecords:",t),[]}},Wu=async r=>{try{console.log("[KLIPING] Fetching photos for mesin with filters:",r);const{data:t,error:e}=await At.from("kliping_records").select("foto_etiket, foto_banded, foto_karton, foto_label_etiket, foto_label_bumbu, foto_label_minyak_bumbu, foto_label_si, foto_label_opp_banded").eq("plant",r.plant).eq("tanggal",r.tanggal).eq("line",r.line).eq("regu",r.regu).eq("shift",r.shift).eq("pengamatan_ke",r.pengamatan_ke).eq("mesin",r.mesin).maybeSingle();return e?(console.error("[KLIPING] Error fetching photos:",e),null):(console.log("[KLIPING] Photos fetched successfully:",t?"Yes":"No"),t)}catch(t){return console.error("[KLIPING] Exception in getKlipingRecordPhotos:",t),null}},Wd=async r=>{try{console.log("[KLIPING] Fetching records WITH PHOTOS with filters:",r);const t=10;let e=[],n=0,l=!0;for(;l;){console.log(`[KLIPING] Fetching batch ${Math.floor(n/t)+1} starting at offset ${n}...`);const{data:i,error:s}=await Ca.add(async()=>{let u=At.from("kliping_records").select("*").order("created_at",{ascending:!1}).range(n,n+t-1);return r!=null&&r.plant&&(u=u.eq("plant",r.plant)),r!=null&&r.startDate&&(u=u.gte("tanggal",r.startDate)),r!=null&&r.endDate&&(u=u.lte("tanggal",r.endDate)),r!=null&&r.line&&(u=u.eq("line",r.line)),r!=null&&r.regu&&(u=u.eq("regu",r.regu)),r!=null&&r.shift&&(u=u.eq("shift",r.shift)),await u});if(s)throw console.error("[KLIPING] Error fetching batch:",s),s;!i||i.length===0?l=!1:(console.log(`[KLIPING] Fetched ${i.length} records in this batch, total so far: ${e.length+i.length}`),e=e.concat(i),n+=t,i.length<t&&(l=!1))}return console.log(`[KLIPING] Total fetched: ${e.length} records WITH PHOTOS`),e}catch(t){return console.error("[KLIPING] Error in getKlipingRecordsWithPhotos:",t),[]}},K2=async r=>{try{const{data:t}=await At.from("kliping_records").select("*").eq("id_unik",r);if(t&&t.length>0){const n=localStorage.getItem("currentUser");let l="anonymous";if(n)try{const s=JSON.parse(n);l=s.full_name||s.username||"anonymous"}catch(s){console.error("Failed to parse currentUser:",s)}const i=t[0];await Bc({table_name:"kliping_records",record_id:r,affected_count:t.length,deleted_by:l,action:"BULK_DELETE",plant:i.plant,additional_info:{line:i.line,tanggal:i.tanggal,regu:i.regu,shift:i.shift}})}const{error:e}=await At.from("kliping_records").delete().eq("id_unik",r);return e?(console.error("Error deleting kliping records by id_unik:",e),{success:!1,error:e.message}):{success:!0}}catch(t){return console.error("Error in deleteKlipingRecordsByIdUnik:",t),{success:!1,error:String(t)}}},il=["A","B","C"],sl=["1","2","3"],ES=["Mesin 1","Mesin 2","Mesin 3","Mesin 4"],cs=[{key:"foto_etiket",label:"Foto Etiket",description:"Ambil foto etiket"},{key:"foto_banded",label:"Foto Banded",description:"Ambil foto banded"},{key:"foto_karton",label:"Foto Karton",description:"Ambil foto karton"},{key:"foto_label_etiket",label:"Foto Label Etiket",description:"Ambil foto label etiket"},{key:"foto_label_bumbu",label:"Foto Label Bumbu",description:"Ambil foto label bumbu"},{key:"foto_label_minyak_bumbu",label:"Foto Label Minyak Bumbu",description:"Ambil foto label minyak bumbu"},{key:"foto_label_si",label:"Foto Label SI",description:"Ambil foto label SI"},{key:"foto_label_opp_banded",label:"Foto Label OPP Banded",description:"Ambil foto label OPP banded"}],p1=async r=>{try{const t=await Ca.add(async()=>await At.from("kliping_records").select("Foto_Etiket, Foto_Mesin_1, Foto_Mesin_2, Foto_Mesin_3, Foto_Mesin_4, Foto_Mesin_5, Foto_Mesin_6, Foto_Mesin_7").eq("id",r).maybeSingle());return t.error?(console.error(`[EXPORT] Error fetching photos for record ${r}:`,t.error),{}):t.data||{}}catch(t){return console.error(`[EXPORT] Exception fetching photos for record ${r}:`,t),{}}},mf=r=>{const t=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],e=new Date(r),n=e.getDate(),l=t[e.getMonth()],i=e.getFullYear();return`${n} ${l} ${i}`},gf=r=>{if(!r)return"";const t=new Date(r),e=t.getHours().toString().padStart(2,"0"),n=t.getMinutes().toString().padStart(2,"0");return`${e}.${n}`},Bo=[{key:"foto_etiket",label:"ETIKET"},{key:"foto_banded",label:"BANDED"},{key:"foto_karton",label:"KARTON"},{key:"foto_label_etiket",label:"LABEL ETIKET"},{key:"foto_label_bumbu",label:"LABEL BUMBU"},{key:"foto_label_minyak_bumbu",label:"LABEL MINYAK BUMBU"},{key:"foto_label_si",label:"LABEL SI"},{key:"foto_label_opp_banded",label:"LABEL OPP BANDED"}],jS=r=>{const t=r.replace(/^data:image\/\w+;base64,/,""),e=atob(t),n=new Uint8Array(e.length);for(let l=0;l<e.length;l++)n[l]=e.charCodeAt(l);return n.buffer},m1=(r,t=500,e=500,n=.92)=>new Promise(l=>{const i=new Image;i.onload=()=>{const s=document.createElement("canvas"),u=s.getContext("2d");if(!u){l(r);return}let a=i.width,o=i.height;a>o?a>t&&(o=o*t/a,a=t):o>e&&(a=a*e/o,o=e),s.width=a,s.height=o,u.imageSmoothingEnabled=!0,u.imageSmoothingQuality="high",u.drawImage(i,0,0,a,o);const c=s.toDataURL("image/jpeg",n);l(c)},i.onerror=()=>l(r),i.src=r}),ga=new Map,TS=50,PS=(r,t)=>{if(ga.size>=TS){const e=ga.keys().next().value;e&&ga.delete(e)}ga.set(r,t)},NS=r=>{let t=0;for(let e=0;e<r.length;e++){const n=r.charCodeAt(e);t=(t<<5)-t+n,t=t&t}return t.toString(36)},L5=async(r,t)=>{const e=new Map,n=5;for(let l=0;l<r.length;l+=n){const s=r.slice(l,l+n).map(async(u,a)=>{const o=l+a,c=u[t];if(c)try{const f=`${NS(c)}_${t}`;if(ga.has(f))e.set(o,ga.get(f));else{const h=await m1(c,500,500,.9),d=jS(h);PS(f,d),e.set(o,d)}}catch(f){console.error(`Error processing image for ${t}:`,f)}});await Promise.all(s)}return e},qo=r=>{const t=r.match(/\d+/);return t?parseInt(t[0]):0},X2=async r=>{try{if(r.length===0)return!1;const t=new Jl.Workbook,e=t.addWorksheet("Kliping Records",{pageSetup:{orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0}}),n={};r.forEach(j=>{const L=j.pengamatan_ke||"0";n[L]||(n[L]=[]),n[L].push(j)}),Object.keys(n).forEach(j=>{n[j].sort((L,$)=>qo(L.mesin||"")-qo($.mesin||""))});const l=[];Object.keys(n).sort((j,L)=>parseInt(j)-parseInt(L)).forEach(j=>{l.push(...n[j])});const i=l[0],s=1+l.length;e.mergeCells(1,1,1,s);const u=e.getCell(1,1);u.value="LAPORAN PENGAMATAN KESESUAIAN PENGEMAS DAN KODE PRODUKSI",u.font={size:14,bold:!0},u.alignment={horizontal:"center",vertical:"middle"},u.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}},e.getRow(2).height=5,e.getCell(3,1).value="Tanggal",e.getCell(3,1).font={bold:!0},e.getCell(3,2).value=`: ${mf(i.tanggal)}`,e.getCell(4,1).value="Line",e.getCell(4,1).font={bold:!0},e.getCell(4,2).value=`: ${i.line}`,e.getCell(5,1).value="Regu/Shift",e.getCell(5,1).font={bold:!0},e.getCell(5,2).value=`: ${i.regu}${i.shift}`,e.getCell(6,1).value="QC Proses",e.getCell(6,1).font={bold:!0},e.getCell(6,2).value=`: ${i.created_by||"N/A"}`,e.getRow(7).height=5;const a=8;let o=2;e.mergeCells(a,1,a+2,1);const c=e.getCell(a,1);c.value="PENGAMATAN",c.font={bold:!0,size:10},c.alignment={horizontal:"center",vertical:"middle"},c.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF4B084"}},c.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}},Object.keys(n).sort((j,L)=>parseInt(j)-parseInt(L)).forEach(j=>{const L=n[j],$=L.length,M=o,z=o+$-1;$>1&&(e.mergeCells(a,M,a,z),e.mergeCells(a+1,M,a+1,z));const H=e.getCell(a,M);H.value=`PENGAMATAN ${j}`,H.font={bold:!0,size:11},H.alignment={horizontal:"center",vertical:"middle"},H.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFD9E1F2"}},H.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}};const q=L[0],B=e.getCell(a+1,M);B.value=`${q.flavor} (${gf(q.pengamatan_timestamp)})`,B.font={bold:!0,size:10},B.alignment={horizontal:"center",vertical:"middle"},B.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFFFF"}},B.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}},L.forEach((A,P)=>{var w;const k=e.getCell(a+2,M+P);k.value=((w=A.mesin)==null?void 0:w.toUpperCase())||"N/A",k.font={bold:!0,size:9},k.alignment={horizontal:"center",vertical:"middle"},k.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFDE9D9"}},k.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}}}),o+=$});let h=a+3;console.log("[EXPORT] Fetching photos for records...");const d=await Promise.all(l.map(async j=>{const L=await p1(j.id);return{...j,...L}}));console.log("[EXPORT] Photos fetched, processing images...");const y=Bo.map(j=>L5(d,j.key)),b=await Promise.all(y);for(let j=0;j<Bo.length;j++){const L=Bo[j],$=b[j];if($.size===0)continue;const M=e.getCell(h,1);M.value=L.label,M.font={bold:!0,size:10},M.alignment={horizontal:"left",vertical:"middle"},M.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF4B084"}},M.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}},o=2,d.forEach((z,H)=>{const q=e.getCell(h,o);q.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}};const B=$.get(H);if(B)try{const A=t.addImage({buffer:B,extension:"jpeg"});e.addImage(A,{tl:{col:o-1,row:h-1},ext:{width:80,height:80},editAs:"oneCell"}),e.getRow(h).height=65}catch(A){console.error(`Error adding image for ${L.key}:`,A),q.value="Error"}o++}),h++}e.getColumn(1).width=20;for(let j=2;j<=s;j++)e.getColumn(j).width=12;const m=`Laporan_Kliping_${i.line}_Regu${i.regu}_Shift${i.shift}_${new Date().toISOString().split("T")[0]}.xlsx`,g=await t.xlsx.writeBuffer(),p=new Blob([g],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),v=window.URL.createObjectURL(p),C=document.createElement("a");return C.href=v,C.download=m,C.click(),window.URL.revokeObjectURL(v),!0}catch(t){return console.error("Error exporting to Excel:",t),!1}},RS=async r=>{try{if(!r||r.length===0)throw new Error("Tidak ada data untuk diekspor");console.log(`[EXCEL] Generating buffer for ${r.length} records`);const t=new Jl.Workbook,e=t.addWorksheet("Kliping Records",{pageSetup:{orientation:"landscape",fitToPage:!0,fitToWidth:1,fitToHeight:0}}),n={};r.forEach(m=>{const g=m.pengamatan_ke||"0";n[g]||(n[g]=[]),n[g].push(m)}),Object.keys(n).forEach(m=>{n[m].sort((g,p)=>qo(g.mesin||"")-qo(p.mesin||""))});const l=[];Object.keys(n).sort((m,g)=>parseInt(m)-parseInt(g)).forEach(m=>{l.push(...n[m])});const i=l[0],s=1+l.length;e.mergeCells(1,1,1,s);const u=e.getCell(1,1);u.value="LAPORAN PENGAMATAN KESESUAIAN PENGEMAS DAN KODE PRODUKSI",u.font={size:14,bold:!0},u.alignment={horizontal:"center",vertical:"middle"},u.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}},e.getRow(2).height=5,e.getCell(3,1).value="Tanggal",e.getCell(3,1).font={bold:!0},e.getCell(3,2).value=`: ${mf(i.tanggal)}`,e.getCell(4,1).value="Line",e.getCell(4,1).font={bold:!0},e.getCell(4,2).value=`: ${i.line}`,e.getCell(5,1).value="Regu/Shift",e.getCell(5,1).font={bold:!0},e.getCell(5,2).value=`: ${i.regu}${i.shift}`,e.getCell(6,1).value="QC Proses",e.getCell(6,1).font={bold:!0},e.getCell(6,2).value=`: ${i.created_by||"N/A"}`,e.getRow(7).height=5;const a=8;let o=2;e.mergeCells(a,1,a+2,1);const c=e.getCell(a,1);c.value="PENGAMATAN",c.font={bold:!0,size:10},c.alignment={horizontal:"center",vertical:"middle"},c.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF4B084"}},c.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}},Object.keys(n).sort((m,g)=>parseInt(m)-parseInt(g)).forEach(m=>{const g=n[m],p=g.length,v=o,C=o+p-1;p>1&&(e.mergeCells(a,v,a,C),e.mergeCells(a+1,v,a+1,C));const j=e.getCell(a,v);j.value=`PENGAMATAN ${m}`,j.font={bold:!0,size:11},j.alignment={horizontal:"center",vertical:"middle"},j.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFD9E1F2"}},j.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}};const L=g[0],$=e.getCell(a+1,v);$.value=`${L.flavor} (${gf(L.pengamatan_timestamp)})`,$.font={bold:!0,size:10},$.alignment={horizontal:"center",vertical:"middle"},$.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFFFFFF"}},$.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}},g.forEach((M,z)=>{var q;const H=e.getCell(a+2,v+z);H.value=((q=M.mesin)==null?void 0:q.toUpperCase())||"N/A",H.font={bold:!0,size:9},H.alignment={horizontal:"center",vertical:"middle"},H.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFFDE9D9"}},H.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}}}),o+=p});let h=a+3;const d=Bo.map(m=>L5(l,m.key)),y=await Promise.all(d);for(let m=0;m<Bo.length;m++){const g=Bo[m],p=y[m];if(p.size===0)continue;const v=e.getCell(h,1);v.value=g.label,v.font={bold:!0,size:10},v.alignment={horizontal:"left",vertical:"middle"},v.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF4B084"}},v.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}},o=2,l.forEach((C,j)=>{const L=e.getCell(h,o);L.border={top:{style:"thin"},left:{style:"thin"},right:{style:"thin"},bottom:{style:"thin"}};const $=p.get(j);if($)try{const M=t.addImage({buffer:$,extension:"jpeg"});e.addImage(M,{tl:{col:o-1,row:h-1},ext:{width:80,height:80},editAs:"oneCell"}),e.getRow(h).height=65}catch(M){console.error(`Error adding image for ${g.key}:`,M),L.value="Error"}o++}),h++}e.getColumn(1).width=20;for(let m=2;m<=s;m++)e.getColumn(m).width=12;console.log("[EXCEL] Writing buffer...");const b=await t.xlsx.writeBuffer();return console.log(`[EXCEL] Buffer written successfully, size: ${b.byteLength} bytes`),b}catch(t){throw console.error("[EXCEL] Error in generateExcelBuffer:",t),new Error(`Excel generation failed: ${t instanceof Error?t.message:String(t)}`)}},Y2=async r=>{try{if(r.length===0)return!1;const t=new Dt("landscape","mm","a4"),e=t.internal.pageSize.getWidth(),n=t.internal.pageSize.getHeight(),l=10,i={};r.forEach(j=>{const L=j.pengamatan_ke||"0";i[L]||(i[L]=[]),i[L].push(j)}),Object.keys(i).forEach(j=>{i[j].sort((L,$)=>qo(L.mesin||"")-qo($.mesin||""))});const s=[];Object.keys(i).sort((j,L)=>parseInt(j)-parseInt(L)).forEach(j=>{s.push(...i[j])});const u=s[0];let a=l+5;t.setFontSize(14),t.setFont("helvetica","bold"),t.text("LAPORAN PENGAMATAN KESESUAIAN PENGEMAS DAN KODE PRODUKSI",e/2,a,{align:"center"}),a+=12;const c=l+30,f=c+5;t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Tanggal",l,a),t.setFont("helvetica","normal"),t.text(":",c,a),t.text(mf(u.tanggal),f,a),a+=6,t.setFont("helvetica","bold"),t.text("Line",l,a),t.setFont("helvetica","normal"),t.text(":",c,a),t.text(u.line,f,a),a+=6,t.setFont("helvetica","bold"),t.text("Regu/Shift",l,a),t.setFont("helvetica","normal"),t.text(":",c,a),t.text(`${u.regu}${u.shift}`,f,a),a+=6,t.setFont("helvetica","bold"),t.text("QC Proses",l,a),t.setFont("helvetica","normal"),t.text(":",c,a),t.text(u.created_by||"N/A",f,a),a+=10,console.log("[PDF EXPORT] Fetching photos for records...");const h=await Promise.all(s.map(async j=>{const L=await p1(j.id);return{...j,...L}}));console.log("[PDF EXPORT] Photos fetched, generating PDF...");const d=45,b=(e-2*l-d)/h.length;t.setDrawColor(0),t.setLineWidth(.3),t.setFillColor(244,176,132),t.rect(l,a,d,18,"FD"),t.setFontSize(9),t.setFont("helvetica","bold"),t.setTextColor(0),t.text("PENGAMATAN",l+d/2,a+9,{align:"center"});let m=l+d;const g={};h.forEach(j=>{const L=j.pengamatan_ke||"0";g[L]||(g[L]=[]),g[L].push(j)}),Object.keys(g).sort((j,L)=>parseInt(j)-parseInt(L)).forEach(j=>{const L=g[j],$=L.length,M=b*$;t.setFillColor(217,225,242),t.rect(m,a,M,6,"FD"),t.setTextColor(0),t.setFontSize(9),t.setFont("helvetica","bold"),t.text(`PENGAMATAN ${j}`,m+M/2,a+4,{align:"center"});const z=L[0];t.setFillColor(255,255,255),t.rect(m,a+6,M,6,"FD"),t.setFontSize(8),t.text(`${z.flavor} (${gf(z.pengamatan_timestamp)})`,m+M/2,a+10,{align:"center"}),L.forEach((H,q)=>{var A;const B=m+q*b;t.setFillColor(253,233,217),t.rect(B,a+12,b,6,"FD"),t.setFontSize(7),t.setFont("helvetica","bold"),t.text(((A=H.mesin)==null?void 0:A.toUpperCase())||"N/A",B+b/2,a+15.5,{align:"center"})}),m+=M}),a+=18;const p=38,v=2;for(const j of Bo){let L=!1;if(h.forEach(z=>{z[j.key]&&(L=!0)}),!L)continue;a+p>n-l&&(t.addPage(),a=l),t.setDrawColor(0),t.setLineWidth(.3),t.setFillColor(244,176,132),t.rect(l,a,d,p,"FD"),t.setFontSize(8),t.setFont("helvetica","bold"),t.setTextColor(0),t.text(j.label,l+d/2,a+p/2,{align:"center"}),m=l+d;const $=h.map(async z=>{const H=z[j.key];return H?await m1(H,400,400):null}),M=await Promise.all($);h.forEach((z,H)=>{const q=M[H];if(t.setDrawColor(0),t.setLineWidth(.3),t.setFillColor(255,255,255),t.rect(m,a,b,p,"FD"),q)try{const B=b-v*2,A=p-v*2;let P=A,k=A;P>B&&(P=B,k=B);const w=m+(b-P)/2,S=a+(p-k)/2;t.addImage(q,"JPEG",w,S,P,k)}catch(B){console.error(`Error adding image for ${j.key}:`,B),t.setFontSize(6),t.setTextColor(0),t.text("Error",m+b/2,a+p/2,{align:"center"})}m+=b}),a+=p}const C=`Laporan_Kliping_${u.line}_Regu${u.regu}_Shift${u.shift}_${new Date().toISOString().split("T")[0]}.pdf`;return t.save(C),!0}catch(t){return console.error("Error exporting to PDF:",t),!1}},IS=r=>{const t={};return r.forEach(e=>{const n=`${e.line}_${e.regu}_${e.shift}_${e.tanggal}`;t[n]||(t[n]=[]),t[n].push(e)}),t},J2=async(r,t)=>{try{if(r.length===0)return alert("Tidak ada data untuk diekspor"),!1;const e=IS(r),n=Object.keys(e);if(n.length===0)return alert("Tidak ada data untuk diekspor"),!1;if(console.log(`[EXPORT] Starting sequential export of ${n.length} files...`),console.log("[EXPORT] Session keys:",n),!confirm(`Akan mendownload ${n.length} file ${t.toUpperCase()} secara berurutan.

Browser mungkin akan meminta izin untuk multiple downloads.
Silahkan klik "Allow" atau "Izinkan".

Lanjutkan?`))return console.log("[EXPORT] User cancelled export"),!1;let i=0;const s=[];for(let u=0;u<n.length;u++){const a=n[u],o=e[a],c=o[0],f=`Laporan_Kliping_${c.line}_Regu${c.regu}_Shift${c.shift}_${c.tanggal}`;console.log(`[EXPORT] Processing ${u+1}/${n.length}: ${f}`);try{if(t==="excel"){console.log(`[EXPORT] Generating Excel for ${f}...`);const h=await RS(o);console.log(`[EXPORT] Buffer size: ${h.byteLength} bytes`);const d=new Blob([h],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"});console.log(`[EXPORT] Blob created, size: ${d.size} bytes`);const y=window.URL.createObjectURL(d),b=document.createElement("a");b.href=y,b.download=`${f}.xlsx`,b.style.display="none",document.body.appendChild(b),console.log(`[EXPORT] Triggering download for ${f}.xlsx`),b.click(),await new Promise(m=>setTimeout(m,200)),document.body.removeChild(b),window.URL.revokeObjectURL(y),i++,console.log(`[EXPORT] Successfully downloaded ${f}.xlsx (${u+1}/${n.length})`)}else if(t==="pdf"){console.log(`[EXPORT] Generating PDF for ${f}...`);const h=await MS(o);console.log(`[EXPORT] PDF blob created, size: ${h.size} bytes`);const d=window.URL.createObjectURL(h),y=document.createElement("a");y.href=d,y.download=`${f}.pdf`,y.style.display="none",document.body.appendChild(y),console.log(`[EXPORT] Triggering download for ${f}.pdf`),y.click(),await new Promise(b=>setTimeout(b,200)),document.body.removeChild(y),window.URL.revokeObjectURL(d),i++,console.log(`[EXPORT] Successfully downloaded ${f}.pdf (${u+1}/${n.length})`)}ga.clear(),console.log("[EXPORT] Cache cleared, processing next file...")}catch(h){const d=`${f}: ${h instanceof Error?h.message:String(h)}`;console.error(`[EXPORT] Error processing file ${u+1}:`,h),console.error("[EXPORT] Error details:",{fileName:f,format:t,recordCount:o.length,error:h}),s.push(d),alert(`Error saat memproses file ${u+1}/${n.length}:
${d}

Melanjutkan ke file berikutnya...`)}}if(i===0){const u=s.length>0?`

Detail error:
${s.join(`
`)}`:"";return alert(`Gagal mendownload file.${u}`),!1}return s.length>0?alert(`Download selesai!

 ${i} file berhasil
 ${s.length} file gagal

File yang gagal:
${s.join(`
`)}`):alert(` Download selesai! ${i} file berhasil terdownload.`),!0}catch(e){return console.error("[EXPORT] Fatal error:",e),alert(`Gagal mengekspor data: ${e instanceof Error?e.message:String(e)}`),!1}},MS=async r=>{try{if(!r||r.length===0)throw new Error("Tidak ada data untuk diekspor");console.log(`[PDF] Generating blob for ${r.length} records`);const t=new Dt("landscape","mm","a4"),e=t.internal.pageSize.getWidth(),n=t.internal.pageSize.getHeight(),l=10,i={};r.forEach(j=>{const L=j.pengamatan_ke||"0";i[L]||(i[L]=[]),i[L].push(j)}),Object.keys(i).forEach(j=>{i[j].sort((L,$)=>qo(L.mesin||"")-qo($.mesin||""))});const s=[];Object.keys(i).sort((j,L)=>parseInt(j)-parseInt(L)).forEach(j=>{s.push(...i[j])});const u=s[0];let a=l+5;t.setFontSize(14),t.setFont("helvetica","bold"),t.text("LAPORAN PENGAMATAN KESESUAIAN PENGEMAS DAN KODE PRODUKSI",e/2,a,{align:"center"}),a+=12;const c=l+30,f=c+5;t.setFontSize(10),t.setFont("helvetica","bold"),t.text("Tanggal",l,a),t.setFont("helvetica","normal"),t.text(":",c,a),t.text(mf(u.tanggal),f,a),a+=6,t.setFont("helvetica","bold"),t.text("Line",l,a),t.setFont("helvetica","normal"),t.text(":",c,a),t.text(u.line,f,a),a+=6,t.setFont("helvetica","bold"),t.text("Regu/Shift",l,a),t.setFont("helvetica","normal"),t.text(":",c,a),t.text(`${u.regu}${u.shift}`,f,a),a+=6,t.setFont("helvetica","bold"),t.text("QC Proses",l,a),t.setFont("helvetica","normal"),t.text(":",c,a),t.text(u.created_by||"N/A",f,a),a+=10,console.log("[PDF BLOB] Fetching photos for records...");const h=await Promise.all(s.map(async j=>{const L=await p1(j.id);return{...j,...L}}));console.log("[PDF BLOB] Photos fetched, generating PDF...");const d=45,b=(e-2*l-d)/h.length;t.setDrawColor(0),t.setLineWidth(.3),t.setFillColor(244,176,132),t.rect(l,a,d,18,"FD"),t.setFontSize(9),t.setFont("helvetica","bold"),t.setTextColor(0),t.text("PENGAMATAN",l+d/2,a+9,{align:"center"});let m=l+d;const g={};h.forEach(j=>{const L=j.pengamatan_ke||"0";g[L]||(g[L]=[]),g[L].push(j)}),Object.keys(g).sort((j,L)=>parseInt(j)-parseInt(L)).forEach(j=>{const L=g[j],$=L.length,M=b*$;t.setFillColor(217,225,242),t.rect(m,a,M,6,"FD"),t.setTextColor(0),t.setFontSize(9),t.setFont("helvetica","bold"),t.text(`PENGAMATAN ${j}`,m+M/2,a+4,{align:"center"});const z=L[0];t.setFillColor(255,255,255),t.rect(m,a+6,M,6,"FD"),t.setFontSize(8),t.text(`${z.flavor} (${gf(z.pengamatan_timestamp)})`,m+M/2,a+10,{align:"center"}),L.forEach((H,q)=>{var A;const B=m+q*b;t.setFillColor(253,233,217),t.rect(B,a+12,b,6,"FD"),t.setFontSize(7),t.setFont("helvetica","bold"),t.text(((A=H.mesin)==null?void 0:A.toUpperCase())||"N/A",B+b/2,a+15.5,{align:"center"})}),m+=M}),a+=18;const p=38,v=2;for(const j of Bo){let L=!1;if(h.forEach(z=>{z[j.key]&&(L=!0)}),!L)continue;a+p>n-l&&(t.addPage(),a=l),t.setDrawColor(0),t.setLineWidth(.3),t.setFillColor(244,176,132),t.rect(l,a,d,p,"FD"),t.setFontSize(8),t.setFont("helvetica","bold"),t.setTextColor(0),t.text(j.label,l+d/2,a+p/2,{align:"center"}),m=l+d;const $=h.map(async z=>{const H=z[j.key];return H?await m1(H,400,400):null}),M=await Promise.all($);h.forEach((z,H)=>{const q=M[H];if(t.setDrawColor(0),t.setLineWidth(.3),t.setFillColor(255,255,255),t.rect(m,a,b,p,"FD"),q)try{const B=b-v*2,A=p-v*2;let P=A,k=A;P>B&&(P=B,k=B);const w=m+(b-P)/2,S=a+(p-k)/2;t.addImage(q,"JPEG",w,S,P,k)}catch(B){console.error(`Error adding image for ${j.key}:`,B),t.setFontSize(6),t.setTextColor(0),t.text("Error",m+b/2,a+p/2,{align:"center"})}m+=b}),a+=p}console.log("[PDF] Generating blob output...");const C=t.output("blob");return console.log(`[PDF] Blob generated successfully, size: ${C.size} bytes`),C}catch(t){throw console.error("[PDF] Error in generatePDFBlob:",t),new Error(`PDF generation failed: ${t instanceof Error?t.message:String(t)}`)}},LS=()=>{var et;const r=On(),t=Li(),{plant:e}=t.state||{plant:"Plant-1"},[n,l]=me.useState([]),[i,s]=me.useState([]),[u,a]=me.useState(!0),[o,c]=me.useState(""),[f,h]=me.useState(""),[d,y]=me.useState([]),[b,m]=me.useState([]),[g,p]=me.useState([]),[v,C]=me.useState(!1),[j,L]=me.useState(!1),[$,M]=me.useState(!1),[z,H]=me.useState(!1),[q,B]=me.useState(""),[A,P]=me.useState(""),[k,w]=me.useState(""),[S,x]=me.useState(new Date().toISOString().split("T")[0]),[_,E]=me.useState(!1),[D,N]=me.useState({}),[U,V]=me.useState(!1),[J,F]=me.useState(!1),[Y,O]=me.useState({}),[T,G]=me.useState(1),Q=10,ne=((et=$l[e])==null?void 0:et.map(ke=>`Line ${ke}`))||[];me.useEffect(()=>(se(),Z(),()=>{console.log("[KLIPING SCREEN] Cleanup: aborting pending requests"),Ca.abort(),Ca.reset()}),[e]),me.useEffect(()=>{console.log("[KLIPING SCREEN] Applying filters, records count:",n.length),console.log("[KLIPING SCREEN] Filters:",{startDate:o,endDate:f,selectedLines:d,selectedRegus:b,selectedShifts:g}),ie(),G(1)},[n,o,f,d,b,g]);const Z=async()=>{const ke=JSON.parse(localStorage.getItem("currentUser")||"{}");if(ke.username){const je=await r7(ke.username);F(je.includes("preview_kliping_photos"))}},oe=ke=>{const je={};return ke.forEach(Ue=>{const Le=`${Ue.tanggal}_${Ue.line}_${Ue.regu}_${Ue.shift}`;je[Le]||(je[Le]=[]),je[Le].push(Ue)}),Object.values(je).map(Ue=>Ue.sort((Le,Ve)=>Le.pengamatan_ke&&Ve.pengamatan_ke?Le.pengamatan_ke-Ve.pengamatan_ke:0))},ue=ke=>{const je=(T-1)*Q,Ue=je+Q;return ke.slice(je,Ue)},te=ke=>Math.ceil(ke.length/Q),se=async()=>{try{console.log("[KLIPING SCREEN] Starting loadRecords for plant:",e),a(!0);const[ke,je]=await Promise.all([tm({plant:e}),AS({plant:e})]);console.log("[KLIPING SCREEN] ========================================"),console.log("[KLIPING SCREEN] Received data:",ke),console.log("[KLIPING SCREEN] Data length:",ke==null?void 0:ke.length),console.log("[KLIPING SCREEN] Sample record:",ke==null?void 0:ke[0]),console.log("[KLIPING SCREEN] ========================================"),console.log("[KLIPING SCREEN] Photo counts object:",je),console.log("[KLIPING SCREEN] Photo counts type:",typeof je),console.log("[KLIPING SCREEN] Photo counts is null?",je===null),console.log("[KLIPING SCREEN] Photo counts is undefined?",je===void 0),console.log("[KLIPING SCREEN] Sample photo count keys:",Object.keys(je||{}).slice(0,10)),console.log("[KLIPING SCREEN] Total photo count keys:",Object.keys(je||{}).length),console.log("[KLIPING SCREEN] ========================================"),l(ke),O(je||{}),a(!1),console.log("[KLIPING SCREEN] State updated, records count:",ke.length)}catch(ke){console.error("[KLIPING SCREEN] Error in loadRecords:",ke),a(!1),alert("Error loading records: "+ke)}},pe=()=>{const ke=localStorage.getItem("currentUser");if(ke)try{const Ue=JSON.parse(ke).role||"user";return["admin","manager","supervisor"].includes(Ue.toLowerCase())}catch{return!1}return!1},ie=()=>{let ke=[...n];console.log("[KLIPING SCREEN] Before filter:",ke.length),o&&(console.log("[KLIPING SCREEN] Applying startDate filter:",o),ke=ke.filter(je=>je.tanggal>=o),console.log("[KLIPING SCREEN] After startDate filter:",ke.length)),f&&(console.log("[KLIPING SCREEN] Applying endDate filter:",f),ke=ke.filter(je=>je.tanggal<=f),console.log("[KLIPING SCREEN] After endDate filter:",ke.length)),d.length>0&&(console.log("[KLIPING SCREEN] Applying lines filter:",d),ke=ke.filter(je=>d.includes(je.line)),console.log("[KLIPING SCREEN] After lines filter:",ke.length)),b.length>0&&(console.log("[KLIPING SCREEN] Applying regus filter:",b),ke=ke.filter(je=>b.includes(je.regu)),console.log("[KLIPING SCREEN] After regus filter:",ke.length)),g.length>0&&(console.log("[KLIPING SCREEN] Applying shifts filter:",g),ke=ke.filter(je=>g.includes(je.shift)),console.log("[KLIPING SCREEN] After shifts filter:",ke.length)),console.log("[KLIPING SCREEN] Final filtered count:",ke.length),s(ke)},fe=()=>{B(""),P(""),w(""),x(new Date().toISOString().split("T")[0]),H(!0)},be=async()=>{if(!q||!A||!k){alert("Harap pilih Line, Regu, dan Shift terlebih dahulu!");return}H(!1),r("/create-kliping",{state:{plant:e,line:q,regu:A,shift:k,tanggal:S}})},re=async()=>{if(i.length===0){alert("Tidak ada data untuk di-export");return}const ke=Date.now();alert("Memuat foto untuk export... Mohon tunggu (proses mungkin memakan waktu 1-2 menit)");try{const je=await Wd({plant:e,startDate:o,endDate:f,line:d.length===1?d[0]:void 0,regu:b.length===1?b[0]:void 0,shift:g.length===1?g[0]:void 0});console.log(`[EXPORT] Fetched ${je.length} records from database`);let Ue=je;if(d.length>0&&(Ue=Ue.filter(Ve=>d.includes(Ve.line))),b.length>0&&(Ue=Ue.filter(Ve=>b.includes(Ve.regu))),g.length>0&&(Ue=Ue.filter(Ve=>g.includes(Ve.shift))),console.log(`[EXPORT] After client-side filtering: ${Ue.length} records`),Ue.length===0){alert("Tidak ada data yang sesuai dengan filter untuk di-export");return}const Le=oe(Ue);if(console.log(`[EXPORT] Loaded ${Ue.length} records in ${(Date.now()-ke)/1e3}s`),Le.length>1){const Ve=await J2(Ue,"excel"),He=((Date.now()-ke)/1e3).toFixed(1);alert(Ve?`Export berhasil! ${Le.length} file Excel (${He} detik)`:"Export gagal!")}else{const Ve=await X2(Ue),He=((Date.now()-ke)/1e3).toFixed(1);alert(Ve?`Export Excel berhasil! (${He} detik)`:"Export Excel gagal!")}}catch(je){console.error("[EXPORT] Error:",je),alert("Export gagal: "+je)}},ve=async()=>{if(i.length===0){alert("Tidak ada data untuk di-export");return}const ke=Date.now();alert("Memuat foto untuk export... Mohon tunggu (proses mungkin memakan waktu 1-2 menit)");try{const je=await Wd({plant:e,startDate:o,endDate:f,line:d.length===1?d[0]:void 0,regu:b.length===1?b[0]:void 0,shift:g.length===1?g[0]:void 0});console.log(`[EXPORT] Fetched ${je.length} records from database`);let Ue=je;if(d.length>0&&(Ue=Ue.filter(Ve=>d.includes(Ve.line))),b.length>0&&(Ue=Ue.filter(Ve=>b.includes(Ve.regu))),g.length>0&&(Ue=Ue.filter(Ve=>g.includes(Ve.shift))),console.log(`[EXPORT] After client-side filtering: ${Ue.length} records`),Ue.length===0){alert("Tidak ada data yang sesuai dengan filter untuk di-export");return}const Le=oe(Ue);if(console.log(`[EXPORT] Loaded ${Ue.length} records in ${(Date.now()-ke)/1e3}s`),Le.length>1){const Ve=await J2(Ue,"pdf"),He=((Date.now()-ke)/1e3).toFixed(1);alert(Ve?`Export berhasil! ${Le.length} file PDF (${He} detik)`:"Export gagal!")}else{const Ve=await Y2(Ue),He=((Date.now()-ke)/1e3).toFixed(1);alert(Ve?`Export PDF berhasil! (${He} detik)`:"Export PDF gagal!")}}catch(je){console.error("[EXPORT] Error:",je),alert("Export gagal: "+je)}},_e=async(ke,je,Ue)=>{if(!J){alert("Anda tidak memiliki akses untuk preview foto");return}V(!0),E(!0);try{const Le=await Wu({plant:ke.plant,tanggal:ke.tanggal,line:ke.line,regu:ke.regu,shift:ke.shift,pengamatan_ke:parseInt(je),mesin:Ue});Le?N(Le):(N({}),alert("Tidak ada foto untuk mesin ini"))}catch(Le){console.error("[PREVIEW] Error loading photos:",Le),alert("Gagal memuat foto"),N({})}finally{V(!1)}},Re=async ke=>{const je=Date.now();alert("Memuat foto untuk export... Mohon tunggu");try{const Ue=await Wd({plant:e,startDate:ke.tanggal,endDate:ke.tanggal,line:ke.line,regu:ke.regu,shift:ke.shift}),Le=await X2(Ue),Ve=((Date.now()-je)/1e3).toFixed(1);alert(Le?`Export Excel berhasil! (${Ve} detik)`:"Export Excel gagal!")}catch(Ue){console.error("[EXPORT] Error:",Ue),alert("Export gagal: "+Ue)}},Ge=async ke=>{const je=Date.now();alert("Memuat foto untuk export... Mohon tunggu");try{const Ue=await Wd({plant:e,startDate:ke.tanggal,endDate:ke.tanggal,line:ke.line,regu:ke.regu,shift:ke.shift}),Le=await Y2(Ue),Ve=((Date.now()-je)/1e3).toFixed(1);alert(Le?`Export PDF berhasil! (${Ve} detik)`:"Export PDF gagal!")}catch(Ue){console.error("[EXPORT] Error:",Ue),alert("Export gagal: "+Ue)}},Ze=async()=>{if(!pe()){alert("Anda tidak memiliki akses untuk menghapus data");return}const ke=o||f||d.length>0||b.length>0||g.length>0,je=[];o&&je.push(`Tanggal >= ${o}`),f&&je.push(`Tanggal <= ${f}`),d.length>0&&je.push(`Line: ${d.join(", ")}`),b.length>0&&je.push(`Regu: ${b.join(", ")}`),g.length>0&&je.push(`Shift: ${g.join(", ")}`);const Ue=ke?`Hapus data yang sesuai dengan filter berikut?

${je.join(`
`)}

Total: ${i.length} record

Tindakan ini tidak bisa dibatalkan!`:`Hapus SEMUA data kliping untuk ${e}? Tindakan ini tidak bisa dibatalkan!`;if(confirm(Ue))try{let Le=At.from("kliping_records").delete();Le=Le.eq("plant",e),o&&(Le=Le.gte("tanggal",o)),f&&(Le=Le.lte("tanggal",f)),d.length>0&&(Le=Le.in("line",d)),b.length>0&&(Le=Le.in("regu",b)),g.length>0&&(Le=Le.in("shift",g));const{error:Ve}=await Le;if(Ve)throw Ve;alert("Data berhasil dihapus"),await se()}catch(Le){console.error("Error deleting records:",Le),alert("Gagal menghapus data")}},Ye=ke=>new Date(ke).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"});return R.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",padding:"20px"},children:[R.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[R.jsx("button",{onClick:()=>r("/plant-selection-kliping"),style:{background:"white",border:"none",borderRadius:"16px",padding:"12px",marginBottom:"20px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:R.jsx(Oi,{size:24,color:"#10b981"})}),R.jsxs("button",{onClick:fe,style:{position:"fixed",top:"20px",right:"20px",background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",color:"white",border:"none",borderRadius:"50px",padding:"16px 32px",fontSize:"16px",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",display:"flex",alignItems:"center",gap:"8px",zIndex:100},children:[R.jsx(Tl,{size:20}),"Tambah Data"]}),R.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"32px",boxShadow:"0 10px 40px rgba(0,0,0,0.1)"},children:[R.jsx("h1",{style:{fontSize:"32px",fontWeight:"700",color:"#1a202c",marginBottom:"8px",textAlign:"center"},children:"Kliping Records"}),R.jsx("p",{style:{fontSize:"18px",color:"#718096",marginBottom:"32px",textAlign:"left",fontWeight:"600"},children:e}),pe()&&R.jsxs("button",{onClick:Ze,style:{width:"100%",padding:"14px",background:"#fef2f2",border:"2px solid #fecaca",borderRadius:"12px",color:"#dc2626",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"24px"},children:[R.jsx(Mn,{size:18}),"Delete All Records"]}),R.jsxs("div",{style:{marginBottom:"24px"},children:[R.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#4a5568",marginBottom:"8px"},children:"Filter by Date"}),R.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[R.jsxs("div",{style:{flex:1},children:[R.jsx("label",{style:{display:"block",fontSize:"12px",color:"#718096",marginBottom:"4px"},children:"Tanggal Awal"}),R.jsx("input",{type:"date",value:o,onChange:ke=>c(ke.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #d1fae5",fontSize:"14px"}})]}),R.jsxs("div",{style:{flex:1},children:[R.jsx("label",{style:{display:"block",fontSize:"12px",color:"#718096",marginBottom:"4px"},children:"Tanggal Akhir"}),R.jsx("input",{type:"date",value:f,onChange:ke=>h(ke.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #d1fae5",fontSize:"14px"}})]})]})]}),R.jsxs("div",{style:{marginBottom:"24px",position:"relative"},children:[R.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#4a5568",marginBottom:"8px"},children:"Filter by Line"}),R.jsxs("div",{onClick:()=>C(!v),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #d1fae5",fontSize:"14px",cursor:"pointer",backgroundColor:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsx("span",{children:d.length===0?"Semua Line":`${d.length} Line dipilih`}),R.jsx("span",{style:{transform:v?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})]}),v&&R.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"#fff",border:"2px solid #d1fae5",borderRadius:"12px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[R.jsxs("div",{onClick:ke=>{ke.stopPropagation(),d.length===ne.length?y([]):y(ne)},style:{padding:"12px",cursor:"pointer",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"8px",backgroundColor:d.length===ne.length?"#ecfdf5":"transparent"},children:[R.jsx("input",{type:"checkbox",checked:d.length===ne.length,onChange:()=>{},style:{cursor:"pointer",width:"16px",height:"16px"}}),R.jsx("span",{style:{fontWeight:"600"},children:"Semua Line"})]}),ne.map(ke=>R.jsxs("div",{onClick:je=>{je.stopPropagation(),d.includes(ke)?y(d.filter(Ue=>Ue!==ke)):y([...d,ke])},style:{padding:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",backgroundColor:d.includes(ke)?"#ecfdf5":"transparent"},children:[R.jsx("input",{type:"checkbox",checked:d.includes(ke),onChange:()=>{},style:{cursor:"pointer",width:"16px",height:"16px"}}),R.jsx("span",{children:ke})]},ke))]})]}),R.jsxs("div",{style:{marginBottom:"24px",position:"relative"},children:[R.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#4a5568",marginBottom:"8px"},children:"Filter by Regu"}),R.jsxs("div",{onClick:()=>L(!j),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #d1fae5",fontSize:"14px",cursor:"pointer",backgroundColor:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsx("span",{children:b.length===0?"Semua Regu":b.join(", ")}),R.jsx("span",{style:{transform:j?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})]}),j&&R.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"#fff",border:"2px solid #d1fae5",borderRadius:"12px",marginTop:"4px",zIndex:10,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[R.jsxs("div",{onClick:ke=>{ke.stopPropagation(),b.length===il.length?m([]):m([...il])},style:{padding:"12px",cursor:"pointer",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"8px",backgroundColor:b.length===il.length?"#ecfdf5":"transparent"},children:[R.jsx("input",{type:"checkbox",checked:b.length===il.length,onChange:()=>{},style:{cursor:"pointer",width:"16px",height:"16px"}}),R.jsx("span",{style:{fontWeight:"600"},children:"Semua Regu"})]}),il.map(ke=>R.jsxs("div",{onClick:je=>{je.stopPropagation(),b.includes(ke)?m(b.filter(Ue=>Ue!==ke)):m([...b,ke])},style:{padding:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",backgroundColor:b.includes(ke)?"#ecfdf5":"transparent"},children:[R.jsx("input",{type:"checkbox",checked:b.includes(ke),onChange:()=>{},style:{cursor:"pointer",width:"16px",height:"16px"}}),R.jsx("span",{children:ke})]},ke))]})]}),R.jsxs("div",{style:{marginBottom:"24px",position:"relative"},children:[R.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#4a5568",marginBottom:"8px"},children:"Filter by Shift"}),R.jsxs("div",{onClick:()=>M(!$),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #d1fae5",fontSize:"14px",cursor:"pointer",backgroundColor:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsx("span",{children:g.length===0?"Semua Shift":g.join(", ")}),R.jsx("span",{style:{transform:$?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})]}),$&&R.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"#fff",border:"2px solid #d1fae5",borderRadius:"12px",marginTop:"4px",zIndex:10,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:[R.jsxs("div",{onClick:ke=>{ke.stopPropagation(),g.length===sl.length?p([]):p([...sl])},style:{padding:"12px",cursor:"pointer",borderBottom:"1px solid #e5e7eb",display:"flex",alignItems:"center",gap:"8px",backgroundColor:g.length===sl.length?"#ecfdf5":"transparent"},children:[R.jsx("input",{type:"checkbox",checked:g.length===sl.length,onChange:()=>{},style:{cursor:"pointer",width:"16px",height:"16px"}}),R.jsx("span",{style:{fontWeight:"600"},children:"Semua Shift"})]}),sl.map(ke=>R.jsxs("div",{onClick:je=>{je.stopPropagation(),g.includes(ke)?p(g.filter(Ue=>Ue!==ke)):p([...g,ke])},style:{padding:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",backgroundColor:g.includes(ke)?"#ecfdf5":"transparent"},children:[R.jsx("input",{type:"checkbox",checked:g.includes(ke),onChange:()=>{},style:{cursor:"pointer",width:"16px",height:"16px"}}),R.jsx("span",{children:ke})]},ke))]})]}),R.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"32px"},children:[R.jsxs("button",{onClick:re,style:{flex:1,padding:"14px",background:"white",border:"2px solid #16a34a",borderRadius:"12px",color:"#16a34a",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[R.jsx(Eo,{size:18}),"Export All Excel"]}),R.jsxs("button",{onClick:ve,style:{flex:1,padding:"14px",background:"white",border:"2px solid #dc2626",borderRadius:"12px",color:"#dc2626",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[R.jsx(Eo,{size:18}),"Export All PDF"]})]}),u?R.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#718096"},children:"Loading records..."}):i.length===0?R.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#718096"},children:"Tidak ada data kliping"}):R.jsx(R.Fragment,{children:R.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:(()=>{const ke=oe(i),je=ue(ke),Ue=te(ke);return R.jsxs(R.Fragment,{children:[je.map((Le,Ve)=>{const He=Le[0];return R.jsxs("div",{style:{background:"#f0fdf4",borderRadius:"16px",padding:"20px",border:"2px solid #bbf7d0",position:"relative"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"12px"},children:[R.jsxs("div",{children:[R.jsxs("h3",{style:{fontSize:"16px",fontWeight:"700",color:"#065f46",marginBottom:"4px"},children:[He.line," - Regu ",He.regu," - Shift ",He.shift]}),R.jsx("p",{style:{fontSize:"13px",color:"#047857",marginBottom:"8px"},children:Ye(He.tanggal)}),R.jsx("div",{style:{fontSize:"13px",color:"#065f46",marginTop:"8px"},children:(()=>{const ot={};return Le.forEach(ct=>{var pt;const bt=ct.pengamatan_ke||"";ot[bt]||(ot[bt]={flavor:ct.flavor||"",mesins:[]});const Lt=((pt=ct.mesin)==null?void 0:pt.replace("Mesin ",""))||"";Lt&&!ot[bt].mesins.includes(Lt)&&ot[bt].mesins.push(Lt)}),Object.entries(ot).sort(([ct],[bt])=>parseInt(ct)-parseInt(bt)).map(([ct,bt])=>R.jsxs("div",{style:{marginBottom:"10px",padding:"10px",background:"rgba(255,255,255,0.5)",borderRadius:"8px"},children:[R.jsxs("p",{style:{marginBottom:"8px",fontWeight:"600",fontSize:"13px"},children:["Pengamatan ",ct,": ",bt.flavor]}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:bt.mesins.sort((Lt,pt)=>parseInt(Lt)-parseInt(pt)).map(Lt=>{const pt=`${He.tanggal}_${He.line}_${He.regu}_${He.shift}_${ct}_Mesin ${Lt}`,Ft=Y[pt]||0;return console.log("[DISPLAY] Looking for key:",pt,"Found count:",Ft),console.log("[DISPLAY] firstRecord.tanggal type:",typeof He.tanggal,"value:",He.tanggal),console.log("[DISPLAY] photoCounts state:",Y),console.log("[DISPLAY] photoCounts keys count:",Object.keys(Y).length),R.jsxs("button",{onClick:()=>J&&_e(He,ct,`Mesin ${Lt}`),disabled:!J,style:{padding:"8px 10px",background:J?"#10b981":"#9ca3af",color:"white",border:"none",borderRadius:"6px",fontSize:"11px",fontWeight:"600",cursor:J?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px",whiteSpace:"nowrap",minHeight:"36px"},children:[R.jsx(ys,{size:12}),R.jsxs("span",{children:["Mesin ",Lt]}),R.jsxs("span",{style:{fontSize:"10px",background:"rgba(255,255,255,0.2)",padding:"2px 6px",borderRadius:"4px",marginLeft:"2px"},children:[Ft,"/",8]})]},Lt)})})]},ct))})()}),R.jsxs("p",{style:{fontSize:"11px",color:"#6b7280",marginTop:"8px"},children:["Dibuat oleh: ",He.created_by]})]}),R.jsx("div",{style:{background:He.is_complete?"#10b981":"#f59e0b",color:"white",padding:"4px 10px",borderRadius:"20px",fontSize:"11px",fontWeight:"600"},children:He.is_complete?"Complete":"Draft"})]}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:pe()?"repeat(4, 1fr)":"repeat(3, 1fr)",gap:"6px",marginTop:"12px"},children:[R.jsxs("button",{onClick:()=>Re(He),style:{padding:"8px 6px",background:"white",border:"1px solid #16a34a",borderRadius:"6px",color:"#16a34a",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[R.jsx(Eo,{size:12}),"Excel"]}),R.jsxs("button",{onClick:()=>Ge(He),style:{padding:"8px 6px",background:"white",border:"1px solid #dc2626",borderRadius:"6px",color:"#dc2626",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[R.jsx(Eo,{size:12}),"PDF"]}),R.jsx("button",{onClick:()=>r("/create-kliping",{state:{plant:e,line:He.line,regu:He.regu,shift:He.shift,tanggal:He.tanggal,sessionId:`${He.tanggal}_${He.line}_${He.regu}_${He.shift}`}}),style:{padding:"8px 6px",background:"#10b981",border:"none",borderRadius:"6px",color:"white",fontSize:"11px",fontWeight:"600",cursor:"pointer"},children:"Edit"}),pe()&&R.jsxs("button",{onClick:async()=>{if(confirm(`Hapus semua pengamatan untuk ${He.line} - Regu ${He.regu} - Shift ${He.shift}?`))try{const{error:ot}=await At.from("kliping_records").delete().eq("plant",e).eq("tanggal",He.tanggal).eq("line",He.line).eq("regu",He.regu).eq("shift",He.shift);ot?(console.error("Error deleting session:",ot),alert("Gagal menghapus data")):(alert("Data berhasil dihapus"),await se())}catch(ot){console.error("Error in delete operation:",ot),alert("Gagal menghapus data")}},style:{padding:"8px 6px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"6px",color:"#dc2626",fontSize:"11px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[R.jsx(Mn,{size:12}),"Del"]})]})]},Ve)}),Ue>1&&R.jsxs("div",{style:{marginTop:"24px",paddingTop:"20px",borderTop:"2px solid #d1fae5"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px",flexWrap:"wrap",gap:"8px"},children:[R.jsxs("div",{style:{fontSize:"12px",color:"#6b7280",fontWeight:"600"},children:["Showing ",(T-1)*Q+1,"-",Math.min(T*Q,ke.length)," of ",ke.length]}),R.jsxs("div",{style:{fontSize:"12px",color:"#10b981",fontWeight:"600"},children:["Page ",T," / ",Ue]})]}),R.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"6px",flexWrap:"wrap"},children:[R.jsx("button",{onClick:()=>G(1),disabled:T===1,style:{padding:"8px 12px",background:T===1?"#e5e7eb":"white",color:T===1?"#9ca3af":"#10b981",border:`2px solid ${T===1?"#e5e7eb":"#10b981"}`,borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:T===1?"not-allowed":"pointer"},children:""}),R.jsx("button",{onClick:()=>G(Le=>Math.max(1,Le-1)),disabled:T===1,style:{padding:"8px 14px",background:T===1?"#e5e7eb":"#10b981",color:T===1?"#9ca3af":"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:T===1?"not-allowed":"pointer"},children:" Prev"}),R.jsx("div",{style:{display:"flex",gap:"4px",alignItems:"center"},children:(()=>{const Le=[];let He=Math.max(1,T-Math.floor(2.5)),ot=Math.min(Ue,He+5-1);ot-He<4&&(He=Math.max(1,ot-5+1)),He>1&&(Le.push(R.jsx("button",{onClick:()=>G(1),style:{padding:"8px 12px",background:"white",color:"#065f46",border:"2px solid #d1fae5",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer",minWidth:"36px"},children:"1"},1)),He>2&&Le.push(R.jsx("span",{style:{padding:"0 4px",color:"#6b7280",fontSize:"12px"},children:""},"start-dots")));for(let ct=He;ct<=ot;ct++)Le.push(R.jsx("button",{onClick:()=>G(ct),style:{padding:"8px 12px",background:ct===T?"#10b981":"white",color:ct===T?"white":"#065f46",border:`2px solid ${ct===T?"#10b981":"#d1fae5"}`,borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer",minWidth:"36px"},children:ct},ct));return ot<Ue&&(ot<Ue-1&&Le.push(R.jsx("span",{style:{padding:"0 4px",color:"#6b7280",fontSize:"12px"},children:""},"end-dots")),Le.push(R.jsx("button",{onClick:()=>G(Ue),style:{padding:"8px 12px",background:"white",color:"#065f46",border:"2px solid #d1fae5",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:"pointer",minWidth:"36px"},children:Ue},Ue))),Le})()}),R.jsx("button",{onClick:()=>G(Le=>Math.min(Ue,Le+1)),disabled:T===Ue,style:{padding:"8px 14px",background:T===Ue?"#e5e7eb":"#10b981",color:T===Ue?"#9ca3af":"white",border:"none",borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:T===Ue?"not-allowed":"pointer"},children:"Next "}),R.jsx("button",{onClick:()=>G(Ue),disabled:T===Ue,style:{padding:"8px 12px",background:T===Ue?"#e5e7eb":"white",color:T===Ue?"#9ca3af":"#10b981",border:`2px solid ${T===Ue?"#e5e7eb":"#10b981"}`,borderRadius:"6px",fontSize:"12px",fontWeight:"600",cursor:T===Ue?"not-allowed":"pointer"},children:""})]}),R.jsxs("div",{style:{marginTop:"12px",textAlign:"center",fontSize:"11px",color:"#9ca3af"},children:["Jump to page:",R.jsx("input",{type:"number",min:1,max:Ue,value:T,onChange:Le=>{const Ve=parseInt(Le.target.value);Ve>=1&&Ve<=Ue&&G(Ve)},style:{marginLeft:"8px",width:"60px",padding:"4px 8px",border:"2px solid #d1fae5",borderRadius:"4px",fontSize:"11px",textAlign:"center"}})]})]})]})})()})})]})]}),z&&R.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:R.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"32px",maxWidth:"500px",width:"100%"},children:[R.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"24px",color:"#1a202c"},children:"Pilih Line, Regu, dan Shift"}),R.jsxs("div",{style:{marginBottom:"20px"},children:[R.jsx("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600",color:"#2d3748"},children:"Tanggal"}),R.jsx("input",{type:"date",value:S,onChange:ke=>x(ke.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #d1fae5",fontSize:"16px"}})]}),R.jsxs("div",{style:{marginBottom:"20px"},children:[R.jsx("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600",color:"#2d3748"},children:"Line"}),R.jsxs("select",{value:q,onChange:ke=>B(ke.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #d1fae5",fontSize:"16px"},children:[R.jsx("option",{value:"",children:"Pilih Line"}),ne.map(ke=>R.jsx("option",{value:ke,children:ke},ke))]})]}),R.jsxs("div",{style:{marginBottom:"20px"},children:[R.jsx("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600",color:"#2d3748"},children:"Regu"}),R.jsx("div",{style:{display:"flex",gap:"12px"},children:il.map(ke=>R.jsx("button",{type:"button",onClick:()=>P(ke),style:{flex:1,padding:"16px",background:A===ke?"#10b981":"#f7fafc",color:A===ke?"white":"#2d3748",border:"2px solid",borderColor:A===ke?"#10b981":"#e2e8f0",borderRadius:"12px",fontSize:"18px",fontWeight:"600",cursor:"pointer"},children:ke},ke))})]}),R.jsxs("div",{style:{marginBottom:"24px"},children:[R.jsx("label",{style:{display:"block",marginBottom:"12px",fontWeight:"600",color:"#2d3748"},children:"Shift"}),R.jsx("div",{style:{display:"flex",gap:"12px"},children:sl.map(ke=>R.jsx("button",{type:"button",onClick:()=>w(ke),style:{flex:1,padding:"16px",background:k===ke?"#10b981":"#f7fafc",color:k===ke?"white":"#2d3748",border:"2px solid",borderColor:k===ke?"#10b981":"#e2e8f0",borderRadius:"12px",fontSize:"18px",fontWeight:"600",cursor:"pointer"},children:ke},ke))})]}),R.jsxs("div",{style:{display:"flex",gap:"12px"},children:[R.jsx("button",{type:"button",onClick:()=>H(!1),style:{flex:1,padding:"16px",background:"white",color:"#6b7280",border:"2px solid #e5e7eb",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Batal"}),R.jsx("button",{type:"button",onClick:be,style:{flex:1,padding:"16px",background:q&&A&&k?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"#cbd5e0",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:q&&A&&k?"pointer":"not-allowed"},children:"OK"})]})]})}),_&&R.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",overflow:"auto"},children:R.jsxs("div",{style:{background:"white",borderRadius:"20px",width:"100%",maxWidth:"900px",maxHeight:"90vh",overflow:"auto",position:"relative"},children:[R.jsxs("div",{style:{position:"sticky",top:0,background:"white",padding:"20px",borderBottom:"2px solid #e5e7eb",display:"flex",justifyContent:"space-between",alignItems:"center",zIndex:10},children:[R.jsx("h2",{style:{fontSize:"22px",fontWeight:"700",color:"#065f46",margin:0},children:"Preview Foto"}),R.jsx("button",{onClick:()=>E(!1),style:{background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"20px",fontWeight:"bold"},children:R.jsx(ii,{size:24})})]}),R.jsx("div",{style:{padding:"20px"},children:U?R.jsx("div",{style:{textAlign:"center",padding:"60px",color:"#10b981"},children:R.jsx("p",{style:{fontSize:"18px",fontWeight:"600"},children:" Loading foto..."})}):Object.keys(D).length===0?R.jsx("div",{style:{textAlign:"center",padding:"60px",color:"#6b7280"},children:R.jsx("p",{style:{fontSize:"16px"},children:"Tidak ada foto"})}):R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"20px"},children:cs.map(ke=>{const je=D[ke.key];return je?R.jsxs("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"16px",border:"2px solid #e5e7eb"},children:[R.jsx("h3",{style:{fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"12px"},children:ke.label}),R.jsx("div",{style:{width:"100%",aspectRatio:"4/3",borderRadius:"8px",overflow:"hidden",background:"#e5e7eb"},children:R.jsx("img",{src:je,alt:ke.label,style:{width:"100%",height:"100%",objectFit:"cover"},onError:Ue=>{const Le=Ue.target;Le.style.display="none";const Ve=Le.parentElement;Ve&&(Ve.innerHTML='<div style="display:flex;align-items:center;justify-center;height:100%;color:#9ca3af;font-size:14px;">Failed to load</div>')}})})]},ke.key):null})})})]})})]})},Z2=()=>{var Je;const r=On(),e=Li().state,[n]=me.useState((e==null?void 0:e.plant)||"Plant-1"),[l]=me.useState((e==null?void 0:e.line)||"Line 1"),[i]=me.useState((e==null?void 0:e.regu)||"A"),[s]=me.useState((e==null?void 0:e.shift)||"1"),[u,a]=me.useState((e==null?void 0:e.tanggal)||new Date().toISOString().split("T")[0]),[o,c]=me.useState(""),[f,h]=me.useState(""),[d,y]=me.useState(""),[b,m]=me.useState(""),[g,p]=me.useState(!1),[v,C]=me.useState(!1),[j,L]=me.useState({}),[$,M]=me.useState(""),[z,H]=me.useState([]),[q,B]=me.useState([]),[A,P]=me.useState(null),[k,w]=me.useState(new Set),[S,x]=me.useState(new Set),[_,E]=me.useState(new Set),[D,N]=me.useState(!1),[U,V]=me.useState(!1),[J,F]=me.useState(!1),[Y,O]=me.useState(""),[T,G]=me.useState(!1),[Q,ne]=me.useState(""),[Z,oe]=me.useState(null),[ue,te]=me.useState(!1),[se,pe]=me.useState({}),[ie,fe]=me.useState(!1),[be,re]=me.useState({}),ve=me.useRef(null),_e=me.useRef(new f1),Re=me.useRef({});me.useEffect(()=>{e!=null&&e.sessionId&&Ge()},[]),me.useEffect(()=>{Ge()},[u]),me.useEffect(()=>{Object.keys(j).forEach(Ce=>{bt(Ce,j[Ce])})},[j]),me.useEffect(()=>{d&&o&&(j[d]?bt(d,j[d]):Ft(d))},[d]);const Ge=async()=>{H([]),B([]),c(""),h(""),L({}),p(!1),C(!1),re({}),w(new Set),x(new Set),E(new Set);const Ce=await tm({plant:n,startDate:u,endDate:u,line:l,regu:i,shift:s});if(Ce.length===0)return;const We={};Ce.forEach(Ke=>{const st=String(Ke.pengamatan_ke||""),we=Ke.flavor||"",Ae=Ke.mesin||"";if(!st||!we||!Ae)return;const ze=`${st}_${we}`;We[ze]||(We[ze]={number:st,flavor:we,mesins:[],timestamp:Ke.pengamatan_timestamp||"",mesinFotos:{}}),We[ze].mesins.includes(Ae)||We[ze].mesins.push(Ae),We[ze].mesinFotos[Ae]||(We[ze].mesinFotos[Ae]={})});const De=Object.values(We).map(Ke=>({...Ke,mesins:et(Ke.mesins)}));H(De),B(De.map(Ke=>Ke.number));const Fe=new Set(De.map(Ke=>`${Ke.number}_${Ke.flavor}`));E(Fe),De.forEach(Ke=>{Ke.mesins.forEach(async st=>{await pt(Ke.number,Ke.flavor,st)})})},Ze=Ce=>{if(c(Ce),Ce){const We=z.find(De=>De.number===Ce);We?(h(We.flavor),C(!0)):(C(!1),f&&v&&h(""))}else C(!1)},Ye=()=>z.some(Ce=>Ce.number===o),et=Ce=>[...Ce].sort((We,De)=>{const Fe=parseInt(We.replace(/\D/g,""))||0,Ke=parseInt(De.replace(/\D/g,""))||0;return Fe-Ke}),ke=()=>{if(!o||!f){alert("Mohon isi Pengamatan dan Flavor terlebih dahulu!");return}if(Ye()){alert("Pengamatan ini sudah tersimpan! Gunakan tombol Edit di card untuk mengubah data.");return}const Ce=new Date().toISOString();m(Ce),p(!0),y("")},je=async(Ce,We)=>{M(Ce),O(We),F(!0),ne(""),G(!1),setTimeout(async()=>{ve.current&&(await _e.current.startCamera(ve.current)||ne("Gagal mengakses kamera. Pastikan izin kamera telah diberikan."))},100)},Ue=async()=>{if(!T){G(!0),ne("");try{const Ce=await _e.current.capturePhoto();Ce&&$?(L(We=>{const De={...We,[$]:{...We[$]||{},[Y]:Ce}};return bt($,De[$]),De}),Le()):ne("Gagal mengambil foto. Silakan coba lagi.")}catch(Ce){console.error("Error taking picture:",Ce),ne("Gagal mengambil foto. Silakan coba lagi.")}finally{G(!1)}}},Le=()=>{_e.current.stopCamera(),F(!1),O(""),M(""),ne(""),G(!1)},Ve=(Ce,We)=>{var Fe;const De=`${Ce}_${We}`;(Fe=Re.current[De])==null||Fe.click()},He=async(Ce,We,De)=>{var Ke;const Fe=(Ke=De.target.files)==null?void 0:Ke[0];if(Fe){try{const st=await _e.current.processUploadedImage(Fe);st?L(we=>{const Ae={...we,[Ce]:{...we[Ce]||{},[We]:st}};return bt(Ce,Ae[Ce]),Ae}):alert("Gagal memproses gambar")}catch(st){console.error("Error processing uploaded image:",st),alert("Gagal memproses gambar")}De.target&&(De.target.value="")}},ot=()=>{if(!o||!f||!b){alert("Data pengamatan belum lengkap!");return}const Ce=Object.keys(j).filter(De=>{const Fe=j[De];return Fe&&Object.values(Fe).some(Boolean)});if(Ce.length===0){alert("Minimal 1 mesin harus memiliki foto!");return}const We=`${o}_${f}`;if(w(De=>new Set(De).add(We)),A!==null){const De={};Ce.forEach(Ke=>{De[Ke]=JSON.parse(JSON.stringify(j[Ke]||{}))});const Fe={number:o,flavor:f,mesins:et(Ce),timestamp:b,mesinFotos:De};H(Ke=>{const st=[...Ke];return st[A]=Fe,st}),P(null),alert(`Pengamatan ${o} berhasil diupdate!`)}else{const De=z.findIndex(Fe=>Fe.number===o&&Fe.flavor===f);if(De!==-1){const Fe=z[De],Ke=et(Array.from(new Set([...Fe.mesins,...Ce]))),st={...Fe.mesinFotos};Ce.forEach(we=>{st[we]=JSON.parse(JSON.stringify(j[we]||{}))}),console.log("Merging mesin data:",{existing:Fe.mesins,new:Ce,result:Ke}),H(we=>{const Ae=[...we];return Ae[De]={...Fe,mesins:Ke,mesinFotos:st},console.log("Updated pengamatans:",Ae[De]),Ae}),alert(`Data mesin berhasil ditambahkan ke Pengamatan ${o} Flavor ${f}!`)}else{const Fe={number:o,flavor:f,mesins:et(Ce),timestamp:b,mesinFotos:JSON.parse(JSON.stringify(j))};H(Ke=>[...Ke,Fe]),B(Ke=>[...Ke,o]),alert(`Pengamatan ${o} Flavor ${f} berhasil disimpan!`)}}c(""),h(""),y(""),m(""),p(!1),L({}),C(!1)},ct=()=>{try{const Ce=localStorage.getItem("currentUser");if(Ce){const We=JSON.parse(Ce);return We.full_name||We.username||"Unknown"}}catch(Ce){console.error("Error getting current user:",Ce)}return"Unknown"},bt=(Ce,We)=>{const De=Object.values(We||{}).filter(Boolean).length;re(Fe=>({...Fe,[Ce]:De}))},Lt=Ce=>{const We=be[Ce]||0,De=cs.length;return`${We}/${De} foto`},pt=async(Ce,We,De)=>{try{const Fe=await Wu({plant:n,tanggal:u,line:l,regu:i,shift:s,pengamatan_ke:parseInt(Ce),mesin:De});if(Fe){let Ke=0;cs.forEach(st=>{Fe[st.key]&&Ke++}),Ke>0&&re(st=>({...st,[De]:Ke}))}}catch(Fe){console.error("[COUNT] Error loading photo count for mesin:",Fe)}},Ft=async Ce=>{if(!(!o||!f))try{const We=await Wu({plant:n,tanggal:u,line:l,regu:i,shift:s,pengamatan_ke:parseInt(o),mesin:Ce});if(We){const De={};let Fe=0;cs.forEach(Ke=>{const st=We[Ke.key];st&&(De[Ke.key]=st,Fe++)}),L(Ke=>({...Ke,[Ce]:De})),re(Ke=>({...Ke,[Ce]:Fe}))}}catch(We){console.error("[FETCH] Error fetching existing photos for mesin:",We)}},Bt=async(Ce,We)=>{fe(!0),te(!0),pe({});const De={plant:n,tanggal:u,line:l,regu:i,shift:s,pengamatan_ke:parseInt(Ce.number),mesin:We};console.log("[PREVIEW] Fetching photos with filters:",De);try{const Fe=await Wu(De);if(console.log("[PREVIEW] Photos received:",Fe),Fe){const Ke={};cs.forEach(st=>{const we=Fe[st.key];we&&(console.log(`[PREVIEW] Found photo for ${st.key}`),Ke[st.key]=we)}),console.log("[PREVIEW] Total photos found:",Object.keys(Ke).length),pe(Ke),Object.keys(Ke).length===0&&alert("Tidak ada foto yang tersimpan untuk mesin ini")}else console.log("[PREVIEW] No photos returned from query"),alert("Foto tidak ditemukan atau belum diupload")}catch(Fe){console.error("[PREVIEW] Error loading photos:",Fe),alert("Gagal memuat foto")}finally{fe(!1)}},xt=async Ce=>{const We=z[Ce];V(!0),c(We.number),h(We.flavor),m(We.timestamp),P(Ce),p(!0),y(""),C(!0);try{const De={};for(const Fe of We.mesins)try{const Ke=await Wu({plant:n,tanggal:u,line:l,regu:i,shift:s,pengamatan_ke:parseInt(We.number),mesin:Fe});if(Ke){const st={};let we=0;cs.forEach(Ae=>{const ze=Ke[Ae.key];ze&&(st[Ae.key]=ze,we++)}),De[Fe]=st,re(Ae=>({...Ae,[Fe]:we}))}}catch(Ke){console.error("[EDIT] Error loading photos for mesin:",Fe,Ke),De[Fe]={}}L(De)}finally{V(!1)}},vt=Ce=>{const We=z[Ce];if(confirm(`Hapus Pengamatan ${We.number}: ${We.flavor}?`)){const De=`${We.number}_${We.flavor}`;_.has(De)&&x(st=>new Set(st).add(De)),w(st=>{const we=new Set(st);return we.delete(De),we}),H(st=>st.filter((we,Ae)=>Ae!==Ce));const Ke=z.filter((st,we)=>we!==Ce).map(st=>st.number);B(Ke)}},Me=async()=>{if(z.length===0){alert("Belum ada pengamatan yang disimpan!");return}if(!(e!=null&&e.sessionId)&&(await tm({startDate:u,endDate:u,line:l,regu:i,shift:s})).length>0){alert(`Data untuk Line ${l}, Regu ${i}, Shift ${s} pada tanggal ${u} sudah ada!

Silakan edit data yang sudah ada atau pilih kombinasi yang berbeda.`),N(!1);return}N(!0);try{const Ce=l.replace("Line ",""),We=new Date(u),De=String(We.getDate()).padStart(2,"0"),Fe=String(We.getMonth()+1).padStart(2,"0"),Ke=String(We.getFullYear()).slice(-2),st=`${De}${Fe}${Ke}`;console.log("Saving all pengamatans:",z),console.log("Modified pengamatan keys:",Array.from(k)),console.log("Deleted pengamatan keys:",Array.from(S));for(const we of S){const[Ae,ze]=we.split("_"),lt=`${ze}${Ce}${i}${s}${st}P${Ae}`;console.log(`Deleting removed pengamatan ${Ae}: ${ze} with id_unik: ${lt}`);const Et=await K2(lt);Et.success||console.error(`Failed to delete removed records: ${Et.error}`)}for(const we of z){const Ae=`${we.number}_${we.flavor}`;if(!k.has(Ae)){console.log(`Skipping unmodified pengamatan ${we.number}: ${we.flavor}`);continue}const lt=`${we.flavor}${Ce}${i}${s}${st}P${we.number}`;console.log(`Processing modified pengamatan ${we.number} ${we.flavor}:`,{mesins:we.mesins,mesinFotos:Object.keys(we.mesinFotos)}),console.log(`Deleting old records with id_unik: ${lt}`);const Et=await K2(lt);Et.success||console.error(`Failed to delete old records: ${Et.error}`);const ht=et(we.mesins);for(const jt of ht){const Ct={id_unik:lt,plant:n,tanggal:u,line:l,regu:i,shift:s,pengamatan_ke:parseInt(we.number),flavor:we.flavor,mesin:jt,pengamatan_timestamp:we.timestamp,created_by:ct(),is_complete:!0},_t=we.mesinFotos[jt]||{};cs.forEach(Nt=>{Ct[Nt.key]=_t[Nt.key]||null}),console.log(`Inserting record for mesin ${jt}:`,Ct);const It=await CS(Ct,!0);if(!It.success){alert(`Gagal menyimpan data: ${It.error}`),N(!1);return}console.log(`Successfully inserted mesin ${jt}`)}}alert("Semua data berhasil disimpan!"),r("/kliping-records",{state:{plant:n}})}catch(Ce){console.error("Error saving records:",Ce),alert("Gagal menyimpan data")}finally{N(!1)}};return J?R.jsxs("div",{className:"camera-container",children:[Q&&R.jsx("div",{className:"camera-error",children:Q}),R.jsx("div",{style:{position:"absolute",top:"1rem",left:"50%",transform:"translateX(-50%)",color:"white",fontSize:"1.125rem",fontWeight:"600",zIndex:10},children:((Je=cs.find(Ce=>Ce.key===Y))==null?void 0:Je.label)||"Ambil Foto"}),R.jsx("video",{ref:ve,className:"camera-video",autoPlay:!0,playsInline:!0,muted:!0}),R.jsxs("div",{className:"camera-overlay",children:[R.jsx("button",{className:"capture-button",onClick:Ue,disabled:T||!!Q,children:R.jsx("div",{className:`capture-button-inner ${T?"capturing":""}`})}),T&&R.jsx("div",{style:{color:"white",marginTop:"0.5rem"},children:"Mengambil foto..."}),R.jsx("button",{className:"cancel-button",onClick:Le,children:"Batal"})]})]}):R.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",padding:"20px"},children:[R.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[R.jsx("button",{onClick:()=>r("/kliping-records",{state:{plant:n}}),style:{background:"white",border:"none",borderRadius:"16px",padding:"16px",marginBottom:"20px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:R.jsx(Oi,{size:24,color:"#10b981"})}),R.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"32px",boxShadow:"0 8px 32px rgba(0,0,0,0.1)"},children:[R.jsx("h1",{style:{fontSize:"28px",fontWeight:"700",textAlign:"center",marginBottom:"8px",color:"#1a202c"},children:"Create Kliping"}),R.jsx("p",{style:{textAlign:"center",color:"#718096",marginBottom:"24px"},children:n}),R.jsxs("div",{style:{marginBottom:"20px"},children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#2d3748"},children:"Tanggal"}),R.jsx("input",{type:"date",value:u,onChange:Ce=>a(Ce.target.value),style:{width:"100%",padding:"14px",borderRadius:"12px",border:"2px solid #10b981",fontSize:"16px",background:"white"}}),R.jsx("p",{style:{fontSize:"12px",color:"#6b7280",marginTop:"6px",fontStyle:"italic"},children:" Ubah tanggal untuk melihat/edit data tanggal lain"})]}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"12px",marginBottom:"20px"},children:[R.jsxs("div",{children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#2d3748",fontSize:"14px"},children:"Line"}),R.jsx("div",{style:{padding:"14px",borderRadius:"12px",background:"#d1fae5",textAlign:"center",fontWeight:"600",color:"#065f46"},children:l})]}),R.jsxs("div",{children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#2d3748",fontSize:"14px"},children:"Regu"}),R.jsx("div",{style:{padding:"14px",borderRadius:"12px",background:"#d1fae5",textAlign:"center",fontWeight:"600",color:"#065f46"},children:i})]}),R.jsxs("div",{children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#2d3748",fontSize:"14px"},children:"Shift"}),R.jsx("div",{style:{padding:"14px",borderRadius:"12px",background:"#d1fae5",textAlign:"center",fontWeight:"600",color:"#065f46"},children:s})]})]}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[R.jsxs("div",{children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#2d3748",fontSize:"14px"},children:"Pengamatan"}),R.jsxs("select",{value:o,onChange:Ce=>Ze(Ce.target.value),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #cbd5e0",fontSize:"14px",background:"white"},children:[R.jsx("option",{value:"",children:"Pilih"}),R.jsxs("option",{value:"1",children:["1 ",q.includes("1")?"":""]}),R.jsxs("option",{value:"2",children:["2 ",q.includes("2")?"":""]}),R.jsxs("option",{value:"3",children:["3 ",q.includes("3")?"":""]}),R.jsxs("option",{value:"4",children:["4 ",q.includes("4")?"":""]})]})]}),R.jsxs("div",{children:[R.jsxs("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#2d3748",fontSize:"14px"},children:["Flavor ",v&&R.jsx("span",{style:{fontSize:"12px",color:"#10b981"},children:"(Auto-filled)"})]}),R.jsx("input",{type:"text",value:f,onChange:Ce=>h(Ce.target.value),placeholder:"Masukkan flavor",disabled:v,style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #cbd5e0",fontSize:"14px",background:v?"#f3f4f6":"white",cursor:v?"not-allowed":"text",color:v?"#6b7280":"#2d3748"}})]})]}),Ye()&&R.jsxs("div",{style:{padding:"12px",background:"#fef3c7",border:"1px solid #fbbf24",borderRadius:"8px",marginBottom:"12px",fontSize:"13px",color:"#92400e"},children:[" Pengamatan ",o," sudah tersimpan. Gunakan tombol ",R.jsx("strong",{children:"Edit"})," di card untuk mengubah data."]}),R.jsx("p",{style:{fontSize:"13px",color:"#718096",fontStyle:"italic",marginBottom:"12px"},children:"Generate untuk mengambil foto"}),R.jsx("button",{type:"button",onClick:ke,disabled:!o||!f||Ye(),style:{width:"100%",padding:"14px",background:!o||!f||Ye()?"#cbd5e0":"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:!o||!f||Ye()?"not-allowed":"pointer",marginBottom:"20px"},children:Ye()?"Pengamatan Sudah Tersimpan":"Generate"}),g&&R.jsxs(R.Fragment,{children:[R.jsxs("div",{style:{background:"#f0fdf4",padding:"16px",borderRadius:"12px",marginBottom:"20px",border:"2px solid #bbf7d0"},children:[R.jsx("p",{style:{fontSize:"14px",fontWeight:"600",color:"#16a34a",marginBottom:"12px"},children:"Pilih Mesin untuk Input/Lihat Foto:"}),U&&R.jsx("div",{style:{textAlign:"center",padding:"12px",background:"#f0fdf4",borderRadius:"8px",marginBottom:"12px"},children:R.jsx("p",{style:{fontSize:"13px",color:"#16a34a"},children:" Loading foto..."})}),R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"8px"},children:ES.map(Ce=>{const We=d===Ce,De=Lt(Ce);return R.jsxs("button",{type:"button",onClick:()=>y(Ce),style:{padding:"12px",background:We?"linear-gradient(135deg, #10b981 0%, #059669 100%)":"white",color:We?"white":"#2d3748",border:We?"none":"2px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.2s",display:"flex",flexDirection:"column",alignItems:"center",gap:"4px"},children:[R.jsx("span",{children:Ce}),R.jsx("span",{style:{fontSize:"12px",opacity:.9},children:De})]},Ce)})})]}),d&&R.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"12px",marginBottom:"20px"},children:[R.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#2d3748",marginBottom:"16px",display:"flex",alignItems:"center",gap:"8px"},children:[" Input Foto: ",d]}),cs.map(Ce=>{const De=(j[d]||{})[Ce.key]||"";return R.jsxs("div",{style:{marginBottom:"24px"},children:[R.jsx("h4",{style:{fontSize:"16px",fontWeight:"600",color:"#2d3748",marginBottom:"4px"},children:Ce.label}),R.jsx("p",{style:{fontSize:"14px",color:"#718096",marginBottom:"12px"},children:Ce.description}),R.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"12px"},children:[R.jsxs("button",{type:"button",onClick:()=>je(d,Ce.key),style:{flex:1,padding:"14px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[R.jsx(ma,{size:18}),"Ambil Foto"]}),R.jsxs("button",{type:"button",onClick:()=>Ve(d,Ce.key),style:{flex:1,padding:"14px",background:"white",border:"2px dashed #48bb78",borderRadius:"12px",color:"#48bb78",fontSize:"15px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[R.jsx(jo,{size:18}),"Upload Foto"]}),R.jsx("input",{ref:Fe=>Re.current[`${d}_${Ce.key}`]=Fe,type:"file",accept:"image/*",onChange:Fe=>He(d,Ce.key,Fe),style:{display:"none"}})]}),De&&R.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"12px"},children:[R.jsxs("button",{type:"button",onClick:()=>oe(De),style:{flex:1,padding:"12px",background:"#f0fdf4",border:"1px solid #bbf7d0",borderRadius:"8px",color:"#16a34a",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[R.jsx(ys,{size:16}),"Preview Foto"]}),R.jsxs("button",{type:"button",onClick:()=>{confirm("Hapus foto ini?")&&L(Fe=>{const Ke={...Fe,[d]:{...Fe[d]||{},[Ce.key]:""}};return bt(d,Ke[d]),Ke})},style:{flex:1,padding:"12px",background:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",color:"#dc2626",fontSize:"14px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[R.jsx(Mn,{size:16}),"Hapus Foto"]})]})]},Ce.key)})]}),R.jsxs("button",{type:"button",onClick:ot,style:{padding:"16px",background:"#10b981",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:"pointer",marginTop:"20px",width:"100%"},children:[" ",A!==null?"Update":"Simpan"," Pengamatan Ini"]})]}),z.length>0&&R.jsxs("div",{style:{marginTop:"32px",marginBottom:"24px",padding:"20px",background:"#f0fdf4",borderRadius:"12px",border:"2px solid #bbf7d0"},children:[R.jsxs("h3",{style:{fontSize:"16px",fontWeight:"600",color:"#065f46",marginBottom:"16px"},children:[" Pengamatan Tersimpan (",z.length,")"]}),z.map((Ce,We)=>R.jsxs("div",{style:{background:"white",padding:"12px",borderRadius:"8px",marginBottom:"8px",border:"1px solid #bbf7d0",display:"flex",justifyContent:"space-between",alignItems:"center",gap:"12px"},children:[R.jsxs("div",{style:{flex:1},children:[R.jsxs("p",{style:{fontSize:"14px",color:"#065f46",fontWeight:"600"},children:["Pengamatan ",Ce.number,": ",Ce.flavor]}),Ce.mesins.length>0&&R.jsxs("div",{style:{marginTop:"8px"},children:[R.jsx("p",{style:{fontSize:"12px",color:"#047857",marginBottom:"6px",fontWeight:"500"},children:"mesin:"}),R.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"6px"},children:Ce.mesins.map((De,Fe)=>R.jsxs("button",{onClick:()=>Bt(Ce,De),style:{padding:"4px 10px",background:"#ecfdf5",border:"1px solid #10b981",borderRadius:"6px",color:"#065f46",fontSize:"12px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",transition:"all 0.2s"},onMouseEnter:Ke=>{Ke.currentTarget.style.background="#10b981",Ke.currentTarget.style.color="white"},onMouseLeave:Ke=>{Ke.currentTarget.style.background="#ecfdf5",Ke.currentTarget.style.color="#065f46"},children:[R.jsx(ys,{size:12}),De]},Fe))})]}),R.jsx("p",{style:{fontSize:"11px",color:"#6b7280",marginTop:"8px",fontStyle:"italic"},children:" Untuk menambah mesin, pilih pengamatan & flavor yang sama lalu pilih mesin baru"})]}),R.jsxs("div",{style:{display:"flex",gap:"8px"},children:[R.jsxs("button",{onClick:()=>xt(We),disabled:U,style:{padding:"8px 12px",background:U?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:U?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",fontWeight:"500",opacity:U?.7:1},children:[R.jsx(tc,{size:14}),U?"Loading...":"Edit"]}),R.jsxs("button",{onClick:()=>vt(We),style:{padding:"8px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",display:"flex",alignItems:"center",gap:"4px",fontSize:"12px",fontWeight:"500"},children:[R.jsx(ii,{size:14}),"Hapus"]})]})]},We))]}),z.length>0&&R.jsx("button",{type:"button",onClick:Me,disabled:D,style:{padding:"16px",background:D?"#cbd5e0":"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"600",cursor:D?"not-allowed":"pointer",width:"100%",marginTop:"16px"},children:D?"Menyimpan...":" Simpan Semua"})]})]}),Z&&R.jsx("div",{onClick:()=>oe(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"20px"},children:R.jsxs("div",{style:{maxWidth:"90%",maxHeight:"90%",position:"relative"},children:[R.jsx("img",{src:Z,alt:"Preview",style:{maxWidth:"100%",maxHeight:"90vh",borderRadius:"8px"}}),R.jsx("button",{onClick:()=>oe(null),style:{position:"absolute",top:"-40px",right:"0",background:"white",color:"#2d3748",border:"none",borderRadius:"50%",width:"32px",height:"32px",fontSize:"20px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:""})]})}),ue&&R.jsx("div",{onClick:()=>te(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.95)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:3e3,padding:"20px",overflow:"auto"},children:R.jsxs("div",{onClick:Ce=>Ce.stopPropagation(),style:{background:"white",borderRadius:"16px",padding:"24px",maxWidth:"900px",width:"100%",maxHeight:"90vh",overflow:"auto",position:"relative"},children:[R.jsx("button",{onClick:()=>te(!1),style:{position:"absolute",top:"16px",right:"16px",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",fontSize:"24px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",zIndex:10},children:""}),R.jsx("h2",{style:{fontSize:"20px",fontWeight:"700",color:"#065f46",marginBottom:"20px"},children:"Preview Foto"}),ie?R.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:"Loading foto..."}):Object.keys(se).length===0?R.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#6b7280"},children:"Tidak ada foto tersedia"}):R.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"16px"},children:cs.map(Ce=>{const We=se[Ce.key];return We?R.jsxs("div",{style:{background:"#f9fafb",borderRadius:"12px",padding:"12px",border:"1px solid #e5e7eb"},children:[R.jsx("p",{style:{fontSize:"13px",fontWeight:"600",color:"#374151",marginBottom:"8px"},children:Ce.label}),R.jsx("img",{src:We,alt:Ce.label,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"8px",cursor:"pointer"},onClick:()=>oe(We)})]},Ce.key):null})})]})})]})},OS=()=>{const r=On(),[t,e]=me.useState([]),[n,l]=me.useState(!0);me.useEffect(()=>{i()},[]);const i=async()=>{try{const u=tr.getCurrentUser(),a=[{id:1,name:"Plant-1"},{id:2,name:"Plant-2"},{id:3,name:"Plant-3"}];if(u!=null&&u.allowed_plants&&u.allowed_plants.length>0){const o=a.filter(c=>u.allowed_plants.includes(c.name));e(o)}else e(a)}catch(u){console.error("Error loading plants:",u)}finally{l(!1)}},s=u=>{r("/monitoring-records",{state:{selectedPlant:u}})};return n?R.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:R.jsxs("div",{style:{textAlign:"center"},children:[R.jsx("div",{style:{width:"64px",height:"64px",border:"4px solid rgba(255,255,255,0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),R.jsx("p",{style:{marginTop:"16px",color:"white",fontSize:"16px"},children:"Memuat data..."})]})}):R.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",padding:"20px"},children:[R.jsx("button",{onClick:()=>r("/menu"),style:{background:"white",border:"none",borderRadius:"16px",padding:"12px",marginBottom:"20px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:R.jsx(Oi,{size:24,color:"#f97316"})}),R.jsx("div",{style:{maxWidth:"600px",margin:"0 auto"},children:R.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"48px 32px",boxShadow:"0 10px 40px rgba(0,0,0,0.1)"},children:[R.jsx("h1",{style:{fontSize:"36px",fontWeight:"700",color:"#1a202c",marginBottom:"8px",textAlign:"center"},children:"Pilih Plant"}),R.jsx("p",{style:{fontSize:"16px",color:"#718096",marginBottom:"40px",textAlign:"center"},children:"Pilih plant yang mau diinput"}),R.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:t.map(u=>R.jsx("button",{onClick:()=>s(u.name),style:{width:"100%",background:"white",border:"2px solid #e5e7eb",borderRadius:"16px",padding:"24px",fontSize:"24px",fontWeight:"600",color:"#1f2937",cursor:"pointer",transition:"all 0.2s",boxShadow:"0 2px 4px rgba(0,0,0,0.05)"},onMouseEnter:a=>{a.currentTarget.style.borderColor="#f97316",a.currentTarget.style.boxShadow="0 8px 16px rgba(249,115,22,0.2)",a.currentTarget.style.transform="translateY(-2px)"},onMouseLeave:a=>{a.currentTarget.style.borderColor="#e5e7eb",a.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.05)",a.currentTarget.style.transform="translateY(0)"},children:u.name},u.id))})]})})]})},FS=["Silo","Alkali Ingredient","Mixer","Roll Press","Steambox","Cutter","Cutter & Folder","Fryer","Dryer","Cooling Box","Packing"],BS=async(r,t)=>{try{let e=At.from("monitoring_records").select("id, plant, tanggal, line, area, data_number, keterangan, status, created_by, created_at, updated_at").eq("plant",r).order("tanggal",{ascending:!1}).order("data_number",{ascending:!0});t!=null&&t.startDate,t!=null&&t.endDate,t!=null&&t.lines&&t.lines.length>0;const{data:n,error:l}=await e;if(l)throw l;return(n||[]).map(i=>({...i,foto_url:null}))}catch(e){throw console.error("Error fetching monitoring records:",e),e}},Hu=async(r,t,e)=>{try{const{data:n,error:l}=await At.from("monitoring_records").select("*").eq("plant",r).eq("tanggal",t).eq("line",e).order("data_number",{ascending:!0});if(l)throw l;return n||[]}catch(n){throw console.error("Error fetching monitoring records with photos:",n),n}},Q2=async r=>{try{const{data:t,error:e}=await At.from("monitoring_records").insert([r]).select().single();if(e)throw e;return t}catch(t){throw console.error("Error saving monitoring record:",t),t}},eb=async(r,t)=>{try{const{data:e,error:n}=await At.from("monitoring_records").update({...t,updated_at:new Date().toISOString()}).eq("id",r).select().single();if(n)throw n;return e}catch(e){throw console.error("Error updating monitoring record:",e),e}},DS=async r=>{try{const{data:t}=await At.from("monitoring_records").select("*").eq("id",r).single();if(t){const n=localStorage.getItem("currentUser");let l="anonymous";if(n)try{const i=JSON.parse(n);l=i.full_name||i.username||"anonymous"}catch(i){console.error("Failed to parse currentUser:",i)}await Bc({table_name:"monitoring_records",record_id:r,affected_count:1,deleted_by:l,plant:t.plant,additional_info:{line:t.line,tanggal:t.tanggal}})}const{error:e}=await At.from("monitoring_records").delete().eq("id",r);if(e)throw e}catch(t){throw console.error("Error deleting monitoring record:",t),t}},zS=async(r,t,e)=>{try{const{data:n}=await At.from("monitoring_records").select("*").eq("plant",r).eq("tanggal",t).eq("line",e);if(n&&n.length>0){const i=localStorage.getItem("currentUser");let s="anonymous";if(i)try{const u=JSON.parse(i);s=u.full_name||u.username||"anonymous"}catch(u){console.error("Failed to parse currentUser:",u)}await Bc({table_name:"monitoring_records",record_id:`${r}_${t}_${e}`,affected_count:n.length,deleted_by:s,action:"BULK_DELETE_SESSION",plant:r,additional_info:{line:e,tanggal:t}})}const{error:l}=await At.from("monitoring_records").delete().eq("plant",r).eq("tanggal",t).eq("line",e);if(l)throw l}catch(n){throw console.error("Error deleting monitoring session:",n),n}},US=async r=>{var t;try{const{data:e}=await At.from("monitoring_records").select("*").in("id",r);if(e&&e.length>0){const l=localStorage.getItem("currentUser");let i="anonymous";if(l)try{const s=JSON.parse(l);i=s.full_name||s.username||"anonymous"}catch(s){console.error("Failed to parse currentUser:",s)}await Bc({table_name:"monitoring_records",record_id:r.join(","),affected_count:e.length,deleted_by:i,action:"BULK_DELETE_MULTIPLE",plant:(t=e[0])==null?void 0:t.plant,additional_info:{ids:r}})}const{error:n}=await At.from("monitoring_records").delete().in("id",r);if(n)throw n}catch(e){throw console.error("Error deleting multiple monitoring records:",e),e}},O5=r=>new Promise((t,e)=>{const n=new Image;n.crossOrigin="anonymous",n.onload=()=>{const l=document.createElement("canvas"),i=l.getContext("2d");if(!i){e(new Error("Failed to get canvas context"));return}const s=Math.min(n.width,n.height);l.width=s,l.height=s;const u=(n.width-s)/2,a=(n.height-s)/2;i.drawImage(n,u,a,s,s,0,0,s,s),t(l.toDataURL("image/jpeg",.9))},n.onerror=()=>{e(new Error("Failed to load image"))},n.src=r}),$S=async r=>{const t=await O5(r);return(await(await fetch(t)).blob()).arrayBuffer()},Uh=async r=>{if(/[a-zA-Z]/.test(r)&&r.includes(" "))return r;if(/^\d+$/.test(r))try{const{data:t,error:e}=await At.from("app_users").select("full_name").eq("username",r).maybeSingle();if(e)return console.error("Error fetching user name:",e),r;if(t&&t.full_name)return t.full_name}catch(t){console.error("Error fetching user name:",t)}return r},qS=async(r,t,e)=>{var n,l;if(r.length===0){alert("Tidak ada data untuk diekspor");return}try{const i=new Jl.Workbook,s=i.addWorksheet("Monitoring Data"),u=(n=r[0])!=null&&n.tanggal?new Date(r[0].tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"",a=await Uh(((l=r[0])==null?void 0:l.created_by)||"");let o=1;s.mergeCells(`A${o}:D${o}`);const c=s.getCell(`A${o}`);c.value="LAPORAN PENGAMATAN MONITORING AREA",c.font={bold:!0,size:14},c.alignment={horizontal:"center",vertical:"middle"},o+=2,[["Tanggal",u],["Line",e],["QC Proses",a]].forEach(([v,C])=>{s.getCell(`A${o}`).value=v,s.getCell(`A${o}`).font={bold:!0},s.getCell(`B${o}`).value=`: ${C}`,o++}),o+=1;const h={};r.forEach(v=>{h[v.area]||(h[v.area]=[]),h[v.area].push(v)});const d=Object.keys(h),y=await h1(d);for(const v of y){const C=h[v];s.getCell(`A${o}`).value="Area",s.getCell(`A${o}`).font={bold:!0},s.getCell(`B${o}`).value=`: ${v}`,s.getCell(`B${o}`).font={bold:!0},o+=1,s.getCell(`A${o}`).value="No",s.getCell(`B${o}`).value="Foto",s.getCell(`C${o}`).value="Keterangan";const j=s.getRow(o);j.font={bold:!0},j.alignment={horizontal:"center",vertical:"middle"},j.fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFD3D3D3"}},["A","B","C"].forEach(L=>{s.getCell(`${L}${o}`).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),o++,C.sort((L,$)=>L.data_number-$.data_number);for(let L=0;L<C.length;L++){const $=C[L];if(s.getCell(`A${o}`).value=L+1,s.getCell(`A${o}`).alignment={horizontal:"center",vertical:"middle"},$.foto_url)try{const M=await $S($.foto_url),z=i.addImage({buffer:M,extension:"jpeg"});s.addImage(z,{tl:{col:1,row:o-1},ext:{width:120,height:120}})}catch(M){console.error("Error adding image to Excel:",M),s.getCell(`B${o}`).value="Foto tidak tersedia",s.getCell(`B${o}`).alignment={horizontal:"center",vertical:"middle"}}else s.getCell(`B${o}`).value="Tidak ada foto",s.getCell(`B${o}`).alignment={horizontal:"center",vertical:"middle"};s.getCell(`C${o}`).value=$.keterangan||"",s.getCell(`C${o}`).alignment={vertical:"middle",wrapText:!0},["A","B","C"].forEach(M=>{s.getCell(`${M}${o}`).border={top:{style:"thin"},left:{style:"thin"},bottom:{style:"thin"},right:{style:"thin"}}}),s.getRow(o).height=90,o++}o+=2}s.getColumn("A").width=8,s.getColumn("B").width=20,s.getColumn("C").width=50,s.getColumn("D").width=15;const b=await i.xlsx.writeBuffer(),m=new Blob([b],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),g=window.URL.createObjectURL(m),p=document.createElement("a");p.href=g,p.download=`Laporan_Monitoring_${e}_${new Date().getTime()}.xlsx`,p.click(),window.URL.revokeObjectURL(g),alert("Excel berhasil diekspor")}catch(i){console.error("Error exporting to Excel:",i),alert("Gagal mengekspor ke Excel")}},WS=async(r,t,e)=>{var l,i;if(r.length===0){alert("Tidak ada data untuk diekspor");return}const n=document.createElement("div");n.id="pdf-loading",n.style.cssText=`
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0,0,0,0.8);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 99999;
    color: white;
    font-size: 20px;
    font-weight: bold;
  `,n.innerHTML='Generating PDF...<br><small style="font-size: 14px; font-weight: normal;">Please wait...</small>',document.body.appendChild(n);try{const s=new Dt("p","mm","a4"),u=s.internal.pageSize.getWidth(),a=s.internal.pageSize.getHeight(),o=15;let c=o;const f=(l=r[0])!=null&&l.tanggal?new Date(r[0].tanggal).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"}):"",h=await Uh(((i=r[0])==null?void 0:i.created_by)||"");(()=>{c=o,s.setFontSize(14),s.setFont("helvetica","bold"),s.text("LAPORAN PENGAMATAN MONITORING AREA",u/2,c,{align:"center"}),c+=10,s.setFontSize(10),s.setFont("helvetica","bold"),s.text("Tanggal",o,c),s.setFont("helvetica","normal"),s.text(`: ${f}`,o+25,c),c+=6,s.setFont("helvetica","bold"),s.text("Line",o,c),s.setFont("helvetica","normal"),s.text(`: ${e}`,o+25,c),c+=6,s.setFont("helvetica","bold"),s.text("QC Proses",o,c),s.setFont("helvetica","normal"),s.text(`: ${h}`,o+25,c),c+=10})();const y={};r.forEach(v=>{y[v.area]||(y[v.area]=[]),y[v.area].push(v)});const b=Object.keys(y),m=await h1(b);for(let v=0;v<m.length;v++){const C=m[v],j=y[C];v>0&&(s.addPage(),c=o),s.setFontSize(10),s.setFont("helvetica","bold"),s.text("Area",o,c),s.text(`: ${C}`,o+25,c),c+=8;const L=o,$=u-2*o,M={no:15,foto:60,keterangan:$-75};s.setFillColor(200,200,200),s.rect(L,c,$,8,"F"),s.setDrawColor(0),s.rect(L,c,$,8),s.setFontSize(10),s.setFont("helvetica","bold"),s.text("No",L+M.no/2,c+5,{align:"center"}),s.text("Foto",L+M.no+M.foto/2,c+5,{align:"center"}),s.text("Keterangan",L+M.no+M.foto+5,c+5),s.line(L+M.no,c,L+M.no,c+8),s.line(L+M.no+M.foto,c,L+M.no+M.foto,c+8),c+=8,j.sort((z,H)=>z.data_number-H.data_number);for(let z=0;z<j.length;z++){const H=j[z],q=H.foto_url?45:20;let B=20;s.setFont("helvetica","normal"),s.setFontSize(10);const A=s.splitTextToSize(H.keterangan||"",M.keterangan-10);B=Math.max(20,A.length*5+10);const P=Math.max(q+5,B);if(c+P>a-o&&(s.addPage(),c=o,s.setFontSize(10),s.setFont("helvetica","bold"),s.text("Area",o,c),s.text(`: ${C} (lanjutan)`,o+25,c),c+=8,s.setFillColor(200,200,200),s.rect(L,c,$,8,"F"),s.setDrawColor(0),s.rect(L,c,$,8),s.setFontSize(10),s.setFont("helvetica","bold"),s.text("No",L+M.no/2,c+5,{align:"center"}),s.text("Foto",L+M.no+M.foto/2,c+5,{align:"center"}),s.text("Keterangan",L+M.no+M.foto+5,c+5),s.line(L+M.no,c,L+M.no,c+8),s.line(L+M.no+M.foto,c,L+M.no+M.foto,c+8),c+=8),s.rect(L,c,$,P),s.line(L+M.no,c,L+M.no,c+P),s.line(L+M.no+M.foto,c,L+M.no+M.foto,c+P),s.setFontSize(10),s.setFont("helvetica","normal"),s.text((z+1).toString(),L+M.no/2,c+P/2,{align:"center",baseline:"middle"}),H.foto_url)try{const w=await O5(H.foto_url),S=40,x=L+M.no+(M.foto-S)/2,_=c+(P-S)/2;s.addImage(w,"JPEG",x,_,S,S)}catch(w){console.error("Error adding image:",w),s.setFontSize(8),s.text("Foto tidak tersedia",L+M.no+M.foto/2,c+P/2,{align:"center",baseline:"middle"})}s.setFontSize(10);let k=c+5;A.forEach(w=>{s.text(w,L+M.no+M.foto+5,k),k+=5}),c+=P}}s.setFontSize(8),s.setFont("helvetica","italic");const g=s.internal.pages.length-1;for(let v=1;v<=g;v++)s.setPage(v),s.text(`Halaman ${v} dari ${g}`,u/2,a-10,{align:"center"});s.save(`Laporan_Monitoring_${e}_${new Date().getTime()}.pdf`);const p=document.getElementById("pdf-loading");p&&document.body.removeChild(p),alert("PDF berhasil diekspor")}catch(s){console.error("Error exporting to PDF:",s);const u=document.getElementById("pdf-loading");u&&document.body.removeChild(u),alert("Gagal mengekspor ke PDF")}},HS=async(r,t)=>{if(r.length===0){alert("Tidak ada data untuk diekspor");return}try{const e=new Jl.Workbook,n=e.addWorksheet("All Monitoring Data");n.columns=[{header:"No",key:"no",width:8},{header:"Tanggal",key:"tanggal",width:15},{header:"Plant",key:"plant",width:12},{header:"Line",key:"line",width:12},{header:"Area",key:"area",width:20},{header:"Data Ke",key:"data_number",width:10},{header:"Keterangan",key:"keterangan",width:40},{header:"Status",key:"status",width:12},{header:"Created By",key:"created_by",width:20}],n.getRow(1).font={bold:!0},n.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FFF1AA62"}},r.forEach((a,o)=>{n.addRow({no:o+1,tanggal:new Date(a.tanggal).toLocaleDateString("id-ID"),plant:a.plant,line:a.line,area:a.area,data_number:a.data_number,keterangan:a.keterangan||"",status:a.status,created_by:a.created_by})});const l=await e.xlsx.writeBuffer(),i=new Blob([l],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=window.URL.createObjectURL(i),u=document.createElement("a");u.href=s,u.download=`Monitoring_All_${t}_${new Date().getTime()}.xlsx`,u.click(),window.URL.revokeObjectURL(s),alert("Excel berhasil diekspor")}catch(e){console.error("Error exporting to Excel:",e),alert("Gagal mengekspor ke Excel")}},VS=()=>{var pe;const r=On(),t=Li(),{selectedPlant:e}=t.state||{selectedPlant:"Plant-1"},[n,l]=me.useState([]),[i,s]=me.useState([]),[u,a]=me.useState(!0),[o,c]=me.useState(""),[f,h]=me.useState(""),[d,y]=me.useState([]),[b,m]=me.useState(!1),[g,p]=me.useState(!1),[v,C]=me.useState(""),[j,L]=me.useState(new Date().toISOString().split("T")[0]),[$,M]=me.useState(1),z=10,[H,q]=me.useState(!1),[B,A]=me.useState([]),[P,k]=me.useState(null),[w,S]=me.useState({}),x=((pe=$l[e])==null?void 0:pe.map(ie=>`Line ${ie}`))||[];me.useEffect(()=>{_()},[e]),me.useEffect(()=>{E(),M(1)},[n,o,f,d]),me.useEffect(()=>{const ie=async()=>{const fe=[...new Set(n.map(re=>re.created_by).filter(Boolean))],be={};for(const re of fe){const ve=await Uh(re);be[re]=ve}S(be)};n.length>0&&ie()},[n]);const _=async()=>{a(!0);try{const ie=await BS(e);l(ie)}catch(ie){console.error("Error loading monitoring records:",ie),alert("Gagal memuat data monitoring")}finally{a(!1)}},E=()=>{let ie=[...n];o&&(ie=ie.filter(fe=>fe.tanggal>=o)),f&&(ie=ie.filter(fe=>fe.tanggal<=f)),d.length>0&&(ie=ie.filter(fe=>d.includes(fe.line))),s(ie)},D=ie=>{const fe={};return ie.forEach(be=>{const re=`${be.tanggal}_${be.line}`;fe[re]||(fe[re]=[]),fe[re].push(be)}),Object.values(fe).map(be=>be.sort((re,ve)=>re.data_number-ve.data_number))},N=ie=>{const fe=($-1)*z,be=fe+z;return ie.slice(fe,be)},U=()=>{p(!0)},V=async()=>{if(!j||!v){alert("Harap lengkapi semua field");return}try{const ie=await Hu(e,j,v);if(ie&&ie.length>0){const fe=ie[0],be=await Uh(fe.created_by),re=fe.status==="complete"?"Complete":"Draft";alert(`Data untuk Line ${v} pada tanggal ${new Date(j).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric"})} sudah ada!

Status: ${re}
Dibuat oleh: ${be}

Silakan:
- Edit data yang sudah ada, atau
- Pilih tanggal atau line yang berbeda`);return}}catch(ie){console.error("Error checking existing records:",ie)}p(!1),r("/create-monitoring",{state:{plant:e,tanggal:j,line:v}})},J=async ie=>{if(!ie.length)return;const fe=ie[0];if(window.confirm(`Apakah Anda yakin ingin menghapus semua data monitoring untuk:
Tanggal: ${new Date(fe.tanggal).toLocaleDateString("id-ID")}
Line: ${fe.line}`))try{await zS(fe.plant,fe.tanggal,fe.line),alert("Data berhasil dihapus"),_()}catch(re){console.error("Error deleting session:",re),alert("Gagal menghapus data")}},F=ie=>{if(!ie.length)return;const fe=ie[0];console.log("Navigating to edit with:",{plant:fe.plant,tanggal:fe.tanggal,line:fe.line,editMode:!0}),r("/create-monitoring",{state:{plant:fe.plant,tanggal:fe.tanggal,line:fe.line,editMode:!0}})},Y=async ie=>{if(!ie.length)return;const fe=ie[0],be=await Hu(fe.plant,fe.tanggal,fe.line);A(be),q(!0)},O=async ie=>{if(!ie.length)return;const fe=ie[0],be=await Hu(fe.plant,fe.tanggal,fe.line);await qS(be,fe.plant,fe.line)},T=async ie=>{if(!ie.length)return;const fe=ie[0],be=await Hu(fe.plant,fe.tanggal,fe.line);await WS(be,fe.plant,fe.line)},G=async()=>{if(i.length===0){alert("Tidak ada data untuk di-export");return}await HS(i,e)},Q=async()=>{const ie=tr.getCurrentUser();if(console.log("Current user:",ie),console.log("User permissions:",ie==null?void 0:ie.permissions),console.log("Has delete_monitoring_records?",tr.hasPermission("delete_monitoring_records")),!tr.hasPermission("delete_monitoring_records")){alert("Anda tidak memiliki izin untuk menghapus data monitoring. Silakan logout dan login kembali jika permission baru saja ditambahkan.");return}if(i.length===0){alert("Tidak ada data yang difilter");return}if(window.confirm(`Hapus ${i.length} data yang difilter?`))try{const be=i.map(re=>re.id);await US(be),alert(`${i.length} data berhasil dihapus`),_()}catch(be){console.error("Error deleting filtered records:",be),alert("Gagal menghapus data")}},ne=ie=>[...new Set(ie.map(be=>be.area))],Z=ie=>ie.filter(be=>be.status==="complete").length===ie.length?"complete":"draft",oe=ie=>new Date(ie).toLocaleDateString("id-ID",{day:"2-digit",month:"short",year:"numeric"}),ue=D(i),te=N(ue),se=Math.ceil(ue.length/z);return u?R.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:R.jsxs("div",{style:{textAlign:"center"},children:[R.jsx("div",{style:{width:"64px",height:"64px",border:"4px solid rgba(255,255,255,0.3)",borderTopColor:"white",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),R.jsx("p",{style:{marginTop:"16px",color:"white",fontSize:"16px"},children:"Memuat data..."})]})}):R.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",padding:"20px"},children:[R.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto"},children:[R.jsx("button",{onClick:()=>r("/plant-selection-monitoring"),style:{background:"white",border:"none",borderRadius:"16px",padding:"12px",marginBottom:"20px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:R.jsx(Oi,{size:24,color:"#f97316"})}),R.jsxs("button",{onClick:U,style:{position:"fixed",top:"20px",right:"20px",background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",color:"white",border:"none",borderRadius:"50px",padding:"16px 32px",fontSize:"16px",fontWeight:"600",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.2)",display:"flex",alignItems:"center",gap:"8px",zIndex:100},children:[R.jsx(Tl,{size:20}),"Tambah Data"]}),R.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"32px",boxShadow:"0 10px 40px rgba(0,0,0,0.1)",marginBottom:"24px"},children:[R.jsx("h1",{style:{fontSize:"32px",fontWeight:"700",color:"#1a202c",marginBottom:"8px",textAlign:"center"},children:"Monitoring Records"}),R.jsx("p",{style:{fontSize:"18px",color:"#718096",marginBottom:"32px",textAlign:"left",fontWeight:"600"},children:e}),R.jsxs("div",{style:{marginBottom:"24px"},children:[R.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#4a5568",marginBottom:"8px"},children:"Filter by Date"}),R.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[R.jsxs("div",{style:{flex:1},children:[R.jsx("label",{style:{display:"block",fontSize:"12px",color:"#718096",marginBottom:"4px"},children:"Tanggal Awal"}),R.jsx("input",{type:"date",value:o,onChange:ie=>c(ie.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #fed7aa",fontSize:"14px"}})]}),R.jsxs("div",{style:{flex:1},children:[R.jsx("label",{style:{display:"block",fontSize:"12px",color:"#718096",marginBottom:"4px"},children:"Tanggal Akhir"}),R.jsx("input",{type:"date",value:f,onChange:ie=>h(ie.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #fed7aa",fontSize:"14px"}})]})]})]}),R.jsxs("div",{style:{marginBottom:"24px",position:"relative"},children:[R.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#4a5568",marginBottom:"8px"},children:"Filter by Line"}),R.jsxs("div",{onClick:()=>m(!b),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #fed7aa",fontSize:"14px",cursor:"pointer",backgroundColor:"#fff",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[R.jsx("span",{children:d.length===0?"Semua Line":`${d.length} Line dipilih`}),R.jsx("span",{style:{transform:b?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"},children:""})]}),b&&R.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"#fff",border:"2px solid #fed7aa",borderRadius:"12px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",zIndex:10,boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:x.map(ie=>R.jsxs("div",{onClick:fe=>{fe.stopPropagation(),d.includes(ie)?y(d.filter(be=>be!==ie)):y([...d,ie])},style:{padding:"12px",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px",backgroundColor:d.includes(ie)?"#ffedd5":"transparent"},children:[R.jsx("input",{type:"checkbox",checked:d.includes(ie),onChange:()=>{},style:{cursor:"pointer",width:"16px",height:"16px"}}),R.jsx("span",{children:ie})]},ie))})]}),i.length>0&&tr.hasPermission("delete_monitoring_records")&&R.jsxs("button",{onClick:Q,style:{width:"100%",padding:"14px",background:"#fef2f2",border:"2px solid #fecaca",borderRadius:"12px",color:"#dc2626",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",marginBottom:"24px"},children:[R.jsx(Mn,{size:18}),"Delete All Filtered Records (",i.length,")"]}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[R.jsxs("button",{onClick:G,style:{padding:"14px",background:"white",border:"2px solid #10b981",borderRadius:"12px",color:"#10b981",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[R.jsx(Eo,{size:18}),"Export All Excel"]}),R.jsxs("button",{style:{padding:"14px",background:"white",border:"2px solid #ef4444",borderRadius:"12px",color:"#ef4444",fontSize:"15px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[R.jsx(Eo,{size:18}),"Export All PDF"]})]})]}),te.length===0?R.jsx("div",{style:{background:"white",borderRadius:"24px",padding:"48px 32px",boxShadow:"0 10px 40px rgba(0,0,0,0.1)",textAlign:"center"},children:R.jsx("p",{style:{fontSize:"16px",color:"#718096"},children:"Belum ada data monitoring"})}):R.jsxs(R.Fragment,{children:[R.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginBottom:"24px"},children:te.map((ie,fe)=>{const be=ie[0],re=ne(ie),ve=Z(ie),_e=re.map(Re=>{const Ge=ie.filter(Ze=>Ze.area===Re).length;return{area:Re,count:Ge}});return R.jsxs("div",{style:{background:"white",borderRadius:"16px",padding:"24px",boxShadow:"0 4px 12px rgba(0,0,0,0.08)",borderLeft:"4px solid #f97316"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"16px",flexWrap:"wrap",gap:"8px"},children:[R.jsxs("div",{children:[R.jsx("h3",{style:{fontSize:"20px",fontWeight:"700",color:"#1a202c",marginBottom:"4px"},children:be.line}),R.jsx("p",{style:{fontSize:"14px",color:"#718096"},children:oe(be.tanggal)})]}),R.jsx("span",{style:{padding:"6px 16px",borderRadius:"20px",fontSize:"13px",fontWeight:"600",background:ve==="complete"?"#d1fae5":"#fef3c7",color:ve==="complete"?"#065f46":"#92400e"},children:ve==="complete"?"Complete":"Draft"})]}),R.jsx("div",{style:{marginBottom:"16px"},children:_e.map(({area:Re,count:Ge})=>R.jsxs("div",{style:{fontSize:"14px",color:"#4a5568",marginBottom:"4px"},children:[R.jsxs("span",{style:{fontWeight:"600"},children:["Area: ",Re]})," (",Ge," data tersimpan)"]},Re))}),R.jsxs("p",{style:{fontSize:"12px",color:"#9ca3af",marginBottom:"16px"},children:["Dibuat oleh: ",w[be.created_by]||be.created_by]}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:"8px"},children:[R.jsxs("button",{onClick:()=>Y(ie),style:{padding:"10px",background:"white",border:"2px solid #3b82f6",borderRadius:"8px",color:"#3b82f6",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[R.jsx(ys,{size:16}),"Preview"]}),R.jsxs("button",{onClick:()=>O(ie),style:{padding:"10px",background:"white",border:"2px solid #10b981",borderRadius:"8px",color:"#10b981",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[R.jsx(Eo,{size:16}),"Excel"]}),R.jsxs("button",{onClick:()=>T(ie),style:{padding:"10px",background:"white",border:"2px solid #ef4444",borderRadius:"8px",color:"#ef4444",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[R.jsx(Eo,{size:16}),"PDF"]}),R.jsx("button",{onClick:()=>F(ie),style:{padding:"10px",background:"#f97316",border:"none",borderRadius:"8px",color:"white",fontSize:"13px",fontWeight:"600",cursor:"pointer"},children:"Edit"}),tr.hasPermission("delete_monitoring_records")&&R.jsxs("button",{onClick:()=>J(ie),style:{gridColumn:"1 / -1",padding:"10px",background:"#ef4444",border:"none",borderRadius:"8px",color:"white",fontSize:"13px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"},children:[R.jsx(Mn,{size:16}),"Del"]})]})]},fe)})}),se>1&&R.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",gap:"12px"},children:[R.jsx("button",{onClick:()=>M(ie=>Math.max(1,ie-1)),disabled:$===1,style:{padding:"12px 20px",background:"white",border:"1px solid #e5e7eb",borderRadius:"12px",cursor:$===1?"not-allowed":"pointer",opacity:$===1?.5:1,fontSize:"14px",fontWeight:"600"},children:"Previous"}),R.jsxs("span",{style:{padding:"12px 20px",background:"white",border:"1px solid #e5e7eb",borderRadius:"12px",fontSize:"14px"},children:["Page ",$," of ",se]}),R.jsx("button",{onClick:()=>M(ie=>Math.min(se,ie+1)),disabled:$===se,style:{padding:"12px 20px",background:"white",border:"1px solid #e5e7eb",borderRadius:"12px",cursor:$===se?"not-allowed":"pointer",opacity:$===se?.5:1,fontSize:"14px",fontWeight:"600"},children:"Next"})]})]})]}),g&&R.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px",zIndex:1e3},children:R.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"32px",maxWidth:"500px",width:"100%"},children:[R.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",marginBottom:"24px",textAlign:"center"},children:"Pilih Line dan Tanggal"}),R.jsxs("div",{style:{marginBottom:"20px"},children:[R.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#4a5568",marginBottom:"8px"},children:"Tanggal"}),R.jsx("input",{type:"date",value:j,onChange:ie=>L(ie.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #fed7aa",fontSize:"16px"}})]}),R.jsxs("div",{style:{marginBottom:"20px"},children:[R.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#4a5568",marginBottom:"8px"},children:"Line"}),R.jsxs("select",{value:v,onChange:ie=>C(ie.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"2px solid #fed7aa",fontSize:"16px"},children:[R.jsx("option",{value:"",children:"Pilih Line"}),x.map(ie=>R.jsx("option",{value:ie,children:ie},ie))]})]}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginTop:"24px"},children:[R.jsx("button",{onClick:()=>p(!1),style:{padding:"14px",background:"#f3f4f6",border:"none",borderRadius:"12px",color:"#374151",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"Batal"}),R.jsx("button",{onClick:V,style:{padding:"14px",background:"#f97316",border:"none",borderRadius:"12px",color:"white",fontSize:"16px",fontWeight:"600",cursor:"pointer"},children:"OK"})]})]})}),H&&R.jsx("div",{onClick:()=>q(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px",overflowY:"auto"},children:R.jsxs("div",{onClick:ie=>ie.stopPropagation(),style:{background:"white",borderRadius:"24px",padding:"32px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflowY:"auto",position:"relative"},children:[R.jsx("button",{onClick:()=>q(!1),style:{position:"absolute",top:"16px",right:"16px",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"700",zIndex:1},children:R.jsx(ii,{size:24})}),B.length>0&&R.jsxs(R.Fragment,{children:[R.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1a202c",marginBottom:"12px"},children:"Preview Data Monitoring"}),R.jsxs("div",{style:{fontSize:"14px",color:"#6b7280",marginBottom:"24px"},children:[R.jsxs("p",{children:[R.jsx("strong",{children:"Line:"})," ",B[0].line]}),R.jsxs("p",{children:[R.jsx("strong",{children:"Tanggal:"})," ",new Date(B[0].tanggal).toLocaleDateString("id-ID")]})]}),Object.entries(B.reduce((ie,fe)=>(ie[fe.area]||(ie[fe.area]=[]),ie[fe.area].push(fe),ie),{})).map(([ie,fe])=>R.jsxs("div",{style:{marginBottom:"32px"},children:[R.jsxs("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#f97316",marginBottom:"16px",paddingBottom:"8px",borderBottom:"2px solid #fed7aa"},children:["Area: ",ie]}),fe.sort((be,re)=>be.data_number-re.data_number).map((be,re)=>R.jsxs("div",{style:{background:"#fff7ed",border:"2px solid #fed7aa",borderRadius:"12px",padding:"16px",marginBottom:"16px"},children:[R.jsxs("div",{style:{fontWeight:"600",color:"#1a202c",marginBottom:"8px",fontSize:"16px"},children:["Data ke-",be.data_number]}),be.keterangan&&R.jsxs("p",{style:{fontSize:"14px",color:"#4b5563",marginBottom:"12px"},children:[R.jsx("strong",{children:"Keterangan:"})," ",be.keterangan]}),be.foto_url&&R.jsx("div",{children:R.jsxs("button",{onClick:()=>k(be.foto_url),style:{padding:"8px 16px",background:"#3b82f6",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontSize:"14px",fontWeight:"600",display:"flex",alignItems:"center",gap:"6px"},children:[R.jsx(ys,{size:16}),"Lihat Foto"]})})]},re))]},ie))]})]})}),P&&R.jsx("div",{onClick:()=>k(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.95)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:R.jsxs("div",{style:{maxWidth:"90%",maxHeight:"90%",position:"relative"},children:[R.jsx("img",{src:P,alt:"Preview",style:{maxWidth:"100%",maxHeight:"90vh",borderRadius:"12px"}}),R.jsx("button",{onClick:()=>k(null),style:{position:"absolute",top:"-40px",right:"0",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"700"},children:R.jsx(ii,{size:24})})]})})]})},GS=()=>{const r=On(),e=Li().state,[n]=me.useState((e==null?void 0:e.plant)||"Plant-1"),[l]=me.useState((e==null?void 0:e.tanggal)||new Date().toISOString().split("T")[0]),[i]=me.useState((e==null?void 0:e.line)||"Line 1"),[s,u]=me.useState(""),[a,o]=me.useState(!1),[c,f]=me.useState(1),[h,d]=me.useState(null),[y,b]=me.useState(""),[m,g]=me.useState(!1),[p,v]=me.useState([]),[C,j]=me.useState(!1),[L,$]=me.useState(!1),[M,z]=me.useState(!1),[H,q]=me.useState(""),[B,A]=me.useState(null),[P,k]=me.useState(null),w=me.useRef(null),S=me.useRef(null),x=me.useRef(null),_=JSON.parse(localStorage.getItem("currentUser")||"{}"),E=async()=>{try{console.log("Loading existing data for:",{plant:n,tanggal:l,line:i});const Z=await Hu(n,l,i);console.log("Loaded records:",Z.length,Z);const oe={};Z.forEach(pe=>{console.log("Processing record:",pe.id,"area:",pe.area),oe[pe.area]||(oe[pe.area]=[]),oe[pe.area].push({id:pe.id,data_number:pe.data_number,foto_url:pe.foto_url,keterangan:pe.keterangan||""})}),console.log("areaMap after processing:",oe);const ue=Object.keys(oe);console.log("areaNames before sorting:",ue);const te=await h1(ue);console.log("sortedAreaNames after sorting:",te);const se=te.map(pe=>{const fe=oe[pe].sort((be,re)=>be.data_number-re.data_number).map((be,re)=>({...be,data_number:re+1}));return{area:pe,entries:fe,expanded:!0}});console.log("Setting savedAreas with",se.length,"areas:",se),v(se)}catch(Z){console.error("Error loading existing data:",Z)}};me.useEffect(()=>{console.log("useEffect triggered, state:",e),e!=null&&e.editMode&&(console.log("Edit mode detected, loading existing data..."),E())},[e==null?void 0:e.editMode]);const D=()=>{const Z=p.find(oe=>oe.area===s);if(Z){const oe=Math.max(...Z.entries.map(ue=>ue.data_number),0);f(oe+1)}else f(1);d(null),b(""),g(!0),k(null)},N=()=>{if(!h){alert("Silakan ambil atau upload foto terlebih dahulu");return}if(P!==null){const Z=[...p];Z[P.areaIndex].entries[P.entryIndex]={...Z[P.areaIndex].entries[P.entryIndex],foto_url:h,keterangan:y},v(Z),k(null)}else{const Z=p.findIndex(oe=>oe.area===s);if(Z>=0){const oe=[...p];oe[Z].entries.push({data_number:c,foto_url:h,keterangan:y}),v(oe)}else v([...p,{area:s,entries:[{data_number:c,foto_url:h,keterangan:y}],expanded:!0}])}d(null),b(""),g(!1),alert("Data berhasil ditambahkan!")},U=(Z,oe)=>{const ue=p[Z].entries[oe];u(p[Z].area),f(ue.data_number),d(ue.foto_url),b(ue.keterangan),k({areaIndex:Z,entryIndex:oe}),g(!0)},V=async(Z,oe)=>{if(!confirm("Hapus data ini?"))return;const ue=p[Z].entries[oe];if(ue.id)try{await DS(ue.id)}catch(se){console.error("Error deleting from database:",se),alert("Gagal menghapus data dari database");return}const te=[...p];te[Z].entries.splice(oe,1),te[Z].entries.length===0&&te.splice(Z,1),v(te),alert("Data berhasil dihapus!")},J=Z=>{const oe=[...p];oe[Z].expanded=!oe[Z].expanded,v(oe)},F=async()=>{$(!0),q(""),await new Promise(Z=>setTimeout(Z,100));try{if(!w.current){q("Video element tidak tersedia");return}x.current=new f1,await x.current.startCamera(w.current)||q("Gagal mengakses kamera")}catch(Z){q(Z.message||"Gagal mengakses kamera")}},Y=async()=>{if(x.current){z(!0);try{const Z=await x.current.capturePhoto();d(Z),O()}catch(Z){alert("Gagal mengambil foto: "+Z.message)}finally{z(!1)}}},O=()=>{x.current&&(x.current.stopCamera(),x.current=null),$(!1),q("")},T=()=>{var Z;(Z=S.current)==null||Z.click()},G=Z=>{var te;const oe=(te=Z.target.files)==null?void 0:te[0];if(!oe)return;const ue=new FileReader;ue.onload=se=>{var ie;const pe=new Image;pe.onload=()=>{const fe=document.createElement("canvas"),be=fe.getContext("2d");if(!be)return;const re=800;let ve=pe.width,_e=pe.height;ve>_e?ve>re&&(_e=_e*re/ve,ve=re):_e>re&&(ve=ve*re/_e,_e=re),fe.width=ve,fe.height=_e,be.drawImage(pe,0,0,ve,_e);const Re=fe.toDataURL("image/jpeg",.7);d(Re)},pe.src=(ie=se.target)==null?void 0:ie.result},ue.readAsDataURL(oe)},Q=async()=>{if(p.length===0){alert("Tidak ada data untuk disimpan");return}j(!0);try{for(const Z of p)for(const oe of Z.entries){const ue={plant:n,tanggal:l,line:i,area:Z.area,data_number:oe.data_number,foto_url:oe.foto_url,keterangan:oe.keterangan,status:"draft",created_by:_.name||_.username};oe.id?await eb(oe.id,ue):await Q2(ue)}alert("Data tersimpan sebagai draft!"),r("/monitoring-records",{state:{selectedPlant:n}})}catch(Z){alert("Error menyimpan data: "+Z.message)}finally{j(!1)}},ne=async()=>{if(p.length===0){alert("Tidak ada data untuk disimpan");return}j(!0);try{for(const Z of p)for(const oe of Z.entries){const ue={plant:n,tanggal:l,line:i,area:Z.area,data_number:oe.data_number,foto_url:oe.foto_url,keterangan:oe.keterangan,status:"complete",created_by:_.name||_.username};oe.id?await eb(oe.id,ue):await Q2(ue)}alert("Semua data berhasil disimpan!"),r("/monitoring-records",{state:{selectedPlant:n}})}catch(Z){alert("Error menyimpan data: "+Z.message)}finally{j(!1)}};return R.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f97316 0%, #ea580c 100%)",padding:"20px"},children:[R.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto"},children:[R.jsx("button",{onClick:()=>r("/monitoring-records",{state:{selectedPlant:n}}),style:{background:"white",border:"none",borderRadius:"16px",padding:"16px",marginBottom:"20px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:R.jsx(Oi,{size:24,color:"#f97316"})}),R.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"32px",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",marginBottom:"24px"},children:[R.jsx("h1",{style:{fontSize:"28px",fontWeight:"700",textAlign:"center",marginBottom:"8px",color:"#1a202c"},children:"Create Monitoring"}),R.jsx("p",{style:{textAlign:"center",color:"#718096",marginBottom:"24px"},children:n}),R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[R.jsxs("div",{children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#2d3748",fontSize:"14px"},children:"Tanggal"}),R.jsx("div",{style:{width:"100%",padding:"14px",background:"#f7fafc",border:"2px solid #fed7aa",borderRadius:"12px",color:"#2d3748",fontSize:"16px",fontWeight:"500"},children:new Date(l).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})})]}),R.jsxs("div",{children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#2d3748",fontSize:"14px"},children:"Line"}),R.jsx("div",{style:{padding:"14px",background:"#ffedd5",border:"2px solid #fed7aa",borderRadius:"12px",textAlign:"center",fontWeight:"600",fontSize:"16px",color:"#1a202c"},children:i})]}),R.jsxs("div",{children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontWeight:"500",color:"#2d3748",fontSize:"14px"},children:"Area"}),R.jsxs("div",{style:{position:"relative"},children:[R.jsxs("button",{onClick:()=>o(!a),style:{width:"100%",padding:"14px",border:"2px solid #fed7aa",borderRadius:"12px",textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center",background:"white",fontSize:"16px",cursor:"pointer",transition:"all 0.2s"},children:[R.jsx("span",{style:{color:s?"#1a202c":"#9ca3af",fontWeight:s?"600":"400"},children:s||"Pilih Area"}),R.jsx("span",{style:{color:"#9ca3af"},children:""})]}),a&&R.jsx("div",{style:{position:"absolute",zIndex:10,width:"100%",marginTop:"8px",background:"white",border:"2px solid #fed7aa",borderRadius:"12px",boxShadow:"0 10px 25px rgba(0,0,0,0.1)",maxHeight:"256px",overflowY:"auto"},children:FS.map(Z=>R.jsx("button",{onClick:()=>{u(Z),o(!1),g(!1),k(null)},style:{width:"100%",padding:"14px",textAlign:"left",background:"white",border:"none",cursor:"pointer",fontSize:"16px",transition:"background 0.2s"},onMouseEnter:oe=>oe.currentTarget.style.background="#ffedd5",onMouseLeave:oe=>oe.currentTarget.style.background="white",children:Z},Z))})]})]}),s&&!m&&R.jsxs("div",{children:[R.jsx("p",{style:{fontSize:"14px",color:"#718096",marginBottom:"8px"},children:"Generate untuk mengambil foto"}),R.jsx("button",{onClick:D,style:{width:"100%",padding:"16px 24px",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",color:"white",border:"none",borderRadius:"12px",fontWeight:"700",fontSize:"18px",cursor:"pointer",boxShadow:"0 4px 12px rgba(16,185,129,0.3)",transition:"transform 0.2s"},onMouseEnter:Z=>Z.currentTarget.style.transform="translateY(-2px)",onMouseLeave:Z=>Z.currentTarget.style.transform="translateY(0)",children:"Generate"})]})]})]}),m&&s&&R.jsxs("div",{style:{background:"white",borderRadius:"24px",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",padding:"32px",marginBottom:"24px"},children:[R.jsxs("h3",{style:{fontSize:"20px",fontWeight:"700",marginBottom:"16px",color:"#1a202c"},children:["Data ke-",c]}),h?R.jsx("div",{style:{marginBottom:"16px"},children:R.jsxs("div",{style:{padding:"16px",background:"#ecfdf5",border:"2px solid #6ee7b7",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[R.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[R.jsx("div",{style:{width:"48px",height:"48px",background:"#10b981",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:R.jsx(ma,{size:24})}),R.jsxs("div",{children:[R.jsx("div",{style:{fontWeight:"600",color:"#065f46"},children:"Foto tersimpan"}),R.jsx("div",{style:{fontSize:"12px",color:"#059669"},children:"Klik Preview untuk melihat"})]})]}),R.jsxs("div",{style:{display:"flex",gap:"8px"},children:[R.jsxs("button",{onClick:()=>A(h),style:{padding:"8px 16px",background:"#10b981",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",fontWeight:"600"},children:[R.jsx(ys,{size:16}),"Preview"]}),R.jsx("button",{onClick:()=>d(null),style:{padding:"8px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:"8px",cursor:"pointer"},children:R.jsx(Mn,{size:16})})]})]})}):R.jsxs("div",{children:[R.jsx("p",{style:{fontSize:"14px",color:"#ef4444",marginBottom:"12px",padding:"8px 12px",background:"#fee2e2",borderRadius:"8px"},children:" Foto belum diambil"}),R.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"20px"},children:[R.jsxs("button",{onClick:F,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"16px 24px",background:"#dbeafe",border:"2px dashed #60a5fa",color:"#2563eb",borderRadius:"12px",cursor:"pointer",fontWeight:"600",fontSize:"15px",transition:"all 0.2s"},onMouseEnter:Z=>Z.currentTarget.style.background="#bfdbfe",onMouseLeave:Z=>Z.currentTarget.style.background="#dbeafe",children:[R.jsx(ma,{size:20}),"Ambil Foto"]}),R.jsxs("button",{onClick:T,style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"16px 24px",background:"#dbeafe",border:"2px dashed #60a5fa",color:"#2563eb",borderRadius:"12px",cursor:"pointer",fontWeight:"600",fontSize:"15px",transition:"all 0.2s"},onMouseEnter:Z=>Z.currentTarget.style.background="#bfdbfe",onMouseLeave:Z=>Z.currentTarget.style.background="#dbeafe",children:[R.jsx(jo,{size:20}),"Upload Foto"]})]}),R.jsx("input",{ref:S,type:"file",accept:"image/*",onChange:G,style:{display:"none"}})]}),R.jsxs("div",{style:{marginBottom:"16px"},children:[R.jsx("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#2d3748",marginBottom:"8px"},children:"Keterangan"}),R.jsx("textarea",{value:y,onChange:Z=>b(Z.target.value),placeholder:"Masukkan keterangan",style:{width:"100%",padding:"14px",border:"2px solid #fed7aa",borderRadius:"12px",fontSize:"16px",resize:"none",fontFamily:"inherit",outline:"none"},rows:4})]}),R.jsx("button",{onClick:N,disabled:C,style:{width:"100%",padding:"16px 24px",background:C?"#9ca3af":"#fbbf24",color:"#1f2937",border:"none",borderRadius:"12px",fontWeight:"700",fontSize:"18px",cursor:C?"not-allowed":"pointer",opacity:C?.6:1,transition:"all 0.2s",boxShadow:"0 4px 12px rgba(251,191,36,0.3)"},onMouseEnter:Z=>!C&&(Z.currentTarget.style.background="#f59e0b"),onMouseLeave:Z=>!C&&(Z.currentTarget.style.background="#fbbf24"),children:P!==null?"Update Data":"Tambah Data Baru"})]}),p.length>0&&p.map((Z,oe)=>R.jsxs("div",{style:{background:"white",borderRadius:"24px",boxShadow:"0 8px 32px rgba(0,0,0,0.1)",padding:"24px",marginBottom:"20px"},children:[R.jsxs("button",{onClick:()=>J(oe),style:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",background:"transparent",border:"none",padding:"0 0 12px 0",marginBottom:"16px",borderBottom:"2px solid #ffedd5",cursor:"pointer"},children:[R.jsxs("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#1a202c",margin:0},children:["Area: ",Z.area," (",Z.entries.length," data)"]}),Z.expanded?R.jsx(A6,{size:24,color:"#f97316"}):R.jsx(C6,{size:24,color:"#f97316"})]}),Z.expanded&&R.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:Z.entries.map((ue,te)=>R.jsxs("div",{style:{padding:"16px",background:"#fff7ed",border:"2px solid #fed7aa",borderRadius:"12px"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"12px"},children:[R.jsxs("div",{style:{fontWeight:"600",color:"#1a202c",fontSize:"16px"},children:["Data ke-",ue.data_number]}),R.jsxs("div",{style:{display:"flex",gap:"6px"},children:[ue.foto_url&&R.jsxs("button",{onClick:()=>A(ue.foto_url),style:{padding:"6px 12px",background:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",gap:"4px",fontWeight:"600"},children:[R.jsx(ys,{size:14}),"Preview"]}),R.jsx("button",{onClick:()=>U(oe,te),style:{padding:"6px 12px",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",gap:"4px"},children:R.jsx(tc,{size:14})}),R.jsx("button",{onClick:()=>V(oe,te),style:{padding:"6px 12px",background:"#ef4444",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",gap:"4px"},children:R.jsx(Mn,{size:14})})]})]}),ue.keterangan&&R.jsx("p",{style:{fontSize:"14px",color:"#4b5563",marginTop:"8px"},children:ue.keterangan})]},te))})]},oe)),p.length>0&&R.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginBottom:"40px"},children:[R.jsx("button",{onClick:Q,style:{width:"100%",padding:"16px 24px",background:"white",border:"2px solid #d1d5db",color:"#374151",borderRadius:"12px",fontWeight:"700",fontSize:"18px",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:Z=>Z.currentTarget.style.background="#f9fafb",onMouseLeave:Z=>Z.currentTarget.style.background="white",children:"Simpan Sementara"}),R.jsx("button",{onClick:ne,disabled:C,style:{width:"100%",padding:"16px 24px",background:C?"#9ca3af":"linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)",color:"white",border:"none",borderRadius:"12px",fontWeight:"700",fontSize:"18px",cursor:C?"not-allowed":"pointer",opacity:C?.6:1,boxShadow:"0 4px 12px rgba(139,92,246,0.3)",transition:"transform 0.2s"},onMouseEnter:Z=>!C&&(Z.currentTarget.style.transform="translateY(-2px)"),onMouseLeave:Z=>!C&&(Z.currentTarget.style.transform="translateY(0)"),children:C?"Menyimpan...":"Simpan Semua"})]})]}),L&&R.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.9)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999,padding:"20px"},children:R.jsx("div",{style:{maxWidth:"600px",width:"100%"},children:R.jsx("div",{style:{background:"white",borderRadius:"24px",padding:"20px"},children:H?R.jsxs("div",{style:{textAlign:"center",padding:"32px 0"},children:[R.jsx("p",{style:{color:"#dc2626",marginBottom:"16px",fontSize:"16px"},children:H}),R.jsx("button",{onClick:O,style:{padding:"12px 24px",background:"#6b7280",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontSize:"16px",fontWeight:"600"},children:"Tutup"})]}):R.jsxs(R.Fragment,{children:[R.jsx("video",{ref:w,autoPlay:!0,playsInline:!0,style:{width:"100%",borderRadius:"12px",marginBottom:"16px",background:"#000"}}),R.jsxs("div",{style:{display:"flex",gap:"12px"},children:[R.jsx("button",{onClick:Y,disabled:M,style:{flex:1,padding:"16px 24px",background:M?"#9ca3af":"#10b981",color:"white",border:"none",borderRadius:"12px",cursor:M?"not-allowed":"pointer",opacity:M?.6:1,fontWeight:"700",fontSize:"18px"},children:M?"Mengambil...":"Ambil Foto"}),R.jsx("button",{onClick:O,style:{padding:"16px 24px",background:"#6b7280",color:"white",border:"none",borderRadius:"12px",cursor:"pointer",fontWeight:"700",fontSize:"18px"},children:"Batal"})]})]})})})}),B&&R.jsx("div",{onClick:()=>A(null),style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.95)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,padding:"20px"},children:R.jsxs("div",{style:{maxWidth:"90%",maxHeight:"90%",position:"relative"},children:[R.jsx("img",{src:B,alt:"Preview",style:{maxWidth:"100%",maxHeight:"90vh",borderRadius:"12px"}}),R.jsx("button",{onClick:()=>A(null),style:{position:"absolute",top:"-40px",right:"0",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"40px",height:"40px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"700"},children:R.jsx(ii,{size:24})})]})})]})},KS=()=>{const r=On(),[t,e]=me.useState([]),[n,l]=me.useState([]),[i,s]=me.useState(!0),[u,a]=me.useState(""),[o,c]=me.useState(""),[f,h]=me.useState(""),[d,y]=me.useState(""),[b,m]=me.useState(""),[g,p]=me.useState(!1),[v,C]=me.useState(null),[j,L]=me.useState(!1);me.useEffect(()=>{var S;const k=tr.getCurrentUser();if(!k){r("/");return}const w=(S=k.role)==null?void 0:S.toLowerCase();if(w!=="admin"&&w!=="manager"){alert("Akses ditolak! Hanya Admin dan Manager yang dapat melihat audit log."),r("/menu");return}$()},[r]),me.useEffect(()=>{M()},[t,u,o,f,d,b]);const $=async()=>{try{console.log("[AUDIT LOG SCREEN] Loading audit logs..."),s(!0);const k=await l7({limit:1e3});console.log("[AUDIT LOG SCREEN] Received data:",(k==null?void 0:k.length)||0,"records"),console.log("[AUDIT LOG SCREEN] First log:",k==null?void 0:k[0]),e(k)}catch(k){console.error("[AUDIT LOG SCREEN] Failed to load audit logs:",k),alert("Gagal memuat audit logs")}finally{s(!1)}},M=()=>{let k=[...t];if(u&&(k=k.filter(w=>w.table_name===u)),o&&(k=k.filter(w=>w.deleted_by.toLowerCase().includes(o.toLowerCase()))),f&&(k=k.filter(w=>w.plant===f)),d&&(k=k.filter(w=>new Date(w.deleted_at)>=new Date(d))),b){const w=new Date(b);w.setHours(23,59,59,999),k=k.filter(S=>new Date(S.deleted_at)<=w)}l(k)},z=()=>{a(""),c(""),h(""),y(""),m("")},H=async()=>{try{const k=new Jl.Workbook,w=k.addWorksheet("Audit Logs");w.columns=[{header:"Tanggal & Waktu",key:"deleted_at",width:20},{header:"Tabel",key:"table_name",width:20},{header:"Action",key:"action",width:15},{header:"Jumlah Data",key:"affected_count",width:12},{header:"Dihapus Oleh",key:"deleted_by",width:25},{header:"Plant",key:"plant",width:12},{header:"Record ID",key:"record_id",width:30},{header:"Info Tambahan",key:"additional_info",width:40}],w.getRow(1).font={bold:!0},w.getRow(1).fill={type:"pattern",pattern:"solid",fgColor:{argb:"FF10b981"}},n.forEach(D=>{w.addRow({deleted_at:new Date(D.deleted_at).toLocaleString("id-ID"),table_name:D.table_name,action:D.action,affected_count:D.affected_count,deleted_by:D.deleted_by,plant:D.plant||"-",record_id:D.record_id,additional_info:JSON.stringify(D.additional_info)})});const S=await k.xlsx.writeBuffer(),x=new Blob([S],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),_=window.URL.createObjectURL(x),E=document.createElement("a");E.href=_,E.download=`audit_logs_${new Date().toISOString().split("T")[0]}.xlsx`,E.click(),window.URL.revokeObjectURL(_)}catch(k){console.error("Export error:",k),alert("Gagal export ke Excel")}},q=k=>{switch(k){case"sanitation_records":return"Sanitation";case"kliping_records":return"Kliping";case"monitoring_records":return"Monitoring";default:return k}},B=k=>{switch(k){case"DELETE":return"#ef4444";case"BULK_DELETE":return"#dc2626";case"BULK_DELETE_SESSION":return"#b91c1c";case"BULK_DELETE_MULTIPLE":return"#991b1b";default:return"#6b7280"}},A=Array.from(new Set(t.map(k=>k.table_name))),P=Array.from(new Set(t.map(k=>k.plant).filter(Boolean)));return i?R.jsx("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontSize:"24px"},children:"Loading..."}):R.jsxs("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #10b981 0%, #059669 100%)",padding:"20px"},children:[R.jsx("button",{onClick:()=>r("/admin"),style:{background:"white",border:"none",borderRadius:"16px",padding:"12px",marginBottom:"20px",cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},children:R.jsx(Oi,{size:24,color:"#10b981"})}),R.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"32px",marginBottom:"20px",boxShadow:"0 20px 60px rgba(0,0,0,0.3)"},children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[R.jsxs("div",{children:[R.jsx("h1",{style:{fontSize:"32px",fontWeight:"700",color:"#1a202c",margin:"0 0 8px 0"},children:"Audit Log"}),R.jsx("p",{style:{fontSize:"16px",color:"#718096",margin:0},children:"Riwayat penghapusan data"})]}),R.jsxs("div",{style:{display:"flex",gap:"12px"},children:[R.jsxs("button",{onClick:()=>p(!g),style:{background:g?"#10b981":"white",color:g?"white":"#10b981",border:"2px solid #10b981",borderRadius:"12px",padding:"12px 24px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[R.jsx(Mv,{size:20}),"Filter"]}),R.jsxs("button",{onClick:H,style:{background:"#10b981",color:"white",border:"none",borderRadius:"12px",padding:"12px 24px",fontSize:"16px",fontWeight:"600",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"},children:[R.jsx(Iv,{size:20}),"Export Excel"]})]})]}),g&&R.jsxs("div",{style:{background:"#f7fafc",borderRadius:"16px",padding:"20px",marginBottom:"24px",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"},children:[R.jsxs("div",{children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4a5568"},children:"Tabel"}),R.jsxs("select",{value:u,onChange:k=>a(k.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px"},children:[R.jsx("option",{value:"",children:"Semua"}),A.map(k=>R.jsx("option",{value:k,children:q(k)},k))]})]}),R.jsxs("div",{children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4a5568"},children:"Plant"}),R.jsxs("select",{value:f,onChange:k=>h(k.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px"},children:[R.jsx("option",{value:"",children:"Semua"}),P.map(k=>R.jsx("option",{value:k,children:k},k))]})]}),R.jsxs("div",{children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4a5568"},children:"User"}),R.jsx("input",{type:"text",value:o,onChange:k=>c(k.target.value),placeholder:"Cari nama user...",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px"}})]}),R.jsxs("div",{children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4a5568"},children:"Tanggal Mulai"}),R.jsx("input",{type:"date",value:d,onChange:k=>y(k.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px"}})]}),R.jsxs("div",{children:[R.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"14px",fontWeight:"600",color:"#4a5568"},children:"Tanggal Akhir"}),R.jsx("input",{type:"date",value:b,onChange:k=>m(k.target.value),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",fontSize:"14px"}})]}),R.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:R.jsx("button",{onClick:z,style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #e2e8f0",background:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",color:"#718096"},children:"Clear Filters"})})]}),R.jsxs("div",{style:{marginBottom:"16px",fontSize:"14px",color:"#718096"},children:["Menampilkan ",n.length," dari ",t.length," log"]}),R.jsx("div",{style:{overflowX:"auto"},children:R.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[R.jsx("thead",{children:R.jsxs("tr",{style:{background:"#f7fafc",borderBottom:"2px solid #e2e8f0"},children:[R.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600",color:"#4a5568"},children:"Waktu"}),R.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600",color:"#4a5568"},children:"Tabel"}),R.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600",color:"#4a5568"},children:"Action"}),R.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600",color:"#4a5568"},children:"Dihapus Oleh"}),R.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600",color:"#4a5568"},children:"Plant"}),R.jsx("th",{style:{padding:"12px",textAlign:"left",fontSize:"14px",fontWeight:"600",color:"#4a5568"},children:"Info"}),R.jsx("th",{style:{padding:"12px",textAlign:"center",fontSize:"14px",fontWeight:"600",color:"#4a5568"},children:"Detail"})]})}),R.jsx("tbody",{children:n.length===0?R.jsx("tr",{children:R.jsx("td",{colSpan:7,style:{padding:"32px",textAlign:"center",color:"#718096"},children:"Tidak ada audit log"})}):n.map(k=>{var w,S;return R.jsxs("tr",{style:{borderBottom:"1px solid #e2e8f0"},children:[R.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:new Date(k.deleted_at).toLocaleString("id-ID",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}),R.jsx("td",{style:{padding:"12px",fontSize:"14px",fontWeight:"600"},children:q(k.table_name)}),R.jsx("td",{style:{padding:"12px"},children:R.jsx("span",{style:{background:B(k.action),color:"white",padding:"4px 12px",borderRadius:"12px",fontSize:"12px",fontWeight:"600"},children:k.action})}),R.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:k.deleted_by}),R.jsx("td",{style:{padding:"12px",fontSize:"14px"},children:k.plant||"-"}),R.jsxs("td",{style:{padding:"12px",fontSize:"14px",color:"#718096"},children:[((w=k.additional_info)==null?void 0:w.line)&&`Line ${k.additional_info.line}`,((S=k.additional_info)==null?void 0:S.tanggal)&&` | ${k.additional_info.tanggal}`,k.affected_count>1&&` (${k.affected_count} records)`]}),R.jsx("td",{style:{padding:"12px",textAlign:"center"},children:R.jsx("button",{onClick:()=>{C(k),L(!0)},style:{background:"#10b981",color:"white",border:"none",borderRadius:"8px",padding:"8px 16px",fontSize:"12px",fontWeight:"600",cursor:"pointer"},children:"Lihat"})})]},k.id)})})]})})]}),j&&v&&R.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:()=>L(!1),children:R.jsxs("div",{style:{background:"white",borderRadius:"24px",padding:"32px",maxWidth:"800px",width:"100%",maxHeight:"80vh",overflow:"auto"},onClick:k=>k.stopPropagation(),children:[R.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"24px"},children:[R.jsx("h2",{style:{fontSize:"24px",fontWeight:"700",color:"#1a202c",margin:0},children:"Detail Audit Log"}),R.jsx("button",{onClick:()=>L(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#718096"},children:""})]}),R.jsxs("div",{style:{marginBottom:"24px"},children:[R.jsxs("div",{style:{marginBottom:"16px"},children:[R.jsx("div",{style:{fontSize:"12px",color:"#718096",marginBottom:"4px"},children:"Tabel"}),R.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:q(v.table_name)})]}),R.jsxs("div",{style:{marginBottom:"16px"},children:[R.jsx("div",{style:{fontSize:"12px",color:"#718096",marginBottom:"4px"},children:"Action"}),R.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:v.action})]}),R.jsxs("div",{style:{marginBottom:"16px"},children:[R.jsx("div",{style:{fontSize:"12px",color:"#718096",marginBottom:"4px"},children:"Dihapus Oleh"}),R.jsx("div",{style:{fontSize:"16px",fontWeight:"600"},children:v.deleted_by})]}),R.jsxs("div",{style:{marginBottom:"16px"},children:[R.jsx("div",{style:{fontSize:"12px",color:"#718096",marginBottom:"4px"},children:"Waktu"}),R.jsx("div",{style:{fontSize:"16px"},children:new Date(v.deleted_at).toLocaleString("id-ID",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"})})]}),R.jsxs("div",{style:{marginBottom:"16px"},children:[R.jsx("div",{style:{fontSize:"12px",color:"#718096",marginBottom:"4px"},children:"Plant"}),R.jsx("div",{style:{fontSize:"16px"},children:v.plant||"-"})]})]}),R.jsxs("div",{style:{borderTop:"1px solid #e2e8f0",paddingTop:"24px"},children:[R.jsx("div",{style:{fontSize:"14px",fontWeight:"600",color:"#4a5568",marginBottom:"12px"},children:"Jumlah Data yang Terpengaruh:"}),R.jsxs("div",{style:{background:"#f7fafc",padding:"16px",borderRadius:"12px",fontSize:"24px",fontWeight:"700",color:"#10b981",textAlign:"center"},children:[v.affected_count," ",v.affected_count===1?"record":"records"]})]})]})})]})};function XS(){return R.jsx(_6,{children:R.jsxs("div",{className:"App",style:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[R.jsx("div",{style:{flex:1},children:R.jsxs(z4,{children:[R.jsx(wn,{path:"/",element:R.jsx(n7,{})}),R.jsx(wn,{path:"/menu",element:R.jsx(i7,{})}),R.jsx(wn,{path:"/plant-selection",element:R.jsx(o7,{})}),R.jsx(wn,{path:"/records",element:R.jsx(mS,{})}),R.jsx(wn,{path:"/create-record",element:R.jsx(bS,{})}),R.jsx(wn,{path:"/plant-selection-kliping",element:R.jsx(kS,{})}),R.jsx(wn,{path:"/kliping-records",element:R.jsx(LS,{})}),R.jsx(wn,{path:"/create-kliping",element:R.jsx(Z2,{})}),R.jsx(wn,{path:"/create-kliping/:id",element:R.jsx(Z2,{})}),R.jsx(wn,{path:"/plant-selection-monitoring",element:R.jsx(OS,{})}),R.jsx(wn,{path:"/monitoring-records",element:R.jsx(VS,{})}),R.jsx(wn,{path:"/create-monitoring",element:R.jsx(GS,{})}),R.jsx(wn,{path:"/admin",element:R.jsx(_S,{})}),R.jsx(wn,{path:"/master-data",element:R.jsx(SS,{})}),R.jsx(wn,{path:"/audit-log",element:R.jsx(KS,{})}),R.jsx(wn,{path:"*",element:R.jsx(B4,{to:"/",replace:!0})})]})}),R.jsxs("footer",{style:{padding:"1rem",color:"#1c1c1c",fontSize:"0.75rem",textAlign:"center",opacity:.7,background:"transparent"},children:[" ",new Date().getFullYear()," ver.2.1.5 by DuoBingo for Indofood"]})]})})}x6({onNeedRefresh(){console.log("[PWA] New content available, please refresh.")},onOfflineReady(){console.log("[PWA] App ready to work offline")}});const F5=document.getElementById("root");if(!F5)throw new Error("Root element not found");try{Op.createRoot(F5).render(R.jsx(hb.StrictMode,{children:R.jsx(u6,{basename:"/",children:R.jsx(XS,{})})})),console.log("[APP] App rendered successfully"),console.log("[APP] Base URL:","/"),console.log("[APP] Mode:","production");try{localStorage.setItem("test","test"),localStorage.removeItem("test"),console.log("[APP] localStorage is working")}catch(r){console.error("[APP] localStorage is not working:",r)}}catch(r){console.error("[APP] Failed to render app:",r);const t=r instanceof Error?r.message:String(r),e=r instanceof Error?r.stack:"";document.body.innerHTML=`
    <div style="padding: 20px; font-family: sans-serif; max-width: 800px; margin: 50px auto;">
      <div style="background: #fee; border: 2px solid #f00; border-radius: 8px; padding: 20px;">
        <h1 style="color: #c00; margin-top: 0;"> Application Error</h1>
        <p style="font-size: 16px; line-height: 1.5;">Failed to load INSPECTA application.</p>

        <h3>Error Details:</h3>
        <pre style="background: #fff; padding: 15px; border-radius: 4px; overflow-x: auto; font-size: 12px;">${t}</pre>

        <h3>Troubleshooting:</h3>
        <ul style="line-height: 1.8;">
          <li>Check your internet connection</li>
          <li>Try hard refresh: <strong>Ctrl+Shift+R</strong> (Windows) or <strong>Cmd+Shift+R</strong> (Mac)</li>
          <li>Clear browser cache and reload</li>
          <li>Try different browser (Chrome, Firefox, Safari)</li>
          <li>Check browser console (F12) for detailed errors</li>
        </ul>

        <details style="margin-top: 20px;">
          <summary style="cursor: pointer; font-weight: bold;">Show Stack Trace</summary>
          <pre style="background: #fff; padding: 15px; border-radius: 4px; overflow-x: auto; font-size: 11px; margin-top: 10px;">${e||"No stack trace available"}</pre>
        </details>

        <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #ccc;">
          <p><strong>Environment:</strong></p>
          <ul style="font-size: 14px;">
            <li>Base URL: /</li>
            <li>Mode: production</li>
            <li>Supabase URL: Set</li>
            <li>Supabase Key: Set</li>
          </ul>
        </div>
      </div>
    </div>
  `}export{br as _,Vt as c,tb as g};
